var z6=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var FFe=z6((vs,ys)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function OC(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const H6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K6=OC(H6);function e2(t){return!!t||t===""}function Ge(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=rt(r)?W6(r):Ge(r);if(s)for(const o in s)e[o]=s[o]}return e}else{if(rt(t))return t;if(Ct(t))return t}}const U6=/;(?![^(]*\))/g,j6=/:(.+)/;function W6(t){const e={};return t.split(U6).forEach(n=>{if(n){const r=n.split(j6);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function I(t){let e="";if(rt(t))e=t;else if(Be(t))for(let n=0;n<t.length;n++){const r=I(t[n]);r&&(e+=r+" ")}else if(Ct(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function no(t){if(!t)return null;let{class:e,style:n}=t;return e&&!rt(e)&&(t.class=I(e)),n&&(t.style=Ge(n)),t}function q6(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Eu(t[r],e[r]);return n}function Eu(t,e){if(t===e)return!0;let n=Ul(t),r=Ul(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=zf(t),r=zf(e),n||r)return t===e;if(n=Be(t),r=Be(e),n||r)return n&&r?q6(t,e):!1;if(n=Ct(t),r=Ct(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!Eu(t[i],e[i]))return!1}}return String(t)===String(e)}function t2(t,e){return t.findIndex(n=>Eu(n,e))}const Oe=t=>rt(t)?t:t==null?"":Be(t)||Ct(t)&&(t.toString===r2||!et(t.toString))?JSON.stringify(t,n2,2):String(t),n2=(t,e)=>e&&e.__v_isRef?n2(t,e.value):uu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:$v(e)?{[`Set(${e.size})`]:[...e.values()]}:Ct(e)&&!Be(e)&&!s2(e)?String(e):e,hn={},cu=[],Wt=()=>{},G6=()=>!1,Y6=/^on[^a-z]/,Nv=t=>Y6.test(t),NC=t=>t.startsWith("onUpdate:"),Gn=Object.assign,$C=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},X6=Object.prototype.hasOwnProperty,Et=(t,e)=>X6.call(t,e),Be=Array.isArray,uu=t=>Jh(t)==="[object Map]",$v=t=>Jh(t)==="[object Set]",Ul=t=>Jh(t)==="[object Date]",et=t=>typeof t=="function",rt=t=>typeof t=="string",zf=t=>typeof t=="symbol",Ct=t=>t!==null&&typeof t=="object",Hf=t=>Ct(t)&&et(t.then)&&et(t.catch),r2=Object.prototype.toString,Jh=t=>r2.call(t),Om=t=>Jh(t).slice(8,-1),s2=t=>Jh(t)==="[object Object]",RC=t=>rt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Nm=OC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rv=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},J6=/-(\w)/g,zs=Rv(t=>t.replace(J6,(e,n)=>n?n.toUpperCase():"")),Q6=/\B([A-Z])/g,$a=Rv(t=>t.replace(Q6,"-$1").toLowerCase()),Qh=Rv(t=>t.charAt(0).toUpperCase()+t.slice(1)),$m=Rv(t=>t?`on${Qh(t)}`:""),Kf=(t,e)=>!Object.is(t,e),Rm=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Cg=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Sg=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let MT;const Z6=()=>MT||(MT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let us;class o2{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&us&&(this.parent=us,this.index=(us.scopes||(us.scopes=[])).push(this)-1)}run(e){if(this.active){const n=us;try{return us=this,e()}finally{us=n}}}on(){us=this}off(){us=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function eH(t){return new o2(t)}function tH(t,e=us){e&&e.active&&e.effects.push(t)}function nH(){return us}function i2(t){us&&us.cleanups.push(t)}const DC=t=>{const e=new Set(t);return e.w=0,e.n=0,e},a2=t=>(t.w&wa)>0,l2=t=>(t.n&wa)>0,rH=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=wa},sH=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];a2(s)&&!l2(s)?s.delete(t):e[n++]=s,s.w&=~wa,s.n&=~wa}e.length=n}},sw=new WeakMap;let Qd=0,wa=1;const ow=30;let eo;const xl=Symbol(""),iw=Symbol("");class PC{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,tH(this,r)}run(){if(!this.active)return this.fn();let e=eo,n=ua;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=eo,eo=this,ua=!0,wa=1<<++Qd,Qd<=ow?rH(this):AT(this),this.fn()}finally{Qd<=ow&&sH(this),wa=1<<--Qd,eo=this.parent,ua=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){eo===this?this.deferStop=!0:this.active&&(AT(this),this.onStop&&this.onStop(),this.active=!1)}}function AT(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ua=!0;const c2=[];function pc(){c2.push(ua),ua=!1}function mc(){const t=c2.pop();ua=t===void 0?!0:t}function Ss(t,e,n){if(ua&&eo){let r=sw.get(t);r||sw.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=DC()),u2(s)}}function u2(t,e){let n=!1;Qd<=ow?l2(t)||(t.n|=wa,n=!a2(t)):n=!t.has(eo),n&&(t.add(eo),eo.deps.push(t))}function pi(t,e,n,r,s,o){const i=sw.get(t);if(!i)return;let a=[];if(e==="clear")a=[...i.values()];else if(n==="length"&&Be(t))i.forEach((l,c)=>{(c==="length"||c>=r)&&a.push(l)});else switch(n!==void 0&&a.push(i.get(n)),e){case"add":Be(t)?RC(n)&&a.push(i.get("length")):(a.push(i.get(xl)),uu(t)&&a.push(i.get(iw)));break;case"delete":Be(t)||(a.push(i.get(xl)),uu(t)&&a.push(i.get(iw)));break;case"set":uu(t)&&a.push(i.get(xl));break}if(a.length===1)a[0]&&aw(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);aw(DC(l))}}function aw(t,e){const n=Be(t)?t:[...t];for(const r of n)r.computed&&OT(r);for(const r of n)r.computed||OT(r)}function OT(t,e){(t!==eo||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const oH=OC("__proto__,__v_isRef,__isVue"),d2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zf)),iH=LC(),aH=LC(!1,!0),lH=LC(!0),NT=cH();function cH(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ut(this);for(let o=0,i=this.length;o<i;o++)Ss(r,"get",o+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(Ut)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pc();const r=Ut(this)[e].apply(this,n);return mc(),r}}),t}function LC(t=!1,e=!1){return function(r,s,o){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&o===(t?e?TH:g2:e?m2:p2).get(r))return r;const i=Be(r);if(!t&&i&&Et(NT,s))return Reflect.get(NT,s,o);const a=Reflect.get(r,s,o);return(zf(s)?d2.has(s):oH(s))||(t||Ss(r,"get",s),e)?a:Jt(a)?i&&RC(s)?a:a.value:Ct(a)?t?Zh(a):Lt(a):a}}const uH=f2(),dH=f2(!0);function f2(t=!1){return function(n,r,s,o){let i=n[r];if(Tu(i)&&Jt(i)&&!Jt(s))return!1;if(!t&&(!kg(s)&&!Tu(s)&&(i=Ut(i),s=Ut(s)),!Be(n)&&Jt(i)&&!Jt(s)))return i.value=s,!0;const a=Be(n)&&RC(r)?Number(r)<n.length:Et(n,r),l=Reflect.set(n,r,s,o);return n===Ut(o)&&(a?Kf(s,i)&&pi(n,"set",r,s):pi(n,"add",r,s)),l}}function fH(t,e){const n=Et(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&pi(t,"delete",e,void 0),r}function hH(t,e){const n=Reflect.has(t,e);return(!zf(e)||!d2.has(e))&&Ss(t,"has",e),n}function pH(t){return Ss(t,"iterate",Be(t)?"length":xl),Reflect.ownKeys(t)}const h2={get:iH,set:uH,deleteProperty:fH,has:hH,ownKeys:pH},mH={get:lH,set(t,e){return!0},deleteProperty(t,e){return!0}},gH=Gn({},h2,{get:aH,set:dH}),BC=t=>t,Dv=t=>Reflect.getPrototypeOf(t);function Lp(t,e,n=!1,r=!1){t=t.__v_raw;const s=Ut(t),o=Ut(e);n||(e!==o&&Ss(s,"get",e),Ss(s,"get",o));const{has:i}=Dv(s),a=r?BC:n?zC:Uf;if(i.call(s,e))return a(t.get(e));if(i.call(s,o))return a(t.get(o));t!==s&&t.get(e)}function Bp(t,e=!1){const n=this.__v_raw,r=Ut(n),s=Ut(t);return e||(t!==s&&Ss(r,"has",t),Ss(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Fp(t,e=!1){return t=t.__v_raw,!e&&Ss(Ut(t),"iterate",xl),Reflect.get(t,"size",t)}function $T(t){t=Ut(t);const e=Ut(this);return Dv(e).has.call(e,t)||(e.add(t),pi(e,"add",t,t)),this}function RT(t,e){e=Ut(e);const n=Ut(this),{has:r,get:s}=Dv(n);let o=r.call(n,t);o||(t=Ut(t),o=r.call(n,t));const i=s.call(n,t);return n.set(t,e),o?Kf(e,i)&&pi(n,"set",t,e):pi(n,"add",t,e),this}function DT(t){const e=Ut(this),{has:n,get:r}=Dv(e);let s=n.call(e,t);s||(t=Ut(t),s=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return s&&pi(e,"delete",t,void 0),o}function PT(){const t=Ut(this),e=t.size!==0,n=t.clear();return e&&pi(t,"clear",void 0,void 0),n}function Vp(t,e){return function(r,s){const o=this,i=o.__v_raw,a=Ut(i),l=e?BC:t?zC:Uf;return!t&&Ss(a,"iterate",xl),i.forEach((c,u)=>r.call(s,l(c),l(u),o))}}function zp(t,e,n){return function(...r){const s=this.__v_raw,o=Ut(s),i=uu(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=s[t](...r),u=n?BC:e?zC:Uf;return!e&&Ss(o,"iterate",l?iw:xl),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Pi(t){return function(...e){return t==="delete"?!1:this}}function vH(){const t={get(o){return Lp(this,o)},get size(){return Fp(this)},has:Bp,add:$T,set:RT,delete:DT,clear:PT,forEach:Vp(!1,!1)},e={get(o){return Lp(this,o,!1,!0)},get size(){return Fp(this)},has:Bp,add:$T,set:RT,delete:DT,clear:PT,forEach:Vp(!1,!0)},n={get(o){return Lp(this,o,!0)},get size(){return Fp(this,!0)},has(o){return Bp.call(this,o,!0)},add:Pi("add"),set:Pi("set"),delete:Pi("delete"),clear:Pi("clear"),forEach:Vp(!0,!1)},r={get(o){return Lp(this,o,!0,!0)},get size(){return Fp(this,!0)},has(o){return Bp.call(this,o,!0)},add:Pi("add"),set:Pi("set"),delete:Pi("delete"),clear:Pi("clear"),forEach:Vp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=zp(o,!1,!1),n[o]=zp(o,!0,!1),e[o]=zp(o,!1,!0),r[o]=zp(o,!0,!0)}),[t,n,e,r]}const[yH,bH,wH,CH]=vH();function FC(t,e){const n=e?t?CH:wH:t?bH:yH;return(r,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Et(n,s)&&s in r?n:r,s,o)}const SH={get:FC(!1,!1)},kH={get:FC(!1,!0)},EH={get:FC(!0,!1)},p2=new WeakMap,m2=new WeakMap,g2=new WeakMap,TH=new WeakMap;function _H(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xH(t){return t.__v_skip||!Object.isExtensible(t)?0:_H(Om(t))}function Lt(t){return Tu(t)?t:VC(t,!1,h2,SH,p2)}function v2(t){return VC(t,!1,gH,kH,m2)}function Zh(t){return VC(t,!0,mH,EH,g2)}function VC(t,e,n,r,s){if(!Ct(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const i=xH(t);if(i===0)return t;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function du(t){return Tu(t)?du(t.__v_raw):!!(t&&t.__v_isReactive)}function Tu(t){return!!(t&&t.__v_isReadonly)}function kg(t){return!!(t&&t.__v_isShallow)}function y2(t){return du(t)||Tu(t)}function Ut(t){const e=t&&t.__v_raw;return e?Ut(e):t}function da(t){return Cg(t,"__v_skip",!0),t}const Uf=t=>Ct(t)?Lt(t):t,zC=t=>Ct(t)?Zh(t):t;function HC(t){ua&&eo&&(t=Ut(t),u2(t.dep||(t.dep=DC())))}function Pv(t,e){t=Ut(t),t.dep&&aw(t.dep)}function Jt(t){return!!(t&&t.__v_isRef===!0)}function D(t){return b2(t,!1)}function en(t){return b2(t,!0)}function b2(t,e){return Jt(t)?t:new IH(t,e)}class IH{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ut(e),this._value=n?e:Uf(e)}get value(){return HC(this),this._value}set value(e){const n=this.__v_isShallow||kg(e)||Tu(e);e=n?e:Ut(e),Kf(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Uf(e),Pv(this))}}function Od(t){Pv(t)}function h(t){return Jt(t)?t.value:t}const MH={get:(t,e,n)=>h(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Jt(s)&&!Jt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function w2(t){return du(t)?t:new Proxy(t,MH)}class AH{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>HC(this),()=>Pv(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function OH(t){return new AH(t)}function $n(t){const e=Be(t)?new Array(t.length):{};for(const n in t)e[n]=pn(t,n);return e}class NH{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function pn(t,e,n){const r=t[e];return Jt(r)?r:new NH(t,e,n)}var C2;class $H{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[C2]=!1,this._dirty=!0,this.effect=new PC(e,()=>{this._dirty||(this._dirty=!0,Pv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=Ut(this);return HC(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}C2="__v_isReadonly";function S2(t,e,n=!1){let r,s;const o=et(t);return o?(r=t,s=Wt):(r=t.get,s=t.set),new $H(r,s,o||!s,n)}const df=[];function RH(t,...e){pc();const n=df.length?df[df.length-1].component:null,r=n&&n.appContext.config.warnHandler,s=DH();if(r)li(r,n,11,[t+e.join(""),n&&n.proxy,s.map(({vnode:o})=>`at <${Q2(n,o.type)}>`).join(`
`),s]);else{const o=[`[Vue warn]: ${t}`,...e];s.length&&o.push(`
`,...PH(s)),console.warn(...o)}mc()}function DH(){let t=df[df.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function PH(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...LH(n))}),e}function LH({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,s=` at <${Q2(t.component,t.type,r)}`,o=">"+n;return t.props?[s,...BH(t.props),o]:[s+o]}function BH(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...k2(r,t[r]))}),n.length>3&&e.push(" ..."),e}function k2(t,e,n){return rt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:Jt(e)?(e=k2(t,Ut(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):et(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ut(e),n?e:[`${t}=`,e])}function li(t,e,n,r){let s;try{s=r?t(...r):t()}catch(o){Lv(o,e,n)}return s}function Ls(t,e,n,r){if(et(t)){const o=li(t,e,n,r);return o&&Hf(o)&&o.catch(i=>{Lv(i,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(Ls(t[o],e,n,r));return s}function Lv(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const i=e.proxy,a=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,i,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){li(l,null,10,[t,i,a]);return}}FH(t,n,s,r)}function FH(t,e,n,r=!0){console.error(t)}let jf=!1,lw=!1;const pr=[];let To=0;const fu=[];let Zo=null,al=0;const E2=Promise.resolve();let KC=null;function ze(t){const e=KC||E2;return t?e.then(this?t.bind(this):t):e}function VH(t){let e=To+1,n=pr.length;for(;e<n;){const r=e+n>>>1;Wf(pr[r])<t?e=r+1:n=r}return e}function UC(t){(!pr.length||!pr.includes(t,jf&&t.allowRecurse?To+1:To))&&(t.id==null?pr.push(t):pr.splice(VH(t.id),0,t),T2())}function T2(){!jf&&!lw&&(lw=!0,KC=E2.then(x2))}function zH(t){const e=pr.indexOf(t);e>To&&pr.splice(e,1)}function HH(t){Be(t)?fu.push(...t):(!Zo||!Zo.includes(t,t.allowRecurse?al+1:al))&&fu.push(t),T2()}function LT(t,e=jf?To+1:0){for(;e<pr.length;e++){const n=pr[e];n&&n.pre&&(pr.splice(e,1),e--,n())}}function _2(t){if(fu.length){const e=[...new Set(fu)];if(fu.length=0,Zo){Zo.push(...e);return}for(Zo=e,Zo.sort((n,r)=>Wf(n)-Wf(r)),al=0;al<Zo.length;al++)Zo[al]();Zo=null,al=0}}const Wf=t=>t.id==null?1/0:t.id,KH=(t,e)=>{const n=Wf(t)-Wf(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function x2(t){lw=!1,jf=!0,pr.sort(KH);const e=Wt;try{for(To=0;To<pr.length;To++){const n=pr[To];n&&n.active!==!1&&li(n,null,14)}}finally{To=0,pr.length=0,_2(),jf=!1,KC=null,(pr.length||fu.length)&&x2()}}function UH(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||hn;let s=n;const o=e.startsWith("update:"),i=o&&e.slice(7);if(i&&i in r){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:f}=r[u]||hn;f&&(s=n.map(p=>p.trim())),d&&(s=n.map(Sg))}let a,l=r[a=$m(e)]||r[a=$m(zs(e))];!l&&o&&(l=r[a=$m($a(e))]),l&&Ls(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ls(c,t,6,s)}}function I2(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const o=t.emits;let i={},a=!1;if(!et(t)){const l=c=>{const u=I2(c,e,!0);u&&(a=!0,Gn(i,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Ct(t)&&r.set(t,null),null):(Be(o)?o.forEach(l=>i[l]=null):Gn(i,o),Ct(t)&&r.set(t,i),i)}function Bv(t,e){return!t||!Nv(e)?!1:(e=e.slice(2).replace(/Once$/,""),Et(t,e[0].toLowerCase()+e.slice(1))||Et(t,$a(e))||Et(t,e))}let gr=null,M2=null;function Eg(t){const e=gr;return gr=t,M2=t&&t.type.__scopeId||null,e}function re(t,e=gr,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&YT(-1);const o=Eg(e),i=t(...s);return Eg(o),r._d&&YT(1),i};return r._n=!0,r._c=!0,r._d=!0,r}function Tb(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:p,ctx:m,inheritAttrs:g}=t;let v,y;const C=Eg(t);try{if(n.shapeFlag&4){const w=s||r;v=ko(u.call(w,w,d,o,p,f,m)),y=l}else{const w=e;v=ko(w.length>1?w(o,{attrs:l,slots:a,emit:c}):w(o,null)),y=e.props?l:jH(l)}}catch(w){pf.length=0,Lv(w,t,1),v=q(Nr)}let b=v;if(y&&g!==!1){const w=Object.keys(y),{shapeFlag:S}=b;w.length&&S&7&&(i&&w.some(NC)&&(y=WH(y,i)),b=mi(b,y))}return n.dirs&&(b=mi(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),v=b,Eg(C),v}const jH=t=>{let e;for(const n in t)(n==="class"||n==="style"||Nv(n))&&((e||(e={}))[n]=t[n]);return e},WH=(t,e)=>{const n={};for(const r in t)(!NC(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function qH(t,e,n){const{props:r,children:s,component:o}=t,{props:i,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?BT(r,i,c):!!i;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(i[f]!==r[f]&&!Bv(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?BT(r,i,c):!0:!!i;return!1}function BT(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(e[o]!==t[o]&&!Bv(n,o))return!0}return!1}function GH({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const YH=t=>t.__isSuspense;function XH(t,e){e&&e.pendingBranch?Be(t)?e.effects.push(...t):e.effects.push(t):HH(t)}function yt(t,e){if(Kn){let n=Kn.provides;const r=Kn.parent&&Kn.parent.provides;r===n&&(n=Kn.provides=Object.create(r)),n[t]=e}}function Fe(t,e,n=!1){const r=Kn||gr;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&et(e)?e.call(r.proxy):e}}function Gr(t,e){return jC(t,null,e)}const FT={};function Ee(t,e,n){return jC(t,e,n)}function jC(t,e,{immediate:n,deep:r,flush:s,onTrack:o,onTrigger:i}=hn){const a=Kn;let l,c=!1,u=!1;if(Jt(t)?(l=()=>t.value,c=kg(t)):du(t)?(l=()=>t,r=!0):Be(t)?(u=!0,c=t.some(y=>du(y)||kg(y)),l=()=>t.map(y=>{if(Jt(y))return y.value;if(du(y))return vl(y);if(et(y))return li(y,a,2)})):et(t)?e?l=()=>li(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),Ls(t,a,3,[f])}:l=Wt,e&&r){const y=l;l=()=>vl(y())}let d,f=y=>{d=v.onStop=()=>{li(y,a,4)}};if(Xf)return f=Wt,e?n&&Ls(e,a,3,[l(),u?[]:void 0,f]):l(),Wt;let p=u?[]:FT;const m=()=>{if(!!v.active)if(e){const y=v.run();(r||c||(u?y.some((C,b)=>Kf(C,p[b])):Kf(y,p)))&&(d&&d(),Ls(e,a,3,[y,p===FT?void 0:p,f]),p=y)}else v.run()};m.allowRecurse=!!e;let g;s==="sync"?g=m:s==="post"?g=()=>Ur(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),g=()=>UC(m));const v=new PC(l,g);return e?n?m():p=v.run():s==="post"?Ur(v.run.bind(v),a&&a.suspense):v.run(),()=>{v.stop(),a&&a.scope&&$C(a.scope.effects,v)}}function JH(t,e,n){const r=this.proxy,s=rt(t)?t.includes(".")?A2(r,t):()=>r[t]:t.bind(r,r);let o;et(e)?o=e:(o=e.handler,n=e);const i=Kn;xu(this);const a=jC(s,o.bind(r),n);return i?xu(i):Il(),a}function A2(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function vl(t,e){if(!Ct(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Jt(t))vl(t.value,e);else if(Be(t))for(let n=0;n<t.length;n++)vl(t[n],e);else if($v(t)||uu(t))t.forEach(n=>{vl(n,e)});else if(s2(t))for(const n in t)vl(t[n],e);return t}function O2(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return lt(()=>{t.isMounted=!0}),ln(()=>{t.isUnmounting=!0}),t}const Is=[Function,Array],QH={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Is,onEnter:Is,onAfterEnter:Is,onEnterCancelled:Is,onBeforeLeave:Is,onLeave:Is,onAfterLeave:Is,onLeaveCancelled:Is,onBeforeAppear:Is,onAppear:Is,onAfterAppear:Is,onAppearCancelled:Is},setup(t,{slots:e}){const n=ht(),r=O2();let s;return()=>{const o=e.default&&WC(e.default(),!0);if(!o||!o.length)return;let i=o[0];if(o.length>1){for(const g of o)if(g.type!==Nr){i=g;break}}const a=Ut(t),{mode:l}=a;if(r.isLeaving)return _b(i);const c=VT(i);if(!c)return _b(i);const u=qf(c,a,r,n);Gf(c,u);const d=n.subTree,f=d&&VT(d);let p=!1;const{getTransitionKey:m}=c.type;if(m){const g=m();s===void 0?s=g:g!==s&&(s=g,p=!0)}if(f&&f.type!==Nr&&(!ll(c,f)||p)){const g=qf(f,a,r,n);if(Gf(f,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update()},_b(i);l==="in-out"&&c.type!==Nr&&(g.delayLeave=(v,y,C)=>{const b=$2(r,f);b[String(f.key)]=f,v._leaveCb=()=>{y(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=C})}return i}}},N2=QH;function $2(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function qf(t,e,n,r){const{appear:s,mode:o,persisted:i=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:v,onAfterAppear:y,onAppearCancelled:C}=e,b=String(t.key),w=$2(n,t),S=(x,N)=>{x&&Ls(x,r,9,N)},k=(x,N)=>{const R=N[1];S(x,N),Be(x)?x.every(H=>H.length<=1)&&R():x.length<=1&&R()},A={mode:o,persisted:i,beforeEnter(x){let N=a;if(!n.isMounted)if(s)N=g||a;else return;x._leaveCb&&x._leaveCb(!0);const R=w[b];R&&ll(t,R)&&R.el._leaveCb&&R.el._leaveCb(),S(N,[x])},enter(x){let N=l,R=c,H=u;if(!n.isMounted)if(s)N=v||l,R=y||c,H=C||u;else return;let P=!1;const B=x._enterCb=V=>{P||(P=!0,V?S(H,[x]):S(R,[x]),A.delayedLeave&&A.delayedLeave(),x._enterCb=void 0)};N?k(N,[x,B]):B()},leave(x,N){const R=String(t.key);if(x._enterCb&&x._enterCb(!0),n.isUnmounting)return N();S(d,[x]);let H=!1;const P=x._leaveCb=B=>{H||(H=!0,N(),B?S(m,[x]):S(p,[x]),x._leaveCb=void 0,w[R]===t&&delete w[R])};w[R]=t,f?k(f,[x,P]):P()},clone(x){return qf(x,e,n,r)}};return A}function _b(t){if(Fv(t))return t=mi(t),t.children=null,t}function VT(t){return Fv(t)?t.children?t.children[0]:void 0:t}function Gf(t,e){t.shapeFlag&6&&t.component?Gf(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function WC(t,e=!1,n){let r=[],s=0;for(let o=0;o<t.length;o++){let i=t[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===Ye?(i.patchFlag&128&&s++,r=r.concat(WC(i.children,e,a))):(e||i.type!==Nr)&&r.push(a!=null?mi(i,{key:a}):i)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function te(t){return et(t)?{setup:t,name:t.name}:t}const ff=t=>!!t.type.__asyncLoader,Fv=t=>t.type.__isKeepAlive;function ZH(t,e){D2(t,"a",e)}function R2(t,e){D2(t,"da",e)}function D2(t,e,n=Kn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Vv(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Fv(s.parent.vnode)&&e8(r,e,n,s),s=s.parent}}function e8(t,e,n,r){const s=Vv(e,t,r,!0);gc(()=>{$C(r[e],s)},n)}function Vv(t,e,n=Kn,r=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;pc(),xu(n);const a=Ls(e,n,t,i);return Il(),mc(),a});return r?s.unshift(o):s.push(o),o}}const ki=t=>(e,n=Kn)=>(!Xf||t==="sp")&&Vv(t,(...r)=>e(...r),n),zv=ki("bm"),lt=ki("m"),P2=ki("bu"),Ei=ki("u"),ln=ki("bum"),gc=ki("um"),t8=ki("sp"),n8=ki("rtg"),r8=ki("rtc");function s8(t,e=Kn){Vv("ec",t,e)}function ot(t,e){const n=gr;if(n===null)return t;const r=Uv(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[i,a,l,c=hn]=e[o];et(i)&&(i={mounted:i,updated:i}),i.deep&&vl(a),s.push({dir:i,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c})}return t}function Ga(t,e,n,r){const s=t.dirs,o=e&&e.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let l=a.dir[r];l&&(pc(),Ls(l,n,8,[t.el,a,t,e]),mc())}}const qC="components",o8="directives";function Je(t,e){return GC(qC,t,!0,e)||t}const L2=Symbol();function kt(t){return rt(t)?GC(qC,t,!1)||t:t||L2}function _u(t){return GC(o8,t)}function GC(t,e,n=!0,r=!1){const s=gr||Kn;if(s){const o=s.type;if(t===qC){const a=J2(o,!1);if(a&&(a===e||a===zs(e)||a===Qh(zs(e))))return o}const i=zT(s[t]||o[t],e)||zT(s.appContext[t],e);return!i&&r?o:i}}function zT(t,e){return t&&(t[e]||t[zs(e)]||t[Qh(zs(e))])}function Tt(t,e,n,r){let s;const o=n&&n[r];if(Be(t)||rt(t)){s=new Array(t.length);for(let i=0,a=t.length;i<a;i++)s[i]=e(t[i],i,void 0,o&&o[i])}else if(typeof t=="number"){s=new Array(t);for(let i=0;i<t;i++)s[i]=e(i+1,i,void 0,o&&o[i])}else if(Ct(t))if(t[Symbol.iterator])s=Array.from(t,(i,a)=>e(i,a,void 0,o&&o[a]));else{const i=Object.keys(t);s=new Array(i.length);for(let a=0,l=i.length;a<l;a++){const c=i[a];s[a]=e(t[c],c,a,o&&o[a])}}else s=[];return n&&(n[r]=s),s}function Ca(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Be(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const o=r.fn(...s);return o&&(o.key=r.key),o}:r.fn)}return t}function Ce(t,e,n={},r,s){if(gr.isCE||gr.parent&&ff(gr.parent)&&gr.parent.isCE)return q("slot",e==="default"?null:{name:e},r&&r());let o=t[e];o&&o._c&&(o._d=!1),E();const i=o&&B2(o(n)),a=he(Ye,{key:n.key||i&&i.key||`_${e}`},i||(r?r():[]),i&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function B2(t){return t.some(e=>fn(e)?!(e.type===Nr||e.type===Ye&&!B2(e.children)):!0)?t:null}function i8(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:$m(r)]=t[r];return n}const cw=t=>t?G2(t)?Uv(t)||t.proxy:cw(t.parent):null,Tg=Gn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cw(t.parent),$root:t=>cw(t.root),$emit:t=>t.emit,$options:t=>YC(t),$forceUpdate:t=>t.f||(t.f=()=>UC(t.update)),$nextTick:t=>t.n||(t.n=ze.bind(t.proxy)),$watch:t=>JH.bind(t)}),a8={get({_:t},e){const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(r!==hn&&Et(r,e))return i[e]=1,r[e];if(s!==hn&&Et(s,e))return i[e]=2,s[e];if((c=t.propsOptions[0])&&Et(c,e))return i[e]=3,o[e];if(n!==hn&&Et(n,e))return i[e]=4,n[e];uw&&(i[e]=0)}}const u=Tg[e];let d,f;if(u)return e==="$attrs"&&Ss(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==hn&&Et(n,e))return i[e]=4,n[e];if(f=l.config.globalProperties,Et(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return s!==hn&&Et(s,e)?(s[e]=n,!0):r!==hn&&Et(r,e)?(r[e]=n,!0):Et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let a;return!!n[i]||t!==hn&&Et(t,i)||e!==hn&&Et(e,i)||(a=o[0])&&Et(a,i)||Et(r,i)||Et(Tg,i)||Et(s.config.globalProperties,i)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Et(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let uw=!0;function l8(t){const e=YC(t),n=t.proxy,r=t.ctx;uw=!1,e.beforeCreate&&HT(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:v,beforeDestroy:y,beforeUnmount:C,destroyed:b,unmounted:w,render:S,renderTracked:k,renderTriggered:A,errorCaptured:x,serverPrefetch:N,expose:R,inheritAttrs:H,components:P,directives:B,filters:V}=e;if(c&&c8(c,r,null,t.appContext.config.unwrapInjectedRef),i)for(const _ in i){const O=i[_];et(O)&&(r[_]=O.bind(n))}if(s){const _=s.call(n,n);Ct(_)&&(t.data=Lt(_))}if(uw=!0,o)for(const _ in o){const O=o[_],$=et(O)?O.bind(n,n):et(O.get)?O.get.bind(n,n):Wt,K=!et(O)&&et(O.set)?O.set.bind(n):Wt,J=T({get:$,set:K});Object.defineProperty(r,_,{enumerable:!0,configurable:!0,get:()=>J.value,set:W=>J.value=W})}if(a)for(const _ in a)F2(a[_],r,n,_);if(l){const _=et(l)?l.call(n):l;Reflect.ownKeys(_).forEach(O=>{yt(O,_[O])})}u&&HT(u,t,"c");function M(_,O){Be(O)?O.forEach($=>_($.bind(n))):O&&_(O.bind(n))}if(M(zv,d),M(lt,f),M(P2,p),M(Ei,m),M(ZH,g),M(R2,v),M(s8,x),M(r8,k),M(n8,A),M(ln,C),M(gc,w),M(t8,N),Be(R))if(R.length){const _=t.exposed||(t.exposed={});R.forEach(O=>{Object.defineProperty(_,O,{get:()=>n[O],set:$=>n[O]=$})})}else t.exposed||(t.exposed={});S&&t.render===Wt&&(t.render=S),H!=null&&(t.inheritAttrs=H),P&&(t.components=P),B&&(t.directives=B)}function c8(t,e,n=Wt,r=!1){Be(t)&&(t=dw(t));for(const s in t){const o=t[s];let i;Ct(o)?"default"in o?i=Fe(o.from||s,o.default,!0):i=Fe(o.from||s):i=Fe(o),Jt(i)&&r?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[s]=i}}function HT(t,e,n){Ls(Be(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function F2(t,e,n,r){const s=r.includes(".")?A2(n,r):()=>n[r];if(rt(t)){const o=e[t];et(o)&&Ee(s,o)}else if(et(t))Ee(s,t.bind(n));else if(Ct(t))if(Be(t))t.forEach(o=>F2(o,e,n,r));else{const o=et(t.handler)?t.handler.bind(n):e[t.handler];et(o)&&Ee(s,o,t)}}function YC(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>_g(l,c,i,!0)),_g(l,e,i)),Ct(e)&&o.set(e,l),l}function _g(t,e,n,r=!1){const{mixins:s,extends:o}=e;o&&_g(t,o,n,!0),s&&s.forEach(i=>_g(t,i,n,!0));for(const i in e)if(!(r&&i==="expose")){const a=u8[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const u8={data:KT,props:nl,emits:nl,methods:nl,computed:nl,beforeCreate:xr,created:xr,beforeMount:xr,mounted:xr,beforeUpdate:xr,updated:xr,beforeDestroy:xr,beforeUnmount:xr,destroyed:xr,unmounted:xr,activated:xr,deactivated:xr,errorCaptured:xr,serverPrefetch:xr,components:nl,directives:nl,watch:f8,provide:KT,inject:d8};function KT(t,e){return e?t?function(){return Gn(et(t)?t.call(this,this):t,et(e)?e.call(this,this):e)}:e:t}function d8(t,e){return nl(dw(t),dw(e))}function dw(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function xr(t,e){return t?[...new Set([].concat(t,e))]:e}function nl(t,e){return t?Gn(Gn(Object.create(null),t),e):e}function f8(t,e){if(!t)return e;if(!e)return t;const n=Gn(Object.create(null),t);for(const r in e)n[r]=xr(t[r],e[r]);return n}function h8(t,e,n,r=!1){const s={},o={};Cg(o,Hv,1),t.propsDefaults=Object.create(null),V2(t,e,s,o);for(const i in t.propsOptions[0])i in s||(s[i]=void 0);n?t.props=r?s:v2(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function p8(t,e,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=t,a=Ut(s),[l]=t.propsOptions;let c=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Bv(t.emitsOptions,f))continue;const p=e[f];if(l)if(Et(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const m=zs(f);s[m]=fw(l,a,m,p,t,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{V2(t,e,s,o)&&(c=!0);let u;for(const d in a)(!e||!Et(e,d)&&((u=$a(d))===d||!Et(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=fw(l,a,d,void 0,t,!0)):delete s[d]);if(o!==a)for(const d in o)(!e||!Et(e,d)&&!0)&&(delete o[d],c=!0)}c&&pi(t,"set","$attrs")}function V2(t,e,n,r){const[s,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(Nm(l))continue;const c=e[l];let u;s&&Et(s,u=zs(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Bv(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,i=!0)}if(o){const l=Ut(n),c=a||hn;for(let u=0;u<o.length;u++){const d=o[u];n[d]=fw(s,l,d,c[d],t,!Et(c,d))}}return i}function fw(t,e,n,r,s,o){const i=t[n];if(i!=null){const a=Et(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&et(l)){const{propsDefaults:c}=s;n in c?r=c[n]:(xu(s),r=c[n]=l.call(null,e),Il())}else r=l}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===$a(n))&&(r=!0))}return r}function z2(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const o=t.props,i={},a=[];let l=!1;if(!et(t)){const u=d=>{l=!0;const[f,p]=z2(d,e,!0);Gn(i,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Ct(t)&&r.set(t,cu),cu;if(Be(o))for(let u=0;u<o.length;u++){const d=zs(o[u]);UT(d)&&(i[d]=hn)}else if(o)for(const u in o){const d=zs(u);if(UT(d)){const f=o[u],p=i[d]=Be(f)||et(f)?{type:f}:f;if(p){const m=qT(Boolean,p.type),g=qT(String,p.type);p[0]=m>-1,p[1]=g<0||m<g,(m>-1||Et(p,"default"))&&a.push(d)}}}const c=[i,a];return Ct(t)&&r.set(t,c),c}function UT(t){return t[0]!=="$"}function jT(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function WT(t,e){return jT(t)===jT(e)}function qT(t,e){return Be(e)?e.findIndex(n=>WT(n,t)):et(e)&&WT(e,t)?0:-1}const H2=t=>t[0]==="_"||t==="$stable",XC=t=>Be(t)?t.map(ko):[ko(t)],m8=(t,e,n)=>{if(e._n)return e;const r=re((...s)=>XC(e(...s)),n);return r._c=!1,r},K2=(t,e,n)=>{const r=t._ctx;for(const s in t){if(H2(s))continue;const o=t[s];if(et(o))e[s]=m8(s,o,r);else if(o!=null){const i=XC(o);e[s]=()=>i}}},U2=(t,e)=>{const n=XC(e);t.slots.default=()=>n},g8=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ut(e),Cg(e,"_",n)):K2(e,t.slots={})}else t.slots={},e&&U2(t,e);Cg(t.slots,Hv,1)},v8=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,i=hn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(Gn(s,e),!n&&a===1&&delete s._):(o=!e.$stable,K2(e,s)),i=e}else e&&(U2(t,e),i={default:1});if(o)for(const a in s)!H2(a)&&!(a in i)&&delete s[a]};function j2(){return{app:null,config:{isNativeTag:G6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let y8=0;function b8(t,e){return function(r,s=null){et(r)||(r=Object.assign({},r)),s!=null&&!Ct(s)&&(s=null);const o=j2(),i=new Set;let a=!1;const l=o.app={_uid:y8++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:L8,get config(){return o.config},set config(c){},use(c,...u){return i.has(c)||(c&&et(c.install)?(i.add(c),c.install(l,...u)):et(c)&&(i.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,d){if(!a){const f=q(r,s);return f.appContext=o,u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,Uv(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l}};return l}}function hw(t,e,n,r,s=!1){if(Be(t)){t.forEach((f,p)=>hw(f,e&&(Be(e)?e[p]:e),n,r,s));return}if(ff(r)&&!s)return;const o=r.shapeFlag&4?Uv(r.component)||r.component.proxy:r.el,i=s?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===hn?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(rt(c)?(u[c]=null,Et(d,c)&&(d[c]=null)):Jt(c)&&(c.value=null)),et(l))li(l,a,12,[i,u]);else{const f=rt(l),p=Jt(l);if(f||p){const m=()=>{if(t.f){const g=f?u[l]:l.value;s?Be(g)&&$C(g,o):Be(g)?g.includes(o)||g.push(o):f?(u[l]=[o],Et(d,l)&&(d[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else f?(u[l]=i,Et(d,l)&&(d[l]=i)):p&&(l.value=i,t.k&&(u[t.k]=i))};i?(m.id=-1,Ur(m,n)):m()}}}const Ur=XH;function w8(t){return C8(t)}function C8(t,e){const n=Z6();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=Wt,insertStaticContent:m}=t,g=(j,ne,ge,Se=null,_e=null,Q=null,Me=!1,pe=null,ee=!!ne.dynamicChildren)=>{if(j===ne)return;j&&!ll(j,ne)&&(Se=X(j),W(j,_e,Q,!0),j=null),ne.patchFlag===-2&&(ee=!1,ne.dynamicChildren=null);const{type:de,ref:le,shapeFlag:Te}=ne;switch(de){case ep:v(j,ne,ge,Se);break;case Nr:y(j,ne,ge,Se);break;case Dm:j==null&&C(ne,ge,Se,Me);break;case Ye:P(j,ne,ge,Se,_e,Q,Me,pe,ee);break;default:Te&1?S(j,ne,ge,Se,_e,Q,Me,pe,ee):Te&6?B(j,ne,ge,Se,_e,Q,Me,pe,ee):(Te&64||Te&128)&&de.process(j,ne,ge,Se,_e,Q,Me,pe,ee,ue)}le!=null&&_e&&hw(le,j&&j.ref,Q,ne||j,!ne)},v=(j,ne,ge,Se)=>{if(j==null)r(ne.el=a(ne.children),ge,Se);else{const _e=ne.el=j.el;ne.children!==j.children&&c(_e,ne.children)}},y=(j,ne,ge,Se)=>{j==null?r(ne.el=l(ne.children||""),ge,Se):ne.el=j.el},C=(j,ne,ge,Se)=>{[j.el,j.anchor]=m(j.children,ne,ge,Se,j.el,j.anchor)},b=({el:j,anchor:ne},ge,Se)=>{let _e;for(;j&&j!==ne;)_e=f(j),r(j,ge,Se),j=_e;r(ne,ge,Se)},w=({el:j,anchor:ne})=>{let ge;for(;j&&j!==ne;)ge=f(j),s(j),j=ge;s(ne)},S=(j,ne,ge,Se,_e,Q,Me,pe,ee)=>{Me=Me||ne.type==="svg",j==null?k(ne,ge,Se,_e,Q,Me,pe,ee):N(j,ne,_e,Q,Me,pe,ee)},k=(j,ne,ge,Se,_e,Q,Me,pe)=>{let ee,de;const{type:le,props:Te,shapeFlag:Le,transition:ae,dirs:we}=j;if(ee=j.el=i(j.type,Q,Te&&Te.is,Te),Le&8?u(ee,j.children):Le&16&&x(j.children,ee,null,Se,_e,Q&&le!=="foreignObject",Me,pe),we&&Ga(j,null,Se,"created"),Te){for(const De in Te)De!=="value"&&!Nm(De)&&o(ee,De,null,Te[De],Q,j.children,Se,_e,fe);"value"in Te&&o(ee,"value",null,Te.value),(de=Te.onVnodeBeforeMount)&&Co(de,Se,j)}A(ee,j,j.scopeId,Me,Se),we&&Ga(j,null,Se,"beforeMount");const $e=(!_e||_e&&!_e.pendingBranch)&&ae&&!ae.persisted;$e&&ae.beforeEnter(ee),r(ee,ne,ge),((de=Te&&Te.onVnodeMounted)||$e||we)&&Ur(()=>{de&&Co(de,Se,j),$e&&ae.enter(ee),we&&Ga(j,null,Se,"mounted")},_e)},A=(j,ne,ge,Se,_e)=>{if(ge&&p(j,ge),Se)for(let Q=0;Q<Se.length;Q++)p(j,Se[Q]);if(_e){let Q=_e.subTree;if(ne===Q){const Me=_e.vnode;A(j,Me,Me.scopeId,Me.slotScopeIds,_e.parent)}}},x=(j,ne,ge,Se,_e,Q,Me,pe,ee=0)=>{for(let de=ee;de<j.length;de++){const le=j[de]=pe?Gi(j[de]):ko(j[de]);g(null,le,ne,ge,Se,_e,Q,Me,pe)}},N=(j,ne,ge,Se,_e,Q,Me)=>{const pe=ne.el=j.el;let{patchFlag:ee,dynamicChildren:de,dirs:le}=ne;ee|=j.patchFlag&16;const Te=j.props||hn,Le=ne.props||hn;let ae;ge&&Ya(ge,!1),(ae=Le.onVnodeBeforeUpdate)&&Co(ae,ge,ne,j),le&&Ga(ne,j,ge,"beforeUpdate"),ge&&Ya(ge,!0);const we=_e&&ne.type!=="foreignObject";if(de?R(j.dynamicChildren,de,pe,ge,Se,we,Q):Me||O(j,ne,pe,null,ge,Se,we,Q,!1),ee>0){if(ee&16)H(pe,ne,Te,Le,ge,Se,_e);else if(ee&2&&Te.class!==Le.class&&o(pe,"class",null,Le.class,_e),ee&4&&o(pe,"style",Te.style,Le.style,_e),ee&8){const $e=ne.dynamicProps;for(let De=0;De<$e.length;De++){const ie=$e[De],Ie=Te[ie],je=Le[ie];(je!==Ie||ie==="value")&&o(pe,ie,Ie,je,_e,j.children,ge,Se,fe)}}ee&1&&j.children!==ne.children&&u(pe,ne.children)}else!Me&&de==null&&H(pe,ne,Te,Le,ge,Se,_e);((ae=Le.onVnodeUpdated)||le)&&Ur(()=>{ae&&Co(ae,ge,ne,j),le&&Ga(ne,j,ge,"updated")},Se)},R=(j,ne,ge,Se,_e,Q,Me)=>{for(let pe=0;pe<ne.length;pe++){const ee=j[pe],de=ne[pe],le=ee.el&&(ee.type===Ye||!ll(ee,de)||ee.shapeFlag&70)?d(ee.el):ge;g(ee,de,le,null,Se,_e,Q,Me,!0)}},H=(j,ne,ge,Se,_e,Q,Me)=>{if(ge!==Se){if(ge!==hn)for(const pe in ge)!Nm(pe)&&!(pe in Se)&&o(j,pe,ge[pe],null,Me,ne.children,_e,Q,fe);for(const pe in Se){if(Nm(pe))continue;const ee=Se[pe],de=ge[pe];ee!==de&&pe!=="value"&&o(j,pe,de,ee,Me,ne.children,_e,Q,fe)}"value"in Se&&o(j,"value",ge.value,Se.value)}},P=(j,ne,ge,Se,_e,Q,Me,pe,ee)=>{const de=ne.el=j?j.el:a(""),le=ne.anchor=j?j.anchor:a("");let{patchFlag:Te,dynamicChildren:Le,slotScopeIds:ae}=ne;ae&&(pe=pe?pe.concat(ae):ae),j==null?(r(de,ge,Se),r(le,ge,Se),x(ne.children,ge,le,_e,Q,Me,pe,ee)):Te>0&&Te&64&&Le&&j.dynamicChildren?(R(j.dynamicChildren,Le,ge,_e,Q,Me,pe),(ne.key!=null||_e&&ne===_e.subTree)&&JC(j,ne,!0)):O(j,ne,ge,le,_e,Q,Me,pe,ee)},B=(j,ne,ge,Se,_e,Q,Me,pe,ee)=>{ne.slotScopeIds=pe,j==null?ne.shapeFlag&512?_e.ctx.activate(ne,ge,Se,Me,ee):V(ne,ge,Se,_e,Q,Me,ee):z(j,ne,ee)},V=(j,ne,ge,Se,_e,Q,Me)=>{const pe=j.component=A8(j,Se,_e);if(Fv(j)&&(pe.ctx.renderer=ue),O8(pe),pe.asyncDep){if(_e&&_e.registerDep(pe,M),!j.el){const ee=pe.subTree=q(Nr);y(null,ee,ne,ge)}return}M(pe,j,ne,ge,_e,Q,Me)},z=(j,ne,ge)=>{const Se=ne.component=j.component;if(qH(j,ne,ge))if(Se.asyncDep&&!Se.asyncResolved){_(Se,ne,ge);return}else Se.next=ne,zH(Se.update),Se.update();else ne.el=j.el,Se.vnode=ne},M=(j,ne,ge,Se,_e,Q,Me)=>{const pe=()=>{if(j.isMounted){let{next:le,bu:Te,u:Le,parent:ae,vnode:we}=j,$e=le,De;Ya(j,!1),le?(le.el=we.el,_(j,le,Me)):le=we,Te&&Rm(Te),(De=le.props&&le.props.onVnodeBeforeUpdate)&&Co(De,ae,le,we),Ya(j,!0);const ie=Tb(j),Ie=j.subTree;j.subTree=ie,g(Ie,ie,d(Ie.el),X(Ie),j,_e,Q),le.el=ie.el,$e===null&&GH(j,ie.el),Le&&Ur(Le,_e),(De=le.props&&le.props.onVnodeUpdated)&&Ur(()=>Co(De,ae,le,we),_e)}else{let le;const{el:Te,props:Le}=ne,{bm:ae,m:we,parent:$e}=j,De=ff(ne);if(Ya(j,!1),ae&&Rm(ae),!De&&(le=Le&&Le.onVnodeBeforeMount)&&Co(le,$e,ne),Ya(j,!0),Te&&Ae){const ie=()=>{j.subTree=Tb(j),Ae(Te,j.subTree,j,_e,null)};De?ne.type.__asyncLoader().then(()=>!j.isUnmounted&&ie()):ie()}else{const ie=j.subTree=Tb(j);g(null,ie,ge,Se,j,_e,Q),ne.el=ie.el}if(we&&Ur(we,_e),!De&&(le=Le&&Le.onVnodeMounted)){const ie=ne;Ur(()=>Co(le,$e,ie),_e)}(ne.shapeFlag&256||$e&&ff($e.vnode)&&$e.vnode.shapeFlag&256)&&j.a&&Ur(j.a,_e),j.isMounted=!0,ne=ge=Se=null}},ee=j.effect=new PC(pe,()=>UC(de),j.scope),de=j.update=()=>ee.run();de.id=j.uid,Ya(j,!0),de()},_=(j,ne,ge)=>{ne.component=j;const Se=j.vnode.props;j.vnode=ne,j.next=null,p8(j,ne.props,Se,ge),v8(j,ne.children,ge),pc(),LT(),mc()},O=(j,ne,ge,Se,_e,Q,Me,pe,ee=!1)=>{const de=j&&j.children,le=j?j.shapeFlag:0,Te=ne.children,{patchFlag:Le,shapeFlag:ae}=ne;if(Le>0){if(Le&128){K(de,Te,ge,Se,_e,Q,Me,pe,ee);return}else if(Le&256){$(de,Te,ge,Se,_e,Q,Me,pe,ee);return}}ae&8?(le&16&&fe(de,_e,Q),Te!==de&&u(ge,Te)):le&16?ae&16?K(de,Te,ge,Se,_e,Q,Me,pe,ee):fe(de,_e,Q,!0):(le&8&&u(ge,""),ae&16&&x(Te,ge,Se,_e,Q,Me,pe,ee))},$=(j,ne,ge,Se,_e,Q,Me,pe,ee)=>{j=j||cu,ne=ne||cu;const de=j.length,le=ne.length,Te=Math.min(de,le);let Le;for(Le=0;Le<Te;Le++){const ae=ne[Le]=ee?Gi(ne[Le]):ko(ne[Le]);g(j[Le],ae,ge,null,_e,Q,Me,pe,ee)}de>le?fe(j,_e,Q,!0,!1,Te):x(ne,ge,Se,_e,Q,Me,pe,ee,Te)},K=(j,ne,ge,Se,_e,Q,Me,pe,ee)=>{let de=0;const le=ne.length;let Te=j.length-1,Le=le-1;for(;de<=Te&&de<=Le;){const ae=j[de],we=ne[de]=ee?Gi(ne[de]):ko(ne[de]);if(ll(ae,we))g(ae,we,ge,null,_e,Q,Me,pe,ee);else break;de++}for(;de<=Te&&de<=Le;){const ae=j[Te],we=ne[Le]=ee?Gi(ne[Le]):ko(ne[Le]);if(ll(ae,we))g(ae,we,ge,null,_e,Q,Me,pe,ee);else break;Te--,Le--}if(de>Te){if(de<=Le){const ae=Le+1,we=ae<le?ne[ae].el:Se;for(;de<=Le;)g(null,ne[de]=ee?Gi(ne[de]):ko(ne[de]),ge,we,_e,Q,Me,pe,ee),de++}}else if(de>Le)for(;de<=Te;)W(j[de],_e,Q,!0),de++;else{const ae=de,we=de,$e=new Map;for(de=we;de<=Le;de++){const be=ne[de]=ee?Gi(ne[de]):ko(ne[de]);be.key!=null&&$e.set(be.key,de)}let De,ie=0;const Ie=Le-we+1;let je=!1,U=0;const oe=new Array(Ie);for(de=0;de<Ie;de++)oe[de]=0;for(de=ae;de<=Te;de++){const be=j[de];if(ie>=Ie){W(be,_e,Q,!0);continue}let Ke;if(be.key!=null)Ke=$e.get(be.key);else for(De=we;De<=Le;De++)if(oe[De-we]===0&&ll(be,ne[De])){Ke=De;break}Ke===void 0?W(be,_e,Q,!0):(oe[Ke-we]=de+1,Ke>=U?U=Ke:je=!0,g(be,ne[Ke],ge,null,_e,Q,Me,pe,ee),ie++)}const Z=je?S8(oe):cu;for(De=Z.length-1,de=Ie-1;de>=0;de--){const be=we+de,Ke=ne[be],at=be+1<le?ne[be+1].el:Se;oe[de]===0?g(null,Ke,ge,at,_e,Q,Me,pe,ee):je&&(De<0||de!==Z[De]?J(Ke,ge,at,2):De--)}}},J=(j,ne,ge,Se,_e=null)=>{const{el:Q,type:Me,transition:pe,children:ee,shapeFlag:de}=j;if(de&6){J(j.component.subTree,ne,ge,Se);return}if(de&128){j.suspense.move(ne,ge,Se);return}if(de&64){Me.move(j,ne,ge,ue);return}if(Me===Ye){r(Q,ne,ge);for(let Te=0;Te<ee.length;Te++)J(ee[Te],ne,ge,Se);r(j.anchor,ne,ge);return}if(Me===Dm){b(j,ne,ge);return}if(Se!==2&&de&1&&pe)if(Se===0)pe.beforeEnter(Q),r(Q,ne,ge),Ur(()=>pe.enter(Q),_e);else{const{leave:Te,delayLeave:Le,afterLeave:ae}=pe,we=()=>r(Q,ne,ge),$e=()=>{Te(Q,()=>{we(),ae&&ae()})};Le?Le(Q,we,$e):$e()}else r(Q,ne,ge)},W=(j,ne,ge,Se=!1,_e=!1)=>{const{type:Q,props:Me,ref:pe,children:ee,dynamicChildren:de,shapeFlag:le,patchFlag:Te,dirs:Le}=j;if(pe!=null&&hw(pe,null,ge,j,!0),le&256){ne.ctx.deactivate(j);return}const ae=le&1&&Le,we=!ff(j);let $e;if(we&&($e=Me&&Me.onVnodeBeforeUnmount)&&Co($e,ne,j),le&6)Y(j.component,ge,Se);else{if(le&128){j.suspense.unmount(ge,Se);return}ae&&Ga(j,null,ne,"beforeUnmount"),le&64?j.type.remove(j,ne,ge,_e,ue,Se):de&&(Q!==Ye||Te>0&&Te&64)?fe(de,ne,ge,!1,!0):(Q===Ye&&Te&384||!_e&&le&16)&&fe(ee,ne,ge),Se&&se(j)}(we&&($e=Me&&Me.onVnodeUnmounted)||ae)&&Ur(()=>{$e&&Co($e,ne,j),ae&&Ga(j,null,ne,"unmounted")},ge)},se=j=>{const{type:ne,el:ge,anchor:Se,transition:_e}=j;if(ne===Ye){ve(ge,Se);return}if(ne===Dm){w(j);return}const Q=()=>{s(ge),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(j.shapeFlag&1&&_e&&!_e.persisted){const{leave:Me,delayLeave:pe}=_e,ee=()=>Me(ge,Q);pe?pe(j.el,Q,ee):ee()}else Q()},ve=(j,ne)=>{let ge;for(;j!==ne;)ge=f(j),s(j),j=ge;s(ne)},Y=(j,ne,ge)=>{const{bum:Se,scope:_e,update:Q,subTree:Me,um:pe}=j;Se&&Rm(Se),_e.stop(),Q&&(Q.active=!1,W(Me,j,ne,ge)),pe&&Ur(pe,ne),Ur(()=>{j.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},fe=(j,ne,ge,Se=!1,_e=!1,Q=0)=>{for(let Me=Q;Me<j.length;Me++)W(j[Me],ne,ge,Se,_e)},X=j=>j.shapeFlag&6?X(j.component.subTree):j.shapeFlag&128?j.suspense.next():f(j.anchor||j.el),G=(j,ne,ge)=>{j==null?ne._vnode&&W(ne._vnode,null,null,!0):g(ne._vnode||null,j,ne,null,null,null,ge),LT(),_2(),ne._vnode=j},ue={p:g,um:W,m:J,r:se,mt:V,mc:x,pc:O,pbc:R,n:X,o:t};let ye,Ae;return e&&([ye,Ae]=e(ue)),{render:G,hydrate:ye,createApp:b8(G,ye)}}function Ya({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function JC(t,e,n=!1){const r=t.children,s=e.children;if(Be(r)&&Be(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=Gi(s[o]),a.el=i.el),n||JC(i,a))}}function S8(t){const e=t.slice(),n=[0];let r,s,o,i,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<c?o=a+1:i=a;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}const k8=t=>t.__isTeleport,hf=t=>t&&(t.disabled||t.disabled===""),GT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,pw=(t,e)=>{const n=t&&t.to;return rt(n)?e?e(n):null:n},E8={__isTeleport:!0,process(t,e,n,r,s,o,i,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:g,createComment:v}}=c,y=hf(e.props);let{shapeFlag:C,children:b,dynamicChildren:w}=e;if(t==null){const S=e.el=g(""),k=e.anchor=g("");p(S,n,r),p(k,n,r);const A=e.target=pw(e.props,m),x=e.targetAnchor=g("");A&&(p(x,A),i=i||GT(A));const N=(R,H)=>{C&16&&u(b,R,H,s,o,i,a,l)};y?N(n,k):A&&N(A,x)}else{e.el=t.el;const S=e.anchor=t.anchor,k=e.target=t.target,A=e.targetAnchor=t.targetAnchor,x=hf(t.props),N=x?n:k,R=x?S:A;if(i=i||GT(k),w?(f(t.dynamicChildren,w,N,s,o,i,a),JC(t,e,!0)):l||d(t,e,N,R,s,o,i,a,!1),y)x||Hp(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const H=e.target=pw(e.props,m);H&&Hp(e,H,null,c,0)}else x&&Hp(e,k,A,c,1)}},remove(t,e,n,r,{um:s,o:{remove:o}},i){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:f}=t;if(d&&o(u),(i||!hf(f))&&(o(c),a&16))for(let p=0;p<l.length;p++){const m=l[p];s(m,e,n,!0,!!m.dynamicChildren)}},move:Hp,hydrate:T8};function Hp(t,e,n,{o:{insert:r},m:s},o=2){o===0&&r(t.targetAnchor,e,n);const{el:i,anchor:a,shapeFlag:l,children:c,props:u}=t,d=o===2;if(d&&r(i,e,n),(!d||hf(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&r(a,e,n)}function T8(t,e,n,r,s,o,{o:{nextSibling:i,parentNode:a,querySelector:l}},c){const u=e.target=pw(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(hf(e.props))e.anchor=c(i(t),e,a(t),n,r,s,o),e.targetAnchor=d;else{e.anchor=i(t);let f=d;for(;f;)if(f=i(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&i(e.targetAnchor);break}c(d,e,u,n,r,s,o)}}return e.anchor&&i(e.anchor)}const hd=E8,Ye=Symbol(void 0),ep=Symbol(void 0),Nr=Symbol(void 0),Dm=Symbol(void 0),pf=[];let ro=null;function E(t=!1){pf.push(ro=t?null:[])}function _8(){pf.pop(),ro=pf[pf.length-1]||null}let Yf=1;function YT(t){Yf+=t}function W2(t){return t.dynamicChildren=Yf>0?ro||cu:null,_8(),Yf>0&&ro&&ro.push(t),t}function F(t,e,n,r,s,o){return W2(L(t,e,n,r,s,o,!0))}function he(t,e,n,r,s){return W2(q(t,e,n,r,s,!0))}function fn(t){return t?t.__v_isVNode===!0:!1}function ll(t,e){return t.type===e.type&&t.key===e.key}const Hv="__vInternal",q2=({key:t})=>t!=null?t:null,Pm=({ref:t,ref_key:e,ref_for:n})=>t!=null?rt(t)||Jt(t)||et(t)?{i:gr,r:t,k:e,f:!!n}:t:null;function L(t,e=null,n=null,r=0,s=null,o=t===Ye?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&q2(e),ref:e&&Pm(e),scopeId:M2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(ZC(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=rt(n)?8:16),Yf>0&&!i&&ro&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ro.push(l),l}const q=x8;function x8(t,e=null,n=null,r=0,s=null,o=!1){if((!t||t===L2)&&(t=Nr),fn(t)){const a=mi(t,e,!0);return n&&ZC(a,n),Yf>0&&!o&&ro&&(a.shapeFlag&6?ro[ro.indexOf(t)]=a:ro.push(a)),a.patchFlag|=-2,a}if(P8(t)&&(t=t.__vccOpts),e){e=Kv(e);let{class:a,style:l}=e;a&&!rt(a)&&(e.class=I(a)),Ct(l)&&(y2(l)&&!Be(l)&&(l=Gn({},l)),e.style=Ge(l))}const i=rt(t)?1:YH(t)?128:k8(t)?64:Ct(t)?4:et(t)?2:0;return L(t,e,n,r,s,i,o,!0)}function Kv(t){return t?y2(t)||Hv in t?Gn({},t):t:null}function mi(t,e,n=!1){const{props:r,ref:s,patchFlag:o,children:i}=t,a=e?wt(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&q2(a),ref:e&&e.ref?n&&s?Be(s)?s.concat(Pm(e)):[s,Pm(e)]:Pm(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:i,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mi(t.ssContent),ssFallback:t.ssFallback&&mi(t.ssFallback),el:t.el,anchor:t.anchor}}function dt(t=" ",e=0){return q(ep,null,t,e)}function QC(t,e){const n=q(Dm,null,t);return n.staticCount=e,n}function ce(t="",e=!1){return e?(E(),he(Nr,null,t)):q(Nr,null,t)}function ko(t){return t==null||typeof t=="boolean"?q(Nr):Be(t)?q(Ye,null,t.slice()):typeof t=="object"?Gi(t):q(ep,null,String(t))}function Gi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mi(t)}function ZC(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Be(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),ZC(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Hv in e)?e._ctx=gr:s===3&&gr&&(gr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else et(e)?(e={default:e,_ctx:gr},n=32):(e=String(e),r&64?(n=16,e=[dt(e)]):n=8);t.children=e,t.shapeFlag|=n}function wt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=I([e.class,r.class]));else if(s==="style")e.style=Ge([e.style,r.style]);else if(Nv(s)){const o=e[s],i=r[s];i&&o!==i&&!(Be(o)&&o.includes(i))&&(e[s]=o?[].concat(o,i):i)}else s!==""&&(e[s]=r[s])}return e}function Co(t,e,n,r=null){Ls(t,e,7,[n,r])}const I8=j2();let M8=0;function A8(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||I8,o={uid:M8++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new o2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:z2(r,s),emitsOptions:I2(r,s),emit:null,emitted:null,propsDefaults:hn,inheritAttrs:r.inheritAttrs,ctx:hn,data:hn,props:hn,attrs:hn,slots:hn,refs:hn,setupState:hn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=UH.bind(null,o),t.ce&&t.ce(o),o}let Kn=null;const ht=()=>Kn||gr,xu=t=>{Kn=t,t.scope.on()},Il=()=>{Kn&&Kn.scope.off(),Kn=null};function G2(t){return t.vnode.shapeFlag&4}let Xf=!1;function O8(t,e=!1){Xf=e;const{props:n,children:r}=t.vnode,s=G2(t);h8(t,n,s,e),g8(t,r);const o=s?N8(t,e):void 0;return Xf=!1,o}function N8(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=da(new Proxy(t.ctx,a8));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?X2(t):null;xu(t),pc();const o=li(r,t,0,[t.props,s]);if(mc(),Il(),Hf(o)){if(o.then(Il,Il),e)return o.then(i=>{XT(t,i,e)}).catch(i=>{Lv(i,t,0)});t.asyncDep=o}else XT(t,o,e)}else Y2(t,e)}function XT(t,e,n){et(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ct(e)&&(t.setupState=w2(e)),Y2(t,n)}let JT;function Y2(t,e,n){const r=t.type;if(!t.render){if(!e&&JT&&!r.render){const s=r.template||YC(t).template;if(s){const{isCustomElement:o,compilerOptions:i}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Gn(Gn({isCustomElement:o,delimiters:a},i),l);r.render=JT(s,c)}}t.render=r.render||Wt}xu(t),pc(),l8(t),mc(),Il()}function $8(t){return new Proxy(t.attrs,{get(e,n){return Ss(t,"get","$attrs"),e[n]}})}function X2(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=$8(t))},slots:t.slots,emit:t.emit,expose:e}}function Uv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(w2(da(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Tg)return Tg[n](t)}}))}const R8=/(?:^|[-_])(\w)/g,D8=t=>t.replace(R8,e=>e.toUpperCase()).replace(/[-_]/g,"");function J2(t,e=!0){return et(t)?t.displayName||t.name:t.name||e&&t.__name}function Q2(t,e,n=!1){let r=J2(e);if(!r&&e.__file){const s=e.__file.match(/([^/\\]+)\.\w+$/);s&&(r=s[1])}if(!r&&t&&t.parent){const s=o=>{for(const i in o)if(o[i]===e)return i};r=s(t.components||t.parent.type.components)||s(t.appContext.components)}return r?D8(r):n?"App":"Anonymous"}function P8(t){return et(t)&&"__vccOpts"in t}const T=(t,e)=>S2(t,e,Xf);function Qn(){return Z2().slots}function tp(){return Z2().attrs}function Z2(){const t=ht();return t.setupContext||(t.setupContext=X2(t))}function He(t,e,n){const r=arguments.length;return r===2?Ct(e)&&!Be(e)?fn(e)?q(t,null,[e]):q(t,e):q(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&fn(n)&&(n=[n]),q(t,e,n))}const L8="3.2.40",B8="http://www.w3.org/2000/svg",cl=typeof document<"u"?document:null,QT=cl&&cl.createElement("template"),F8={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?cl.createElementNS(B8,t):cl.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>cl.createTextNode(t),createComment:t=>cl.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cl.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,o){const i=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{QT.innerHTML=r?`<svg>${t}</svg>`:t;const a=QT.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function V8(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function z8(t,e,n){const r=t.style,s=rt(n);if(n&&!s){for(const o in n)mw(r,o,n[o]);if(e&&!rt(e))for(const o in e)n[o]==null&&mw(r,o,"")}else{const o=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const ZT=/\s*!important$/;function mw(t,e,n){if(Be(n))n.forEach(r=>mw(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=H8(t,e);ZT.test(n)?t.setProperty($a(r),n.replace(ZT,""),"important"):t[r]=n}}const e_=["Webkit","Moz","ms"],xb={};function H8(t,e){const n=xb[e];if(n)return n;let r=zs(e);if(r!=="filter"&&r in t)return xb[e]=r;r=Qh(r);for(let s=0;s<e_.length;s++){const o=e_[s]+r;if(o in t)return xb[e]=o}return e}const t_="http://www.w3.org/1999/xlink";function K8(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(t_,e.slice(6,e.length)):t.setAttributeNS(t_,e,n);else{const o=K6(e);n==null||o&&!e2(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function U8(t,e,n,r,s,o,i){if(e==="innerHTML"||e==="textContent"){r&&i(r,s,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=e2(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[e$,j8]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let gw=0;const W8=Promise.resolve(),q8=()=>{gw=0},G8=()=>gw||(W8.then(q8),gw=e$());function Ji(t,e,n,r){t.addEventListener(e,n,r)}function Y8(t,e,n,r){t.removeEventListener(e,n,r)}function X8(t,e,n,r,s=null){const o=t._vei||(t._vei={}),i=o[e];if(r&&i)i.value=r;else{const[a,l]=J8(e);if(r){const c=o[e]=Q8(r,s);Ji(t,a,c,l)}else i&&(Y8(t,a,i,l),o[e]=void 0)}}const n_=/(?:Once|Passive|Capture)$/;function J8(t){let e;if(n_.test(t)){e={};let r;for(;r=t.match(n_);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$a(t.slice(2)),e]}function Q8(t,e){const n=r=>{const s=r.timeStamp||e$();(j8||s>=n.attached-1)&&Ls(Z8(r,n.value),e,5,[r])};return n.value=t,n.attached=G8(),n}function Z8(t,e){if(Be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const r_=/^on[a-z]/,e5=(t,e,n,r,s=!1,o,i,a,l)=>{e==="class"?V8(t,r,s):e==="style"?z8(t,n,r):Nv(e)?NC(e)||X8(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):t5(t,e,r,s))?U8(t,e,r,o,i,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),K8(t,e,r,s))};function t5(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&r_.test(e)&&et(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||r_.test(e)&&rt(n)?!1:e in t}const Li="transition",Nd="animation",Sn=(t,{slots:e})=>He(N2,n$(t),e);Sn.displayName="Transition";const t$={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},n5=Sn.props=Gn({},N2.props,t$),Xa=(t,e=[])=>{Be(t)?t.forEach(n=>n(...e)):t&&t(...e)},s_=t=>t?Be(t)?t.some(e=>e.length>1):t.length>1:!1;function n$(t){const e={};for(const P in t)P in t$||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=i,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=r5(s),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:C,onEnterCancelled:b,onLeave:w,onLeaveCancelled:S,onBeforeAppear:k=y,onAppear:A=C,onAppearCancelled:x=b}=e,N=(P,B,V)=>{Hi(P,B?u:a),Hi(P,B?c:i),V&&V()},R=(P,B)=>{P._isLeaving=!1,Hi(P,d),Hi(P,p),Hi(P,f),B&&B()},H=P=>(B,V)=>{const z=P?A:C,M=()=>N(B,P,V);Xa(z,[B,M]),o_(()=>{Hi(B,P?l:o),Jo(B,P?u:a),s_(z)||i_(B,r,g,M)})};return Gn(e,{onBeforeEnter(P){Xa(y,[P]),Jo(P,o),Jo(P,i)},onBeforeAppear(P){Xa(k,[P]),Jo(P,l),Jo(P,c)},onEnter:H(!1),onAppear:H(!0),onLeave(P,B){P._isLeaving=!0;const V=()=>R(P,B);Jo(P,d),s$(),Jo(P,f),o_(()=>{!P._isLeaving||(Hi(P,d),Jo(P,p),s_(w)||i_(P,r,v,V))}),Xa(w,[P,V])},onEnterCancelled(P){N(P,!1),Xa(b,[P])},onAppearCancelled(P){N(P,!0),Xa(x,[P])},onLeaveCancelled(P){R(P),Xa(S,[P])}})}function r5(t){if(t==null)return null;if(Ct(t))return[Ib(t.enter),Ib(t.leave)];{const e=Ib(t);return[e,e]}}function Ib(t){return Sg(t)}function Jo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Hi(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function o_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let s5=0;function i_(t,e,n,r){const s=t._endId=++s5,o=()=>{s===t._endId&&r()};if(n)return setTimeout(o,n);const{type:i,timeout:a,propCount:l}=r$(t,e);if(!i)return r();const c=i+"end";let u=0;const d=()=>{t.removeEventListener(c,f),o()},f=p=>{p.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function r$(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),s=r(Li+"Delay"),o=r(Li+"Duration"),i=a_(s,o),a=r(Nd+"Delay"),l=r(Nd+"Duration"),c=a_(a,l);let u=null,d=0,f=0;e===Li?i>0&&(u=Li,d=i,f=o.length):e===Nd?c>0&&(u=Nd,d=c,f=l.length):(d=Math.max(i,c),u=d>0?i>c?Li:Nd:null,f=u?u===Li?o.length:l.length:0);const p=u===Li&&/\b(transform|all)(,|$)/.test(n[Li+"Property"]);return{type:u,timeout:d,propCount:f,hasTransform:p}}function a_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>l_(n)+l_(t[r])))}function l_(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function s$(){return document.body.offsetHeight}const o$=new WeakMap,i$=new WeakMap,o5={name:"TransitionGroup",props:Gn({},n5,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ht(),r=O2();let s,o;return Ei(()=>{if(!s.length)return;const i=t.moveClass||`${t.name||"v"}-move`;if(!u5(s[0].el,n.vnode.el,i))return;s.forEach(a5),s.forEach(l5);const a=s.filter(c5);s$(),a.forEach(l=>{const c=l.el,u=c.style;Jo(c,i),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,Hi(c,i))};c.addEventListener("transitionend",d)})}),()=>{const i=Ut(t),a=n$(i);let l=i.tag||Ye;s=o,o=e.default?WC(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&Gf(u,qf(u,a,r,n))}if(s)for(let c=0;c<s.length;c++){const u=s[c];Gf(u,qf(u,a,r,n)),o$.set(u,u.el.getBoundingClientRect())}return q(l,null,o)}}},i5=o5;function a5(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function l5(t){i$.set(t,t.el.getBoundingClientRect())}function c5(t){const e=o$.get(t),n=i$.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${s}px)`,o.transitionDuration="0s",t}}function u5(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(i=>{i.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(i=>i&&r.classList.add(i)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=r$(r);return s.removeChild(r),o}const Iu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Be(e)?n=>Rm(e,n):e};function d5(t){t.target.composing=!0}function c_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jv={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t._assign=Iu(s);const o=r||s.props&&s.props.type==="number";Ji(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Sg(a)),t._assign(a)}),n&&Ji(t,"change",()=>{t.value=t.value.trim()}),e||(Ji(t,"compositionstart",d5),Ji(t,"compositionend",c_),Ji(t,"change",c_))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},o){if(t._assign=Iu(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&Sg(t.value)===e))return;const i=e==null?"":e;t.value!==i&&(t.value=i)}},Jf={deep:!0,created(t,e,n){t._assign=Iu(n),Ji(t,"change",()=>{const r=t._modelValue,s=l$(t),o=t.checked,i=t._assign;if(Be(r)){const a=t2(r,s),l=a!==-1;if(o&&!l)i(r.concat(s));else if(!o&&l){const c=[...r];c.splice(a,1),i(c)}}else if($v(r)){const a=new Set(r);o?a.add(s):a.delete(s),i(a)}else i(c$(t,o))})},mounted:u_,beforeUpdate(t,e,n){t._assign=Iu(n),u_(t,e,n)}};function u_(t,{value:e,oldValue:n},r){t._modelValue=e,Be(e)?t.checked=t2(e,r.props.value)>-1:$v(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Eu(e,c$(t,!0)))}const a$={created(t,{value:e},n){t.checked=Eu(e,n.props.value),t._assign=Iu(n),Ji(t,"change",()=>{t._assign(l$(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=Iu(r),e!==n&&(t.checked=Eu(e,r.props.value))}};function l$(t){return"_value"in t?t._value:t.value}function c$(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const f5=["ctrl","shift","alt","meta"],h5={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>f5.some(n=>t[`${n}Key`]&&!e.includes(n))},tt=(t,e)=>(n,...r)=>{for(let s=0;s<e.length;s++){const o=h5[e[s]];if(o&&o(n,e))return}return t(n,...r)},p5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ot=(t,e)=>n=>{if(!("key"in n))return;const r=$a(n.key);if(e.some(s=>s===r||p5[s]===r))return t(n)},Dt={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):$d(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),$d(t,!0),r.enter(t)):r.leave(t,()=>{$d(t,!1)}):$d(t,e))},beforeUnmount(t,{value:e}){$d(t,e)}};function $d(t,e){t.style.display=e?t._vod:"none"}const m5=Gn({patchProp:e5},F8);let d_;function u$(){return d_||(d_=w8(m5))}const Mu=(...t)=>{u$().render(...t)},d$=(...t)=>{const e=u$().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=g5(r);if(!s)return;const o=e._component;!et(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const i=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},e};function g5(t){return rt(t)?document.querySelector(t):t}var v5=typeof global=="object"&&global&&global.Object===Object&&global;const f$=v5;var y5=typeof self=="object"&&self&&self.Object===Object&&self,b5=f$||y5||Function("return this")();const vo=b5;var w5=vo.Symbol;const Hs=w5;var h$=Object.prototype,C5=h$.hasOwnProperty,S5=h$.toString,Rd=Hs?Hs.toStringTag:void 0;function k5(t){var e=C5.call(t,Rd),n=t[Rd];try{t[Rd]=void 0;var r=!0}catch{}var s=S5.call(t);return r&&(e?t[Rd]=n:delete t[Rd]),s}var E5=Object.prototype,T5=E5.toString;function _5(t){return T5.call(t)}var x5="[object Null]",I5="[object Undefined]",f_=Hs?Hs.toStringTag:void 0;function pd(t){return t==null?t===void 0?I5:x5:f_&&f_ in Object(t)?k5(t):_5(t)}function gi(t){return t!=null&&typeof t=="object"}var M5="[object Symbol]";function Wv(t){return typeof t=="symbol"||gi(t)&&pd(t)==M5}function p$(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var A5=Array.isArray;const ks=A5;var O5=1/0,h_=Hs?Hs.prototype:void 0,p_=h_?h_.toString:void 0;function m$(t){if(typeof t=="string")return t;if(ks(t))return p$(t,m$)+"";if(Wv(t))return p_?p_.call(t):"";var e=t+"";return e=="0"&&1/t==-O5?"-0":e}var N5=/\s/;function $5(t){for(var e=t.length;e--&&N5.test(t.charAt(e)););return e}var R5=/^\s+/;function D5(t){return t&&t.slice(0,$5(t)+1).replace(R5,"")}function Ks(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var m_=0/0,P5=/^[-+]0x[0-9a-f]+$/i,L5=/^0b[01]+$/i,B5=/^0o[0-7]+$/i,F5=parseInt;function g_(t){if(typeof t=="number")return t;if(Wv(t))return m_;if(Ks(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ks(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=D5(t);var n=L5.test(t);return n||B5.test(t)?F5(t.slice(2),n?2:8):P5.test(t)?m_:+t}function eS(t){return t}var V5="[object AsyncFunction]",z5="[object Function]",H5="[object GeneratorFunction]",K5="[object Proxy]";function g$(t){if(!Ks(t))return!1;var e=pd(t);return e==z5||e==H5||e==V5||e==K5}var U5=vo["__core-js_shared__"];const Mb=U5;var v_=function(){var t=/[^.]+$/.exec(Mb&&Mb.keys&&Mb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function j5(t){return!!v_&&v_ in t}var W5=Function.prototype,q5=W5.toString;function vc(t){if(t!=null){try{return q5.call(t)}catch{}try{return t+""}catch{}}return""}var G5=/[\\^$.*+?()[\]{}|]/g,Y5=/^\[object .+?Constructor\]$/,X5=Function.prototype,J5=Object.prototype,Q5=X5.toString,Z5=J5.hasOwnProperty,eK=RegExp("^"+Q5.call(Z5).replace(G5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tK(t){if(!Ks(t)||j5(t))return!1;var e=g$(t)?eK:Y5;return e.test(vc(t))}function nK(t,e){return t==null?void 0:t[e]}function yc(t,e){var n=nK(t,e);return tK(n)?n:void 0}var rK=yc(vo,"WeakMap");const vw=rK;var y_=Object.create,sK=function(){function t(){}return function(e){if(!Ks(e))return{};if(y_)return y_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const oK=sK;function iK(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function aK(){}function lK(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var cK=800,uK=16,dK=Date.now;function fK(t){var e=0,n=0;return function(){var r=dK(),s=uK-(r-n);if(n=r,s>0){if(++e>=cK)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function hK(t){return function(){return t}}var pK=function(){try{var t=yc(Object,"defineProperty");return t({},"",{}),t}catch{}}();const xg=pK;var mK=xg?function(t,e){return xg(t,"toString",{configurable:!0,enumerable:!1,value:hK(e),writable:!0})}:eS;const gK=mK;var vK=fK(gK);const v$=vK;function yK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function bK(t,e,n,r){for(var s=t.length,o=n+(r?1:-1);r?o--:++o<s;)if(e(t[o],o,t))return o;return-1}function wK(t){return t!==t}function CK(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}function SK(t,e,n){return e===e?CK(t,e,n):bK(t,wK,n)}function kK(t,e){var n=t==null?0:t.length;return!!n&&SK(t,e,0)>-1}var EK=9007199254740991,TK=/^(?:0|[1-9]\d*)$/;function tS(t,e){var n=typeof t;return e=e==null?EK:e,!!e&&(n=="number"||n!="symbol"&&TK.test(t))&&t>-1&&t%1==0&&t<e}function y$(t,e,n){e=="__proto__"&&xg?xg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function nS(t,e){return t===e||t!==t&&e!==e}var _K=Object.prototype,xK=_K.hasOwnProperty;function rS(t,e,n){var r=t[e];(!(xK.call(t,e)&&nS(r,n))||n===void 0&&!(e in t))&&y$(t,e,n)}function qv(t,e,n,r){var s=!n;n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),s?y$(n,a,l):rS(n,a,l)}return n}var b_=Math.max;function b$(t,e,n){return e=b_(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=b_(r.length-e,0),i=Array(o);++s<o;)i[s]=r[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=r[s];return a[e]=n(i),iK(t,this,a)}}function IK(t,e){return v$(b$(t,e,eS),t+"")}var MK=9007199254740991;function sS(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MK}function np(t){return t!=null&&sS(t.length)&&!g$(t)}var AK=Object.prototype;function oS(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||AK;return t===n}function OK(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var NK="[object Arguments]";function w_(t){return gi(t)&&pd(t)==NK}var w$=Object.prototype,$K=w$.hasOwnProperty,RK=w$.propertyIsEnumerable,DK=w_(function(){return arguments}())?w_:function(t){return gi(t)&&$K.call(t,"callee")&&!RK.call(t,"callee")};const iS=DK;function PK(){return!1}var C$=typeof vs=="object"&&vs&&!vs.nodeType&&vs,C_=C$&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,LK=C_&&C_.exports===C$,S_=LK?vo.Buffer:void 0,BK=S_?S_.isBuffer:void 0,FK=BK||PK;const Ig=FK;var VK="[object Arguments]",zK="[object Array]",HK="[object Boolean]",KK="[object Date]",UK="[object Error]",jK="[object Function]",WK="[object Map]",qK="[object Number]",GK="[object Object]",YK="[object RegExp]",XK="[object Set]",JK="[object String]",QK="[object WeakMap]",ZK="[object ArrayBuffer]",eU="[object DataView]",tU="[object Float32Array]",nU="[object Float64Array]",rU="[object Int8Array]",sU="[object Int16Array]",oU="[object Int32Array]",iU="[object Uint8Array]",aU="[object Uint8ClampedArray]",lU="[object Uint16Array]",cU="[object Uint32Array]",yn={};yn[tU]=yn[nU]=yn[rU]=yn[sU]=yn[oU]=yn[iU]=yn[aU]=yn[lU]=yn[cU]=!0;yn[VK]=yn[zK]=yn[ZK]=yn[HK]=yn[eU]=yn[KK]=yn[UK]=yn[jK]=yn[WK]=yn[qK]=yn[GK]=yn[YK]=yn[XK]=yn[JK]=yn[QK]=!1;function uU(t){return gi(t)&&sS(t.length)&&!!yn[pd(t)]}function aS(t){return function(e){return t(e)}}var S$=typeof vs=="object"&&vs&&!vs.nodeType&&vs,mf=S$&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,dU=mf&&mf.exports===S$,Ab=dU&&f$.process,fU=function(){try{var t=mf&&mf.require&&mf.require("util").types;return t||Ab&&Ab.binding&&Ab.binding("util")}catch{}}();const Au=fU;var k_=Au&&Au.isTypedArray,hU=k_?aS(k_):uU;const k$=hU;var pU=Object.prototype,mU=pU.hasOwnProperty;function E$(t,e){var n=ks(t),r=!n&&iS(t),s=!n&&!r&&Ig(t),o=!n&&!r&&!s&&k$(t),i=n||r||s||o,a=i?OK(t.length,String):[],l=a.length;for(var c in t)(e||mU.call(t,c))&&!(i&&(c=="length"||s&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||tS(c,l)))&&a.push(c);return a}function T$(t,e){return function(n){return t(e(n))}}var gU=T$(Object.keys,Object);const vU=gU;var yU=Object.prototype,bU=yU.hasOwnProperty;function wU(t){if(!oS(t))return vU(t);var e=[];for(var n in Object(t))bU.call(t,n)&&n!="constructor"&&e.push(n);return e}function rp(t){return np(t)?E$(t):wU(t)}function CU(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var SU=Object.prototype,kU=SU.hasOwnProperty;function EU(t){if(!Ks(t))return CU(t);var e=oS(t),n=[];for(var r in t)r=="constructor"&&(e||!kU.call(t,r))||n.push(r);return n}function lS(t){return np(t)?E$(t,!0):EU(t)}var TU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_U=/^\w*$/;function cS(t,e){if(ks(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Wv(t)?!0:_U.test(t)||!TU.test(t)||e!=null&&t in Object(e)}var xU=yc(Object,"create");const Qf=xU;function IU(){this.__data__=Qf?Qf(null):{},this.size=0}function MU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var AU="__lodash_hash_undefined__",OU=Object.prototype,NU=OU.hasOwnProperty;function $U(t){var e=this.__data__;if(Qf){var n=e[t];return n===AU?void 0:n}return NU.call(e,t)?e[t]:void 0}var RU=Object.prototype,DU=RU.hasOwnProperty;function PU(t){var e=this.__data__;return Qf?e[t]!==void 0:DU.call(e,t)}var LU="__lodash_hash_undefined__";function BU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qf&&e===void 0?LU:e,this}function jl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jl.prototype.clear=IU;jl.prototype.delete=MU;jl.prototype.get=$U;jl.prototype.has=PU;jl.prototype.set=BU;function FU(){this.__data__=[],this.size=0}function Gv(t,e){for(var n=t.length;n--;)if(nS(t[n][0],e))return n;return-1}var VU=Array.prototype,zU=VU.splice;function HU(t){var e=this.__data__,n=Gv(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():zU.call(e,n,1),--this.size,!0}function KU(t){var e=this.__data__,n=Gv(e,t);return n<0?void 0:e[n][1]}function UU(t){return Gv(this.__data__,t)>-1}function jU(t,e){var n=this.__data__,r=Gv(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ti(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ti.prototype.clear=FU;Ti.prototype.delete=HU;Ti.prototype.get=KU;Ti.prototype.has=UU;Ti.prototype.set=jU;var WU=yc(vo,"Map");const Zf=WU;function qU(){this.size=0,this.__data__={hash:new jl,map:new(Zf||Ti),string:new jl}}function GU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Yv(t,e){var n=t.__data__;return GU(e)?n[typeof e=="string"?"string":"hash"]:n.map}function YU(t){var e=Yv(this,t).delete(t);return this.size-=e?1:0,e}function XU(t){return Yv(this,t).get(t)}function JU(t){return Yv(this,t).has(t)}function QU(t,e){var n=Yv(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function _i(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_i.prototype.clear=qU;_i.prototype.delete=YU;_i.prototype.get=XU;_i.prototype.has=JU;_i.prototype.set=QU;var ZU="Expected a function";function Xv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ZU);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var i=t.apply(this,r);return n.cache=o.set(s,i)||o,i};return n.cache=new(Xv.Cache||_i),n}Xv.Cache=_i;var ej=500;function tj(t){var e=Xv(t,function(r){return n.size===ej&&n.clear(),r}),n=e.cache;return e}var nj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rj=/\\(\\)?/g,sj=tj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nj,function(n,r,s,o){e.push(s?o.replace(rj,"$1"):r||n)}),e});const oj=sj;function ij(t){return t==null?"":m$(t)}function Jv(t,e){return ks(t)?t:cS(t,e)?[t]:oj(ij(t))}var aj=1/0;function sp(t){if(typeof t=="string"||Wv(t))return t;var e=t+"";return e=="0"&&1/t==-aj?"-0":e}function uS(t,e){e=Jv(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[sp(e[n++])];return n&&n==r?t:void 0}function cn(t,e,n){var r=t==null?void 0:uS(t,e);return r===void 0?n:r}function dS(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var E_=Hs?Hs.isConcatSpreadable:void 0;function lj(t){return ks(t)||iS(t)||!!(E_&&t&&t[E_])}function op(t,e,n,r,s){var o=-1,i=t.length;for(n||(n=lj),s||(s=[]);++o<i;){var a=t[o];e>0&&n(a)?e>1?op(a,e-1,n,r,s):dS(s,a):r||(s[s.length]=a)}return s}function _$(t){var e=t==null?0:t.length;return e?op(t,1):[]}function cj(t){return v$(b$(t,void 0,_$),t+"")}var uj=T$(Object.getPrototypeOf,Object);const x$=uj;function Ou(){if(!arguments.length)return[];var t=arguments[0];return ks(t)?t:[t]}function dj(){this.__data__=new Ti,this.size=0}function fj(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function hj(t){return this.__data__.get(t)}function pj(t){return this.__data__.has(t)}var mj=200;function gj(t,e){var n=this.__data__;if(n instanceof Ti){var r=n.__data__;if(!Zf||r.length<mj-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _i(r)}return n.set(t,e),this.size=n.size,this}function Lo(t){var e=this.__data__=new Ti(t);this.size=e.size}Lo.prototype.clear=dj;Lo.prototype.delete=fj;Lo.prototype.get=hj;Lo.prototype.has=pj;Lo.prototype.set=gj;function vj(t,e){return t&&qv(e,rp(e),t)}function yj(t,e){return t&&qv(e,lS(e),t)}var I$=typeof vs=="object"&&vs&&!vs.nodeType&&vs,T_=I$&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,bj=T_&&T_.exports===I$,__=bj?vo.Buffer:void 0,x_=__?__.allocUnsafe:void 0;function wj(t,e){if(e)return t.slice();var n=t.length,r=x_?x_(n):new t.constructor(n);return t.copy(r),r}function Cj(t,e){for(var n=-1,r=t==null?0:t.length,s=0,o=[];++n<r;){var i=t[n];e(i,n,t)&&(o[s++]=i)}return o}function M$(){return[]}var Sj=Object.prototype,kj=Sj.propertyIsEnumerable,I_=Object.getOwnPropertySymbols,Ej=I_?function(t){return t==null?[]:(t=Object(t),Cj(I_(t),function(e){return kj.call(t,e)}))}:M$;const fS=Ej;function Tj(t,e){return qv(t,fS(t),e)}var _j=Object.getOwnPropertySymbols,xj=_j?function(t){for(var e=[];t;)dS(e,fS(t)),t=x$(t);return e}:M$;const A$=xj;function Ij(t,e){return qv(t,A$(t),e)}function O$(t,e,n){var r=e(t);return ks(t)?r:dS(r,n(t))}function yw(t){return O$(t,rp,fS)}function Mj(t){return O$(t,lS,A$)}var Aj=yc(vo,"DataView");const bw=Aj;var Oj=yc(vo,"Promise");const ww=Oj;var Nj=yc(vo,"Set");const hu=Nj;var M_="[object Map]",$j="[object Object]",A_="[object Promise]",O_="[object Set]",N_="[object WeakMap]",$_="[object DataView]",Rj=vc(bw),Dj=vc(Zf),Pj=vc(ww),Lj=vc(hu),Bj=vc(vw),rl=pd;(bw&&rl(new bw(new ArrayBuffer(1)))!=$_||Zf&&rl(new Zf)!=M_||ww&&rl(ww.resolve())!=A_||hu&&rl(new hu)!=O_||vw&&rl(new vw)!=N_)&&(rl=function(t){var e=pd(t),n=e==$j?t.constructor:void 0,r=n?vc(n):"";if(r)switch(r){case Rj:return $_;case Dj:return M_;case Pj:return A_;case Lj:return O_;case Bj:return N_}return e});const eh=rl;var Fj=Object.prototype,Vj=Fj.hasOwnProperty;function zj(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Vj.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Hj=vo.Uint8Array;const Mg=Hj;function hS(t){var e=new t.constructor(t.byteLength);return new Mg(e).set(new Mg(t)),e}function Kj(t,e){var n=e?hS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Uj=/\w*$/;function jj(t){var e=new t.constructor(t.source,Uj.exec(t));return e.lastIndex=t.lastIndex,e}var R_=Hs?Hs.prototype:void 0,D_=R_?R_.valueOf:void 0;function Wj(t){return D_?Object(D_.call(t)):{}}function qj(t,e){var n=e?hS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Gj="[object Boolean]",Yj="[object Date]",Xj="[object Map]",Jj="[object Number]",Qj="[object RegExp]",Zj="[object Set]",eW="[object String]",tW="[object Symbol]",nW="[object ArrayBuffer]",rW="[object DataView]",sW="[object Float32Array]",oW="[object Float64Array]",iW="[object Int8Array]",aW="[object Int16Array]",lW="[object Int32Array]",cW="[object Uint8Array]",uW="[object Uint8ClampedArray]",dW="[object Uint16Array]",fW="[object Uint32Array]";function hW(t,e,n){var r=t.constructor;switch(e){case nW:return hS(t);case Gj:case Yj:return new r(+t);case rW:return Kj(t,n);case sW:case oW:case iW:case aW:case lW:case cW:case uW:case dW:case fW:return qj(t,n);case Xj:return new r;case Jj:case eW:return new r(t);case Qj:return jj(t);case Zj:return new r;case tW:return Wj(t)}}function pW(t){return typeof t.constructor=="function"&&!oS(t)?oK(x$(t)):{}}var mW="[object Map]";function gW(t){return gi(t)&&eh(t)==mW}var P_=Au&&Au.isMap,vW=P_?aS(P_):gW;const yW=vW;var bW="[object Set]";function wW(t){return gi(t)&&eh(t)==bW}var L_=Au&&Au.isSet,CW=L_?aS(L_):wW;const SW=CW;var kW=1,EW=2,TW=4,N$="[object Arguments]",_W="[object Array]",xW="[object Boolean]",IW="[object Date]",MW="[object Error]",$$="[object Function]",AW="[object GeneratorFunction]",OW="[object Map]",NW="[object Number]",R$="[object Object]",$W="[object RegExp]",RW="[object Set]",DW="[object String]",PW="[object Symbol]",LW="[object WeakMap]",BW="[object ArrayBuffer]",FW="[object DataView]",VW="[object Float32Array]",zW="[object Float64Array]",HW="[object Int8Array]",KW="[object Int16Array]",UW="[object Int32Array]",jW="[object Uint8Array]",WW="[object Uint8ClampedArray]",qW="[object Uint16Array]",GW="[object Uint32Array]",mn={};mn[N$]=mn[_W]=mn[BW]=mn[FW]=mn[xW]=mn[IW]=mn[VW]=mn[zW]=mn[HW]=mn[KW]=mn[UW]=mn[OW]=mn[NW]=mn[R$]=mn[$W]=mn[RW]=mn[DW]=mn[PW]=mn[jW]=mn[WW]=mn[qW]=mn[GW]=!0;mn[MW]=mn[$$]=mn[LW]=!1;function gf(t,e,n,r,s,o){var i,a=e&kW,l=e&EW,c=e&TW;if(n&&(i=s?n(t,r,s,o):n(t)),i!==void 0)return i;if(!Ks(t))return t;var u=ks(t);if(u){if(i=zj(t),!a)return lK(t,i)}else{var d=eh(t),f=d==$$||d==AW;if(Ig(t))return wj(t,a);if(d==R$||d==N$||f&&!s){if(i=l||f?{}:pW(t),!a)return l?Ij(t,yj(i,t)):Tj(t,vj(i,t))}else{if(!mn[d])return s?t:{};i=hW(t,d,a)}}o||(o=new Lo);var p=o.get(t);if(p)return p;o.set(t,i),SW(t)?t.forEach(function(v){i.add(gf(v,e,n,v,t,o))}):yW(t)&&t.forEach(function(v,y){i.set(y,gf(v,e,n,y,t,o))});var m=c?l?Mj:yw:l?lS:rp,g=u?void 0:m(t);return yK(g||t,function(v,y){g&&(y=v,v=t[y]),rS(i,y,gf(v,e,n,y,t,o))}),i}var YW=4;function B_(t){return gf(t,YW)}var XW=1,JW=4;function D$(t){return gf(t,XW|JW)}var QW="__lodash_hash_undefined__";function ZW(t){return this.__data__.set(t,QW),this}function eq(t){return this.__data__.has(t)}function th(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _i;++e<n;)this.add(t[e])}th.prototype.add=th.prototype.push=ZW;th.prototype.has=eq;function tq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function P$(t,e){return t.has(e)}var nq=1,rq=2;function L$(t,e,n,r,s,o){var i=n&nq,a=t.length,l=e.length;if(a!=l&&!(i&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,p=n&rq?new th:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var v=i?r(g,m,d,e,t,o):r(m,g,d,t,e,o);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!tq(e,function(y,C){if(!P$(p,C)&&(m===y||s(m,y,n,r,o)))return p.push(C)})){f=!1;break}}else if(!(m===g||s(m,g,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function sq(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}function pS(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var oq=1,iq=2,aq="[object Boolean]",lq="[object Date]",cq="[object Error]",uq="[object Map]",dq="[object Number]",fq="[object RegExp]",hq="[object Set]",pq="[object String]",mq="[object Symbol]",gq="[object ArrayBuffer]",vq="[object DataView]",F_=Hs?Hs.prototype:void 0,Ob=F_?F_.valueOf:void 0;function yq(t,e,n,r,s,o,i){switch(n){case vq:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gq:return!(t.byteLength!=e.byteLength||!o(new Mg(t),new Mg(e)));case aq:case lq:case dq:return nS(+t,+e);case cq:return t.name==e.name&&t.message==e.message;case fq:case pq:return t==e+"";case uq:var a=sq;case hq:var l=r&oq;if(a||(a=pS),t.size!=e.size&&!l)return!1;var c=i.get(t);if(c)return c==e;r|=iq,i.set(t,e);var u=L$(a(t),a(e),r,s,o,i);return i.delete(t),u;case mq:if(Ob)return Ob.call(t)==Ob.call(e)}return!1}var bq=1,wq=Object.prototype,Cq=wq.hasOwnProperty;function Sq(t,e,n,r,s,o){var i=n&bq,a=yw(t),l=a.length,c=yw(e),u=c.length;if(l!=u&&!i)return!1;for(var d=l;d--;){var f=a[d];if(!(i?f in e:Cq.call(e,f)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=i;++d<l;){f=a[d];var y=t[f],C=e[f];if(r)var b=i?r(C,y,f,e,t,o):r(y,C,f,t,e,o);if(!(b===void 0?y===C||s(y,C,n,r,o):b)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var kq=1,V_="[object Arguments]",z_="[object Array]",Kp="[object Object]",Eq=Object.prototype,H_=Eq.hasOwnProperty;function Tq(t,e,n,r,s,o){var i=ks(t),a=ks(e),l=i?z_:eh(t),c=a?z_:eh(e);l=l==V_?Kp:l,c=c==V_?Kp:c;var u=l==Kp,d=c==Kp,f=l==c;if(f&&Ig(t)){if(!Ig(e))return!1;i=!0,u=!1}if(f&&!u)return o||(o=new Lo),i||k$(t)?L$(t,e,n,r,s,o):yq(t,e,l,n,r,s,o);if(!(n&kq)){var p=u&&H_.call(t,"__wrapped__"),m=d&&H_.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return o||(o=new Lo),s(g,v,n,r,o)}}return f?(o||(o=new Lo),Sq(t,e,n,r,s,o)):!1}function Qv(t,e,n,r,s){return t===e?!0:t==null||e==null||!gi(t)&&!gi(e)?t!==t&&e!==e:Tq(t,e,n,r,Qv,s)}var _q=1,xq=2;function Iq(t,e,n,r){var s=n.length,o=s,i=!r;if(t==null)return!o;for(t=Object(t);s--;){var a=n[s];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++s<o;){a=n[s];var l=a[0],c=t[l],u=a[1];if(i&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Lo;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?Qv(u,c,_q|xq,r,d):f))return!1}}return!0}function B$(t){return t===t&&!Ks(t)}function Mq(t){for(var e=rp(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,B$(s)]}return e}function F$(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Aq(t){var e=Mq(t);return e.length==1&&e[0][2]?F$(e[0][0],e[0][1]):function(n){return n===t||Iq(n,t,e)}}function Oq(t,e){return t!=null&&e in Object(t)}function Nq(t,e,n){e=Jv(e,t);for(var r=-1,s=e.length,o=!1;++r<s;){var i=sp(e[r]);if(!(o=t!=null&&n(t,i)))break;t=t[i]}return o||++r!=s?o:(s=t==null?0:t.length,!!s&&sS(s)&&tS(i,s)&&(ks(t)||iS(t)))}function V$(t,e){return t!=null&&Nq(t,e,Oq)}var $q=1,Rq=2;function Dq(t,e){return cS(t)&&B$(e)?F$(sp(t),e):function(n){var r=cn(n,t);return r===void 0&&r===e?V$(n,t):Qv(e,r,$q|Rq)}}function Pq(t){return function(e){return e==null?void 0:e[t]}}function Lq(t){return function(e){return uS(e,t)}}function Bq(t){return cS(t)?Pq(sp(t)):Lq(t)}function Fq(t){return typeof t=="function"?t:t==null?eS:typeof t=="object"?ks(t)?Dq(t[0],t[1]):Aq(t):Bq(t)}function Vq(t){return function(e,n,r){for(var s=-1,o=Object(e),i=r(e),a=i.length;a--;){var l=i[t?a:++s];if(n(o[l],l,o)===!1)break}return e}}var zq=Vq();const Hq=zq;function Kq(t,e){return t&&Hq(t,e,rp)}function Uq(t,e){return function(n,r){if(n==null)return n;if(!np(n))return t(n,r);for(var s=n.length,o=e?s:-1,i=Object(n);(e?o--:++o<s)&&r(i[o],o,i)!==!1;);return n}}var jq=Uq(Kq);const Wq=jq;var qq=function(){return vo.Date.now()};const Nb=qq;var Gq="Expected a function",Yq=Math.max,Xq=Math.min;function Pr(t,e,n){var r,s,o,i,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Gq);e=g_(e)||0,Ks(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Yq(g_(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p(k){var A=r,x=s;return r=s=void 0,c=k,i=t.apply(x,A),i}function m(k){return c=k,a=setTimeout(y,e),u?p(k):i}function g(k){var A=k-l,x=k-c,N=e-A;return d?Xq(N,o-x):N}function v(k){var A=k-l,x=k-c;return l===void 0||A>=e||A<0||d&&x>=o}function y(){var k=Nb();if(v(k))return C(k);a=setTimeout(y,g(k))}function C(k){return a=void 0,f&&r?p(k):(r=s=void 0,i)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=s=a=void 0}function w(){return a===void 0?i:C(Nb())}function S(){var k=Nb(),A=v(k);if(r=arguments,s=this,l=k,A){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),i}return S.cancel=b,S.flush=w,S}function Jq(t){return gi(t)&&np(t)}function Qq(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}function Zq(t,e){var n=-1,r=np(t)?Array(t.length):[];return Wq(t,function(s,o,i){r[++n]=e(s,o,i)}),r}function e9(t,e){var n=ks(t)?p$:Zq;return n(t,Fq(e))}function t9(t,e){return op(e9(t,e),1)}var n9=1/0;function r9(t){var e=t==null?0:t.length;return e?op(t,n9):[]}function z$(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var s=t[e];r[s[0]]=s[1]}return r}function bs(t,e){return Qv(t,e)}function jn(t){return t==null}function H$(t,e,n,r){if(!Ks(t))return t;e=Jv(e,t);for(var s=-1,o=e.length,i=o-1,a=t;a!=null&&++s<o;){var l=sp(e[s]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(s!=i){var u=a[l];c=r?r(u,l,a):void 0,c===void 0&&(c=Ks(u)?u:tS(e[s+1])?[]:{})}rS(a,l,c),a=a[l]}return t}function s9(t,e,n){for(var r=-1,s=e.length,o={};++r<s;){var i=e[r],a=uS(t,i);n(a,i)&&H$(o,Jv(i,t),a)}return o}function o9(t,e){return s9(t,e,function(n,r){return V$(t,r)})}var i9=cj(function(t,e){return t==null?{}:o9(t,e)});const si=i9;function a9(t,e,n){return t==null?t:H$(t,e,n)}var l9="Expected a function";function Ml(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(l9);return Ks(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Pr(t,e,{leading:r,maxWait:e,trailing:s})}var c9=1/0,u9=hu&&1/pS(new hu([,-0]))[1]==c9?function(t){return new hu(t)}:aK;const d9=u9;var f9=200;function h9(t,e,n){var r=-1,s=kK,o=t.length,i=!0,a=[],l=a;if(n)i=!1,s=Qq;else if(o>=f9){var c=e?null:d9(t);if(c)return pS(c);i=!1,s=P$,l=new th}else l=e?[]:a;e:for(;++r<o;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,i&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(u)}else s(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}var p9=IK(function(t){return h9(op(t,1,Jq,!0))});const $b=p9,m9='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',g9=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,K_=t=>Array.from(t.querySelectorAll(m9)).filter(e=>v9(e)&&g9(e)),v9=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Lm=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const s=document.createEvent(r);return s.initEvent(e,...n),t.dispatchEvent(s),t},K$=t=>!t.getAttribute("aria-owns"),U$=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const s=r.querySelectorAll(n),o=Array.prototype.indexOf.call(s,t);return s[o+e]||null},Bm=t=>{!t||(t.focus(),!K$(t)&&t.click())},gn=(t,e,{checkForDefaultPrevented:n=!0}={})=>s=>{const o=t==null?void 0:t(s);if(n===!1||!o)return e==null?void 0:e(s)},U_=t=>e=>e.pointerType==="mouse"?t(e):void 0;var y9=Object.defineProperty,b9=Object.defineProperties,w9=Object.getOwnPropertyDescriptors,j_=Object.getOwnPropertySymbols,C9=Object.prototype.hasOwnProperty,S9=Object.prototype.propertyIsEnumerable,W_=(t,e,n)=>e in t?y9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k9=(t,e)=>{for(var n in e||(e={}))C9.call(e,n)&&W_(t,n,e[n]);if(j_)for(var n of j_(e))S9.call(e,n)&&W_(t,n,e[n]);return t},E9=(t,e)=>b9(t,w9(e));function q_(t,e){var n;const r=en();return Gr(()=>{r.value=t()},E9(k9({},e),{flush:(n=e==null?void 0:e.flush)!=null?n:"sync"})),Zh(r)}var G_;const It=typeof window<"u",T9=t=>typeof t<"u",Nn=t=>typeof t=="boolean",_9=t=>typeof t=="function",it=t=>typeof t=="number",x9=t=>typeof t=="string",I9=()=>{};It&&((G_=window==null?void 0:window.navigator)==null?void 0:G_.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Wl(t){return typeof t=="function"?t():h(t)}function j$(t,e){function n(...r){t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})}return n}function M9(t,e={}){let n,r;return o=>{const i=Wl(t),a=Wl(e.maxWait);if(n&&clearTimeout(n),i<=0||a!==void 0&&a<=0)return r&&(clearTimeout(r),r=null),o();a&&!r&&(r=setTimeout(()=>{n&&clearTimeout(n),r=null,o()},a)),n=setTimeout(()=>{r&&clearTimeout(r),r=null,o()},i)}}function A9(t,e=!0,n=!0){let r=0,s,o=!0;const i=()=>{s&&(clearTimeout(s),s=void 0)};return l=>{const c=Wl(t),u=Date.now()-r;if(i(),c<=0)return r=Date.now(),l();u>c&&(n||!o)?(r=Date.now(),l()):e&&(s=setTimeout(()=>{r=Date.now(),o=!0,i(),l()},c-u)),!n&&!s&&(s=setTimeout(()=>o=!0,c)),o=!1}}function O9(t){return t}function Zv(t){return nH()?(i2(t),!0):!1}function N9(t,e=200,n={}){return j$(M9(e,n),t)}function $9(t,e=200,n={}){const r=D(t.value),s=N9(()=>{r.value=t.value},e,n);return Ee(t,()=>s()),r}function W$(t,e=200,n=!1,r=!0){return j$(A9(e,n,r),t)}function mS(t,e=!0){ht()?lt(t):e?t():ze(t)}function ql(t,e,n={}){const{immediate:r=!0}=n,s=D(!1);let o=null;function i(){o&&(clearTimeout(o),o=null)}function a(){s.value=!1,i()}function l(...c){i(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,t(...c)},Wl(e))}return r&&(s.value=!0,It&&l()),Zv(a),{isPending:s,start:l,stop:a}}function fs(t){var e;const n=Wl(t);return(e=n==null?void 0:n.$el)!=null?e:n}const md=It?window:void 0,R9=It?window.document:void 0;function on(...t){let e,n,r,s;if(x9(t[0])||Array.isArray(t[0])?([n,r,s]=t,e=md):[e,n,r,s]=t,!e)return I9;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],i=()=>{o.forEach(u=>u()),o.length=0},a=(u,d,f)=>(u.addEventListener(d,f,s),()=>u.removeEventListener(d,f,s)),l=Ee(()=>fs(e),u=>{i(),u&&o.push(...n.flatMap(d=>r.map(f=>a(u,d,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),i()};return Zv(c),c}function gS(t,e,n={}){const{window:r=md,ignore:s,capture:o=!0,detectIframe:i=!1}=n;if(!r)return;let a=!0,l;const c=p=>{r.clearTimeout(l);const m=fs(t);if(!(!m||m===p.target||p.composedPath().includes(m))){if(!a){a=!0;return}e(p)}},u=p=>s&&s.some(m=>{const g=fs(m);return g&&(p.target===g||p.composedPath().includes(g))}),d=[on(r,"click",c,{passive:!0,capture:o}),on(r,"pointerdown",p=>{const m=fs(t);m&&(a=!p.composedPath().includes(m)&&!u(p))},{passive:!0}),on(r,"pointerup",p=>{if(p.button===0){const m=p.composedPath();p.composedPath=()=>m,l=r.setTimeout(()=>c(p),50)}},{passive:!0}),i&&on(r,"blur",p=>{var m;const g=fs(t);((m=r.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!(g!=null&&g.contains(r.document.activeElement))&&e(p)})].filter(Boolean);return()=>d.forEach(p=>p())}function D9(t,e=!1){const n=D(),r=()=>n.value=Boolean(t());return r(),mS(r,e),n}function P9(t){return JSON.parse(JSON.stringify(t))}const Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sw="__vueuse_ssr_handlers__";Cw[Sw]=Cw[Sw]||{};Cw[Sw];function L9(t,e,{window:n=md,initialValue:r=""}={}){const s=D(r),o=T(()=>{var i;return fs(e)||((i=n==null?void 0:n.document)==null?void 0:i.documentElement)});return Ee([o,()=>Wl(t)],([i,a])=>{var l;if(i&&n){const c=(l=n.getComputedStyle(i).getPropertyValue(a))==null?void 0:l.trim();s.value=c||r}},{immediate:!0}),Ee(s,i=>{var a;(a=o.value)!=null&&a.style&&o.value.style.setProperty(Wl(t),i)}),s}function B9({document:t=R9}={}){if(!t)return D("visible");const e=D(t.visibilityState);return on(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var Y_=Object.getOwnPropertySymbols,F9=Object.prototype.hasOwnProperty,V9=Object.prototype.propertyIsEnumerable,z9=(t,e)=>{var n={};for(var r in t)F9.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Y_)for(var r of Y_(t))e.indexOf(r)<0&&V9.call(t,r)&&(n[r]=t[r]);return n};function Sr(t,e,n={}){const r=n,{window:s=md}=r,o=z9(r,["window"]);let i;const a=D9(()=>s&&"ResizeObserver"in s),l=()=>{i&&(i.disconnect(),i=void 0)},c=Ee(()=>fs(t),d=>{l(),a.value&&s&&d&&(i=new ResizeObserver(e),i.observe(d,o))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return Zv(u),{isSupported:a,stop:u}}function X_(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:s=!0,immediate:o=!0}=e,i=D(0),a=D(0),l=D(0),c=D(0),u=D(0),d=D(0),f=D(0),p=D(0);function m(){const g=fs(t);if(!g){n&&(i.value=0,a.value=0,l.value=0,c.value=0,u.value=0,d.value=0,f.value=0,p.value=0);return}const v=g.getBoundingClientRect();i.value=v.height,a.value=v.bottom,l.value=v.left,c.value=v.right,u.value=v.top,d.value=v.width,f.value=v.x,p.value=v.y}return Sr(t,m),Ee(()=>fs(t),g=>!g&&m()),s&&on("scroll",m,{passive:!0}),r&&on("resize",m,{passive:!0}),mS(()=>{o&&m()}),{height:i,bottom:a,left:l,right:c,top:u,width:d,x:f,y:p,update:m}}var J_;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(J_||(J_={}));var H9=Object.defineProperty,Q_=Object.getOwnPropertySymbols,K9=Object.prototype.hasOwnProperty,U9=Object.prototype.propertyIsEnumerable,Z_=(t,e,n)=>e in t?H9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j9=(t,e)=>{for(var n in e||(e={}))K9.call(e,n)&&Z_(t,n,e[n]);if(Q_)for(var n of Q_(e))U9.call(e,n)&&Z_(t,n,e[n]);return t};const W9={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};j9({linear:O9},W9);function q9(t,e,n,r={}){var s,o,i;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d}=r,f=ht(),p=n||(f==null?void 0:f.emit)||((s=f==null?void 0:f.$emit)==null?void 0:s.bind(f))||((i=(o=f==null?void 0:f.proxy)==null?void 0:o.$emit)==null?void 0:i.bind(f==null?void 0:f.proxy));let m=c;e||(e="modelValue"),m=c||m||`update:${e.toString()}`;const g=y=>a?_9(a)?a(y):P9(y):y,v=()=>T9(t[e])?g(t[e]):d;if(l){const y=v(),C=D(y);return Ee(()=>t[e],b=>C.value=g(b)),Ee(C,b=>{(b!==t[e]||u)&&p(m,b)},{deep:u}),C}else return T({get(){return v()},set(y){p(m,y)}})}function G9({window:t=md}={}){if(!t)return D(!1);const e=D(t.document.hasFocus());return on(t,"blur",()=>{e.value=!1}),on(t,"focus",()=>{e.value=!0}),e}function Y9(t={}){const{window:e=md,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:s=!0,includeScrollbar:o=!0}=t,i=D(n),a=D(r),l=()=>{e&&(o?(i.value=e.innerWidth,a.value=e.innerHeight):(i.value=e.document.documentElement.clientWidth,a.value=e.document.documentElement.clientHeight))};return l(),mS(l),on("resize",l,{passive:!0}),s&&on("orientationchange",l,{passive:!0}),{width:i,height:a}}const X9=(t,e)=>{if(!It||!t||!e)return!1;const n=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},ex=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},J9=(t,e)=>Math.abs(ex(t)-ex(e)),vS=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},Un=t=>t===void 0,Os=t=>!t&&t!==0||Be(t)&&t.length===0||Ct(t)&&!Object.keys(t).length,uo=t=>typeof Element>"u"?!1:t instanceof Element,Q9=t=>jn(t),Z9=t=>rt(t)?!Number.isNaN(Number(t)):!1,q$=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ns=t=>Qh(t),nh=t=>Object.keys(t),e7=t=>Object.entries(t),Fm=(t,e,n)=>({get value(){return cn(t,e,n)},set value(r){a9(t,e,r)}});class t7 extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Rn(t,e){throw new t7(`[${t}] ${e}`)}const G$=(t="")=>t.split(" ").filter(e=>!!e.trim()),io=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Mo=(t,e)=>{!t||!e.trim()||t.classList.add(...G$(e))},Yr=(t,e)=>{!t||!e.trim()||t.classList.remove(...G$(e))},ni=(t,e)=>{var n;if(!It||!t||!e)return"";let r=zs(e);r==="float"&&(r="cssFloat");try{const s=t.style[r];if(s)return s;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return o?o[r]:""}catch{return t.style[r]}};function xn(t,e="px"){if(!t)return"";if(it(t)||Z9(t))return`${t}${e}`;if(rt(t))return t}const n7=(t,e)=>{if(!It)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=ni(t,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},yS=(t,e)=>{if(!It)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(n7(n,e))return n;n=n.parentNode}return n};let Up;const Y$=t=>{var e;if(!It)return 0;if(Up!==void 0)return Up;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const o=s.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),Up=r-o,Up};function X$(t,e){if(!It)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const s=e.offsetTop+n.reduce((l,c)=>l+c.offsetTop,0),o=s+e.offsetHeight,i=t.scrollTop,a=i+t.clientHeight;s<i?t.scrollTop=s:o>a&&(t.scrollTop=o-t.clientHeight)}/*! Element Plus Icons Vue v2.0.10 */var zt=(t,e)=>{let n=t.__vccOpts||t;for(let[r,s]of e)n[r]=s;return n},r7={name:"ArrowDown"},s7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o7=L("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),i7=[o7];function a7(t,e,n,r,s,o){return E(),F("svg",s7,i7)}var Ra=zt(r7,[["render",a7],["__file","arrow-down.vue"]]),l7={name:"ArrowLeft"},c7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},u7=L("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),d7=[u7];function f7(t,e,n,r,s,o){return E(),F("svg",c7,d7)}var Sa=zt(l7,[["render",f7],["__file","arrow-left.vue"]]),h7={name:"ArrowRight"},p7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},m7=L("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),g7=[m7];function v7(t,e,n,r,s,o){return E(),F("svg",p7,g7)}var $r=zt(h7,[["render",v7],["__file","arrow-right.vue"]]),y7={name:"ArrowUp"},b7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},w7=L("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),C7=[w7];function S7(t,e,n,r,s,o){return E(),F("svg",b7,C7)}var ey=zt(y7,[["render",S7],["__file","arrow-up.vue"]]),k7={name:"Back"},E7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},T7=L("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),_7=L("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),x7=[T7,_7];function I7(t,e,n,r,s,o){return E(),F("svg",E7,x7)}var M7=zt(k7,[["render",I7],["__file","back.vue"]]),A7={name:"Calendar"},O7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},N7=L("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),$7=[N7];function R7(t,e,n,r,s,o){return E(),F("svg",O7,$7)}var D7=zt(A7,[["render",R7],["__file","calendar.vue"]]),P7={name:"CaretRight"},L7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},B7=L("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),F7=[B7];function V7(t,e,n,r,s,o){return E(),F("svg",L7,F7)}var J$=zt(P7,[["render",V7],["__file","caret-right.vue"]]),z7={name:"CaretTop"},H7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},K7=L("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),U7=[K7];function j7(t,e,n,r,s,o){return E(),F("svg",H7,U7)}var W7=zt(z7,[["render",j7],["__file","caret-top.vue"]]),q7={name:"Check"},G7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Y7=L("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),X7=[Y7];function J7(t,e,n,r,s,o){return E(),F("svg",G7,X7)}var ip=zt(q7,[["render",J7],["__file","check.vue"]]),Q7={name:"CircleCheckFilled"},Z7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eG=L("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),tG=[eG];function nG(t,e,n,r,s,o){return E(),F("svg",Z7,tG)}var rG=zt(Q7,[["render",nG],["__file","circle-check-filled.vue"]]),sG={name:"CircleCheck"},oG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iG=L("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),aG=L("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),lG=[iG,aG];function cG(t,e,n,r,s,o){return E(),F("svg",oG,lG)}var bS=zt(sG,[["render",cG],["__file","circle-check.vue"]]),uG={name:"CircleCloseFilled"},dG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fG=L("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),hG=[fG];function pG(t,e,n,r,s,o){return E(),F("svg",dG,hG)}var wS=zt(uG,[["render",pG],["__file","circle-close-filled.vue"]]),mG={name:"CircleClose"},gG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vG=L("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),yG=L("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),bG=[vG,yG];function wG(t,e,n,r,s,o){return E(),F("svg",gG,bG)}var Da=zt(mG,[["render",wG],["__file","circle-close.vue"]]),CG={name:"Clock"},SG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kG=L("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),EG=L("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),TG=L("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),_G=[kG,EG,TG];function xG(t,e,n,r,s,o){return E(),F("svg",SG,_G)}var Q$=zt(CG,[["render",xG],["__file","clock.vue"]]),IG={name:"Close"},MG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},AG=L("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),OG=[AG];function NG(t,e,n,r,s,o){return E(),F("svg",MG,OG)}var fo=zt(IG,[["render",NG],["__file","close.vue"]]),$G={name:"DArrowLeft"},RG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DG=L("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),PG=[DG];function LG(t,e,n,r,s,o){return E(),F("svg",RG,PG)}var Nu=zt($G,[["render",LG],["__file","d-arrow-left.vue"]]),BG={name:"DArrowRight"},FG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VG=L("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),zG=[VG];function HG(t,e,n,r,s,o){return E(),F("svg",FG,zG)}var $u=zt(BG,[["render",HG],["__file","d-arrow-right.vue"]]),KG={name:"Delete"},UG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jG=L("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),WG=[jG];function qG(t,e,n,r,s,o){return E(),F("svg",UG,WG)}var GG=zt(KG,[["render",qG],["__file","delete.vue"]]),YG={name:"Document"},XG={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},JG=L("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),QG=[JG];function ZG(t,e,n,r,s,o){return E(),F("svg",XG,QG)}var eY=zt(YG,[["render",ZG],["__file","document.vue"]]),tY={name:"FullScreen"},nY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rY=L("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),sY=[rY];function oY(t,e,n,r,s,o){return E(),F("svg",nY,sY)}var iY=zt(tY,[["render",oY],["__file","full-screen.vue"]]),aY={name:"Hide"},lY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cY=L("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),uY=L("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),dY=[cY,uY];function fY(t,e,n,r,s,o){return E(),F("svg",lY,dY)}var hY=zt(aY,[["render",fY],["__file","hide.vue"]]),pY={name:"InfoFilled"},mY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gY=L("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),vY=[gY];function yY(t,e,n,r,s,o){return E(),F("svg",mY,vY)}var CS=zt(pY,[["render",yY],["__file","info-filled.vue"]]),bY={name:"Loading"},wY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},CY=L("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),SY=[CY];function kY(t,e,n,r,s,o){return E(),F("svg",wY,SY)}var Pa=zt(bY,[["render",kY],["__file","loading.vue"]]),EY={name:"Minus"},TY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_Y=L("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),xY=[_Y];function IY(t,e,n,r,s,o){return E(),F("svg",TY,xY)}var MY=zt(EY,[["render",IY],["__file","minus.vue"]]),AY={name:"MoreFilled"},OY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},NY=L("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),$Y=[NY];function RY(t,e,n,r,s,o){return E(),F("svg",OY,$Y)}var tx=zt(AY,[["render",RY],["__file","more-filled.vue"]]),DY={name:"More"},PY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LY=L("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),BY=[LY];function FY(t,e,n,r,s,o){return E(),F("svg",PY,BY)}var VY=zt(DY,[["render",FY],["__file","more.vue"]]),zY={name:"PictureFilled"},HY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},KY=L("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),UY=[KY];function jY(t,e,n,r,s,o){return E(),F("svg",HY,UY)}var WY=zt(zY,[["render",jY],["__file","picture-filled.vue"]]),qY={name:"Plus"},GY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YY=L("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),XY=[YY];function JY(t,e,n,r,s,o){return E(),F("svg",GY,XY)}var Z$=zt(qY,[["render",JY],["__file","plus.vue"]]),QY={name:"QuestionFilled"},ZY={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eX=L("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),tX=[eX];function nX(t,e,n,r,s,o){return E(),F("svg",ZY,tX)}var rX=zt(QY,[["render",nX],["__file","question-filled.vue"]]),sX={name:"RefreshLeft"},oX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iX=L("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),aX=[iX];function lX(t,e,n,r,s,o){return E(),F("svg",oX,aX)}var cX=zt(sX,[["render",lX],["__file","refresh-left.vue"]]),uX={name:"RefreshRight"},dX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fX=L("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),hX=[fX];function pX(t,e,n,r,s,o){return E(),F("svg",dX,hX)}var mX=zt(uX,[["render",pX],["__file","refresh-right.vue"]]),gX={name:"ScaleToOriginal"},vX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},yX=L("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),bX=[yX];function wX(t,e,n,r,s,o){return E(),F("svg",vX,bX)}var CX=zt(gX,[["render",wX],["__file","scale-to-original.vue"]]),SX={name:"Search"},kX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},EX=L("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),TX=[EX];function _X(t,e,n,r,s,o){return E(),F("svg",kX,TX)}var xX=zt(SX,[["render",_X],["__file","search.vue"]]),IX={name:"SortDown"},MX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},AX=L("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),OX=[AX];function NX(t,e,n,r,s,o){return E(),F("svg",MX,OX)}var $X=zt(IX,[["render",NX],["__file","sort-down.vue"]]),RX={name:"SortUp"},DX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},PX=L("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),LX=[PX];function BX(t,e,n,r,s,o){return E(),F("svg",DX,LX)}var FX=zt(RX,[["render",BX],["__file","sort-up.vue"]]),VX={name:"StarFilled"},zX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HX=L("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),KX=[HX];function UX(t,e,n,r,s,o){return E(),F("svg",zX,KX)}var jp=zt(VX,[["render",UX],["__file","star-filled.vue"]]),jX={name:"Star"},WX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qX=L("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),GX=[qX];function YX(t,e,n,r,s,o){return E(),F("svg",WX,GX)}var XX=zt(jX,[["render",YX],["__file","star.vue"]]),JX={name:"SuccessFilled"},QX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZX=L("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),eJ=[ZX];function tJ(t,e,n,r,s,o){return E(),F("svg",QX,eJ)}var eR=zt(JX,[["render",tJ],["__file","success-filled.vue"]]),nJ={name:"View"},rJ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sJ=L("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),oJ=[sJ];function iJ(t,e,n,r,s,o){return E(),F("svg",rJ,oJ)}var aJ=zt(nJ,[["render",iJ],["__file","view.vue"]]),lJ={name:"WarningFilled"},cJ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uJ=L("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),dJ=[uJ];function fJ(t,e,n,r,s,o){return E(),F("svg",cJ,dJ)}var ty=zt(lJ,[["render",fJ],["__file","warning-filled.vue"]]),hJ={name:"ZoomIn"},pJ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mJ=L("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),gJ=[mJ];function vJ(t,e,n,r,s,o){return E(),F("svg",pJ,gJ)}var tR=zt(hJ,[["render",vJ],["__file","zoom-in.vue"]]),yJ={name:"ZoomOut"},bJ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wJ=L("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),CJ=[wJ];function SJ(t,e,n,r,s,o){return E(),F("svg",bJ,CJ)}var kJ=zt(yJ,[["render",SJ],["__file","zoom-out.vue"]]);const nR="__epPropKey",me=t=>t,EJ=t=>Ct(t)&&!!t[nR],yo=(t,e)=>{if(!Ct(t)||EJ(t))return t;const{values:n,required:r,default:s,type:o,validator:i}=t,l={type:o,required:!!r,validator:n||i?c=>{let u=!1,d=[];if(n&&(d=Array.from(n),Et(t,"default")&&d.push(s),u||(u=d.includes(c))),i&&(u||(u=i(c))),!u&&d.length>0){const f=[...new Set(d)].map(p=>JSON.stringify(p)).join(", ");RH(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[nR]:!0};return Et(t,"default")&&(l.default=s),l},Pe=t=>z$(Object.entries(t).map(([e,n])=>[e,yo(n,e)])),tn=me([String,Object,Function]),rR={Close:fo},SS={Close:fo,SuccessFilled:eR,InfoFilled:CS,WarningFilled:ty,CircleCloseFilled:wS},ka={success:eR,warning:ty,error:wS,info:CS},sR={validating:Pa,success:bS,error:Da},mt=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e!=null?e:{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},oR=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),TJ=(t,e)=>(t.install=n=>{n.directive(e,t)},t),vn=t=>(t.install=Wt,t),ny=(...t)=>e=>{t.forEach(n=>{et(n)?n(e):n.value=e})},Xe={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},_J=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Rb=["sun","mon","tue","wed","thu","fri","sat"],pt="update:modelValue",an="change",Rr="input",nx=Symbol("INSTALLED_KEY"),xi=["","default","small","large"],xJ={large:40,default:32,small:24},IJ=t=>xJ[t||"default"],gd=t=>["",...xi].includes(t);var Ms=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Ms||{});function kw(t){return fn(t)&&t.type===Ye}function MJ(t){return fn(t)&&t.type===Nr}function AJ(t){return fn(t)&&!kw(t)&&!MJ(t)}const OJ=t=>{if(!fn(t))return{};const e=t.props||{},n=(fn(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(s=>{Et(n[s],"default")&&(r[s]=n[s].default)}),Object.keys(e).forEach(s=>{r[zs(s)]=e[s]}),r},NJ=t=>{if(!Be(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},pu=t=>{const e=Be(t)?t:[t],n=[];return e.forEach(r=>{var s;Be(r)?n.push(...pu(r)):fn(r)&&Be(r.children)?n.push(...pu(r.children)):(n.push(r),fn(r)&&((s=r.component)==null?void 0:s.subTree)&&n.push(...pu(r.component.subTree)))}),n},rx=t=>t**3,$J=t=>t<.5?rx(t*2)/2:1-rx((1-t)*2)/2,sx=t=>[...new Set(t)],ci=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],kS=()=>It&&/firefox/i.test(window.navigator.userAgent),ry=t=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t),ES=t=>It?window.requestAnimationFrame(t):setTimeout(t,16),TS=t=>It?window.cancelAnimationFrame(t):clearTimeout(t),sy=()=>Math.floor(Math.random()*1e4),un=t=>t,RJ=["class","style"],DJ=/^on[A-Z]/,_S=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=T(()=>((n==null?void 0:n.value)||[]).concat(RJ)),s=ht();return T(s?()=>{var o;return z$(Object.entries((o=s.proxy)==null?void 0:o.$attrs).filter(([i])=>!r.value.includes(i)&&!(e&&DJ.test(i))))}:()=>({}))},iR=Symbol("breadcrumbKey"),aR=Symbol("buttonGroupContextKey"),lR=Symbol("carouselContextKey"),vd=Symbol("checkboxGroupContextKey"),cR=Symbol("collapseContextKey"),uR=Symbol(),dR=Symbol("dialogInjectionKey"),bc=Symbol("formContextKey"),Ho=Symbol("formItemContextKey"),fR=Symbol("elPaginationKey"),hR=Symbol("radioGroupKey"),pR=Symbol("rowContextKey"),mR=Symbol("scrollbarContextKey"),gR=Symbol("sliderContextKey"),oy=Symbol("tabsRootContextKey"),vR=Symbol("uploadContextKey"),xS=Symbol("popper"),yR=Symbol("popperContent"),iy=Symbol("elTooltip"),ay=Symbol("tooltipV2"),bR=Symbol("tooltipV2Content"),Db="tooltip_v2.open",IS=Symbol(),wR=t=>{const e=ht();return T(()=>{var n,r;return(r=((n=e.proxy)==null?void 0:n.$props)[t])!=null?r:void 0})},Ag=D();function Ii(t,e=void 0){const n=ht()?Fe(uR,Ag):Ag;return t?T(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[t])!=null?s:e}):n}const CR=(t,e,n=!1)=>{var r;const s=!!ht(),o=s?Ii():void 0,i=(r=e==null?void 0:e.provide)!=null?r:s?yt:void 0;if(!i)return;const a=T(()=>{const l=h(t);return o!=null&&o.value?PJ(o.value,l):l});return i(uR,a),(n||!Ag.value)&&(Ag.value=a.value),a},PJ=(t,e)=>{var n;const r=[...new Set([...nh(t),...nh(e)])],s={};for(const o of r)s[o]=(n=e[o])!=null?n:t[o];return s},ns=yo({type:String,values:xi,required:!1}),In=(t,e={})=>{const n=D(void 0),r=e.prop?n:wR("size"),s=e.global?n:Ii("size"),o=e.form?{size:void 0}:Fe(bc,void 0),i=e.formItem?{size:void 0}:Fe(Ho,void 0);return T(()=>r.value||h(t)||(i==null?void 0:i.size)||(o==null?void 0:o.size)||s.value||"")},ss=t=>{const e=wR("disabled"),n=Fe(bc,void 0);return T(()=>e.value||h(t)||(n==null?void 0:n.disabled)||!1)},vi=({from:t,replacement:e,scope:n,version:r,ref:s,type:o="API"},i)=>{Ee(()=>h(i),a=>{},{immediate:!0})},SR=(t,e,n)=>{let r={offsetX:0,offsetY:0};const s=a=>{const l=a.clientX,c=a.clientY,{offsetX:u,offsetY:d}=r,f=t.value.getBoundingClientRect(),p=f.left,m=f.top,g=f.width,v=f.height,y=document.documentElement.clientWidth,C=document.documentElement.clientHeight,b=-p+u,w=-m+d,S=y-p-g+u,k=C-m-v+d,A=N=>{const R=Math.min(Math.max(u+N.clientX-l,b),S),H=Math.min(Math.max(d+N.clientY-c,w),k);r={offsetX:R,offsetY:H},t.value.style.transform=`translate(${xn(R)}, ${xn(H)})`},x=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",x)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",x)},o=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",s)},i=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",s)};lt(()=>{Gr(()=>{n.value?o():i()})}),ln(()=>{i()})},LJ=t=>({focus:()=>{var e,n;(n=(e=t.value)==null?void 0:e.focus)==null||n.call(e)}}),ly="el",BJ="is-",Ja=(t,e,n,r,s)=>{let o=`${t}-${e}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),s&&(o+=`--${s}`),o},ke=t=>{const e=Ii("namespace",ly);return{namespace:e,b:(m="")=>Ja(e.value,t,m,"",""),e:m=>m?Ja(e.value,t,"",m,""):"",m:m=>m?Ja(e.value,t,"","",m):"",be:(m,g)=>m&&g?Ja(e.value,t,m,g,""):"",em:(m,g)=>m&&g?Ja(e.value,t,"",m,g):"",bm:(m,g)=>m&&g?Ja(e.value,t,m,"",g):"",bem:(m,g,v)=>m&&g&&v?Ja(e.value,t,m,g,v):"",is:(m,...g)=>{const v=g.length>=1?g[0]:!0;return m&&v?`${BJ}${m}`:""},cssVar:m=>{const g={};for(const v in m)m[v]&&(g[`--${e.value}-${v}`]=m[v]);return g},cssVarName:m=>`--${e.value}-${m}`,cssVarBlock:m=>{const g={};for(const v in m)m[v]&&(g[`--${e.value}-${t}-${v}`]=m[v]);return g},cssVarBlockName:m=>`--${e.value}-${t}-${m}`}},ox={prefix:Math.floor(Math.random()*1e4),current:0},FJ=Symbol("elIdInjection"),kR=()=>ht()?Fe(FJ,ox):ox,ho=t=>{const e=kR(),n=Ii("namespace",ly);return T(()=>h(t)||`${n.value}-id-${e.prefix}-${e.current++}`)},zr=()=>{const t=Fe(bc,void 0),e=Fe(Ho,void 0);return{form:t,formItem:e}},La=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=D(!1)),r||(r=D(!1));const s=D();let o;const i=T(()=>{var a;return!!(!t.label&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return lt(()=>{o=Ee([pn(t,"id"),n],([a,l])=>{const c=a!=null?a:l?void 0:ho().value;c!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(r!=null&&r.value)&&!l&&c&&e.addInputId(c)),s.value=c)},{immediate:!0})}),gc(()=>{o&&o(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:i,inputId:s}};var VJ={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const zJ=t=>(e,n)=>HJ(e,n,h(t)),HJ=(t,e,n)=>cn(n,t,t).replace(/\{(\w+)\}/g,(r,s)=>{var o;return`${(o=e==null?void 0:e[s])!=null?o:`{${s}}`}`}),KJ=t=>{const e=T(()=>h(t).name),n=Jt(t)?t:D(t);return{lang:e,locale:n,t:zJ(t)}},Ft=()=>{const t=Ii("locale");return KJ(T(()=>t.value||VJ))},ER=t=>{Jt(t)||Rn("[useLockscreen]","You need to pass a ref param to this function");const e=ke("popup"),n=S2(()=>e.bm("parent","hidden"));if(!It||io(document.body,n.value))return;let r=0,s=!1,o="0";const i=()=>{setTimeout(()=>{Yr(document.body,n.value),s&&(document.body.style.width=o)},200)};Ee(t,a=>{if(!a){i();return}s=!io(document.body,n.value),s&&(o=document.body.style.width),r=Y$(e.namespace.value);const l=document.documentElement.clientHeight<document.body.scrollHeight,c=ni(document.body,"overflowY");r>0&&(l||c==="scroll")&&s&&(document.body.style.width=`calc(100% - ${r}px)`),Mo(document.body,n.value)}),i2(()=>i())},UJ=yo({type:me(Boolean),default:null}),jJ=yo({type:me(Function)}),WJ=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],s={[t]:UJ,[n]:jJ};return{useModelToggle:({indicator:i,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=ht(),{emit:p}=f,m=f.props,g=T(()=>et(m[n])),v=T(()=>m[t]===null),y=A=>{i.value!==!0&&(i.value=!0,a&&(a.value=A),et(u)&&u(A))},C=A=>{i.value!==!1&&(i.value=!1,a&&(a.value=A),et(d)&&d(A))},b=A=>{if(m.disabled===!0||et(c)&&!c())return;const x=g.value&&It;x&&p(e,!0),(v.value||!x)&&y(A)},w=A=>{if(m.disabled===!0||!It)return;const x=g.value&&It;x&&p(e,!1),(v.value||!x)&&C(A)},S=A=>{!Nn(A)||(m.disabled&&A?g.value&&p(e,!1):i.value!==A&&(A?y():C()))},k=()=>{i.value?w():b()};return Ee(()=>m[t],S),l&&f.appContext.config.globalProperties.$route!==void 0&&Ee(()=>({...f.proxy.$route}),()=>{l.value&&i.value&&w()}),lt(()=>{S(m[t])}),{hide:w,show:b,toggle:k,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}},qJ=(t,e)=>{let n;Ee(()=>t.value,r=>{var s,o;r?(n=document.activeElement,Jt(e)&&((o=(s=e.value).focus)==null||o.call(s))):n.focus()})},MS=t=>{if(!t)return{onClick:Wt,onMousedown:Wt,onMouseup:Wt};let e=!1,n=!1;return{onClick:i=>{e&&n&&t(i),e=n=!1},onMousedown:i=>{e=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},GJ=(t,e=0)=>{if(e===0)return t;const n=D(!1);let r=0;const s=()=>{r&&clearTimeout(r),r=window.setTimeout(()=>{n.value=t.value},e)};return lt(s),Ee(()=>t.value,o=>{o?s():n.value=o}),n};function YJ(){let t;const e=(r,s)=>{n(),t=window.setTimeout(r,s)},n=()=>window.clearTimeout(t);return Zv(()=>n()),{registerTimeout:e,cancelTimeout:n}}let Hc=[];const ix=t=>{const e=t;e.key===Xe.esc&&Hc.forEach(n=>n(e))},XJ=t=>{lt(()=>{Hc.length===0&&document.addEventListener("keydown",ix),It&&Hc.push(t)}),ln(()=>{Hc=Hc.filter(e=>e!==t),Hc.length===0&&It&&document.removeEventListener("keydown",ix)})};let ax;const TR=()=>{const t=Ii("namespace",ly),e=kR(),n=T(()=>`${t.value}-popper-container-${e.prefix}`),r=T(()=>`#${n.value}`);return{id:n,selector:r}},JJ=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},QJ=()=>{zv(()=>{if(!It)return;const{id:t,selector:e}=TR();!ax&&!document.body.querySelector(e.value)&&(ax=JJ(t.value))})},ZJ=Pe({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),eQ=({showAfter:t,hideAfter:e,open:n,close:r})=>{const{registerTimeout:s}=YJ();return{onOpen:a=>{s(()=>{n(a)},h(t))},onClose:a=>{s(()=>{r(a)},h(e))}}},_R=Symbol("elForwardRef"),tQ=t=>{yt(_R,{setForwardRef:n=>{t.value=n}})},nQ=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),lx=D(0),Mi=()=>{const t=Ii("zIndex",2e3),e=T(()=>t.value+lx.value);return{initialZIndex:t,currentZIndex:e,nextZIndex:()=>(lx.value++,e.value)}};function AS(t){return t.split("-")[0]}function OS(t){return t.split("-")[1]}function NS(t){return["top","bottom"].includes(AS(t))?"x":"y"}function xR(t){return t==="y"?"height":"width"}function cx(t,e,n){let{reference:r,floating:s}=t;const o=r.x+r.width/2-s.width/2,i=r.y+r.height/2-s.height/2,a=NS(e),l=xR(a),c=r[l]/2-s[l]/2,u=AS(e),d=a==="x";let f;switch(u){case"top":f={x:o,y:r.y-s.height};break;case"bottom":f={x:o,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:i};break;case"left":f={x:r.x-s.width,y:i};break;default:f={x:r.x,y:r.y}}switch(OS(e)){case"start":f[a]-=c*(n&&d?-1:1);break;case"end":f[a]+=c*(n&&d?-1:1);break}return f}const rQ=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=cx(c,r,l),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:C,y:b,data:w,reset:S}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:t,floating:e}});if(u=C!=null?C:u,d=b!=null?b:d,p={...p,[v]:{...p[v],...w}},S&&m<=50){m++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:d}=cx(c,f,l)),g=-1;continue}}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}};function sQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function oQ(t){return typeof t!="number"?sQ(t):{top:t,right:t,bottom:t,left:t}}function ux(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const iQ=Math.min,aQ=Math.max;function lQ(t,e,n){return aQ(t,iQ(e,n))}const cQ=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t!=null?t:{},{x:s,y:o,placement:i,rects:a,platform:l}=e;if(n==null)return{};const c=oQ(r),u={x:s,y:o},d=NS(i),f=OS(i),p=xR(d),m=await l.getDimensions(n),g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=a.reference[p]+a.reference[d]-u[d]-a.floating[p],C=u[d]-a.reference[d],b=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let w=b?d==="y"?b.clientHeight||0:b.clientWidth||0:0;w===0&&(w=a.floating[p]);const S=y/2-C/2,k=c[g],A=w-m[p]-c[v],x=w/2-m[p]/2+S,N=lQ(k,x,A),P=(f==="start"?c[g]:c[v])>0&&x!==N&&a.reference[p]<=a.floating[p]?x<k?k-x:A-x:0;return{[d]:u[d]-P,data:{[d]:N,centerOffset:x-N}}}});async function uQ(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=AS(n),a=OS(n),l=NS(n)==="x",c=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,d=typeof e=="function"?e(t):e;let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const dQ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,s=await uQ(e,t);return{x:n+s.x,y:r+s.y,data:s}}}};function IR(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function Ai(t){if(t==null)return window;if(!IR(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function yi(t){return Ai(t).getComputedStyle(t)}function Ea(t){return IR(t)?"":t?(t.nodeName||"").toLowerCase():""}function MR(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function bi(t){return t instanceof Ai(t).HTMLElement}function Ru(t){return t instanceof Ai(t).Element}function fQ(t){return t instanceof Ai(t).Node}function dx(t){if(typeof ShadowRoot>"u")return!1;const e=Ai(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function cy(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=yi(t);return/auto|scroll|overlay|hidden/.test(e+r+n)&&!["inline","contents"].includes(s)}function hQ(t){return["table","td","th"].includes(Ea(t))}function $S(t){const e=/firefox/i.test(MR()),n=yi(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(r?r!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{const o=n.contain;return o!=null?o.includes(s):!1})}function AR(){return!/^((?!chrome|android).)*safari/i.test(MR())}function RS(t){return["html","body","#document"].includes(Ea(t))}const fx=Math.min,vf=Math.max,Og=Math.round;function Gl(t,e,n){var r,s,o,i;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect();let l=1,c=1;e&&bi(t)&&(l=t.offsetWidth>0&&Og(a.width)/t.offsetWidth||1,c=t.offsetHeight>0&&Og(a.height)/t.offsetHeight||1);const u=Ru(t)?Ai(t):window,d=!AR()&&n,f=(a.left+(d&&(r=(s=u.visualViewport)==null?void 0:s.offsetLeft)!=null?r:0))/l,p=(a.top+(d&&(o=(i=u.visualViewport)==null?void 0:i.offsetTop)!=null?o:0))/c,m=a.width/l,g=a.height/c;return{width:m,height:g,top:p,right:f+m,bottom:p+g,left:f,x:f,y:p}}function Ba(t){return((fQ(t)?t.ownerDocument:t.document)||window.document).documentElement}function uy(t){return Ru(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function OR(t){return Gl(Ba(t)).left+uy(t).scrollLeft}function pQ(t){const e=Gl(t);return Og(e.width)!==t.offsetWidth||Og(e.height)!==t.offsetHeight}function mQ(t,e,n){const r=bi(e),s=Ba(e),o=Gl(t,r&&pQ(e),n==="fixed");let i={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Ea(e)!=="body"||cy(s))&&(i=uy(e)),bi(e)){const l=Gl(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else s&&(a.x=OR(s));return{x:o.left+i.scrollLeft-a.x,y:o.top+i.scrollTop-a.y,width:o.width,height:o.height}}function rh(t){if(Ea(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(dx(t)?t.host:null)||Ba(t);return dx(e)?e.host:e}function hx(t){return!bi(t)||yi(t).position==="fixed"?null:t.offsetParent}function gQ(t){let e=rh(t);for(;bi(e)&&!RS(e);){if($S(e))return e;e=rh(e)}return null}function px(t){const e=Ai(t);let n=hx(t);for(;n&&hQ(n)&&yi(n).position==="static";)n=hx(n);return n&&(Ea(n)==="html"||Ea(n)==="body"&&yi(n).position==="static"&&!$S(n))?e:n||gQ(t)||e}function vQ(t){if(bi(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Gl(t);return{width:e.width,height:e.height}}function yQ(t){let{rect:e,offsetParent:n,strategy:r}=t;const s=bi(n),o=Ba(n);if(n===o)return e;let i={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((s||!s&&r!=="fixed")&&((Ea(n)!=="body"||cy(o))&&(i=uy(n)),bi(n))){const l=Gl(n,!0);a.x=l.x+n.clientLeft,a.y=l.y+n.clientTop}return{...e,x:e.x-i.scrollLeft+a.x,y:e.y-i.scrollTop+a.y}}function bQ(t,e){const n=Ai(t),r=Ba(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=AR();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function wQ(t){var e;const n=Ba(t),r=uy(t),s=(e=t.ownerDocument)==null?void 0:e.body,o=vf(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=vf(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0);let a=-r.scrollLeft+OR(t);const l=-r.scrollTop;return yi(s||n).direction==="rtl"&&(a+=vf(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:a,y:l}}function NR(t){const e=rh(t);return RS(e)?t.ownerDocument.body:bi(e)&&cy(e)?e:NR(e)}function $R(t,e){var n;e===void 0&&(e=[]);const r=NR(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ai(r),i=s?[o].concat(o.visualViewport||[],cy(r)?r:[]):r,a=e.concat(i);return s?a:a.concat($R(i))}function CQ(t,e){const n=Gl(t,!1,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft;return{top:r,left:s,x:s,y:r,right:s+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function mx(t,e,n){return e==="viewport"?ux(bQ(t,n)):Ru(e)?CQ(e,n):ux(wQ(Ba(t)))}function SQ(t){let e=$R(t).filter(o=>Ru(o)&&Ea(o)!=="body"),n=null;const r=yi(t).position==="fixed";let s=r?rh(t):t;for(;Ru(s)&&!RS(s);){const o=yi(s),i=$S(s);(r?!i&&!n:!i&&o.position==="static"&&!!n&&["absolute","fixed"].includes(n.position))?e=e.filter(l=>l!==s):n=o,s=rh(s)}return e}function kQ(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?SQ(e):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const d=mx(e,u,s);return c.top=vf(d.top,c.top),c.right=fx(d.right,c.right),c.bottom=fx(d.bottom,c.bottom),c.left=vf(d.left,c.left),c},mx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}const EQ={getClippingRect:kQ,convertOffsetParentRelativeRectToViewportRelativeRect:yQ,isElement:Ru,getDimensions:vQ,getOffsetParent:px,getDocumentElement:Ba,async getElementRects(t){let{reference:e,floating:n,strategy:r}=t;const s=this.getOffsetParent||px,o=this.getDimensions;return{reference:mQ(e,await s(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>yi(t).direction==="rtl"},TQ=(t,e,n)=>rQ(t,e,{platform:EQ,...n});Pe({});const _Q=t=>{if(!It)return;if(!t)return t;const e=fs(t);return e||(Jt(t)?e:t)},xQ=({middleware:t,placement:e,strategy:n})=>{const r=D(),s=D(),o=D(),i=D(),a=D({}),l={x:o,y:i,placement:e,strategy:n,middlewareData:a},c=async()=>{if(!It)return;const u=_Q(r),d=fs(s);if(!u||!d)return;const f=await TQ(u,d,{placement:h(e),strategy:h(n),middleware:h(t)});nh(l).forEach(p=>{l[p].value=f[p]})};return lt(()=>{Gr(()=>{c()})}),{...l,update:c,referenceRef:r,contentRef:s}},IQ=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const r=h(t);return r?cQ({element:r,padding:e}).fn(n):{}}});function MQ(t){const e=D();function n(){if(t.value==null)return;const{selectionStart:s,selectionEnd:o,value:i}=t.value;if(s==null||o==null)return;const a=i.slice(0,Math.max(0,s)),l=i.slice(Math.max(0,o));e.value={selectionStart:s,selectionEnd:o,value:i,beforeTxt:a,afterTxt:l}}function r(){if(t.value==null||e.value==null)return;const{value:s}=t.value,{beforeTxt:o,afterTxt:i,selectionStart:a}=e.value;if(o==null||i==null||a==null)return;let l=s.length;if(s.endsWith(i))l=s.length-i.length;else if(s.startsWith(o))l=o.length;else{const c=o[a-1],u=s.indexOf(c,a-1);u!==-1&&(l=u+1)}t.value.setSelectionRange(l,l)}return[n,r]}const AQ=(t,e,n)=>pu(t.subTree).filter(o=>{var i;return fn(o)&&((i=o.type)==null?void 0:i.name)===e&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),RR=(t,e)=>{const n={},r=en([]);return{children:r,addChild:i=>{n[i.uid]=i,r.value=AQ(t,e,n)},removeChild:i=>{delete n[i],r.value=r.value.filter(a=>a.uid!==i)}}},OQ="2.2.26",NQ=(t=[])=>({version:OQ,install:(n,r)=>{n[nx]||(n[nx]=!0,t.forEach(s=>n.use(s)),r&&CR(r,n,!0))}}),$Q=Pe({zIndex:{type:me([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),RQ={scroll:({scrollTop:t,fixed:e})=>it(t)&&Nn(e),[an]:t=>Nn(t)};var Re=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};const DR="ElAffix",DQ=te({name:DR}),PQ=te({...DQ,props:$Q,emits:RQ,setup(t,{expose:e,emit:n}){const r=t,s=ke("affix"),o=en(),i=en(),a=en(),{height:l}=Y9(),{height:c,width:u,top:d,bottom:f,update:p}=X_(i,{windowScroll:!1}),m=X_(o),g=D(!1),v=D(0),y=D(0),C=T(()=>({height:g.value?`${c.value}px`:"",width:g.value?`${u.value}px`:""})),b=T(()=>{if(!g.value)return{};const k=r.offset?xn(r.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:r.position==="top"?k:"",bottom:r.position==="bottom"?k:"",transform:y.value?`translateY(${y.value}px)`:"",zIndex:r.zIndex}}),w=()=>{if(!!a.value)if(v.value=a.value instanceof Window?document.documentElement.scrollTop:a.value.scrollTop||0,r.position==="top")if(r.target){const k=m.bottom.value-r.offset-c.value;g.value=r.offset>d.value&&m.bottom.value>0,y.value=k<0?k:0}else g.value=r.offset>d.value;else if(r.target){const k=l.value-m.top.value-r.offset-c.value;g.value=l.value-r.offset<f.value&&l.value>m.top.value,y.value=k<0?-k:0}else g.value=l.value-r.offset<f.value},S=()=>{p(),n("scroll",{scrollTop:v.value,fixed:g.value})};return Ee(g,k=>n("change",k)),lt(()=>{var k;r.target?(o.value=(k=document.querySelector(r.target))!=null?k:void 0,o.value||Rn(DR,`Target is not existed: ${r.target}`)):o.value=document.documentElement,a.value=yS(i.value,!0),p()}),on(a,"scroll",S),Gr(w),e({update:w,updateRoot:p}),(k,A)=>(E(),F("div",{ref_key:"root",ref:i,class:I(h(s).b()),style:Ge(h(C))},[L("div",{class:I({[h(s).m("fixed")]:g.value}),style:Ge(h(b))},[Ce(k.$slots,"default")],6)],6))}});var LQ=Re(PQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const BQ=mt(LQ),FQ=Pe({size:{type:me([Number,String])},color:{type:String}}),VQ=te({name:"ElIcon",inheritAttrs:!1}),zQ=te({...VQ,props:FQ,setup(t){const e=t,n=ke("icon"),r=T(()=>{const{size:s,color:o}=e;return!s&&!o?{}:{fontSize:Un(s)?void 0:xn(s),"--color":o}});return(s,o)=>(E(),F("i",wt({class:h(n).b(),style:h(r)},s.$attrs),[Ce(s.$slots,"default")],16))}});var HQ=Re(zQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Ue=mt(HQ),KQ=["light","dark"],UQ=Pe({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:nh(ka),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:KQ,default:"light"}}),jQ={close:t=>t instanceof MouseEvent},WQ=te({name:"ElAlert"}),qQ=te({...WQ,props:UQ,emits:jQ,setup(t,{emit:e}){const n=t,{Close:r}=SS,s=Qn(),o=ke("alert"),i=D(!0),a=T(()=>ka[n.type]),l=T(()=>[o.e("icon"),{[o.is("big")]:!!n.description||!!s.default}]),c=T(()=>({[o.is("bold")]:n.description||s.default})),u=d=>{i.value=!1,e("close",d)};return(d,f)=>(E(),he(Sn,{name:h(o).b("fade"),persisted:""},{default:re(()=>[ot(L("div",{class:I([h(o).b(),h(o).m(d.type),h(o).is("center",d.center),h(o).is(d.effect)]),role:"alert"},[d.showIcon&&h(a)?(E(),he(h(Ue),{key:0,class:I(h(l))},{default:re(()=>[(E(),he(kt(h(a))))]),_:1},8,["class"])):ce("v-if",!0),L("div",{class:I(h(o).e("content"))},[d.title||d.$slots.title?(E(),F("span",{key:0,class:I([h(o).e("title"),h(c)])},[Ce(d.$slots,"title",{},()=>[dt(Oe(d.title),1)])],2)):ce("v-if",!0),d.$slots.default||d.description?(E(),F("p",{key:1,class:I(h(o).e("description"))},[Ce(d.$slots,"default",{},()=>[dt(Oe(d.description),1)])],2)):ce("v-if",!0),d.closable?(E(),F(Ye,{key:2},[d.closeText?(E(),F("div",{key:0,class:I([h(o).e("close-btn"),h(o).is("customed")]),onClick:u},Oe(d.closeText),3)):(E(),he(h(Ue),{key:1,class:I(h(o).e("close-btn")),onClick:u},{default:re(()=>[q(h(r))]),_:1},8,["class"]))],64)):ce("v-if",!0)],2)],2),[[Dt,i.value]])]),_:3},8,["name"]))}});var GQ=Re(qQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const YQ=mt(GQ);let Js;const XQ=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,JQ=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function QQ(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:JQ.map(i=>`${i}:${e.getPropertyValue(i)}`).join(";"),paddingSize:r,borderSize:s,boxSizing:n}}function gx(t,e=1,n){var r;Js||(Js=document.createElement("textarea"),document.body.appendChild(Js));const{paddingSize:s,borderSize:o,boxSizing:i,contextStyle:a}=QQ(t);Js.setAttribute("style",`${a};${XQ}`),Js.value=t.value||t.placeholder||"";let l=Js.scrollHeight;const c={};i==="border-box"?l=l+o:i==="content-box"&&(l=l-s),Js.value="";const u=Js.scrollHeight-s;if(it(e)){let d=u*e;i==="border-box"&&(d=d+s+o),l=Math.max(d,l),c.minHeight=`${d}px`}if(it(n)){let d=u*n;i==="border-box"&&(d=d+s+o),l=Math.min(d,l)}return c.height=`${l}px`,(r=Js.parentNode)==null||r.removeChild(Js),Js=void 0,c}const ZQ=Pe({id:{type:String,default:void 0},size:ns,disabled:Boolean,modelValue:{type:me([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:me([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:tn},prefixIcon:{type:tn},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:me([Object,Array,String]),default:()=>un({})}}),eZ={[pt]:t=>rt(t),input:t=>rt(t),change:t=>rt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},tZ=["role"],nZ=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],rZ=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],sZ=te({name:"ElInput",inheritAttrs:!1}),oZ=te({...sZ,props:ZQ,emits:eZ,setup(t,{expose:e,emit:n}){const r=t,s=tp(),o=Qn(),i=T(()=>{const le={};return r.containerRole==="combobox"&&(le["aria-haspopup"]=s["aria-haspopup"],le["aria-owns"]=s["aria-owns"],le["aria-expanded"]=s["aria-expanded"]),le}),a=T(()=>[r.type==="textarea"?v.b():g.b(),g.m(p.value),g.is("disabled",m.value),g.is("exceed",J.value),{[g.b("group")]:o.prepend||o.append,[g.bm("group","append")]:o.append,[g.bm("group","prepend")]:o.prepend,[g.m("prefix")]:o.prefix||r.prefixIcon,[g.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm("suffix","password-clear")]:_.value&&O.value},s.class]),l=T(()=>[g.e("wrapper"),g.is("focus",b.value)]),c=_S({excludeKeys:T(()=>Object.keys(i.value))}),{form:u,formItem:d}=zr(),{inputId:f}=La(r,{formItemContext:d}),p=In(),m=ss(),g=ke("input"),v=ke("textarea"),y=en(),C=en(),b=D(!1),w=D(!1),S=D(!1),k=D(!1),A=D(),x=en(r.inputStyle),N=T(()=>y.value||C.value),R=T(()=>{var le;return(le=u==null?void 0:u.statusIcon)!=null?le:!1}),H=T(()=>(d==null?void 0:d.validateState)||""),P=T(()=>H.value&&sR[H.value]),B=T(()=>k.value?aJ:hY),V=T(()=>[s.style,r.inputStyle]),z=T(()=>[r.inputStyle,x.value,{resize:r.resize}]),M=T(()=>jn(r.modelValue)?"":String(r.modelValue)),_=T(()=>r.clearable&&!m.value&&!r.readonly&&!!M.value&&(b.value||w.value)),O=T(()=>r.showPassword&&!m.value&&!r.readonly&&!!M.value&&(!!M.value||b.value)),$=T(()=>r.showWordLimit&&!!c.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!m.value&&!r.readonly&&!r.showPassword),K=T(()=>Array.from(M.value).length),J=T(()=>!!$.value&&K.value>Number(c.value.maxlength)),W=T(()=>!!o.suffix||!!r.suffixIcon||_.value||r.showPassword||$.value||!!H.value&&R.value),[se,ve]=MQ(y);Sr(C,le=>{if(!$.value||r.resize!=="both")return;const Te=le[0],{width:Le}=Te.contentRect;A.value={right:`calc(100% - ${Le+15+6}px)`}});const Y=()=>{const{type:le,autosize:Te}=r;if(!(!It||le!=="textarea"))if(Te){const Le=Ct(Te)?Te.minRows:void 0,ae=Ct(Te)?Te.maxRows:void 0;x.value={...gx(C.value,Le,ae)}}else x.value={minHeight:gx(C.value).minHeight}},fe=()=>{const le=N.value;!le||le.value===M.value||(le.value=M.value)},X=async le=>{se();let{value:Te}=le.target;if(r.formatter&&(Te=r.parser?r.parser(Te):Te,Te=r.formatter(Te)),!S.value){if(Te===M.value){fe();return}n(pt,Te),n("input",Te),await ze(),fe(),ve()}},G=le=>{n("change",le.target.value)},ue=le=>{n("compositionstart",le),S.value=!0},ye=le=>{var Te;n("compositionupdate",le);const Le=(Te=le.target)==null?void 0:Te.value,ae=Le[Le.length-1]||"";S.value=!ry(ae)},Ae=le=>{n("compositionend",le),S.value&&(S.value=!1,X(le))},j=()=>{k.value=!k.value,ne()},ne=async()=>{var le;await ze(),(le=N.value)==null||le.focus()},ge=()=>{var le;return(le=N.value)==null?void 0:le.blur()},Se=le=>{b.value=!0,n("focus",le)},_e=le=>{var Te;b.value=!1,n("blur",le),r.validateEvent&&((Te=d==null?void 0:d.validate)==null||Te.call(d,"blur").catch(Le=>void 0))},Q=le=>{w.value=!1,n("mouseleave",le)},Me=le=>{w.value=!0,n("mouseenter",le)},pe=le=>{n("keydown",le)},ee=()=>{var le;(le=N.value)==null||le.select()},de=()=>{n(pt,""),n("change",""),n("clear"),n("input","")};return Ee(()=>r.modelValue,()=>{var le;ze(()=>Y()),r.validateEvent&&((le=d==null?void 0:d.validate)==null||le.call(d,"change").catch(Te=>void 0))}),Ee(M,()=>fe()),Ee(()=>r.type,async()=>{await ze(),fe(),Y()}),lt(()=>{!r.formatter&&r.parser,fe(),ze(Y)}),e({input:y,textarea:C,ref:N,textareaStyle:z,autosize:pn(r,"autosize"),focus:ne,blur:ge,select:ee,clear:de,resizeTextarea:Y}),(le,Te)=>ot((E(),F("div",wt(h(i),{class:h(a),style:h(V),role:le.containerRole,onMouseenter:Me,onMouseleave:Q}),[ce(" input "),le.type!=="textarea"?(E(),F(Ye,{key:0},[ce(" prepend slot "),le.$slots.prepend?(E(),F("div",{key:0,class:I(h(g).be("group","prepend"))},[Ce(le.$slots,"prepend")],2)):ce("v-if",!0),L("div",{class:I(h(l))},[ce(" prefix slot "),le.$slots.prefix||le.prefixIcon?(E(),F("span",{key:0,class:I(h(g).e("prefix"))},[L("span",{class:I(h(g).e("prefix-inner")),onClick:ne},[Ce(le.$slots,"prefix"),le.prefixIcon?(E(),he(h(Ue),{key:0,class:I(h(g).e("icon"))},{default:re(()=>[(E(),he(kt(le.prefixIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],2)):ce("v-if",!0),L("input",wt({id:h(f),ref_key:"input",ref:y,class:h(g).e("inner")},h(c),{type:le.showPassword?k.value?"text":"password":le.type,disabled:h(m),formatter:le.formatter,parser:le.parser,readonly:le.readonly,autocomplete:le.autocomplete,tabindex:le.tabindex,"aria-label":le.label,placeholder:le.placeholder,style:le.inputStyle,form:r.form,onCompositionstart:ue,onCompositionupdate:ye,onCompositionend:Ae,onInput:X,onFocus:Se,onBlur:_e,onChange:G,onKeydown:pe}),null,16,nZ),ce(" suffix slot "),h(W)?(E(),F("span",{key:1,class:I(h(g).e("suffix"))},[L("span",{class:I(h(g).e("suffix-inner")),onClick:ne},[!h(_)||!h(O)||!h($)?(E(),F(Ye,{key:0},[Ce(le.$slots,"suffix"),le.suffixIcon?(E(),he(h(Ue),{key:0,class:I(h(g).e("icon"))},{default:re(()=>[(E(),he(kt(le.suffixIcon)))]),_:1},8,["class"])):ce("v-if",!0)],64)):ce("v-if",!0),h(_)?(E(),he(h(Ue),{key:1,class:I([h(g).e("icon"),h(g).e("clear")]),onMousedown:tt(h(Wt),["prevent"]),onClick:de},{default:re(()=>[q(h(Da))]),_:1},8,["class","onMousedown"])):ce("v-if",!0),h(O)?(E(),he(h(Ue),{key:2,class:I([h(g).e("icon"),h(g).e("password")]),onClick:j},{default:re(()=>[(E(),he(kt(h(B))))]),_:1},8,["class"])):ce("v-if",!0),h($)?(E(),F("span",{key:3,class:I(h(g).e("count"))},[L("span",{class:I(h(g).e("count-inner"))},Oe(h(K))+" / "+Oe(h(c).maxlength),3)],2)):ce("v-if",!0),h(H)&&h(P)&&h(R)?(E(),he(h(Ue),{key:4,class:I([h(g).e("icon"),h(g).e("validateIcon"),h(g).is("loading",h(H)==="validating")])},{default:re(()=>[(E(),he(kt(h(P))))]),_:1},8,["class"])):ce("v-if",!0)],2)],2)):ce("v-if",!0)],2),ce(" append slot "),le.$slots.append?(E(),F("div",{key:1,class:I(h(g).be("group","append"))},[Ce(le.$slots,"append")],2)):ce("v-if",!0)],64)):(E(),F(Ye,{key:1},[ce(" textarea "),L("textarea",wt({id:h(f),ref_key:"textarea",ref:C,class:h(v).e("inner")},h(c),{tabindex:le.tabindex,disabled:h(m),readonly:le.readonly,autocomplete:le.autocomplete,style:h(z),"aria-label":le.label,placeholder:le.placeholder,form:r.form,onCompositionstart:ue,onCompositionupdate:ye,onCompositionend:Ae,onInput:X,onFocus:Se,onBlur:_e,onChange:G,onKeydown:pe}),null,16,rZ),h($)?(E(),F("span",{key:0,style:Ge(A.value),class:I(h(g).e("count"))},Oe(h(K))+" / "+Oe(h(c).maxlength),7)):ce("v-if",!0)],64))],16,tZ)),[[Dt,le.type!=="hidden"]])}});var iZ=Re(oZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const vr=mt(iZ),Qc=4,PR={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},aZ=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),lZ=Pe({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),cZ="Thumb",uZ=te({__name:"thumb",props:lZ,setup(t){const e=t,n=Fe(mR),r=ke("scrollbar");n||Rn(cZ,"can not inject scrollbar context");const s=D(),o=D(),i=D({}),a=D(!1);let l=!1,c=!1,u=It?document.onselectstart:null;const d=T(()=>PR[e.vertical?"vertical":"horizontal"]),f=T(()=>aZ({size:e.size,move:e.move,bar:d.value})),p=T(()=>s.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/o.value[d.value.offset]),m=k=>{var A;if(k.stopPropagation(),k.ctrlKey||[1,2].includes(k.button))return;(A=window.getSelection())==null||A.removeAllRanges(),v(k);const x=k.currentTarget;!x||(i.value[d.value.axis]=x[d.value.offset]-(k[d.value.client]-x.getBoundingClientRect()[d.value.direction]))},g=k=>{if(!o.value||!s.value||!n.wrapElement)return;const A=Math.abs(k.target.getBoundingClientRect()[d.value.direction]-k[d.value.client]),x=o.value[d.value.offset]/2,N=(A-x)*100*p.value/s.value[d.value.offset];n.wrapElement[d.value.scroll]=N*n.wrapElement[d.value.scrollSize]/100},v=k=>{k.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",C),u=document.onselectstart,document.onselectstart=()=>!1},y=k=>{if(!s.value||!o.value||l===!1)return;const A=i.value[d.value.axis];if(!A)return;const x=(s.value.getBoundingClientRect()[d.value.direction]-k[d.value.client])*-1,N=o.value[d.value.offset]-A,R=(x-N)*100*p.value/s.value[d.value.offset];n.wrapElement[d.value.scroll]=R*n.wrapElement[d.value.scrollSize]/100},C=()=>{l=!1,i.value[d.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",C),S(),c&&(a.value=!1)},b=()=>{c=!1,a.value=!!e.size},w=()=>{c=!0,a.value=l};ln(()=>{S(),document.removeEventListener("mouseup",C)});const S=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return on(pn(n,"scrollbarElement"),"mousemove",b),on(pn(n,"scrollbarElement"),"mouseleave",w),(k,A)=>(E(),he(Sn,{name:h(r).b("fade"),persisted:""},{default:re(()=>[ot(L("div",{ref_key:"instance",ref:s,class:I([h(r).e("bar"),h(r).is(h(d).key)]),onMousedown:g},[L("div",{ref_key:"thumb",ref:o,class:I(h(r).e("thumb")),style:Ge(h(f)),onMousedown:m},null,38)],34),[[Dt,k.always||a.value]])]),_:1},8,["name"]))}});var vx=Re(uZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const dZ=Pe({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),fZ=te({__name:"bar",props:dZ,setup(t,{expose:e}){const n=t,r=D(0),s=D(0);return e({handleScroll:i=>{if(i){const a=i.offsetHeight-Qc,l=i.offsetWidth-Qc;s.value=i.scrollTop*100/a*n.ratioY,r.value=i.scrollLeft*100/l*n.ratioX}}}),(i,a)=>(E(),F(Ye,null,[q(vx,{move:r.value,ratio:i.ratioX,size:i.width,always:i.always},null,8,["move","ratio","size","always"]),q(vx,{move:s.value,ratio:i.ratioY,size:i.height,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var hZ=Re(fZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const pZ=Pe({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:me([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),mZ={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(it)},gZ="ElScrollbar",vZ=te({name:gZ}),yZ=te({...vZ,props:pZ,emits:mZ,setup(t,{expose:e,emit:n}){const r=t,s=ke("scrollbar");let o,i;const a=D(),l=D(),c=D(),u=D("0"),d=D("0"),f=D(),p=D(1),m=D(1),g=T(()=>{const A={};return r.height&&(A.height=xn(r.height)),r.maxHeight&&(A.maxHeight=xn(r.maxHeight)),[r.wrapStyle,A]}),v=T(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),y=T(()=>[s.e("view"),r.viewClass]),C=()=>{var A;l.value&&((A=f.value)==null||A.handleScroll(l.value),n("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function b(A,x){Ct(A)?l.value.scrollTo(A):it(A)&&it(x)&&l.value.scrollTo(A,x)}const w=A=>{!it(A)||(l.value.scrollTop=A)},S=A=>{!it(A)||(l.value.scrollLeft=A)},k=()=>{if(!l.value)return;const A=l.value.offsetHeight-Qc,x=l.value.offsetWidth-Qc,N=A**2/l.value.scrollHeight,R=x**2/l.value.scrollWidth,H=Math.max(N,r.minSize),P=Math.max(R,r.minSize);p.value=N/(A-N)/(H/(A-H)),m.value=R/(x-R)/(P/(x-P)),d.value=H+Qc<A?`${H}px`:"",u.value=P+Qc<x?`${P}px`:""};return Ee(()=>r.noresize,A=>{A?(o==null||o(),i==null||i()):({stop:o}=Sr(c,k),i=on("resize",k))},{immediate:!0}),Ee(()=>[r.maxHeight,r.height],()=>{r.native||ze(()=>{var A;k(),l.value&&((A=f.value)==null||A.handleScroll(l.value))})}),yt(mR,Lt({scrollbarElement:a,wrapElement:l})),lt(()=>{r.native||ze(()=>{k()})}),Ei(()=>k()),e({wrapRef:l,update:k,scrollTo:b,setScrollTop:w,setScrollLeft:S,handleScroll:C}),(A,x)=>(E(),F("div",{ref_key:"scrollbarRef",ref:a,class:I(h(s).b())},[L("div",{ref_key:"wrapRef",ref:l,class:I(h(v)),style:Ge(h(g)),onScroll:C},[(E(),he(kt(A.tag),{ref_key:"resizeRef",ref:c,class:I(h(y)),style:Ge(A.viewStyle)},{default:re(()=>[Ce(A.$slots,"default")]),_:3},8,["class","style"]))],38),A.native?ce("v-if",!0):(E(),he(hZ,{key:0,ref_key:"barRef",ref:f,height:d.value,width:u.value,always:A.always,"ratio-x":m.value,"ratio-y":p.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var bZ=Re(yZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Oi=mt(bZ),wZ=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],LR=Pe({role:{type:String,values:wZ,default:"tooltip"}}),CZ=te({name:"ElPopperRoot",inheritAttrs:!1}),SZ=te({...CZ,props:LR,setup(t,{expose:e}){const n=t,r=D(),s=D(),o=D(),i=D(),a=T(()=>n.role),l={triggerRef:r,popperInstanceRef:s,contentRef:o,referenceRef:i,role:a};return e(l),yt(xS,l),(c,u)=>Ce(c.$slots,"default")}});var kZ=Re(SZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const BR=Pe({arrowOffset:{type:Number,default:5}}),EZ=te({name:"ElPopperArrow",inheritAttrs:!1}),TZ=te({...EZ,props:BR,setup(t,{expose:e}){const n=t,r=ke("popper"),{arrowOffset:s,arrowRef:o}=Fe(yR,void 0);return Ee(()=>n.arrowOffset,i=>{s.value=i}),ln(()=>{o.value=void 0}),e({arrowRef:o}),(i,a)=>(E(),F("span",{ref_key:"arrowRef",ref:o,class:I(h(r).e("arrow")),"data-popper-arrow":""},null,2))}});var _Z=Re(TZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const xZ="ElOnlyChild",FR=te({name:xZ,setup(t,{slots:e,attrs:n}){var r;const s=Fe(_R),o=nQ((r=s==null?void 0:s.setForwardRef)!=null?r:Wt);return()=>{var i;const a=(i=e.default)==null?void 0:i.call(e,n);if(!a||a.length>1)return null;const l=VR(a);return l?ot(mi(l,n),[[o]]):null}}});function VR(t){if(!t)return null;const e=t;for(const n of e){if(Ct(n))switch(n.type){case Nr:continue;case ep:case"svg":return yx(n);case Ye:return VR(n.children);default:return n}return yx(n)}return null}function yx(t){const e=ke("only-child");return q("span",{class:e.e("content")},[t])}const zR=Pe({virtualRef:{type:me(Object)},virtualTriggering:Boolean,onMouseenter:{type:me(Function)},onMouseleave:{type:me(Function)},onClick:{type:me(Function)},onKeydown:{type:me(Function)},onFocus:{type:me(Function)},onBlur:{type:me(Function)},onContextmenu:{type:me(Function)},id:String,open:Boolean}),IZ=te({name:"ElPopperTrigger",inheritAttrs:!1}),MZ=te({...IZ,props:zR,setup(t,{expose:e}){const n=t,{role:r,triggerRef:s}=Fe(xS,void 0);tQ(s);const o=T(()=>a.value?n.id:void 0),i=T(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=T(()=>{if(r&&r.value!=="tooltip")return r.value}),l=T(()=>a.value?`${n.open}`:void 0);let c;return lt(()=>{Ee(()=>n.virtualRef,u=>{u&&(s.value=fs(u))},{immediate:!0}),Ee(s,(u,d)=>{c==null||c(),c=void 0,uo(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var p;const m=n[f];m&&(u.addEventListener(f.slice(2).toLowerCase(),m),(p=d==null?void 0:d.removeEventListener)==null||p.call(d,f.slice(2).toLowerCase(),m))}),c=Ee([o,i,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,m)=>{jn(f[m])?u.removeAttribute(p):u.setAttribute(p,f[m])})},{immediate:!0})),uo(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>d.removeAttribute(f))},{immediate:!0})}),ln(()=>{c==null||c(),c=void 0}),e({triggerRef:s}),(u,d)=>u.virtualTriggering?ce("v-if",!0):(E(),he(h(FR),wt({key:0},u.$attrs,{"aria-controls":h(o),"aria-describedby":h(i),"aria-expanded":h(l),"aria-haspopup":h(a)}),{default:re(()=>[Ce(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var AZ=Re(MZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),Xr="top",Us="bottom",js="right",Jr="left",DS="auto",ap=[Xr,Us,js,Jr],Du="start",sh="end",OZ="clippingParents",HR="viewport",Dd="popper",NZ="reference",bx=ap.reduce(function(t,e){return t.concat([e+"-"+Du,e+"-"+sh])},[]),wc=[].concat(ap,[DS]).reduce(function(t,e){return t.concat([e,e+"-"+Du,e+"-"+sh])},[]),$Z="beforeRead",RZ="read",DZ="afterRead",PZ="beforeMain",LZ="main",BZ="afterMain",FZ="beforeWrite",VZ="write",zZ="afterWrite",HZ=[$Z,RZ,DZ,PZ,LZ,BZ,FZ,VZ,zZ];function Ko(t){return t?(t.nodeName||"").toLowerCase():null}function bo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Pu(t){var e=bo(t).Element;return t instanceof e||t instanceof Element}function Bs(t){var e=bo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function PS(t){if(typeof ShadowRoot>"u")return!1;var e=bo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function KZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},o=e.elements[n];!Bs(o)||!Ko(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(i){var a=s[i];a===!1?o.removeAttribute(i):o.setAttribute(i,a===!0?"":a)}))})}function UZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],o=e.attributes[r]||{},i=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=i.reduce(function(l,c){return l[c]="",l},{});!Bs(s)||!Ko(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}var KR={name:"applyStyles",enabled:!0,phase:"write",fn:KZ,effect:UZ,requires:["computeStyles"]};function Bo(t){return t.split("-")[0]}var Al=Math.max,Ng=Math.min,Lu=Math.round;function Bu(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,s=1;if(Bs(t)&&e){var o=t.offsetHeight,i=t.offsetWidth;i>0&&(r=Lu(n.width)/i||1),o>0&&(s=Lu(n.height)/o||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function LS(t){var e=Bu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function UR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&PS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function wi(t){return bo(t).getComputedStyle(t)}function jZ(t){return["table","td","th"].indexOf(Ko(t))>=0}function Fa(t){return((Pu(t)?t.ownerDocument:t.document)||window.document).documentElement}function dy(t){return Ko(t)==="html"?t:t.assignedSlot||t.parentNode||(PS(t)?t.host:null)||Fa(t)}function wx(t){return!Bs(t)||wi(t).position==="fixed"?null:t.offsetParent}function WZ(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Bs(t)){var r=wi(t);if(r.position==="fixed")return null}var s=dy(t);for(PS(s)&&(s=s.host);Bs(s)&&["html","body"].indexOf(Ko(s))<0;){var o=wi(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function lp(t){for(var e=bo(t),n=wx(t);n&&jZ(n)&&wi(n).position==="static";)n=wx(n);return n&&(Ko(n)==="html"||Ko(n)==="body"&&wi(n).position==="static")?e:n||WZ(t)||e}function BS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yf(t,e,n){return Al(t,Ng(e,n))}function qZ(t,e,n){var r=yf(t,e,n);return r>n?n:r}function jR(){return{top:0,right:0,bottom:0,left:0}}function WR(t){return Object.assign({},jR(),t)}function qR(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var GZ=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,WR(typeof t!="number"?t:qR(t,ap))};function YZ(t){var e,n=t.state,r=t.name,s=t.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=Bo(n.placement),l=BS(a),c=[Jr,js].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!i)){var d=GZ(s.padding,n),f=LS(o),p=l==="y"?Xr:Jr,m=l==="y"?Us:js,g=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],v=i[l]-n.rects.reference[l],y=lp(o),C=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,b=g/2-v/2,w=d[p],S=C-f[u]-d[m],k=C/2-f[u]/2+b,A=yf(w,k,S),x=l;n.modifiersData[r]=(e={},e[x]=A,e.centerOffset=A-k,e)}}function XZ(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!UR(e.elements.popper,s)||(e.elements.arrow=s))}var JZ={name:"arrow",enabled:!0,phase:"main",fn:YZ,effect:XZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fu(t){return t.split("-")[1]}var QZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZZ(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:Lu(e*s)/s||0,y:Lu(n*s)/s||0}}function Cx(t){var e,n=t.popper,r=t.popperRect,s=t.placement,o=t.variation,i=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=i.x,p=f===void 0?0:f,m=i.y,g=m===void 0?0:m,v=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var y=i.hasOwnProperty("x"),C=i.hasOwnProperty("y"),b=Jr,w=Xr,S=window;if(c){var k=lp(n),A="clientHeight",x="clientWidth";if(k===bo(n)&&(k=Fa(n),wi(k).position!=="static"&&a==="absolute"&&(A="scrollHeight",x="scrollWidth")),k=k,s===Xr||(s===Jr||s===js)&&o===sh){w=Us;var N=d&&k===S&&S.visualViewport?S.visualViewport.height:k[A];g-=N-r.height,g*=l?1:-1}if(s===Jr||(s===Xr||s===Us)&&o===sh){b=js;var R=d&&k===S&&S.visualViewport?S.visualViewport.width:k[x];p-=R-r.width,p*=l?1:-1}}var H=Object.assign({position:a},c&&QZ),P=u===!0?ZZ({x:p,y:g}):{x:p,y:g};if(p=P.x,g=P.y,l){var B;return Object.assign({},H,(B={},B[w]=C?"0":"",B[b]=y?"0":"",B.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",B))}return Object.assign({},H,(e={},e[w]=C?g+"px":"",e[b]=y?p+"px":"",e.transform="",e))}function eee(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,o=n.adaptive,i=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Bo(e.placement),variation:Fu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Cx(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Cx(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var GR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eee,data:{}},Wp={passive:!0};function tee(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,o=s===void 0?!0:s,i=r.resize,a=i===void 0?!0:i,l=bo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Wp)}),a&&l.addEventListener("resize",n.update,Wp),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Wp)}),a&&l.removeEventListener("resize",n.update,Wp)}}var YR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tee,data:{}},nee={left:"right",right:"left",bottom:"top",top:"bottom"};function Vm(t){return t.replace(/left|right|bottom|top/g,function(e){return nee[e]})}var ree={start:"end",end:"start"};function Sx(t){return t.replace(/start|end/g,function(e){return ree[e]})}function FS(t){var e=bo(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function VS(t){return Bu(Fa(t)).left+FS(t).scrollLeft}function see(t){var e=bo(t),n=Fa(t),r=e.visualViewport,s=n.clientWidth,o=n.clientHeight,i=0,a=0;return r&&(s=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=r.offsetLeft,a=r.offsetTop)),{width:s,height:o,x:i+VS(t),y:a}}function oee(t){var e,n=Fa(t),r=FS(t),s=(e=t.ownerDocument)==null?void 0:e.body,o=Al(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=Al(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+VS(t),l=-r.scrollTop;return wi(s||n).direction==="rtl"&&(a+=Al(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:a,y:l}}function zS(t){var e=wi(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function XR(t){return["html","body","#document"].indexOf(Ko(t))>=0?t.ownerDocument.body:Bs(t)&&zS(t)?t:XR(dy(t))}function bf(t,e){var n;e===void 0&&(e=[]);var r=XR(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),o=bo(r),i=s?[o].concat(o.visualViewport||[],zS(r)?r:[]):r,a=e.concat(i);return s?a:a.concat(bf(dy(i)))}function Ew(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iee(t){var e=Bu(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function kx(t,e){return e===HR?Ew(see(t)):Pu(e)?iee(e):Ew(oee(Fa(t)))}function aee(t){var e=bf(dy(t)),n=["absolute","fixed"].indexOf(wi(t).position)>=0,r=n&&Bs(t)?lp(t):t;return Pu(r)?e.filter(function(s){return Pu(s)&&UR(s,r)&&Ko(s)!=="body"}):[]}function lee(t,e,n){var r=e==="clippingParents"?aee(t):[].concat(e),s=[].concat(r,[n]),o=s[0],i=s.reduce(function(a,l){var c=kx(t,l);return a.top=Al(c.top,a.top),a.right=Ng(c.right,a.right),a.bottom=Ng(c.bottom,a.bottom),a.left=Al(c.left,a.left),a},kx(t,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function JR(t){var e=t.reference,n=t.element,r=t.placement,s=r?Bo(r):null,o=r?Fu(r):null,i=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case Xr:l={x:i,y:e.y-n.height};break;case Us:l={x:i,y:e.y+e.height};break;case js:l={x:e.x+e.width,y:a};break;case Jr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?BS(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Du:l[c]=l[c]-(e[u]/2-n[u]/2);break;case sh:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function oh(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,o=n.boundary,i=o===void 0?OZ:o,a=n.rootBoundary,l=a===void 0?HR:a,c=n.elementContext,u=c===void 0?Dd:c,d=n.altBoundary,f=d===void 0?!1:d,p=n.padding,m=p===void 0?0:p,g=WR(typeof m!="number"?m:qR(m,ap)),v=u===Dd?NZ:Dd,y=t.rects.popper,C=t.elements[f?v:u],b=lee(Pu(C)?C:C.contextElement||Fa(t.elements.popper),i,l),w=Bu(t.elements.reference),S=JR({reference:w,element:y,strategy:"absolute",placement:s}),k=Ew(Object.assign({},y,S)),A=u===Dd?k:w,x={top:b.top-A.top+g.top,bottom:A.bottom-b.bottom+g.bottom,left:b.left-A.left+g.left,right:A.right-b.right+g.right},N=t.modifiersData.offset;if(u===Dd&&N){var R=N[s];Object.keys(x).forEach(function(H){var P=[js,Us].indexOf(H)>=0?1:-1,B=[Xr,Us].indexOf(H)>=0?"y":"x";x[H]+=R[B]*P})}return x}function cee(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?wc:l,u=Fu(r),d=u?a?bx:bx.filter(function(m){return Fu(m)===u}):ap,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,g){return m[g]=oh(t,{placement:g,boundary:s,rootBoundary:o,padding:i})[Bo(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function uee(t){if(Bo(t)===DS)return[];var e=Vm(t);return[Sx(t),e,Sx(e)]}function dee(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!0:i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,v=e.options.placement,y=Bo(v),C=y===v,b=l||(C||!m?[Vm(v)]:uee(v)),w=[v].concat(b).reduce(function(ve,Y){return ve.concat(Bo(Y)===DS?cee(e,{placement:Y,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):Y)},[]),S=e.rects.reference,k=e.rects.popper,A=new Map,x=!0,N=w[0],R=0;R<w.length;R++){var H=w[R],P=Bo(H),B=Fu(H)===Du,V=[Xr,Us].indexOf(P)>=0,z=V?"width":"height",M=oh(e,{placement:H,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),_=V?B?js:Jr:B?Us:Xr;S[z]>k[z]&&(_=Vm(_));var O=Vm(_),$=[];if(o&&$.push(M[P]<=0),a&&$.push(M[_]<=0,M[O]<=0),$.every(function(ve){return ve})){N=H,x=!1;break}A.set(H,$)}if(x)for(var K=m?3:1,J=function(ve){var Y=w.find(function(fe){var X=A.get(fe);if(X)return X.slice(0,ve).every(function(G){return G})});if(Y)return N=Y,"break"},W=K;W>0;W--){var se=J(W);if(se==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}var fee={name:"flip",enabled:!0,phase:"main",fn:dee,requiresIfExists:["offset"],data:{_skip:!1}};function Ex(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Tx(t){return[Xr,js,Us,Jr].some(function(e){return t[e]>=0})}function hee(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,i=oh(e,{elementContext:"reference"}),a=oh(e,{altBoundary:!0}),l=Ex(i,r),c=Ex(a,s,o),u=Tx(l),d=Tx(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var pee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hee};function mee(t,e,n){var r=Bo(t),s=[Jr,Xr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,i=o[0],a=o[1];return i=i||0,a=(a||0)*s,[Jr,js].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function gee(t){var e=t.state,n=t.options,r=t.name,s=n.offset,o=s===void 0?[0,0]:s,i=wc.reduce(function(u,d){return u[d]=mee(d,e.rects,o),u},{}),a=i[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=i}var vee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gee};function yee(t){var e=t.state,n=t.name;e.modifiersData[n]=JR({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var QR={name:"popperOffsets",enabled:!0,phase:"read",fn:yee,data:{}};function bee(t){return t==="x"?"y":"x"}function wee(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!1:i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,v=oh(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Bo(e.placement),C=Fu(e.placement),b=!C,w=BS(y),S=bee(w),k=e.modifiersData.popperOffsets,A=e.rects.reference,x=e.rects.popper,N=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,R=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(k){if(o){var B,V=w==="y"?Xr:Jr,z=w==="y"?Us:js,M=w==="y"?"height":"width",_=k[w],O=_+v[V],$=_-v[z],K=p?-x[M]/2:0,J=C===Du?A[M]:x[M],W=C===Du?-x[M]:-A[M],se=e.elements.arrow,ve=p&&se?LS(se):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jR(),fe=Y[V],X=Y[z],G=yf(0,A[M],ve[M]),ue=b?A[M]/2-K-G-fe-R.mainAxis:J-G-fe-R.mainAxis,ye=b?-A[M]/2+K+G+X+R.mainAxis:W+G+X+R.mainAxis,Ae=e.elements.arrow&&lp(e.elements.arrow),j=Ae?w==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,ne=(B=H==null?void 0:H[w])!=null?B:0,ge=_+ue-ne-j,Se=_+ye-ne,_e=yf(p?Ng(O,ge):O,_,p?Al($,Se):$);k[w]=_e,P[w]=_e-_}if(a){var Q,Me=w==="x"?Xr:Jr,pe=w==="x"?Us:js,ee=k[S],de=S==="y"?"height":"width",le=ee+v[Me],Te=ee-v[pe],Le=[Xr,Jr].indexOf(y)!==-1,ae=(Q=H==null?void 0:H[S])!=null?Q:0,we=Le?le:ee-A[de]-x[de]-ae+R.altAxis,$e=Le?ee+A[de]+x[de]-ae-R.altAxis:Te,De=p&&Le?qZ(we,ee,$e):yf(p?we:le,ee,p?$e:Te);k[S]=De,P[S]=De-ee}e.modifiersData[r]=P}}var Cee={name:"preventOverflow",enabled:!0,phase:"main",fn:wee,requiresIfExists:["offset"]};function See(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function kee(t){return t===bo(t)||!Bs(t)?FS(t):See(t)}function Eee(t){var e=t.getBoundingClientRect(),n=Lu(e.width)/t.offsetWidth||1,r=Lu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Tee(t,e,n){n===void 0&&(n=!1);var r=Bs(e),s=Bs(e)&&Eee(e),o=Fa(e),i=Bu(t,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ko(e)!=="body"||zS(o))&&(a=kee(e)),Bs(e)?(l=Bu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=VS(o))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function _ee(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function s(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||s(o)}),r}function xee(t){var e=_ee(t);return HZ.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function Iee(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Mee(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var _x={placement:"bottom",modifiers:[],strategy:"absolute"};function xx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function HS(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,o=s===void 0?_x:s;return function(i,a,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},_x,o),modifiersData:{},elements:{reference:i,popper:a},attributes:{},styles:{}},u=[],d=!1,f={state:c,setOptions:function(g){var v=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},o,c.options,v),c.scrollParents={reference:Pu(i)?bf(i):i.contextElement?bf(i.contextElement):[],popper:bf(a)};var y=xee(Mee([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(C){return C.enabled}),p(),f.update()},forceUpdate:function(){if(!d){var g=c.elements,v=g.reference,y=g.popper;if(xx(v,y)){c.rects={reference:Tee(v,lp(y),c.options.strategy==="fixed"),popper:LS(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(x){return c.modifiersData[x.name]=Object.assign({},x.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var b=c.orderedModifiers[C],w=b.fn,S=b.options,k=S===void 0?{}:S,A=b.name;typeof w=="function"&&(c=w({state:c,options:k,name:A,instance:f})||c)}}}},update:Iee(function(){return new Promise(function(g){f.forceUpdate(),g(c)})}),destroy:function(){m(),d=!0}};if(!xx(i,a))return f;f.setOptions(l).then(function(g){!d&&l.onFirstUpdate&&l.onFirstUpdate(g)});function p(){c.orderedModifiers.forEach(function(g){var v=g.name,y=g.options,C=y===void 0?{}:y,b=g.effect;if(typeof b=="function"){var w=b({state:c,name:v,instance:f,options:C}),S=function(){};u.push(w||S)}})}function m(){u.forEach(function(g){return g()}),u=[]}return f}}HS();var Aee=[YR,QR,GR,KR];HS({defaultModifiers:Aee});var Oee=[YR,QR,GR,KR,vee,fee,Cee,JZ,pee],ZR=HS({defaultModifiers:Oee});const Pb="focus-trap.focus-after-trapped",Lb="focus-trap.focus-after-released",Nee="focus-trap.focusout-prevented",Ix={cancelable:!0,bubbles:!1},$ee={cancelable:!0,bubbles:!1},Mx="focusAfterTrapped",Ax="focusAfterReleased",KS=Symbol("elFocusTrap"),US=D(),fy=D(0),jS=D(0);let qp=0;const eD=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},Ox=(t,e)=>{for(const n of t)if(!Ree(n,e))return n},Ree=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},Dee=t=>{const e=eD(t),n=Ox(e,t),r=Ox(e.reverse(),t);return[n,r]},Pee=t=>t instanceof HTMLInputElement&&"select"in t,Ki=(t,e)=>{if(t&&t.focus){const n=document.activeElement;if(t.focus({preventScroll:!0}),jS.value=window.performance.now(),t!==n&&Pee(t)&&e){if(t.tagName==="INPUT"){t.setSelectionRange(t.value.length,t.value.length);return}t.select()}}};function Nx(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const Lee=()=>{let t=[];return{push:r=>{const s=t[0];s&&r!==s&&s.pause(),t=Nx(t,r),t.unshift(r)},remove:r=>{var s,o;t=Nx(t,r),(o=(s=t[0])==null?void 0:s.resume)==null||o.call(s)}}},Bee=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(Ki(r,e),document.activeElement!==n)return},$x=Lee(),Fee=()=>fy.value>jS.value,Gp=()=>{US.value="pointer",fy.value=window.performance.now()},Rx=()=>{US.value="keyboard",fy.value=window.performance.now()},Vee=()=>(lt(()=>{qp===0&&(document.addEventListener("mousedown",Gp),document.addEventListener("touchstart",Gp),document.addEventListener("keydown",Rx)),qp++}),ln(()=>{qp--,qp<=0&&(document.removeEventListener("mousedown",Gp),document.removeEventListener("touchstart",Gp),document.removeEventListener("keydown",Rx))}),{focusReason:US,lastUserFocusTimestamp:fy,lastAutomatedFocusTimestamp:jS}),Yp=t=>new CustomEvent(Nee,{...$ee,detail:t}),zee=te({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Mx,Ax,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=D();let r,s;const{focusReason:o}=Vee();XJ(m=>{t.trapped&&!i.paused&&e("release-requested",m)});const i={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=m=>{if(!t.loop&&!t.trapped||i.paused)return;const{key:g,altKey:v,ctrlKey:y,metaKey:C,currentTarget:b,shiftKey:w}=m,{loop:S}=t,k=g===Xe.tab&&!v&&!y&&!C,A=document.activeElement;if(k&&A){const x=b,[N,R]=Dee(x);if(N&&R){if(!w&&A===R){const P=Yp({focusReason:o.value});e("focusout-prevented",P),P.defaultPrevented||(m.preventDefault(),S&&Ki(N,!0))}else if(w&&[N,x].includes(A)){const P=Yp({focusReason:o.value});e("focusout-prevented",P),P.defaultPrevented||(m.preventDefault(),S&&Ki(R,!0))}}else if(A===x){const P=Yp({focusReason:o.value});e("focusout-prevented",P),P.defaultPrevented||m.preventDefault()}}};yt(KS,{focusTrapRef:n,onKeydown:a}),Ee(()=>t.focusTrapEl,m=>{m&&(n.value=m)},{immediate:!0}),Ee([n],([m],[g])=>{m&&(m.addEventListener("keydown",a),m.addEventListener("focusin",u),m.addEventListener("focusout",d)),g&&(g.removeEventListener("keydown",a),g.removeEventListener("focusin",u),g.removeEventListener("focusout",d))});const l=m=>{e(Mx,m)},c=m=>e(Ax,m),u=m=>{const g=h(n);if(!g)return;const v=m.target,y=m.relatedTarget,C=v&&g.contains(v);t.trapped||y&&g.contains(y)||(r=y),C&&e("focusin",m),!i.paused&&t.trapped&&(C?s=v:Ki(s,!0))},d=m=>{const g=h(n);if(!(i.paused||!g))if(t.trapped){const v=m.relatedTarget;!jn(v)&&!g.contains(v)&&setTimeout(()=>{if(!i.paused&&t.trapped){const y=Yp({focusReason:o.value});e("focusout-prevented",y),y.defaultPrevented||Ki(s,!0)}},0)}else{const v=m.target;v&&g.contains(v)||e("focusout",m)}};async function f(){await ze();const m=h(n);if(m){$x.push(i);const g=m.contains(document.activeElement)?r:document.activeElement;if(r=g,!m.contains(g)){const y=new Event(Pb,Ix);m.addEventListener(Pb,l),m.dispatchEvent(y),y.defaultPrevented||ze(()=>{let C=t.focusStartEl;rt(C)||(Ki(C),document.activeElement!==C&&(C="first")),C==="first"&&Bee(eD(m),!0),(document.activeElement===g||C==="container")&&Ki(m)})}}}function p(){const m=h(n);if(m){m.removeEventListener(Pb,l);const g=new CustomEvent(Lb,{...Ix,detail:{focusReason:o.value}});m.addEventListener(Lb,c),m.dispatchEvent(g),!g.defaultPrevented&&(o.value=="keyboard"||!Fee())&&Ki(r!=null?r:document.body,!0),m.removeEventListener(Lb,l),$x.remove(i)}}return lt(()=>{t.trapped&&f(),Ee(()=>t.trapped,m=>{m?f():p()})}),ln(()=>{t.trapped&&p()}),{onKeydown:a}}});function Hee(t,e,n,r,s,o){return Ce(t.$slots,"default",{handleKeydown:t.onKeydown})}var hy=Re(zee,[["render",Hee],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const Kee=["fixed","absolute"],Uee=Pe({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:me(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:wc,default:"bottom"},popperOptions:{type:me(Object),default:()=>({})},strategy:{type:String,values:Kee,default:"absolute"}}),tD=Pe({...Uee,id:String,style:{type:me([String,Array,Object])},className:{type:me([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:me([String,Array,Object])},popperStyle:{type:me([String,Array,Object])},referenceEl:{type:me(Object)},triggerTargetEl:{type:me(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),jee={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Dx=(t,e)=>{const{placement:n,strategy:r,popperOptions:s}=t,o={placement:n,strategy:r,...s,modifiers:qee(t)};return Gee(o,e),Yee(o,s==null?void 0:s.modifiers),o},Wee=t=>{if(!!It)return fs(t)};function qee(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e!=null?e:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function Gee(t,{arrowEl:e,arrowOffset:n}){t.modifiers.push({name:"arrow",options:{element:e,padding:n!=null?n:5}})}function Yee(t,e){e&&(t.modifiers=[...t.modifiers,...e!=null?e:[]])}const Xee=te({name:"ElPopperContent"}),Jee=te({...Xee,props:tD,emits:jee,setup(t,{expose:e,emit:n}){const r=t,{popperInstanceRef:s,contentRef:o,triggerRef:i,role:a}=Fe(xS,void 0),l=Fe(Ho,void 0),{nextZIndex:c}=Mi(),u=ke("popper"),d=D(),f=D("first"),p=D(),m=D();yt(yR,{arrowRef:p,arrowOffset:m}),l&&(l.addInputId||l.removeInputId)&&yt(Ho,{...l,addInputId:Wt,removeInputId:Wt});const g=D(r.zIndex||c()),v=D(!1);let y;const C=T(()=>Wee(r.referenceEl)||h(i)),b=T(()=>[{zIndex:h(g)},r.popperStyle]),w=T(()=>[u.b(),u.is("pure",r.pure),u.is(r.effect),r.popperClass]),S=T(()=>a&&a.value==="dialog"?"false":void 0),k=({referenceEl:V,popperContentEl:z,arrowEl:M})=>{const _=Dx(r,{arrowEl:M,arrowOffset:h(m)});return ZR(V,z,_)},A=(V=!0)=>{var z;(z=h(s))==null||z.update(),V&&(g.value=r.zIndex||c())},x=()=>{var V,z;const M={name:"eventListeners",enabled:r.visible};(z=(V=h(s))==null?void 0:V.setOptions)==null||z.call(V,_=>({..._,modifiers:[..._.modifiers||[],M]})),A(!1),r.visible&&r.focusOnShow?v.value=!0:r.visible===!1&&(v.value=!1)},N=()=>{n("focus")},R=V=>{var z;((z=V.detail)==null?void 0:z.focusReason)!=="pointer"&&(f.value="first",n("blur"))},H=V=>{r.visible&&!v.value&&(V.target&&(f.value=V.target),v.value=!0)},P=V=>{r.trapping||(V.detail.focusReason==="pointer"&&V.preventDefault(),v.value=!1)},B=()=>{v.value=!1,n("close")};return lt(()=>{let V;Ee(C,z=>{var M;V==null||V();const _=h(s);if((M=_==null?void 0:_.destroy)==null||M.call(_),z){const O=h(d);o.value=O,s.value=k({referenceEl:z,popperContentEl:O,arrowEl:h(p)}),V=Ee(()=>z.getBoundingClientRect(),()=>A(),{immediate:!0})}else s.value=void 0},{immediate:!0}),Ee(()=>r.triggerTargetEl,(z,M)=>{y==null||y(),y=void 0;const _=h(z||d.value),O=h(M||d.value);uo(_)&&(y=Ee([a,()=>r.ariaLabel,S,()=>r.id],$=>{["role","aria-label","aria-modal","id"].forEach((K,J)=>{jn($[J])?_.removeAttribute(K):_.setAttribute(K,$[J])})},{immediate:!0})),O!==_&&uo(O)&&["role","aria-label","aria-modal","id"].forEach($=>{O.removeAttribute($)})},{immediate:!0}),Ee(()=>r.visible,x,{immediate:!0}),Ee(()=>Dx(r,{arrowEl:h(p),arrowOffset:h(m)}),z=>{var M;return(M=s.value)==null?void 0:M.setOptions(z)})}),ln(()=>{y==null||y(),y=void 0}),e({popperContentRef:d,popperInstanceRef:s,updatePopper:A,contentStyle:b}),(V,z)=>(E(),F("div",{ref_key:"popperContentRef",ref:d,style:Ge(h(b)),class:I(h(w)),tabindex:"-1",onMouseenter:z[0]||(z[0]=M=>V.$emit("mouseenter",M)),onMouseleave:z[1]||(z[1]=M=>V.$emit("mouseleave",M))},[q(h(hy),{trapped:v.value,"trap-on-focus-in":!0,"focus-trap-el":d.value,"focus-start-el":f.value,onFocusAfterTrapped:N,onFocusAfterReleased:R,onFocusin:H,onFocusoutPrevented:P,onReleaseRequested:B},{default:re(()=>[Ce(V.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var Qee=Re(Jee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const nD=mt(kZ),Zee=ke("tooltip"),Hn=Pe({...ZJ,...tD,appendTo:{type:me([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:me(Boolean),default:null},transition:{type:String,default:`${Zee.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),ih=Pe({...zR,disabled:Boolean,trigger:{type:me([String,Array]),default:"hover"},triggerKeys:{type:me(Array),default:()=>[Xe.enter,Xe.space]}}),{useModelToggleProps:ete,useModelToggleEmits:tte,useModelToggle:nte}=WJ("visible"),rte=Pe({...LR,...ete,...Hn,...ih,...BR,showArrow:{type:Boolean,default:!0}}),ste=[...tte,"before-show","before-hide","show","hide","open","close"],ote=(t,e)=>Be(t)?t.includes(e):t===e,Ic=(t,e,n)=>r=>{ote(h(t),e)&&n(r)},ite=te({name:"ElTooltipTrigger"}),ate=te({...ite,props:ih,setup(t,{expose:e}){const n=t,r=ke("tooltip"),{controlled:s,id:o,open:i,onOpen:a,onClose:l,onToggle:c}=Fe(iy,void 0),u=D(null),d=()=>{if(h(s)||n.disabled)return!0},f=pn(n,"trigger"),p=gn(d,Ic(f,"hover",a)),m=gn(d,Ic(f,"hover",l)),g=gn(d,Ic(f,"click",w=>{w.button===0&&c(w)})),v=gn(d,Ic(f,"focus",a)),y=gn(d,Ic(f,"focus",l)),C=gn(d,Ic(f,"contextmenu",w=>{w.preventDefault(),c(w)})),b=gn(d,w=>{const{code:S}=w;n.triggerKeys.includes(S)&&(w.preventDefault(),c(w))});return e({triggerRef:u}),(w,S)=>(E(),he(h(AZ),{id:h(o),"virtual-ref":w.virtualRef,open:h(i),"virtual-triggering":w.virtualTriggering,class:I(h(r).e("trigger")),onBlur:h(y),onClick:h(g),onContextmenu:h(C),onFocus:h(v),onMouseenter:h(p),onMouseleave:h(m),onKeydown:h(b)},{default:re(()=>[Ce(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var lte=Re(ate,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const cte=te({name:"ElTooltipContent",inheritAttrs:!1}),ute=te({...cte,props:Hn,setup(t,{expose:e}){const n=t,{selector:r}=TR(),s=D(null),o=D(!1),{controlled:i,id:a,open:l,trigger:c,onClose:u,onOpen:d,onShow:f,onHide:p,onBeforeShow:m,onBeforeHide:g}=Fe(iy,void 0),v=T(()=>n.persistent);ln(()=>{o.value=!0});const y=T(()=>h(v)?!0:h(l)),C=T(()=>n.disabled?!1:h(l)),b=T(()=>n.appendTo||r.value),w=T(()=>{var z;return(z=n.style)!=null?z:{}}),S=T(()=>!h(l)),k=()=>{p()},A=()=>{if(h(i))return!0},x=gn(A,()=>{n.enterable&&h(c)==="hover"&&d()}),N=gn(A,()=>{h(c)==="hover"&&u()}),R=()=>{var z,M;(M=(z=s.value)==null?void 0:z.updatePopper)==null||M.call(z),m==null||m()},H=()=>{g==null||g()},P=()=>{f(),V=gS(T(()=>{var z;return(z=s.value)==null?void 0:z.popperContentRef}),()=>{if(h(i))return;h(c)!=="hover"&&u()})},B=()=>{n.virtualTriggering||u()};let V;return Ee(()=>h(l),z=>{z||V==null||V()},{flush:"post"}),Ee(()=>n.content,()=>{var z,M;(M=(z=s.value)==null?void 0:z.updatePopper)==null||M.call(z)}),e({contentRef:s}),(z,M)=>(E(),he(hd,{disabled:!z.teleported,to:h(b)},[q(Sn,{name:z.transition,onAfterLeave:k,onBeforeEnter:R,onAfterEnter:P,onBeforeLeave:H},{default:re(()=>[h(y)?ot((E(),he(h(Qee),wt({key:0,id:h(a),ref_key:"contentRef",ref:s},z.$attrs,{"aria-label":z.ariaLabel,"aria-hidden":h(S),"boundaries-padding":z.boundariesPadding,"fallback-placements":z.fallbackPlacements,"gpu-acceleration":z.gpuAcceleration,offset:z.offset,placement:z.placement,"popper-options":z.popperOptions,strategy:z.strategy,effect:z.effect,enterable:z.enterable,pure:z.pure,"popper-class":z.popperClass,"popper-style":[z.popperStyle,h(w)],"reference-el":z.referenceEl,"trigger-target-el":z.triggerTargetEl,visible:h(C),"z-index":z.zIndex,onMouseenter:h(x),onMouseleave:h(N),onBlur:B,onClose:h(u)}),{default:re(()=>[o.value?ce("v-if",!0):Ce(z.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Dt,h(C)]]):ce("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var dte=Re(ute,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const fte=["innerHTML"],hte={key:1},pte=te({name:"ElTooltip"}),mte=te({...pte,props:rte,emits:ste,setup(t,{expose:e,emit:n}){const r=t;QJ();const s=ho(),o=D(),i=D(),a=()=>{var y;const C=h(o);C&&((y=C.popperInstanceRef)==null||y.update())},l=D(!1),c=D(),{show:u,hide:d,hasUpdateHandler:f}=nte({indicator:l,toggleReason:c}),{onOpen:p,onClose:m}=eQ({showAfter:pn(r,"showAfter"),hideAfter:pn(r,"hideAfter"),open:u,close:d}),g=T(()=>Nn(r.visible)&&!f.value);yt(iy,{controlled:g,id:s,open:Zh(l),trigger:pn(r,"trigger"),onOpen:y=>{p(y)},onClose:y=>{m(y)},onToggle:y=>{h(l)?m(y):p(y)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:a}),Ee(()=>r.disabled,y=>{y&&l.value&&(l.value=!1)});const v=()=>{var y,C;const b=(C=(y=i.value)==null?void 0:y.contentRef)==null?void 0:C.popperContentRef;return b&&b.contains(document.activeElement)};return R2(()=>l.value&&d()),e({popperRef:o,contentRef:i,isFocusInsideContent:v,updatePopper:a,onOpen:p,onClose:m,hide:d}),(y,C)=>(E(),he(h(nD),{ref_key:"popperRef",ref:o,role:y.role},{default:re(()=>[q(lte,{disabled:y.disabled,trigger:y.trigger,"trigger-keys":y.triggerKeys,"virtual-ref":y.virtualRef,"virtual-triggering":y.virtualTriggering},{default:re(()=>[y.$slots.default?Ce(y.$slots,"default",{key:0}):ce("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),q(dte,{ref_key:"contentRef",ref:i,"aria-label":y.ariaLabel,"boundaries-padding":y.boundariesPadding,content:y.content,disabled:y.disabled,effect:y.effect,enterable:y.enterable,"fallback-placements":y.fallbackPlacements,"hide-after":y.hideAfter,"gpu-acceleration":y.gpuAcceleration,offset:y.offset,persistent:y.persistent,"popper-class":y.popperClass,"popper-style":y.popperStyle,placement:y.placement,"popper-options":y.popperOptions,pure:y.pure,"raw-content":y.rawContent,"reference-el":y.referenceEl,"trigger-target-el":y.triggerTargetEl,"show-after":y.showAfter,strategy:y.strategy,teleported:y.teleported,transition:y.transition,"virtual-triggering":y.virtualTriggering,"z-index":y.zIndex,"append-to":y.appendTo},{default:re(()=>[Ce(y.$slots,"content",{},()=>[y.rawContent?(E(),F("span",{key:0,innerHTML:y.content},null,8,fte)):(E(),F("span",hte,Oe(y.content),1))]),y.showArrow?(E(),he(h(_Z),{key:0,"arrow-offset":y.arrowOffset},null,8,["arrow-offset"])):ce("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var gte=Re(mte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const is=mt(gte),vte=Pe({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:me(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:me([Function,Array]),default:Wt},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Hn.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1}}),yte={[pt]:t=>rt(t),[Rr]:t=>rt(t),[an]:t=>rt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Ct(t)},bte=["aria-expanded","aria-owns"],wte={key:0},Cte=["id","aria-selected","onClick"],rD="ElAutocomplete",Ste=te({name:rD,inheritAttrs:!1}),kte=te({...Ste,props:vte,emits:yte,setup(t,{expose:e,emit:n}){const r=t,s=_S(),o=tp(),i=ss(),a=ke("autocomplete"),l=D(),c=D(),u=D(),d=D();let f=!1,p=!1;const m=D([]),g=D(-1),v=D(""),y=D(!1),C=D(!1),b=D(!1),w=T(()=>a.b(String(sy()))),S=T(()=>o.style),k=T(()=>(m.value.length>0||b.value)&&y.value),A=T(()=>!r.hideLoading&&b.value),x=T(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),N=async()=>{await ze(),k.value&&(v.value=`${l.value.$el.offsetWidth}px`)},R=()=>{p=!0},H=()=>{p=!1,g.value=-1},B=Pr(async X=>{if(C.value)return;const G=ue=>{b.value=!1,!C.value&&(Be(ue)?(m.value=ue,g.value=r.highlightFirstItem?0:-1):Rn(rD,"autocomplete suggestions must be an array"))};if(b.value=!0,Be(r.fetchSuggestions))G(r.fetchSuggestions);else{const ue=await r.fetchSuggestions(X,G);Be(ue)&&G(ue)}},r.debounce),V=X=>{const G=!!X;if(n(Rr,X),n(pt,X),C.value=!1,y.value||(y.value=G),!r.triggerOnFocus&&!X){C.value=!0,m.value=[];return}B(X)},z=X=>{var G;i.value||(((G=X.target)==null?void 0:G.tagName)!=="INPUT"||x.value.includes(document.activeElement))&&(y.value=!0)},M=X=>{n(an,X)},_=X=>{p||(y.value=!0,n("focus",X),r.triggerOnFocus&&!f&&B(String(r.modelValue)))},O=X=>{p||n("blur",X)},$=()=>{y.value=!1,n(pt,""),n("clear")},K=async()=>{k.value&&g.value>=0&&g.value<m.value.length?Y(m.value[g.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),m.value=[],g.value=-1)},J=X=>{k.value&&(X.preventDefault(),X.stopPropagation(),W())},W=()=>{y.value=!1},se=()=>{var X;(X=l.value)==null||X.focus()},ve=()=>{var X;(X=l.value)==null||X.blur()},Y=async X=>{n(Rr,X[r.valueKey]),n(pt,X[r.valueKey]),n("select",X),m.value=[],g.value=-1},fe=X=>{if(!k.value||b.value)return;if(X<0){g.value=-1;return}X>=m.value.length&&(X=m.value.length-1);const G=c.value.querySelector(`.${a.be("suggestion","wrap")}`),ye=G.querySelectorAll(`.${a.be("suggestion","list")} li`)[X],Ae=G.scrollTop,{offsetTop:j,scrollHeight:ne}=ye;j+ne>Ae+G.clientHeight&&(G.scrollTop+=ne),j<Ae&&(G.scrollTop-=ne),g.value=X,l.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${g.value}`)};return gS(d,()=>{k.value&&W()}),lt(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${g.value}`),f=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:g,activated:y,loading:b,inputRef:l,popperRef:u,suggestions:m,handleSelect:Y,handleKeyEnter:K,focus:se,blur:ve,close:W,highlight:fe}),(X,G)=>(E(),he(h(is),{ref_key:"popperRef",ref:u,visible:h(k),placement:X.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[h(a).e("popper"),X.popperClass],teleported:X.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${h(a).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:N,onShow:R,onHide:H},{content:re(()=>[L("div",{ref_key:"regionRef",ref:c,class:I([h(a).b("suggestion"),h(a).is("loading",h(A))]),style:Ge({[X.fitInputWidth?"width":"minWidth"]:v.value,outline:"none"}),role:"region"},[q(h(Oi),{id:h(w),tag:"ul","wrap-class":h(a).be("suggestion","wrap"),"view-class":h(a).be("suggestion","list"),role:"listbox"},{default:re(()=>[h(A)?(E(),F("li",wte,[q(h(Ue),{class:I(h(a).is("loading"))},{default:re(()=>[q(h(Pa))]),_:1},8,["class"])])):(E(!0),F(Ye,{key:1},Tt(m.value,(ue,ye)=>(E(),F("li",{id:`${h(w)}-item-${ye}`,key:ye,class:I({highlighted:g.value===ye}),role:"option","aria-selected":g.value===ye,onClick:Ae=>Y(ue)},[Ce(X.$slots,"default",{item:ue},()=>[dt(Oe(ue[X.valueKey]),1)])],10,Cte))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:re(()=>[L("div",{ref_key:"listboxRef",ref:d,class:I([h(a).b(),X.$attrs.class]),style:Ge(h(S)),role:"combobox","aria-haspopup":"listbox","aria-expanded":h(k),"aria-owns":h(w)},[q(h(vr),wt({ref_key:"inputRef",ref:l},h(s),{"model-value":X.modelValue,onInput:V,onChange:M,onFocus:_,onBlur:O,onClear:$,onKeydown:[G[0]||(G[0]=Ot(tt(ue=>fe(g.value-1),["prevent"]),["up"])),G[1]||(G[1]=Ot(tt(ue=>fe(g.value+1),["prevent"]),["down"])),Ot(K,["enter"]),Ot(W,["tab"]),Ot(J,["esc"])],onMousedown:z}),Ca({_:2},[X.$slots.prepend?{name:"prepend",fn:re(()=>[Ce(X.$slots,"prepend")])}:void 0,X.$slots.append?{name:"append",fn:re(()=>[Ce(X.$slots,"append")])}:void 0,X.$slots.prefix?{name:"prefix",fn:re(()=>[Ce(X.$slots,"prefix")])}:void 0,X.$slots.suffix?{name:"suffix",fn:re(()=>[Ce(X.$slots,"suffix")])}:void 0]),1040,["model-value","onKeydown"])],14,bte)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Ete=Re(kte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const Tte=mt(Ete),_te=Pe({size:{type:[Number,String],values:xi,default:"",validator:t=>it(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:tn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:me(String),default:"cover"}}),xte={error:t=>t instanceof Event},Ite=["src","alt","srcset"],Mte=te({name:"ElAvatar"}),Ate=te({...Mte,props:_te,emits:xte,setup(t,{emit:e}){const n=t,r=ke("avatar"),s=D(!1),o=T(()=>{const{size:c,icon:u,shape:d}=n,f=[r.b()];return rt(c)&&f.push(r.m(c)),u&&f.push(r.m("icon")),d&&f.push(r.m(d)),f}),i=T(()=>{const{size:c}=n;return it(c)?r.cssVarBlock({size:xn(c)||""}):void 0}),a=T(()=>({objectFit:n.fit}));Ee(()=>n.src,()=>s.value=!1);function l(c){s.value=!0,e("error",c)}return(c,u)=>(E(),F("span",{class:I(h(o)),style:Ge(h(i))},[(c.src||c.srcSet)&&!s.value?(E(),F("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:Ge(h(a)),onError:l},null,44,Ite)):c.icon?(E(),he(h(Ue),{key:1},{default:re(()=>[(E(),he(kt(c.icon)))]),_:1})):Ce(c.$slots,"default",{key:2})],6))}});var Ote=Re(Ate,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const Nte=mt(Ote),$te={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Rte={click:t=>t instanceof MouseEvent},Dte=(t,e,n)=>{const r=en(),s=en(),o=D(!1),i=()=>{if(!r.value)return;const u=Date.now(),d=r.value.scrollTop,f=()=>{if(!r.value)return;const p=(Date.now()-u)/500;p<1?(r.value.scrollTop=d*(1-$J(p)),requestAnimationFrame(f)):r.value.scrollTop=0};requestAnimationFrame(f)},a=()=>{r.value&&(o.value=r.value.scrollTop>=t.visibilityHeight)},l=u=>{i(),e("click",u)},c=W$(a,300,!0);return on(s,"scroll",c),lt(()=>{var u;s.value=document,r.value=document.documentElement,t.target&&(r.value=(u=document.querySelector(t.target))!=null?u:void 0,r.value||Rn(n,`target does not exist: ${t.target}`),s.value=r.value)}),{visible:o,handleClick:l}},sD="ElBacktop",Pte=te({name:sD}),Lte=te({...Pte,props:$te,emits:Rte,setup(t,{emit:e}){const n=t,r=ke("backtop"),{handleClick:s,visible:o}=Dte(n,e,sD),i=T(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(a,l)=>(E(),he(Sn,{name:`${h(r).namespace.value}-fade-in`},{default:re(()=>[h(o)?(E(),F("div",{key:0,style:Ge(h(i)),class:I(h(r).b()),onClick:l[0]||(l[0]=tt((...c)=>h(s)&&h(s)(...c),["stop"]))},[Ce(a.$slots,"default",{},()=>[q(h(Ue),{class:I(h(r).e("icon"))},{default:re(()=>[q(h(W7))]),_:1},8,["class"])])],6)):ce("v-if",!0)]),_:3},8,["name"]))}});var Bte=Re(Lte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const Fte=mt(Bte),Vte=Pe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),zte=["textContent"],Hte=te({name:"ElBadge"}),Kte=te({...Hte,props:Vte,setup(t,{expose:e}){const n=t,r=ke("badge"),s=T(()=>n.isDot?"":it(n.value)&&it(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return e({content:s}),(o,i)=>(E(),F("div",{class:I(h(r).b())},[Ce(o.$slots,"default"),q(Sn,{name:`${h(r).namespace.value}-zoom-in-center`,persisted:""},{default:re(()=>[ot(L("sup",{class:I([h(r).e("content"),h(r).em("content",o.type),h(r).is("fixed",!!o.$slots.default),h(r).is("dot",o.isDot)]),textContent:Oe(h(s))},null,10,zte),[[Dt,!o.hidden&&(h(s)||o.isDot)]])]),_:1},8,["name"])],2))}});var Ute=Re(Kte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const oD=mt(Ute),jte=Pe({separator:{type:String,default:"/"},separatorIcon:{type:tn}}),Wte=te({name:"ElBreadcrumb"}),qte=te({...Wte,props:jte,setup(t){const e=t,n=ke("breadcrumb"),r=D();return yt(iR,e),lt(()=>{const s=r.value.querySelectorAll(`.${n.e("item")}`);s.length&&s[s.length-1].setAttribute("aria-current","page")}),(s,o)=>(E(),F("div",{ref_key:"breadcrumb",ref:r,class:I(h(n).b()),"aria-label":"Breadcrumb",role:"navigation"},[Ce(s.$slots,"default")],2))}});var Gte=Re(qte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const Yte=Pe({to:{type:me([String,Object]),default:""},replace:{type:Boolean,default:!1}}),Xte=te({name:"ElBreadcrumbItem"}),Jte=te({...Xte,props:Yte,setup(t){const e=t,n=ht(),r=Fe(iR,void 0),s=ke("breadcrumb"),{separator:o,separatorIcon:i}=$n(r),a=n.appContext.config.globalProperties.$router,l=D(),c=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(u,d)=>(E(),F("span",{class:I(h(s).e("item"))},[L("span",{ref_key:"link",ref:l,class:I([h(s).e("inner"),h(s).is("link",!!u.to)]),role:"link",onClick:c},[Ce(u.$slots,"default")],2),h(i)?(E(),he(h(Ue),{key:0,class:I(h(s).e("separator"))},{default:re(()=>[(E(),he(kt(h(i))))]),_:1},8,["class"])):(E(),F("span",{key:1,class:I(h(s).e("separator")),role:"presentation"},Oe(h(o)),3))],2))}});var iD=Re(Jte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const Qte=mt(Gte,{BreadcrumbItem:iD}),Zte=vn(iD),ene=(t,e)=>{vi({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},T(()=>t.type==="text"));const n=Fe(aR,void 0),r=Ii("button"),{form:s}=zr(),o=In(T(()=>n==null?void 0:n.size)),i=ss(),a=D(),l=Qn(),c=T(()=>t.type||(n==null?void 0:n.type)||""),u=T(()=>{var p,m,g;return(g=(m=t.autoInsertSpace)!=null?m:(p=r.value)==null?void 0:p.autoInsertSpace)!=null?g:!1}),d=T(()=>{var p;const m=(p=l.default)==null?void 0:p.call(l);if(u.value&&(m==null?void 0:m.length)===1){const g=m[0];if((g==null?void 0:g.type)===ep){const v=g.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:i,_size:o,_type:c,_ref:a,shouldAddSpace:d,handleClick:p=>{t.nativeType==="reset"&&(s==null||s.resetFields()),e("click",p)}}},Tw=["default","primary","success","warning","info","danger","text",""],tne=["button","submit","reset"],_w=Pe({size:ns,disabled:Boolean,type:{type:String,values:Tw,default:""},icon:{type:tn},nativeType:{type:String,values:tne,default:"button"},loading:Boolean,loadingIcon:{type:tn,default:()=>Pa},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),nne={click:t=>t instanceof MouseEvent};function ir(t,e){rne(t)&&(t="100%");var n=sne(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Xp(t){return Math.min(1,Math.max(0,t))}function rne(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function sne(t){return typeof t=="string"&&t.indexOf("%")!==-1}function aD(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Jp(t){return t<=1?"".concat(Number(t)*100,"%"):t}function yl(t){return t.length===1?"0"+t:String(t)}function one(t,e,n){return{r:ir(t,255)*255,g:ir(e,255)*255,b:ir(n,255)*255}}function Px(t,e,n){t=ir(t,255),e=ir(e,255),n=ir(n,255);var r=Math.max(t,e,n),s=Math.min(t,e,n),o=0,i=0,a=(r+s)/2;if(r===s)i=0,o=0;else{var l=r-s;switch(i=a>.5?l/(2-r-s):l/(r+s),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:i,l:a}}function Bb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ine(t,e,n){var r,s,o;if(t=ir(t,360),e=ir(e,100),n=ir(n,100),e===0)s=n,o=n,r=n;else{var i=n<.5?n*(1+e):n+e-n*e,a=2*n-i;r=Bb(a,i,t+1/3),s=Bb(a,i,t),o=Bb(a,i,t-1/3)}return{r:r*255,g:s*255,b:o*255}}function Lx(t,e,n){t=ir(t,255),e=ir(e,255),n=ir(n,255);var r=Math.max(t,e,n),s=Math.min(t,e,n),o=0,i=r,a=r-s,l=r===0?0:a/r;if(r===s)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:i}}function ane(t,e,n){t=ir(t,360)*6,e=ir(e,100),n=ir(n,100);var r=Math.floor(t),s=t-r,o=n*(1-e),i=n*(1-s*e),a=n*(1-(1-s)*e),l=r%6,c=[n,i,o,o,a,n][l],u=[a,n,n,i,o,o][l],d=[o,o,a,n,n,i][l];return{r:c*255,g:u*255,b:d*255}}function Bx(t,e,n,r){var s=[yl(Math.round(t).toString(16)),yl(Math.round(e).toString(16)),yl(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function lne(t,e,n,r,s){var o=[yl(Math.round(t).toString(16)),yl(Math.round(e).toString(16)),yl(Math.round(n).toString(16)),yl(cne(r))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function cne(t){return Math.round(parseFloat(t)*255).toString(16)}function Fx(t){return cs(t)/255}function cs(t){return parseInt(t,16)}function une(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var xw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function dne(t){var e={r:0,g:0,b:0},n=1,r=null,s=null,o=null,i=!1,a=!1;return typeof t=="string"&&(t=pne(t)),typeof t=="object"&&(Yo(t.r)&&Yo(t.g)&&Yo(t.b)?(e=one(t.r,t.g,t.b),i=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Yo(t.h)&&Yo(t.s)&&Yo(t.v)?(r=Jp(t.s),s=Jp(t.v),e=ane(t.h,r,s),i=!0,a="hsv"):Yo(t.h)&&Yo(t.s)&&Yo(t.l)&&(r=Jp(t.s),o=Jp(t.l),e=ine(t.h,r,o),i=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=aD(n),{ok:i,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var fne="[-\\+]?\\d+%?",hne="[-\\+]?\\d*\\.\\d+%?",na="(?:".concat(hne,")|(?:").concat(fne,")"),Fb="[\\s|\\(]+(".concat(na,")[,|\\s]+(").concat(na,")[,|\\s]+(").concat(na,")\\s*\\)?"),Vb="[\\s|\\(]+(".concat(na,")[,|\\s]+(").concat(na,")[,|\\s]+(").concat(na,")[,|\\s]+(").concat(na,")\\s*\\)?"),Qs={CSS_UNIT:new RegExp(na),rgb:new RegExp("rgb"+Fb),rgba:new RegExp("rgba"+Vb),hsl:new RegExp("hsl"+Fb),hsla:new RegExp("hsla"+Vb),hsv:new RegExp("hsv"+Fb),hsva:new RegExp("hsva"+Vb),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function pne(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(xw[t])t=xw[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Qs.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Qs.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Qs.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Qs.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Qs.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Qs.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Qs.hex8.exec(t),n?{r:cs(n[1]),g:cs(n[2]),b:cs(n[3]),a:Fx(n[4]),format:e?"name":"hex8"}:(n=Qs.hex6.exec(t),n?{r:cs(n[1]),g:cs(n[2]),b:cs(n[3]),format:e?"name":"hex"}:(n=Qs.hex4.exec(t),n?{r:cs(n[1]+n[1]),g:cs(n[2]+n[2]),b:cs(n[3]+n[3]),a:Fx(n[4]+n[4]),format:e?"name":"hex8"}:(n=Qs.hex3.exec(t),n?{r:cs(n[1]+n[1]),g:cs(n[2]+n[2]),b:cs(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Yo(t){return Boolean(Qs.CSS_UNIT.exec(String(t)))}var lD=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=une(e)),this.originalInput=e;var s=dne(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,s,o=e.r/255,i=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=aD(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var e=Lx(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=Lx(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=Px(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=Px(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),Bx(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),lne(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ir(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ir(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Bx(this.r,this.g,this.b,!1),n=0,r=Object.entries(xw);n<r.length;n++){var s=r[n],o=s[0],i=s[1];if(e===i)return o}return!1},t.prototype.toString=function(e){var n=Boolean(e);e=e!=null?e:this.format;var r=!1,s=this.a<1&&this.a>=0,o=!n&&s&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Xp(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Xp(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Xp(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Xp(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),s=new t(e).toRgb(),o=n/100,i={r:(s.r-r.r)*o+r.r,g:(s.g-r.g)*o+r.g,b:(s.b-r.b)*o+r.b,a:(s.a-r.a)*o+r.a};return new t(i)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,o=[this];for(r.h=(r.h-(s*e>>1)+720)%360;--e;)r.h=(r.h+s)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,s=n.s,o=n.v,i=[],a=1/e;e--;)i.push(new t({h:r,s,v:o})),o=(o+a)%1;return i},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,s=[this],o=360/e,i=1;i<e;i++)s.push(new t({h:(r+i*o)%360,s:n.s,l:n.l}));return s},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Bi(t,e=20){return t.mix("#141414",e).toString()}function mne(t){const e=ss(),n=ke("button");return T(()=>{let r={};const s=t.color;if(s){const o=new lD(s),i=t.dark?o.tint(20).toString():Bi(o,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?Bi(o,90):o.tint(90).toString(),"text-color":s,"border-color":t.dark?Bi(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":i,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":i}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?Bi(o,90):o.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?Bi(o,50):o.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?Bi(o,80):o.tint(80).toString());else{const a=t.dark?Bi(o,30):o.tint(30).toString(),l=o.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":l,"border-color":s,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":i,"active-border-color":i}),e.value){const c=t.dark?Bi(o,50):o.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const gne=["aria-disabled","disabled","autofocus","type"],vne=te({name:"ElButton"}),yne=te({...vne,props:_w,emits:nne,setup(t,{expose:e,emit:n}){const r=t,s=mne(r),o=ke("button"),{_ref:i,_size:a,_type:l,_disabled:c,shouldAddSpace:u,handleClick:d}=ene(r,n);return e({ref:i,size:a,type:l,disabled:c,shouldAddSpace:u}),(f,p)=>(E(),F("button",{ref_key:"_ref",ref:i,class:I([h(o).b(),h(o).m(h(l)),h(o).m(h(a)),h(o).is("disabled",h(c)),h(o).is("loading",f.loading),h(o).is("plain",f.plain),h(o).is("round",f.round),h(o).is("circle",f.circle),h(o).is("text",f.text),h(o).is("link",f.link),h(o).is("has-bg",f.bg)]),"aria-disabled":h(c)||f.loading,disabled:h(c)||f.loading,autofocus:f.autofocus,type:f.nativeType,style:Ge(h(s)),onClick:p[0]||(p[0]=(...m)=>h(d)&&h(d)(...m))},[f.loading?(E(),F(Ye,{key:0},[f.$slots.loading?Ce(f.$slots,"loading",{key:0}):(E(),he(h(Ue),{key:1,class:I(h(o).is("loading"))},{default:re(()=>[(E(),he(kt(f.loadingIcon)))]),_:1},8,["class"]))],64)):f.icon||f.$slots.icon?(E(),he(h(Ue),{key:1},{default:re(()=>[f.icon?(E(),he(kt(f.icon),{key:0})):Ce(f.$slots,"icon",{key:1})]),_:3})):ce("v-if",!0),f.$slots.default?(E(),F("span",{key:2,class:I({[h(o).em("text","expand")]:h(u)})},[Ce(f.$slots,"default")],2)):ce("v-if",!0)],14,gne))}});var bne=Re(yne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const wne={size:_w.size,type:_w.type},Cne=te({name:"ElButtonGroup"}),Sne=te({...Cne,props:wne,setup(t){const e=t;yt(aR,Lt({size:pn(e,"size"),type:pn(e,"type")}));const n=ke("button");return(r,s)=>(E(),F("div",{class:I(`${h(n).b("group")}`)},[Ce(r.$slots,"default")],2))}});var cD=Re(Sne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ar=mt(bne,{ButtonGroup:cD}),uD=vn(cD);var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){var n=1e3,r=6e4,s=36e5,o="millisecond",i="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",p="year",m="date",g="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var V=["th","st","nd","rd"],z=B%100;return"["+B+(V[(z-20)%10]||V[z]||V[0])+"]"}},b=function(B,V,z){var M=String(B);return!M||M.length>=V?B:""+Array(V+1-M.length).join(z)+B},w={s:b,z:function(B){var V=-B.utcOffset(),z=Math.abs(V),M=Math.floor(z/60),_=z%60;return(V<=0?"+":"-")+b(M,2,"0")+":"+b(_,2,"0")},m:function B(V,z){if(V.date()<z.date())return-B(z,V);var M=12*(z.year()-V.year())+(z.month()-V.month()),_=V.clone().add(M,d),O=z-_<0,$=V.clone().add(M+(O?-1:1),d);return+(-(M+(z-_)/(O?_-$:$-_))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:d,y:p,w:u,d:c,D:m,h:l,m:a,s:i,ms:o,Q:f}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},S="en",k={};k[S]=C;var A=function(B){return B instanceof H},x=function B(V,z,M){var _;if(!V)return S;if(typeof V=="string"){var O=V.toLowerCase();k[O]&&(_=O),z&&(k[O]=z,_=O);var $=V.split("-");if(!_&&$.length>1)return B($[0])}else{var K=V.name;k[K]=V,_=K}return!M&&_&&(S=_),_||!M&&S},N=function(B,V){if(A(B))return B.clone();var z=typeof V=="object"?V:{};return z.date=B,z.args=arguments,new H(z)},R=w;R.l=x,R.i=A,R.w=function(B,V){return N(B,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var H=function(){function B(z){this.$L=x(z.locale,null,!0),this.parse(z)}var V=B.prototype;return V.parse=function(z){this.$d=function(M){var _=M.date,O=M.utc;if(_===null)return new Date(NaN);if(R.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var $=_.match(v);if($){var K=$[2]-1||0,J=($[7]||"0").substring(0,3);return O?new Date(Date.UTC($[1],K,$[3]||1,$[4]||0,$[5]||0,$[6]||0,J)):new Date($[1],K,$[3]||1,$[4]||0,$[5]||0,$[6]||0,J)}}return new Date(_)}(z),this.$x=z.x||{},this.init()},V.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},V.$utils=function(){return R},V.isValid=function(){return this.$d.toString()!==g},V.isSame=function(z,M){var _=N(z);return this.startOf(M)<=_&&_<=this.endOf(M)},V.isAfter=function(z,M){return N(z)<this.startOf(M)},V.isBefore=function(z,M){return this.endOf(M)<N(z)},V.$g=function(z,M,_){return R.u(z)?this[M]:this.set(_,z)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(z,M){var _=this,O=!!R.u(M)||M,$=R.p(z),K=function(G,ue){var ye=R.w(_.$u?Date.UTC(_.$y,ue,G):new Date(_.$y,ue,G),_);return O?ye:ye.endOf(c)},J=function(G,ue){return R.w(_.toDate()[G].apply(_.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(ue)),_)},W=this.$W,se=this.$M,ve=this.$D,Y="set"+(this.$u?"UTC":"");switch($){case p:return O?K(1,0):K(31,11);case d:return O?K(1,se):K(0,se+1);case u:var fe=this.$locale().weekStart||0,X=(W<fe?W+7:W)-fe;return K(O?ve-X:ve+(6-X),se);case c:case m:return J(Y+"Hours",0);case l:return J(Y+"Minutes",1);case a:return J(Y+"Seconds",2);case i:return J(Y+"Milliseconds",3);default:return this.clone()}},V.endOf=function(z){return this.startOf(z,!1)},V.$set=function(z,M){var _,O=R.p(z),$="set"+(this.$u?"UTC":""),K=(_={},_[c]=$+"Date",_[m]=$+"Date",_[d]=$+"Month",_[p]=$+"FullYear",_[l]=$+"Hours",_[a]=$+"Minutes",_[i]=$+"Seconds",_[o]=$+"Milliseconds",_)[O],J=O===c?this.$D+(M-this.$W):M;if(O===d||O===p){var W=this.clone().set(m,1);W.$d[K](J),W.init(),this.$d=W.set(m,Math.min(this.$D,W.daysInMonth())).$d}else K&&this.$d[K](J);return this.init(),this},V.set=function(z,M){return this.clone().$set(z,M)},V.get=function(z){return this[R.p(z)]()},V.add=function(z,M){var _,O=this;z=Number(z);var $=R.p(M),K=function(se){var ve=N(O);return R.w(ve.date(ve.date()+Math.round(se*z)),O)};if($===d)return this.set(d,this.$M+z);if($===p)return this.set(p,this.$y+z);if($===c)return K(1);if($===u)return K(7);var J=(_={},_[a]=r,_[l]=s,_[i]=n,_)[$]||1,W=this.$d.getTime()+z*J;return R.w(W,this)},V.subtract=function(z,M){return this.add(-1*z,M)},V.format=function(z){var M=this,_=this.$locale();if(!this.isValid())return _.invalidDate||g;var O=z||"YYYY-MM-DDTHH:mm:ssZ",$=R.z(this),K=this.$H,J=this.$m,W=this.$M,se=_.weekdays,ve=_.months,Y=function(ue,ye,Ae,j){return ue&&(ue[ye]||ue(M,O))||Ae[ye].slice(0,j)},fe=function(ue){return R.s(K%12||12,ue,"0")},X=_.meridiem||function(ue,ye,Ae){var j=ue<12?"AM":"PM";return Ae?j.toLowerCase():j},G={YY:String(this.$y).slice(-2),YYYY:this.$y,M:W+1,MM:R.s(W+1,2,"0"),MMM:Y(_.monthsShort,W,ve,3),MMMM:Y(ve,W),D:this.$D,DD:R.s(this.$D,2,"0"),d:String(this.$W),dd:Y(_.weekdaysMin,this.$W,se,2),ddd:Y(_.weekdaysShort,this.$W,se,3),dddd:se[this.$W],H:String(K),HH:R.s(K,2,"0"),h:fe(1),hh:fe(2),a:X(K,J,!0),A:X(K,J,!1),m:String(J),mm:R.s(J,2,"0"),s:String(this.$s),ss:R.s(this.$s,2,"0"),SSS:R.s(this.$ms,3,"0"),Z:$};return O.replace(y,function(ue,ye){return ye||G[ue]||$.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(z,M,_){var O,$=R.p(M),K=N(z),J=(K.utcOffset()-this.utcOffset())*r,W=this-K,se=R.m(this,K);return se=(O={},O[p]=se/12,O[d]=se,O[f]=se/3,O[u]=(W-J)/6048e5,O[c]=(W-J)/864e5,O[l]=W/s,O[a]=W/r,O[i]=W/n,O)[$]||W,_?se:R.a(se)},V.daysInMonth=function(){return this.endOf(d).$D},V.$locale=function(){return k[this.$L]},V.locale=function(z,M){if(!z)return this.$L;var _=this.clone(),O=x(z,M,!0);return O&&(_.$L=O),_},V.clone=function(){return R.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},B}(),P=H.prototype;return N.prototype=P,[["$ms",o],["$s",i],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",m]].forEach(function(B){P[B[1]]=function(V){return this.$g(V,B[0],B[1])}}),N.extend=function(B,V){return B.$i||(B(V,H,N),B.$i=!0),N},N.locale=x,N.isDayjs=A,N.unix=function(B){return N(1e3*B)},N.en=k[S],N.Ls=k,N.p={},N})})(dD);const ut=dD.exports;var fD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,a={},l=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(v){this[g]=+v}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),C=60*y[1]+(+y[2]||0);return C===0?0:y[0]==="+"?-C:C}(g)}],d=function(g){var v=a[g];return v&&(v.indexOf?v:v.s.concat(v.f))},f=function(g,v){var y,C=a.meridiem;if(C){for(var b=1;b<=24;b+=1)if(g.indexOf(C(b,0,v))>-1){y=b>12;break}}else y=g===(v?"pm":"PM");return y},p={A:[i,function(g){this.afternoon=f(g,!1)}],a:[i,function(g){this.afternoon=f(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[s,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[s,c("day")],Do:[i,function(g){var v=a.ordinal,y=g.match(/\d+/);if(this.day=y[0],v)for(var C=1;C<=31;C+=1)v(C).replace(/\[|\]/g,"")===g&&(this.day=C)}],M:[o,c("month")],MM:[s,c("month")],MMM:[i,function(g){var v=d("months"),y=(d("monthsShort")||v.map(function(C){return C.slice(0,3)})).indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[i,function(g){var v=d("months").indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,c("year")],YY:[s,function(g){this.year=l(g)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function m(g){var v,y;v=g,y=a&&a.formats;for(var C=(g=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,R,H){var P=H&&H.toUpperCase();return R||y[H]||n[H]||y[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(B,V,z){return V||z.slice(1)})})).match(r),b=C.length,w=0;w<b;w+=1){var S=C[w],k=p[S],A=k&&k[0],x=k&&k[1];C[w]=x?{regex:A,parser:x}:S.replace(/^\[|\]$/g,"")}return function(N){for(var R={},H=0,P=0;H<b;H+=1){var B=C[H];if(typeof B=="string")P+=B.length;else{var V=B.regex,z=B.parser,M=N.slice(P),_=V.exec(M)[0];z.call(R,_),N=N.replace(_,"")}}return function(O){var $=O.afternoon;if($!==void 0){var K=O.hours;$?K<12&&(O.hours+=12):K===12&&(O.hours=0),delete O.afternoon}}(R),R}}return function(g,v,y){y.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(l=g.parseTwoDigitYear);var C=v.prototype,b=C.parse;C.parse=function(w){var S=w.date,k=w.utc,A=w.args;this.$u=k;var x=A[1];if(typeof x=="string"){var N=A[2]===!0,R=A[3]===!0,H=N||R,P=A[2];R&&(P=A[2]),a=this.$locale(),!N&&P&&(a=y.Ls[P]),this.$d=function(M,_,O){try{if(["x","X"].indexOf(_)>-1)return new Date((_==="X"?1e3:1)*M);var $=m(_)(M),K=$.year,J=$.month,W=$.day,se=$.hours,ve=$.minutes,Y=$.seconds,fe=$.milliseconds,X=$.zone,G=new Date,ue=W||(K||J?1:G.getDate()),ye=K||G.getFullYear(),Ae=0;K&&!J||(Ae=J>0?J-1:G.getMonth());var j=se||0,ne=ve||0,ge=Y||0,Se=fe||0;return X?new Date(Date.UTC(ye,Ae,ue,j,ne,ge,Se+60*X.offset*1e3)):O?new Date(Date.UTC(ye,Ae,ue,j,ne,ge,Se)):new Date(ye,Ae,ue,j,ne,ge,Se)}catch{return new Date("")}}(S,x,k),this.init(),P&&P!==!0&&(this.$L=this.locale(P).$L),H&&S!=this.format(x)&&(this.$d=new Date("")),a={}}else if(x instanceof Array)for(var B=x.length,V=1;V<=B;V+=1){A[1]=x[V-1];var z=y.apply(this,A);if(z.isValid()){this.$d=z.$d,this.$L=z.$L,this.init();break}V===B&&(this.$d=new Date(""))}else b.call(this,w)}}})})(fD);const WS=fD.exports,Vx=["hours","minutes","seconds"],Iw="HH:mm:ss",Kc="YYYY-MM-DD",kne={date:Kc,dates:Kc,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Kc} ${Iw}`,monthrange:"YYYY-MM",daterange:Kc,datetimerange:`${Kc} ${Iw}`},zb=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],fa=t=>Array.from(Array.from({length:t}).keys()),hD=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),pD=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),zx=function(t,e){const n=Ul(t),r=Ul(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},Hx=function(t,e){const n=Be(t),r=Be(e);return n&&r?t.length!==e.length?!1:t.every((s,o)=>zx(s,e[o])):!n&&!r?zx(t,e):!1},Kx=function(t,e,n){const r=Os(e)||e==="x"?ut(t).locale(n):ut(t,e).locale(n);return r.isValid()?r:void 0},Ux=function(t,e,n){return Os(e)?t:e==="x"?+t:ut(t).locale(n).format(e)},Hb=(t,e)=>{var n;const r=[],s=e==null?void 0:e();for(let o=0;o<t;o++)r.push((n=s==null?void 0:s.includes(o))!=null?n:!1);return r},mD=Pe({disabledHours:{type:me(Function)},disabledMinutes:{type:me(Function)},disabledSeconds:{type:me(Function)}}),gD=Pe({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),qS=Pe({id:{type:me([Array,String])},name:{type:me([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:me([String,Object]),default:Da},editable:{type:Boolean,default:!0},prefixIcon:{type:me([String,Object]),default:""},size:ns,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:me(Object),default:()=>({})},modelValue:{type:me([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:me([Date,Array])},defaultTime:{type:me([Date,Array])},isRange:{type:Boolean,default:!1},...mD,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:me([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Ene=["id","name","placeholder","value","disabled","readonly"],Tne=["id","name","placeholder","value","disabled","readonly"],_ne=te({name:"Picker"}),xne=te({..._ne,props:qS,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,{lang:s}=Ft(),o=ke("date"),i=ke("input"),a=ke("range"),{form:l,formItem:c}=zr(),u=Fe("ElPopperOptions",{}),d=D(),f=D(),p=D(!1),m=D(!1),g=D(null);let v=!1,y=!1;Ee(p,U=>{U?ze(()=>{U&&(g.value=r.modelValue)}):(Q.value=null,ze(()=>{C(r.modelValue)}))});const C=(U,oe)=>{(oe||!Hx(U,g.value))&&(n("change",U),r.validateEvent&&(c==null||c.validate("change").catch(Z=>void 0)))},b=U=>{if(!Hx(r.modelValue,U)){let oe;Be(U)?oe=U.map(Z=>Ux(Z,r.valueFormat,s.value)):U&&(oe=Ux(U,r.valueFormat,s.value)),n("update:modelValue",U&&oe,s.value)}},w=U=>{n("keydown",U)},S=T(()=>{if(f.value){const U=ne.value?f.value:f.value.$el;return Array.from(U.querySelectorAll("input"))}return[]}),k=(U,oe,Z)=>{const be=S.value;!be.length||(!Z||Z==="min"?(be[0].setSelectionRange(U,oe),be[0].focus()):Z==="max"&&(be[1].setSelectionRange(U,oe),be[1].focus()))},A=()=>{z(!0,!0),ze(()=>{y=!1})},x=(U="",oe=!1)=>{oe||(y=!0),p.value=oe;let Z;Be(U)?Z=U.map(be=>be.toDate()):Z=U&&U.toDate(),Q.value=null,b(Z)},N=()=>{m.value=!0},R=()=>{n("visible-change",!0)},H=U=>{(U==null?void 0:U.key)===Xe.esc&&z(!0,!0)},P=()=>{m.value=!1,p.value=!1,y=!1,n("visible-change",!1)},B=()=>{p.value=!0},V=()=>{p.value=!1},z=(U=!0,oe=!1)=>{y=oe;const[Z,be]=h(S);let Ke=Z;!U&&ne.value&&(Ke=be),Ke&&Ke.focus()},M=U=>{r.readonly||$.value||p.value||y||(p.value=!0,n("focus",U))};let _;const O=U=>{const oe=async()=>{setTimeout(()=>{var Z;_===oe&&(!(((Z=d.value)==null?void 0:Z.isFocusInsideContent())&&!v)&&S.value.filter(be=>be.contains(document.activeElement)).length===0&&(Me(),p.value=!1,n("blur",U),r.validateEvent&&(c==null||c.validate("blur").catch(be=>void 0))),v=!1)},0)};_=oe,oe()},$=T(()=>r.disabled||(l==null?void 0:l.disabled)),K=T(()=>{let U;if(G.value?De.value.getDefaultValue&&(U=De.value.getDefaultValue()):Be(r.modelValue)?U=r.modelValue.map(oe=>Kx(oe,r.valueFormat,s.value)):U=Kx(r.modelValue,r.valueFormat,s.value),De.value.getRangeAvailableTime){const oe=De.value.getRangeAvailableTime(U);bs(oe,U)||(U=oe,b(Be(U)?U.map(Z=>Z.toDate()):U.toDate()))}return Be(U)&&U.some(oe=>!oe)&&(U=[]),U}),J=T(()=>{if(!De.value.panelReady)return"";const U=ee(K.value);return Be(Q.value)?[Q.value[0]||U&&U[0]||"",Q.value[1]||U&&U[1]||""]:Q.value!==null?Q.value:!se.value&&G.value||!p.value&&G.value?"":U?ve.value?U.join(", "):U:""}),W=T(()=>r.type.includes("time")),se=T(()=>r.type.startsWith("time")),ve=T(()=>r.type==="dates"),Y=T(()=>r.prefixIcon||(W.value?Q$:D7)),fe=D(!1),X=U=>{r.readonly||$.value||fe.value&&(U.stopPropagation(),A(),b(null),C(null,!0),fe.value=!1,p.value=!1,De.value.handleClear&&De.value.handleClear())},G=T(()=>{const{modelValue:U}=r;return!U||Be(U)&&!U.filter(Boolean).length}),ue=async U=>{var oe;r.readonly||$.value||(((oe=U.target)==null?void 0:oe.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(p.value=!0)},ye=()=>{r.readonly||$.value||!G.value&&r.clearable&&(fe.value=!0)},Ae=()=>{fe.value=!1},j=U=>{var oe;r.readonly||$.value||(((oe=U.touches[0].target)==null?void 0:oe.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(p.value=!0)},ne=T(()=>r.type.includes("range")),ge=In(),Se=T(()=>{var U,oe;return(oe=(U=h(d))==null?void 0:U.popperRef)==null?void 0:oe.contentRef}),_e=T(()=>{var U;return h(ne)?h(f):(U=h(f))==null?void 0:U.$el});gS(_e,U=>{const oe=h(Se),Z=h(_e);oe&&(U.target===oe||U.composedPath().includes(oe))||U.target===Z||U.composedPath().includes(Z)||(p.value=!1)});const Q=D(null),Me=()=>{if(Q.value){const U=pe(J.value);U&&de(U)&&(b(Be(U)?U.map(oe=>oe.toDate()):U.toDate()),Q.value=null)}Q.value===""&&(b(null),C(null),Q.value=null)},pe=U=>U?De.value.parseUserInput(U):null,ee=U=>U?De.value.formatToString(U):null,de=U=>De.value.isValidValue(U),le=async U=>{if(r.readonly||$.value)return;const{code:oe}=U;if(w(U),oe===Xe.esc){p.value===!0&&(p.value=!1,U.preventDefault(),U.stopPropagation());return}if(oe===Xe.down&&(De.value.handleFocusPicker&&(U.preventDefault(),U.stopPropagation()),p.value===!1&&(p.value=!0,await ze()),De.value.handleFocusPicker)){De.value.handleFocusPicker();return}if(oe===Xe.tab){v=!0;return}if(oe===Xe.enter||oe===Xe.numpadEnter){(Q.value===null||Q.value===""||de(pe(J.value)))&&(Me(),p.value=!1),U.stopPropagation();return}if(Q.value){U.stopPropagation();return}De.value.handleKeydownInput&&De.value.handleKeydownInput(U)},Te=U=>{Q.value=U,p.value||(p.value=!0)},Le=U=>{const oe=U.target;Q.value?Q.value=[oe.value,Q.value[1]]:Q.value=[oe.value,null]},ae=U=>{const oe=U.target;Q.value?Q.value=[Q.value[0],oe.value]:Q.value=[null,oe.value]},we=()=>{var U;const oe=Q.value,Z=pe(oe&&oe[0]),be=h(K);if(Z&&Z.isValid()){Q.value=[ee(Z),((U=J.value)==null?void 0:U[1])||null];const Ke=[Z,be&&(be[1]||null)];de(Ke)&&(b(Ke),Q.value=null)}},$e=()=>{var U;const oe=h(Q),Z=pe(oe&&oe[1]),be=h(K);if(Z&&Z.isValid()){Q.value=[((U=h(J))==null?void 0:U[0])||null,ee(Z)];const Ke=[be&&be[0],Z];de(Ke)&&(b(Ke),Q.value=null)}},De=D({}),ie=U=>{De.value[U[0]]=U[1],De.value.panelReady=!0},Ie=U=>{n("calendar-change",U)},je=(U,oe,Z)=>{n("panel-change",U,oe,Z)};return yt("EP_PICKER_BASE",{props:r}),e({focus:z,handleFocusInput:M,handleBlurInput:O,handleOpen:B,handleClose:V,onPick:x}),(U,oe)=>(E(),he(h(is),wt({ref_key:"refPopper",ref:d,visible:p.value,effect:"light",pure:"",trigger:"click"},U.$attrs,{role:"dialog",teleported:"",transition:`${h(o).namespace.value}-zoom-in-top`,"popper-class":[`${h(o).namespace.value}-picker__popper`,U.popperClass],"popper-options":h(u),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:N,onShow:R,onHide:P}),{default:re(()=>[h(ne)?(E(),F("div",{key:1,ref_key:"inputRef",ref:f,class:I([h(o).b("editor"),h(o).bm("editor",U.type),h(i).e("wrapper"),h(o).is("disabled",h($)),h(o).is("active",p.value),h(a).b("editor"),h(ge)?h(a).bm("editor",h(ge)):"",U.$attrs.class]),style:Ge(U.$attrs.style),onClick:M,onMouseenter:ye,onMouseleave:Ae,onTouchstart:j,onKeydown:le},[h(Y)?(E(),he(h(Ue),{key:0,class:I([h(i).e("icon"),h(a).e("icon")]),onMousedown:tt(ue,["prevent"]),onTouchstart:j},{default:re(()=>[(E(),he(kt(h(Y))))]),_:1},8,["class","onMousedown"])):ce("v-if",!0),L("input",{id:U.id&&U.id[0],autocomplete:"off",name:U.name&&U.name[0],placeholder:U.startPlaceholder,value:h(J)&&h(J)[0],disabled:h($),readonly:!U.editable||U.readonly,class:I(h(a).b("input")),onMousedown:ue,onInput:Le,onChange:we,onFocus:M,onBlur:O},null,42,Ene),Ce(U.$slots,"range-separator",{},()=>[L("span",{class:I(h(a).b("separator"))},Oe(U.rangeSeparator),3)]),L("input",{id:U.id&&U.id[1],autocomplete:"off",name:U.name&&U.name[1],placeholder:U.endPlaceholder,value:h(J)&&h(J)[1],disabled:h($),readonly:!U.editable||U.readonly,class:I(h(a).b("input")),onMousedown:ue,onFocus:M,onBlur:O,onInput:ae,onChange:$e},null,42,Tne),U.clearIcon?(E(),he(h(Ue),{key:1,class:I([h(i).e("icon"),h(a).e("close-icon"),{[h(a).e("close-icon--hidden")]:!fe.value}]),onClick:X},{default:re(()=>[(E(),he(kt(U.clearIcon)))]),_:1},8,["class"])):ce("v-if",!0)],38)):(E(),he(h(vr),{key:0,id:U.id,ref_key:"inputRef",ref:f,"container-role":"combobox","model-value":h(J),name:U.name,size:h(ge),disabled:h($),placeholder:U.placeholder,class:I([h(o).b("editor"),h(o).bm("editor",U.type),U.$attrs.class]),style:Ge(U.$attrs.style),readonly:!U.editable||U.readonly||h(ve)||U.type==="week",label:U.label,tabindex:U.tabindex,"validate-event":!1,onInput:Te,onFocus:M,onBlur:O,onKeydown:le,onChange:Me,onMousedown:ue,onMouseenter:ye,onMouseleave:Ae,onTouchstart:j,onClick:oe[0]||(oe[0]=tt(()=>{},["stop"]))},{prefix:re(()=>[h(Y)?(E(),he(h(Ue),{key:0,class:I(h(i).e("icon")),onMousedown:tt(ue,["prevent"]),onTouchstart:j},{default:re(()=>[(E(),he(kt(h(Y))))]),_:1},8,["class","onMousedown"])):ce("v-if",!0)]),suffix:re(()=>[fe.value&&U.clearIcon?(E(),he(h(Ue),{key:0,class:I(`${h(i).e("icon")} clear-icon`),onClick:tt(X,["stop"])},{default:re(()=>[(E(),he(kt(U.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:re(()=>[Ce(U.$slots,"default",{visible:p.value,actualVisible:m.value,parsedValue:h(K),format:U.format,unlinkPanels:U.unlinkPanels,type:U.type,defaultValue:U.defaultValue,onPick:x,onSelectRange:k,onSetPickerOption:ie,onCalendarChange:Ie,onPanelChange:je,onKeydown:H,onMousedown:oe[1]||(oe[1]=tt(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var vD=Re(xne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ine=Pe({...gD,datetimeRole:String,parsedValue:{type:me(Object)}}),yD=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(i,a,l,c)=>{const u={hour:t,minute:e,second:n};let d=i;return["hour","minute","second"].forEach(f=>{if(u[f]){let p;const m=u[f];switch(f){case"minute":{p=m(d.hour(),a,c);break}case"second":{p=m(d.hour(),d.minute(),a,c);break}default:{p=m(a,c);break}}if((p==null?void 0:p.length)&&!p.includes(d[f]())){const g=l?0:p.length-1;d=d[f](p[g])}}}),d},s={};return{timePickerOptions:s,getAvailableTime:r,onSetOption:([i,a])=>{s[i]=a}}},Kb=t=>{const e=(r,s)=>r||s,n=r=>r!==!0;return t.map(e).filter(n)},bD=(t,e,n)=>({getHoursList:(i,a)=>Hb(24,t&&(()=>t==null?void 0:t(i,a))),getMinutesList:(i,a,l)=>Hb(60,e&&(()=>e==null?void 0:e(i,a,l))),getSecondsList:(i,a,l,c)=>Hb(60,n&&(()=>n==null?void 0:n(i,a,l,c)))}),wD=(t,e,n)=>{const{getHoursList:r,getMinutesList:s,getSecondsList:o}=bD(t,e,n);return{getAvailableHours:(c,u)=>Kb(r(c,u)),getAvailableMinutes:(c,u,d)=>Kb(s(c,u,d)),getAvailableSeconds:(c,u,d,f)=>Kb(o(c,u,d,f))}},CD=t=>{const e=D(t.parsedValue);return Ee(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},Ui=new Map;let jx;It&&(document.addEventListener("mousedown",t=>jx=t),document.addEventListener("mouseup",t=>{for(const e of Ui.values())for(const{documentHandler:n}of e)n(t,jx)}));function Wx(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:uo(e.arg)&&n.push(e.arg),function(r,s){const o=e.instance.popperRef,i=r.target,a=s==null?void 0:s.target,l=!e||!e.instance,c=!i||!a,u=t.contains(i)||t.contains(a),d=t===i,f=n.length&&n.some(m=>m==null?void 0:m.contains(i))||n.length&&n.includes(a),p=o&&(o.contains(i)||o.contains(a));l||c||u||d||f||p||e.value(r,s)}}const Ta={beforeMount(t,e){Ui.has(t)||Ui.set(t,[]),Ui.get(t).push({documentHandler:Wx(t,e),bindingFn:e.value})},updated(t,e){Ui.has(t)||Ui.set(t,[]);const n=Ui.get(t),r=n.findIndex(o=>o.bindingFn===e.oldValue),s={documentHandler:Wx(t,e),bindingFn:e.value};r>=0?n.splice(r,1,s):n.push(s)},unmounted(t){Ui.delete(t)}},Mne=100,Ane=600,$g={beforeMount(t,e){const n=e.value,{interval:r=Mne,delay:s=Ane}=et(n)?{}:n;let o,i;const a=()=>et(n)?n():n.handler(),l=()=>{i&&(clearTimeout(i),i=void 0),o&&(clearInterval(o),o=void 0)};t.addEventListener("mousedown",c=>{c.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),i=setTimeout(()=>{o=setInterval(()=>{a()},r)},s))})}},Mw="_trap-focus-children",bl=[],qx=t=>{if(bl.length===0)return;const e=bl[bl.length-1][Mw];if(e.length>0&&t.code===Xe.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,r=t.target===e[0],s=t.target===e[e.length-1];r&&n&&(t.preventDefault(),e[e.length-1].focus()),s&&!n&&(t.preventDefault(),e[0].focus())}},One={beforeMount(t){t[Mw]=K_(t),bl.push(t),bl.length<=1&&document.addEventListener("keydown",qx)},updated(t){ze(()=>{t[Mw]=K_(t)})},unmounted(){bl.shift(),bl.length===0&&document.removeEventListener("keydown",qx)}};var Gx=!1,ul,Aw,Ow,zm,Hm,SD,Km,Nw,$w,Rw,kD,Dw,Pw,ED,TD;function Hr(){if(!Gx){Gx=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Dw=/\b(iPhone|iP[ao]d)/.exec(t),Pw=/\b(iP[ao]d)/.exec(t),Rw=/Android/i.exec(t),ED=/FBAN\/\w+;/i.exec(t),TD=/Mobile/i.exec(t),kD=!!/Win64/.exec(t),e){ul=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,ul&&document&&document.documentMode&&(ul=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);SD=r?parseFloat(r[1])+4:ul,Aw=e[2]?parseFloat(e[2]):NaN,Ow=e[3]?parseFloat(e[3]):NaN,zm=e[4]?parseFloat(e[4]):NaN,zm?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Hm=e&&e[1]?parseFloat(e[1]):NaN):Hm=NaN}else ul=Aw=Ow=Hm=zm=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Km=s?parseFloat(s[1].replace("_",".")):!0}else Km=!1;Nw=!!n[2],$w=!!n[3]}else Km=Nw=$w=!1}}var Lw={ie:function(){return Hr()||ul},ieCompatibilityMode:function(){return Hr()||SD>ul},ie64:function(){return Lw.ie()&&kD},firefox:function(){return Hr()||Aw},opera:function(){return Hr()||Ow},webkit:function(){return Hr()||zm},safari:function(){return Lw.webkit()},chrome:function(){return Hr()||Hm},windows:function(){return Hr()||Nw},osx:function(){return Hr()||Km},linux:function(){return Hr()||$w},iphone:function(){return Hr()||Dw},mobile:function(){return Hr()||Dw||Pw||Rw||TD},nativeApp:function(){return Hr()||ED},android:function(){return Hr()||Rw},ipad:function(){return Hr()||Pw}},Nne=Lw,Qp=!!(typeof window<"u"&&window.document&&window.document.createElement),$ne={canUseDOM:Qp,canUseWorkers:typeof Worker<"u",canUseEventListeners:Qp&&!!(window.addEventListener||window.attachEvent),canUseViewport:Qp&&!!window.screen,isInWorker:!Qp},_D=$ne,xD;_D.canUseDOM&&(xD=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Rne(t,e){if(!_D.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&xD&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Dne=Rne,Yx=10,Xx=40,Jx=800;function ID(t){var e=0,n=0,r=0,s=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*Yx,s=n*Yx,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(t.deltaMode==1?(r*=Xx,s*=Xx):(r*=Jx,s*=Jx)),r&&!e&&(e=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:s}}ID.getEventType=function(){return Nne.firefox()?"DOMMouseScroll":Dne("wheel")?"wheel":"mousewheel"};var Pne=ID;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Lne=function(t,e){if(t&&t.addEventListener){const n=function(r){const s=Pne(r);e&&Reflect.apply(e,this,[r,s])};t.addEventListener("wheel",n,{passive:!0})}},Bne={beforeMount(t,e){Lne(t,e.value)}},Fne=Pe({role:{type:String,required:!0},spinnerDate:{type:me(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:me(String),default:""},...mD}),Vne=["onClick"],zne=["onMouseenter"],Hne=te({__name:"basic-time-spinner",props:Fne,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,r=ke("time"),{getHoursList:s,getMinutesList:o,getSecondsList:i}=bD(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let a=!1;const l=D(),c=D(),u=D(),d=D(),f={hours:c,minutes:u,seconds:d},p=T(()=>n.showSeconds?Vx:Vx.slice(0,2)),m=T(()=>{const{spinnerDate:$}=n,K=$.hour(),J=$.minute(),W=$.second();return{hours:K,minutes:J,seconds:W}}),g=T(()=>{const{hours:$,minutes:K}=h(m);return{hours:s(n.role),minutes:o($,n.role),seconds:i($,K,n.role)}}),v=T(()=>{const{hours:$,minutes:K,seconds:J}=h(m);return{hours:zb($,23),minutes:zb(K,59),seconds:zb(J,59)}}),y=Pr($=>{a=!1,w($)},200),C=$=>{if(!!!n.amPmMode)return"";const J=n.amPmMode==="A";let W=$<12?" am":" pm";return J&&(W=W.toUpperCase()),W},b=$=>{let K;switch($){case"hours":K=[0,2];break;case"minutes":K=[3,5];break;case"seconds":K=[6,8];break}const[J,W]=K;e("select-range",J,W),l.value=$},w=$=>{A($,h(m)[$])},S=()=>{w("hours"),w("minutes"),w("seconds")},k=$=>$.querySelector(`.${r.namespace.value}-scrollbar__wrap`),A=($,K)=>{if(n.arrowControl)return;const J=h(f[$]);J&&J.$el&&(k(J.$el).scrollTop=Math.max(0,K*x($)))},x=$=>{const K=h(f[$]);return(K==null?void 0:K.$el.querySelector("li").offsetHeight)||0},N=()=>{H(1)},R=()=>{H(-1)},H=$=>{l.value||b("hours");const K=l.value,J=h(m)[K],W=l.value==="hours"?24:60,se=P(K,J,$,W);B(K,se),A(K,se),ze(()=>b(K))},P=($,K,J,W)=>{let se=(K+J+W)%W;const ve=h(g)[$];for(;ve[se]&&se!==K;)se=(se+J+W)%W;return se},B=($,K)=>{if(h(g)[$][K])return;const{hours:se,minutes:ve,seconds:Y}=h(m);let fe;switch($){case"hours":fe=n.spinnerDate.hour(K).minute(ve).second(Y);break;case"minutes":fe=n.spinnerDate.hour(se).minute(K).second(Y);break;case"seconds":fe=n.spinnerDate.hour(se).minute(ve).second(K);break}e("change",fe)},V=($,{value:K,disabled:J})=>{J||(B($,K),b($),A($,K))},z=$=>{a=!0,y($);const K=Math.min(Math.round((k(h(f[$]).$el).scrollTop-(M($)*.5-10)/x($)+3)/x($)),$==="hours"?23:59);B($,K)},M=$=>h(f[$]).$el.offsetHeight,_=()=>{const $=K=>{const J=h(f[K]);J&&J.$el&&(k(J.$el).onscroll=()=>{z(K)})};$("hours"),$("minutes"),$("seconds")};lt(()=>{ze(()=>{!n.arrowControl&&_(),S(),n.role==="start"&&b("hours")})});const O=($,K)=>{f[K].value=$};return e("set-option",[`${n.role}_scrollDown`,H]),e("set-option",[`${n.role}_emitSelectRange`,b]),Ee(()=>n.spinnerDate,()=>{a||S()}),($,K)=>(E(),F("div",{class:I([h(r).b("spinner"),{"has-seconds":$.showSeconds}])},[$.arrowControl?ce("v-if",!0):(E(!0),F(Ye,{key:0},Tt(h(p),J=>(E(),he(h(Oi),{key:J,ref_for:!0,ref:W=>O(W,J),class:I(h(r).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":h(r).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:W=>b(J),onMousemove:W=>w(J)},{default:re(()=>[(E(!0),F(Ye,null,Tt(h(g)[J],(W,se)=>(E(),F("li",{key:se,class:I([h(r).be("spinner","item"),h(r).is("active",se===h(m)[J]),h(r).is("disabled",W)]),onClick:ve=>V(J,{value:se,disabled:W})},[J==="hours"?(E(),F(Ye,{key:0},[dt(Oe(("0"+($.amPmMode?se%12||12:se)).slice(-2))+Oe(C(se)),1)],64)):(E(),F(Ye,{key:1},[dt(Oe(("0"+se).slice(-2)),1)],64))],10,Vne))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),$.arrowControl?(E(!0),F(Ye,{key:1},Tt(h(p),J=>(E(),F("div",{key:J,class:I([h(r).be("spinner","wrapper"),h(r).is("arrow")]),onMouseenter:W=>b(J)},[ot((E(),he(h(Ue),{class:I(["arrow-up",h(r).be("spinner","arrow")])},{default:re(()=>[q(h(ey))]),_:1},8,["class"])),[[h($g),R]]),ot((E(),he(h(Ue),{class:I(["arrow-down",h(r).be("spinner","arrow")])},{default:re(()=>[q(h(Ra))]),_:1},8,["class"])),[[h($g),N]]),L("ul",{class:I(h(r).be("spinner","list"))},[(E(!0),F(Ye,null,Tt(h(v)[J],(W,se)=>(E(),F("li",{key:se,class:I([h(r).be("spinner","item"),h(r).is("active",W===h(m)[J]),h(r).is("disabled",h(g)[J][W])])},[typeof W=="number"?(E(),F(Ye,{key:0},[J==="hours"?(E(),F(Ye,{key:0},[dt(Oe(("0"+($.amPmMode?W%12||12:W)).slice(-2))+Oe(C(W)),1)],64)):(E(),F(Ye,{key:1},[dt(Oe(("0"+W).slice(-2)),1)],64))],64)):ce("v-if",!0)],2))),128))],2)],42,zne))),128)):ce("v-if",!0)],2))}});var Bw=Re(Hne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Kne=te({__name:"panel-time-pick",props:Ine,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=Fe("EP_PICKER_BASE"),{arrowControl:s,disabledHours:o,disabledMinutes:i,disabledSeconds:a,defaultValue:l}=r.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=wD(o,i,a),f=ke("time"),{t:p,lang:m}=Ft(),g=D([0,2]),v=CD(n),y=T(()=>Un(n.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),C=T(()=>n.format.includes("ss")),b=T(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),w=O=>{const $=ut(O).locale(m.value),K=V($);return $.isSame(K)},S=()=>{e("pick",v.value,!1)},k=(O=!1,$=!1)=>{$||e("pick",n.parsedValue,O)},A=O=>{if(!n.visible)return;const $=V(O).millisecond(0);e("pick",$,!0)},x=(O,$)=>{e("select-range",O,$),g.value=[O,$]},N=O=>{const $=[0,3].concat(C.value?[6]:[]),K=["hours","minutes"].concat(C.value?["seconds"]:[]),W=($.indexOf(g.value[0])+O+$.length)%$.length;H.start_emitSelectRange(K[W])},R=O=>{const $=O.code,{left:K,right:J,up:W,down:se}=Xe;if([K,J].includes($)){N($===K?-1:1),O.preventDefault();return}if([W,se].includes($)){const ve=$===W?-1:1;H.start_scrollDown(ve),O.preventDefault();return}},{timePickerOptions:H,onSetOption:P,getAvailableTime:B}=yD({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),V=O=>B(O,n.datetimeRole||"",!0),z=O=>O?ut(O,n.format).locale(m.value):null,M=O=>O?O.format(n.format):null,_=()=>ut(l).locale(m.value);return e("set-picker-option",["isValidValue",w]),e("set-picker-option",["formatToString",M]),e("set-picker-option",["parseUserInput",z]),e("set-picker-option",["handleKeydownInput",R]),e("set-picker-option",["getRangeAvailableTime",V]),e("set-picker-option",["getDefaultValue",_]),(O,$)=>(E(),he(Sn,{name:h(y)},{default:re(()=>[O.actualVisible||O.visible?(E(),F("div",{key:0,class:I(h(f).b("panel"))},[L("div",{class:I([h(f).be("panel","content"),{"has-seconds":h(C)}])},[q(Bw,{ref:"spinner",role:O.datetimeRole||"start","arrow-control":h(s),"show-seconds":h(C),"am-pm-mode":h(b),"spinner-date":O.parsedValue,"disabled-hours":h(o),"disabled-minutes":h(i),"disabled-seconds":h(a),onChange:A,onSetOption:h(P),onSelectRange:x},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),L("div",{class:I(h(f).be("panel","footer"))},[L("button",{type:"button",class:I([h(f).be("panel","btn"),"cancel"]),onClick:S},Oe(h(p)("el.datepicker.cancel")),3),L("button",{type:"button",class:I([h(f).be("panel","btn"),"confirm"]),onClick:$[0]||($[0]=K=>k())},Oe(h(p)("el.datepicker.confirm")),3)],2)],2)):ce("v-if",!0)]),_:1},8,["name"]))}});var Rg=Re(Kne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const Une=Pe({...gD,parsedValue:{type:me(Array)}}),jne=["disabled"],Wne=te({__name:"panel-time-range",props:Une,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=(ue,ye)=>{const Ae=[];for(let j=ue;j<=ye;j++)Ae.push(j);return Ae},{t:s,lang:o}=Ft(),i=ke("time"),a=ke("picker"),l=Fe("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:d,disabledSeconds:f,defaultValue:p}=l.props,m=T(()=>n.parsedValue[0]),g=T(()=>n.parsedValue[1]),v=CD(n),y=()=>{e("pick",v.value,!1)},C=T(()=>n.format.includes("ss")),b=T(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),w=(ue=!1)=>{e("pick",[m.value,g.value],ue)},S=ue=>{x(ue.millisecond(0),g.value)},k=ue=>{x(m.value,ue.millisecond(0))},A=ue=>{const ye=ue.map(j=>ut(j).locale(o.value)),Ae=$(ye);return ye[0].isSame(Ae[0])&&ye[1].isSame(Ae[1])},x=(ue,ye)=>{e("pick",[ue,ye],!0)},N=T(()=>m.value>g.value),R=D([0,2]),H=(ue,ye)=>{e("select-range",ue,ye,"min"),R.value=[ue,ye]},P=T(()=>C.value?11:8),B=(ue,ye)=>{e("select-range",ue,ye,"max");const Ae=h(P);R.value=[ue+Ae,ye+Ae]},V=ue=>{const ye=C.value?[0,3,6,11,14,17]:[0,3,8,11],Ae=["hours","minutes"].concat(C.value?["seconds"]:[]),ne=(ye.indexOf(R.value[0])+ue+ye.length)%ye.length,ge=ye.length/2;ne<ge?se.start_emitSelectRange(Ae[ne]):se.end_emitSelectRange(Ae[ne-ge])},z=ue=>{const ye=ue.code,{left:Ae,right:j,up:ne,down:ge}=Xe;if([Ae,j].includes(ye)){V(ye===Ae?-1:1),ue.preventDefault();return}if([ne,ge].includes(ye)){const Se=ye===ne?-1:1,_e=R.value[0]<P.value?"start":"end";se[`${_e}_scrollDown`](Se),ue.preventDefault();return}},M=(ue,ye)=>{const Ae=u?u(ue):[],j=ue==="start",ge=(ye||(j?g.value:m.value)).hour(),Se=j?r(ge+1,23):r(0,ge-1);return $b(Ae,Se)},_=(ue,ye,Ae)=>{const j=d?d(ue,ye):[],ne=ye==="start",ge=Ae||(ne?g.value:m.value),Se=ge.hour();if(ue!==Se)return j;const _e=ge.minute(),Q=ne?r(_e+1,59):r(0,_e-1);return $b(j,Q)},O=(ue,ye,Ae,j)=>{const ne=f?f(ue,ye,Ae):[],ge=Ae==="start",Se=j||(ge?g.value:m.value),_e=Se.hour(),Q=Se.minute();if(ue!==_e||ye!==Q)return ne;const Me=Se.second(),pe=ge?r(Me+1,59):r(0,Me-1);return $b(ne,pe)},$=([ue,ye])=>[ve(ue,"start",!0,ye),ve(ye,"end",!1,ue)],{getAvailableHours:K,getAvailableMinutes:J,getAvailableSeconds:W}=wD(M,_,O),{timePickerOptions:se,getAvailableTime:ve,onSetOption:Y}=yD({getAvailableHours:K,getAvailableMinutes:J,getAvailableSeconds:W}),fe=ue=>ue?Be(ue)?ue.map(ye=>ut(ye,n.format).locale(o.value)):ut(ue,n.format).locale(o.value):null,X=ue=>ue?Be(ue)?ue.map(ye=>ye.format(n.format)):ue.format(n.format):null,G=()=>{if(Be(p))return p.map(ye=>ut(ye).locale(o.value));const ue=ut(p).locale(o.value);return[ue,ue.add(60,"m")]};return e("set-picker-option",["formatToString",X]),e("set-picker-option",["parseUserInput",fe]),e("set-picker-option",["isValidValue",A]),e("set-picker-option",["handleKeydownInput",z]),e("set-picker-option",["getDefaultValue",G]),e("set-picker-option",["getRangeAvailableTime",$]),(ue,ye)=>ue.actualVisible?(E(),F("div",{key:0,class:I([h(i).b("range-picker"),h(a).b("panel")])},[L("div",{class:I(h(i).be("range-picker","content"))},[L("div",{class:I(h(i).be("range-picker","cell"))},[L("div",{class:I(h(i).be("range-picker","header"))},Oe(h(s)("el.datepicker.startTime")),3),L("div",{class:I([h(i).be("range-picker","body"),h(i).be("panel","content"),h(i).is("arrow",h(c)),{"has-seconds":h(C)}])},[q(Bw,{ref:"minSpinner",role:"start","show-seconds":h(C),"am-pm-mode":h(b),"arrow-control":h(c),"spinner-date":h(m),"disabled-hours":M,"disabled-minutes":_,"disabled-seconds":O,onChange:S,onSetOption:h(Y),onSelectRange:H},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),L("div",{class:I(h(i).be("range-picker","cell"))},[L("div",{class:I(h(i).be("range-picker","header"))},Oe(h(s)("el.datepicker.endTime")),3),L("div",{class:I([h(i).be("range-picker","body"),h(i).be("panel","content"),h(i).is("arrow",h(c)),{"has-seconds":h(C)}])},[q(Bw,{ref:"maxSpinner",role:"end","show-seconds":h(C),"am-pm-mode":h(b),"arrow-control":h(c),"spinner-date":h(g),"disabled-hours":M,"disabled-minutes":_,"disabled-seconds":O,onChange:k,onSetOption:h(Y),onSelectRange:B},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),L("div",{class:I(h(i).be("panel","footer"))},[L("button",{type:"button",class:I([h(i).be("panel","btn"),"cancel"]),onClick:ye[0]||(ye[0]=Ae=>y())},Oe(h(s)("el.datepicker.cancel")),3),L("button",{type:"button",class:I([h(i).be("panel","btn"),"confirm"]),disabled:h(N),onClick:ye[1]||(ye[1]=Ae=>w())},Oe(h(s)("el.datepicker.confirm")),11,jne)],2)],2)):ce("v-if",!0)}});var qne=Re(Wne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);ut.extend(WS);var Gne=te({name:"ElTimePicker",install:null,props:{...qS,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=D(),[r,s]=t.isRange?["timerange",qne]:["time",Rg],o=i=>e.emit("update:modelValue",i);return yt("ElPopperOptions",t.popperOptions),e.expose({focus:i=>{var a;(a=n.value)==null||a.handleFocusInput(i)},blur:i=>{var a;(a=n.value)==null||a.handleBlurInput(i)},handleOpen:()=>{var i;(i=n.value)==null||i.handleOpen()},handleClose:()=>{var i;(i=n.value)==null||i.handleClose()}}),()=>{var i;const a=(i=t.format)!=null?i:Iw;return q(vD,wt(t,{ref:n,type:r,format:a,"onUpdate:modelValue":o}),{default:l=>q(s,l,null)})}}});const Um=Gne;Um.install=t=>{t.component(Um.name,Um)};const Yne=Um,Xne=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return fa(e).map((r,s)=>n-(e-s-1))},Jne=t=>{const e=t.daysInMonth();return fa(e).map((n,r)=>r+1)},Qne=t=>fa(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),Zne=Pe({selectedDay:{type:me(Object)},range:{type:me(Array)},date:{type:me(Object),required:!0},hideHeader:{type:Boolean}}),ere={pick:t=>Ct(t)};var MD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r,s){var o=r.prototype,i=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,p,m,g){var v=d.name?d:d.$locale(),y=i(v[f]),C=i(v[p]),b=y||C.map(function(S){return S.slice(0,m)});if(!g)return b;var w=v.weekStart;return b.map(function(S,k){return b[(k+(w||0))%7]})},l=function(){return s.Ls[s.locale()]},c=function(d,f){return d.formats[f]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,v){return g||v.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},s.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},s.months=function(){return a(l(),"months")},s.monthsShort=function(){return a(l(),"monthsShort","months",3)},s.weekdays=function(d){return a(l(),"weekdays",null,null,d)},s.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},s.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(MD);const AD=MD.exports,tre=(t,e)=>{ut.extend(AD);const n=ut.localeData().firstDayOfWeek(),{t:r,lang:s}=Ft(),o=ut().locale(s.value),i=T(()=>!!t.range&&!!t.range.length),a=T(()=>{let f=[];if(i.value){const[p,m]=t.range,g=fa(m.date()-p.date()+1).map(C=>({text:p.date()+C,type:"current"}));let v=g.length%7;v=v===0?0:7-v;const y=fa(v).map((C,b)=>({text:b+1,type:"next"}));f=g.concat(y)}else{const p=t.date.startOf("month").day(),m=Xne(t.date,(p-n+7)%7).map(C=>({text:C,type:"prev"})),g=Jne(t.date).map(C=>({text:C,type:"current"}));f=[...m,...g];const v=7-(f.length%7||7),y=fa(v).map((C,b)=>({text:b+1,type:"next"}));f=f.concat(y)}return Qne(f)}),l=T(()=>{const f=n;return f===0?Rb.map(p=>r(`el.datepicker.weeks.${p}`)):Rb.slice(f).concat(Rb.slice(0,f)).map(p=>r(`el.datepicker.weeks.${p}`))}),c=(f,p)=>{switch(p){case"prev":return t.date.startOf("month").subtract(1,"month").date(f);case"next":return t.date.startOf("month").add(1,"month").date(f);case"current":return t.date.date(f)}};return{now:o,isInRange:i,rows:a,weekDays:l,getFormattedDate:c,handlePickDay:({text:f,type:p})=>{const m=c(f,p);e("pick",m)},getSlotData:({text:f,type:p})=>{const m=c(f,p);return{isSelected:m.isSame(t.selectedDay),type:`${p}-month`,day:m.format("YYYY-MM-DD"),date:m.toDate()}}}},nre={key:0},rre=["onClick"],sre=te({name:"DateTable"}),ore=te({...sre,props:Zne,emits:ere,setup(t,{expose:e,emit:n}){const r=t,{isInRange:s,now:o,rows:i,weekDays:a,getFormattedDate:l,handlePickDay:c,getSlotData:u}=tre(r,n),d=ke("calendar-table"),f=ke("calendar-day"),p=({text:m,type:g})=>{const v=[g];if(g==="current"){const y=l(m,g);y.isSame(r.selectedDay,"day")&&v.push(f.is("selected")),y.isSame(o,"day")&&v.push(f.is("today"))}return v};return e({getFormattedDate:l}),(m,g)=>(E(),F("table",{class:I([h(d).b(),h(d).is("range",h(s))]),cellspacing:"0",cellpadding:"0"},[m.hideHeader?ce("v-if",!0):(E(),F("thead",nre,[(E(!0),F(Ye,null,Tt(h(a),v=>(E(),F("th",{key:v},Oe(v),1))),128))])),L("tbody",null,[(E(!0),F(Ye,null,Tt(h(i),(v,y)=>(E(),F("tr",{key:y,class:I({[h(d).e("row")]:!0,[h(d).em("row","hide-border")]:y===0&&m.hideHeader})},[(E(!0),F(Ye,null,Tt(v,(C,b)=>(E(),F("td",{key:b,class:I(p(C)),onClick:w=>h(c)(C)},[L("div",{class:I(h(f).b())},[Ce(m.$slots,"date-cell",{data:h(u)(C)},()=>[L("span",null,Oe(C.text),1)])],2)],10,rre))),128))],2))),128))])],2))}});var Qx=Re(ore,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const ire=(t,e)=>{const n=t.endOf("month"),r=e.startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r;return[[t,n],[o.startOf("week"),e]]},are=(t,e)=>{const n=t.endOf("month"),r=t.add(1,"month").startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r,o=s.endOf("month"),i=e.startOf("month"),a=o.isSame(i,"week")?i.add(1,"week"):i;return[[t,n],[s.startOf("week"),o],[a.startOf("week"),e]]},lre=(t,e,n)=>{const r=Qn(),{lang:s}=Ft(),o=D(),i=ut().locale(s.value),a=T({get(){return t.modelValue?c.value:o.value},set(y){if(!y)return;o.value=y;const C=y.toDate();e(Rr,C),e(pt,C)}}),l=T(()=>{if(!t.range)return[];const y=t.range.map(w=>ut(w).locale(s.value)),[C,b]=y;return C.isAfter(b)?[]:C.isSame(b,"month")?m(C,b):C.add(1,"month").month()!==b.month()?[]:m(C,b)}),c=T(()=>t.modelValue?ut(t.modelValue).locale(s.value):a.value||(l.value.length?l.value[0][0]:i)),u=T(()=>c.value.subtract(1,"month").date(1)),d=T(()=>c.value.add(1,"month").date(1)),f=T(()=>c.value.subtract(1,"year").date(1)),p=T(()=>c.value.add(1,"year").date(1)),m=(y,C)=>{const b=y.startOf("week"),w=C.endOf("week"),S=b.get("month"),k=w.get("month");return S===k?[[b,w]]:(S+1)%12===k?ire(b,w):S+2===k||(S+1)%11===k?are(b,w):[]},g=y=>{a.value=y},v=y=>{const b={"prev-month":u.value,"next-month":d.value,"prev-year":f.value,"next-year":p.value,today:i}[y];b.isSame(c.value,"day")||g(b)};return vi({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},T(()=>!!r.dateCell)),{calculateValidatedDateRange:m,date:c,realSelectedDay:a,pickDay:g,selectDate:v,validatedRange:l}},cre=t=>Be(t)&&t.length===2&&t.every(e=>Ul(e)),ure=Pe({modelValue:{type:Date},range:{type:me(Array),validator:cre}}),dre={[pt]:t=>Ul(t),[Rr]:t=>Ul(t)},fre="ElCalendar",hre=te({name:fre}),pre=te({...hre,props:ure,emits:dre,setup(t,{expose:e,emit:n}){const r=t,s=ke("calendar"),{calculateValidatedDateRange:o,date:i,pickDay:a,realSelectedDay:l,selectDate:c,validatedRange:u}=lre(r,n),{t:d}=Ft(),f=T(()=>{const p=`el.datepicker.month${i.value.format("M")}`;return`${i.value.year()} ${d("el.datepicker.year")} ${d(p)}`});return e({selectedDay:l,pickDay:a,selectDate:c,calculateValidatedDateRange:o}),(p,m)=>(E(),F("div",{class:I(h(s).b())},[L("div",{class:I(h(s).e("header"))},[Ce(p.$slots,"header",{date:h(f)},()=>[L("div",{class:I(h(s).e("title"))},Oe(h(f)),3),h(u).length===0?(E(),F("div",{key:0,class:I(h(s).e("button-group"))},[q(h(uD),null,{default:re(()=>[q(h(ar),{size:"small",onClick:m[0]||(m[0]=g=>h(c)("prev-month"))},{default:re(()=>[dt(Oe(h(d)("el.datepicker.prevMonth")),1)]),_:1}),q(h(ar),{size:"small",onClick:m[1]||(m[1]=g=>h(c)("today"))},{default:re(()=>[dt(Oe(h(d)("el.datepicker.today")),1)]),_:1}),q(h(ar),{size:"small",onClick:m[2]||(m[2]=g=>h(c)("next-month"))},{default:re(()=>[dt(Oe(h(d)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):ce("v-if",!0)])],2),h(u).length===0?(E(),F("div",{key:0,class:I(h(s).e("body"))},[q(Qx,{date:h(i),"selected-day":h(l),onPick:h(a)},Ca({_:2},[p.$slots["date-cell"]||p.$slots.dateCell?{name:"date-cell",fn:re(g=>[p.$slots["date-cell"]?Ce(p.$slots,"date-cell",no(wt({key:0},g))):Ce(p.$slots,"dateCell",no(wt({key:1},g)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(E(),F("div",{key:1,class:I(h(s).e("body"))},[(E(!0),F(Ye,null,Tt(h(u),(g,v)=>(E(),he(Qx,{key:v,date:g[0],"selected-day":h(l),range:g,"hide-header":v!==0,onPick:h(a)},Ca({_:2},[p.$slots["date-cell"]||p.$slots.dateCell?{name:"date-cell",fn:re(y=>[p.$slots["date-cell"]?Ce(p.$slots,"date-cell",no(wt({key:0},y))):Ce(p.$slots,"dateCell",no(wt({key:1},y)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var mre=Re(pre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const gre=mt(mre),vre=Pe({header:{type:String,default:""},bodyStyle:{type:me([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),yre=te({name:"ElCard"}),bre=te({...yre,props:vre,setup(t){const e=ke("card");return(n,r)=>(E(),F("div",{class:I([h(e).b(),h(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(E(),F("div",{key:0,class:I(h(e).e("header"))},[Ce(n.$slots,"header",{},()=>[dt(Oe(n.header),1)])],2)):ce("v-if",!0),L("div",{class:I(h(e).e("body")),style:Ge(n.bodyStyle)},[Ce(n.$slots,"default")],6)],2))}});var wre=Re(bre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const Cre=mt(wre),Sre=Pe({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),kre={change:(t,e)=>[t,e].every(it)},Zx=300,Ere=(t,e,n)=>{const{children:r,addChild:s,removeChild:o}=RR(ht(),"ElCarouselItem"),i=D(-1),a=D(null),l=D(!1),c=D(),u=T(()=>t.arrow!=="never"&&!h(p)),d=T(()=>r.value.some(M=>M.props.label.toString().length>0)),f=T(()=>t.type==="card"),p=T(()=>t.direction==="vertical"),m=Ml(M=>{b(M)},Zx,{trailing:!0}),g=Ml(M=>{H(M)},Zx);function v(){a.value&&(clearInterval(a.value),a.value=null)}function y(){t.interval<=0||!t.autoplay||a.value||(a.value=setInterval(()=>C(),t.interval))}const C=()=>{i.value<r.value.length-1?i.value=i.value+1:t.loop&&(i.value=0)};function b(M){if(rt(M)){const $=r.value.filter(K=>K.props.name===M);$.length>0&&(M=r.value.indexOf($[0]))}if(M=Number(M),Number.isNaN(M)||M!==Math.floor(M))return;const _=r.value.length,O=i.value;M<0?i.value=t.loop?_-1:0:M>=_?i.value=t.loop?0:_-1:i.value=M,O===i.value&&w(O),V()}function w(M){r.value.forEach((_,O)=>{_.translateItem(O,i.value,M)})}function S(M,_){var O,$,K,J;const W=h(r),se=W.length;if(se===0||!M.states.inStage)return!1;const ve=_+1,Y=_-1,fe=se-1,X=W[fe].states.active,G=W[0].states.active,ue=($=(O=W[ve])==null?void 0:O.states)==null?void 0:$.active,ye=(J=(K=W[Y])==null?void 0:K.states)==null?void 0:J.active;return _===fe&&G||ue?"left":_===0&&X||ye?"right":!1}function k(){l.value=!0,t.pauseOnHover&&v()}function A(){l.value=!1,y()}function x(M){h(p)||r.value.forEach((_,O)=>{M===S(_,O)&&(_.states.hover=!0)})}function N(){h(p)||r.value.forEach(M=>{M.states.hover=!1})}function R(M){i.value=M}function H(M){t.trigger==="hover"&&M!==i.value&&(i.value=M)}function P(){b(i.value-1)}function B(){b(i.value+1)}function V(){v(),y()}Ee(()=>i.value,(M,_)=>{w(_),_>-1&&e("change",M,_)}),Ee(()=>t.autoplay,M=>{M?y():v()}),Ee(()=>t.loop,()=>{b(i.value)}),Ee(()=>t.interval,()=>{V()}),Ee(()=>r.value,()=>{r.value.length>0&&b(t.initialIndex)});const z=en();return lt(()=>{z.value=Sr(c.value,()=>{w()}),y()}),ln(()=>{v(),c.value&&z.value&&z.value.stop()}),yt(lR,{root:c,isCardType:f,isVertical:p,items:r,loop:t.loop,addItem:s,removeItem:o,setActiveItem:b}),{root:c,activeIndex:i,arrowDisplay:u,hasLabel:d,hover:l,isCardType:f,items:r,handleButtonEnter:x,handleButtonLeave:N,handleIndicatorClick:R,handleMouseEnter:k,handleMouseLeave:A,setActiveItem:b,prev:P,next:B,throttledArrowClick:m,throttledIndicatorHover:g}},Tre=["onMouseenter","onClick"],_re={key:0},xre="ElCarousel",Ire=te({name:xre}),Mre=te({...Ire,props:Sre,emits:kre,setup(t,{expose:e,emit:n}){const r=t,{root:s,activeIndex:o,arrowDisplay:i,hasLabel:a,hover:l,isCardType:c,items:u,handleButtonEnter:d,handleButtonLeave:f,handleIndicatorClick:p,handleMouseEnter:m,handleMouseLeave:g,setActiveItem:v,prev:y,next:C,throttledArrowClick:b,throttledIndicatorHover:w}=Ere(r,n),S=ke("carousel"),k=T(()=>{const x=[S.b(),S.m(r.direction)];return h(c)&&x.push(S.m("card")),x}),A=T(()=>{const x=[S.e("indicators"),S.em("indicators",r.direction)];return h(a)&&x.push(S.em("indicators","labels")),(r.indicatorPosition==="outside"||h(c))&&x.push(S.em("indicators","outside")),x});return e({setActiveItem:v,prev:y,next:C}),(x,N)=>(E(),F("div",{ref_key:"root",ref:s,class:I(h(k)),onMouseenter:N[6]||(N[6]=tt((...R)=>h(m)&&h(m)(...R),["stop"])),onMouseleave:N[7]||(N[7]=tt((...R)=>h(g)&&h(g)(...R),["stop"]))},[L("div",{class:I(h(S).e("container")),style:Ge({height:x.height})},[h(i)?(E(),he(Sn,{key:0,name:"carousel-arrow-left",persisted:""},{default:re(()=>[ot(L("button",{type:"button",class:I([h(S).e("arrow"),h(S).em("arrow","left")]),onMouseenter:N[0]||(N[0]=R=>h(d)("left")),onMouseleave:N[1]||(N[1]=(...R)=>h(f)&&h(f)(...R)),onClick:N[2]||(N[2]=tt(R=>h(b)(h(o)-1),["stop"]))},[q(h(Ue),null,{default:re(()=>[q(h(Sa))]),_:1})],34),[[Dt,(x.arrow==="always"||h(l))&&(r.loop||h(o)>0)]])]),_:1})):ce("v-if",!0),h(i)?(E(),he(Sn,{key:1,name:"carousel-arrow-right",persisted:""},{default:re(()=>[ot(L("button",{type:"button",class:I([h(S).e("arrow"),h(S).em("arrow","right")]),onMouseenter:N[3]||(N[3]=R=>h(d)("right")),onMouseleave:N[4]||(N[4]=(...R)=>h(f)&&h(f)(...R)),onClick:N[5]||(N[5]=tt(R=>h(b)(h(o)+1),["stop"]))},[q(h(Ue),null,{default:re(()=>[q(h($r))]),_:1})],34),[[Dt,(x.arrow==="always"||h(l))&&(r.loop||h(o)<h(u).length-1)]])]),_:1})):ce("v-if",!0),Ce(x.$slots,"default")],6),x.indicatorPosition!=="none"?(E(),F("ul",{key:0,class:I(h(A))},[(E(!0),F(Ye,null,Tt(h(u),(R,H)=>(E(),F("li",{key:H,class:I([h(S).e("indicator"),h(S).em("indicator",x.direction),h(S).is("active",H===h(o))]),onMouseenter:P=>h(w)(H),onClick:tt(P=>h(p)(H),["stop"])},[L("button",{class:I(h(S).e("button"))},[h(a)?(E(),F("span",_re,Oe(R.props.label),1)):ce("v-if",!0)],2)],42,Tre))),128))],2)):ce("v-if",!0)],34))}});var Are=Re(Mre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const Ore=Pe({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Nre=(t,e)=>{const n=Fe(lR),r=ht(),s=.83,o=D(!1),i=D(0),a=D(1),l=D(!1),c=D(!1),u=D(!1),d=D(!1),{isCardType:f,isVertical:p}=n;function m(b,w,S){const k=S-1,A=w-1,x=w+1,N=S/2;return w===0&&b===k?-1:w===k&&b===0?S:b<A&&w-b>=N?S+1:b>x&&b-w>=N?-2:b}function g(b,w){var S;const k=((S=n.root.value)==null?void 0:S.offsetWidth)||0;return u.value?k*((2-s)*(b-w)+1)/4:b<w?-(1+s)*k/4:(3+s)*k/4}function v(b,w,S){const k=n.root.value;return k?((S?k.offsetHeight:k.offsetWidth)||0)*(b-w):0}const y=(b,w,S)=>{var k;const A=h(f),x=(k=n.items.value.length)!=null?k:Number.NaN,N=b===w;!A&&!Un(S)&&(d.value=N||b===S),!N&&x>2&&n.loop&&(b=m(b,w,x));const R=h(p);l.value=N,A?(u.value=Math.round(Math.abs(b-w))<=1,i.value=g(b,w),a.value=h(l)?1:s):i.value=v(b,w,R),c.value=!0};function C(){if(n&&h(f)){const b=n.items.value.findIndex(({uid:w})=>w===r.uid);n.setActiveItem(b)}}return lt(()=>{n.addItem({props:t,states:Lt({hover:o,translate:i,scale:a,active:l,ready:c,inStage:u,animating:d}),uid:r.uid,translateItem:y})}),gc(()=>{n.removeItem(r.uid)}),{active:l,animating:d,hover:o,inStage:u,isVertical:p,translate:i,isCardType:f,scale:a,ready:c,handleItemClick:C}},$re=te({name:"ElCarouselItem"}),Rre=te({...$re,props:Ore,setup(t){const e=t,n=ke("carousel"),{active:r,animating:s,hover:o,inStage:i,isVertical:a,translate:l,isCardType:c,scale:u,ready:d,handleItemClick:f}=Nre(e),p=T(()=>{const g=`${`translate${h(a)?"Y":"X"}`}(${h(l)}px)`,v=`scale(${h(u)})`;return{transform:[g,v].join(" ")}});return(m,g)=>ot((E(),F("div",{class:I([h(n).e("item"),h(n).is("active",h(r)),h(n).is("in-stage",h(i)),h(n).is("hover",h(o)),h(n).is("animating",h(s)),{[h(n).em("item","card")]:h(c)}]),style:Ge(h(p)),onClick:g[0]||(g[0]=(...v)=>h(f)&&h(f)(...v))},[h(c)?ot((E(),F("div",{key:0,class:I(h(n).e("mask"))},null,2)),[[Dt,!h(r)]]):ce("v-if",!0),Ce(m.$slots,"default")],6)),[[Dt,h(d)]])}});var OD=Re(Rre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const Dre=mt(Are,{CarouselItem:OD}),Pre=vn(OD),ND={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:ns,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},$D={[pt]:t=>rt(t)||it(t)||Nn(t),change:t=>rt(t)||it(t)||Nn(t)},Lre=({model:t,isChecked:e})=>{const n=Fe(vd,void 0),r=T(()=>{var o,i;const a=(o=n==null?void 0:n.max)==null?void 0:o.value,l=(i=n==null?void 0:n.min)==null?void 0:i.value;return!Un(a)&&t.value.length>=a&&!e.value||!Un(l)&&t.value.length<=l&&e.value});return{isDisabled:ss(T(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},Bre=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:s,isLabeledByFormItem:o})=>{const i=Fe(vd,void 0),{formItem:a}=zr(),{emit:l}=ht();function c(m){var g,v;return m===t.trueLabel||m===!0?(g=t.trueLabel)!=null?g:!0:(v=t.falseLabel)!=null?v:!1}function u(m,g){l("change",c(m),g)}function d(m){if(n.value)return;const g=m.target;l("change",c(g.checked),m)}async function f(m){n.value||!r.value&&!s.value&&o.value&&(m.composedPath().some(y=>y.tagName==="LABEL")||(e.value=c([!1,t.falseLabel].includes(e.value)),await ze(),u(e.value,m)))}const p=T(()=>(i==null?void 0:i.validateEvent)||t.validateEvent);return Ee(()=>t.modelValue,()=>{p.value&&(a==null||a.validate("change").catch(m=>void 0))}),{handleChange:d,onClickRoot:f}},Fre=t=>{const e=D(!1),{emit:n}=ht(),r=Fe(vd,void 0),s=T(()=>Un(r)===!1),o=D(!1);return{model:T({get(){var a,l;return s.value?(a=r==null?void 0:r.modelValue)==null?void 0:a.value:(l=t.modelValue)!=null?l:e.value},set(a){var l,c;s.value&&Be(a)?(o.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&a.length>(r==null?void 0:r.max.value),o.value===!1&&((c=r==null?void 0:r.changeEvent)==null||c.call(r,a))):(n(pt,a),e.value=a)}}),isGroup:s,isLimitExceeded:o}},Vre=(t,e,{model:n})=>{const r=Fe(vd,void 0),s=D(!1),o=T(()=>{const c=n.value;return Nn(c)?c:Be(c)?Ct(t.label)?c.map(Ut).some(u=>bs(u,t.label)):c.map(Ut).includes(t.label):c!=null?c===t.trueLabel:!!c}),i=In(T(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value}),{prop:!0}),a=In(T(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value})),l=T(()=>!!(e.default||t.label));return{checkboxButtonSize:i,isChecked:o,isFocused:s,checkboxSize:a,hasOwnLabel:l}},zre=(t,{model:e})=>{function n(){Be(e.value)&&!e.value.includes(t.label)?e.value.push(t.label):e.value=t.trueLabel||!0}t.checked&&n()},RD=(t,e)=>{const{formItem:n}=zr(),{model:r,isGroup:s,isLimitExceeded:o}=Fre(t),{isFocused:i,isChecked:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u}=Vre(t,e,{model:r}),{isDisabled:d}=Lre({model:r,isChecked:a}),{inputId:f,isLabeledByFormItem:p}=La(t,{formItemContext:n,disableIdGeneration:u,disableIdManagement:s}),{handleChange:m,onClickRoot:g}=Bre(t,{model:r,isLimitExceeded:o,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:p});return zre(t,{model:r}),{inputId:f,isLabeledByFormItem:p,isChecked:a,isDisabled:d,isFocused:i,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:r,handleChange:m,onClickRoot:g}},Hre=["tabindex","role","aria-checked"],Kre=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Ure=["id","aria-hidden","disabled","value","name","tabindex"],jre=te({name:"ElCheckbox"}),Wre=te({...jre,props:ND,emits:$D,setup(t){const e=t,n=Qn(),{inputId:r,isLabeledByFormItem:s,isChecked:o,isDisabled:i,isFocused:a,checkboxSize:l,hasOwnLabel:c,model:u,handleChange:d,onClickRoot:f}=RD(e,n),p=ke("checkbox");return(m,g)=>(E(),he(kt(!h(c)&&h(s)?"span":"label"),{class:I([h(p).b(),h(p).m(h(l)),h(p).is("disabled",h(i)),h(p).is("bordered",m.border),h(p).is("checked",h(o))]),"aria-controls":m.indeterminate?m.controls:null,onClick:h(f)},{default:re(()=>[L("span",{class:I([h(p).e("input"),h(p).is("disabled",h(i)),h(p).is("checked",h(o)),h(p).is("indeterminate",m.indeterminate),h(p).is("focus",h(a))]),tabindex:m.indeterminate?0:void 0,role:m.indeterminate?"checkbox":void 0,"aria-checked":m.indeterminate?"mixed":void 0},[m.trueLabel||m.falseLabel?ot((E(),F("input",{key:0,id:h(r),"onUpdate:modelValue":g[0]||(g[0]=v=>Jt(u)?u.value=v:null),class:I(h(p).e("original")),type:"checkbox","aria-hidden":m.indeterminate?"true":"false",name:m.name,tabindex:m.tabindex,disabled:h(i),"true-value":m.trueLabel,"false-value":m.falseLabel,onChange:g[1]||(g[1]=(...v)=>h(d)&&h(d)(...v)),onFocus:g[2]||(g[2]=v=>a.value=!0),onBlur:g[3]||(g[3]=v=>a.value=!1)},null,42,Kre)),[[Jf,h(u)]]):ot((E(),F("input",{key:1,id:h(r),"onUpdate:modelValue":g[4]||(g[4]=v=>Jt(u)?u.value=v:null),class:I(h(p).e("original")),type:"checkbox","aria-hidden":m.indeterminate?"true":"false",disabled:h(i),value:m.label,name:m.name,tabindex:m.tabindex,onChange:g[5]||(g[5]=(...v)=>h(d)&&h(d)(...v)),onFocus:g[6]||(g[6]=v=>a.value=!0),onBlur:g[7]||(g[7]=v=>a.value=!1)},null,42,Ure)),[[Jf,h(u)]]),L("span",{class:I(h(p).e("inner"))},null,2)],10,Hre),h(c)?(E(),F("span",{key:0,class:I(h(p).e("label"))},[Ce(m.$slots,"default"),m.$slots.default?ce("v-if",!0):(E(),F(Ye,{key:0},[dt(Oe(m.label),1)],64))],2)):ce("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var qre=Re(Wre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Gre=["name","tabindex","disabled","true-value","false-value"],Yre=["name","tabindex","disabled","value"],Xre=te({name:"ElCheckboxButton"}),Jre=te({...Xre,props:ND,emits:$D,setup(t){const e=t,n=Qn(),{isFocused:r,isChecked:s,isDisabled:o,checkboxButtonSize:i,model:a,handleChange:l}=RD(e,n),c=Fe(vd,void 0),u=ke("checkbox"),d=T(()=>{var f,p,m,g;const v=(p=(f=c==null?void 0:c.fill)==null?void 0:f.value)!=null?p:"";return{backgroundColor:v,borderColor:v,color:(g=(m=c==null?void 0:c.textColor)==null?void 0:m.value)!=null?g:"",boxShadow:v?`-1px 0 0 0 ${v}`:void 0}});return(f,p)=>(E(),F("label",{class:I([h(u).b("button"),h(u).bm("button",h(i)),h(u).is("disabled",h(o)),h(u).is("checked",h(s)),h(u).is("focus",h(r))])},[f.trueLabel||f.falseLabel?ot((E(),F("input",{key:0,"onUpdate:modelValue":p[0]||(p[0]=m=>Jt(a)?a.value=m:null),class:I(h(u).be("button","original")),type:"checkbox",name:f.name,tabindex:f.tabindex,disabled:h(o),"true-value":f.trueLabel,"false-value":f.falseLabel,onChange:p[1]||(p[1]=(...m)=>h(l)&&h(l)(...m)),onFocus:p[2]||(p[2]=m=>r.value=!0),onBlur:p[3]||(p[3]=m=>r.value=!1)},null,42,Gre)),[[Jf,h(a)]]):ot((E(),F("input",{key:1,"onUpdate:modelValue":p[4]||(p[4]=m=>Jt(a)?a.value=m:null),class:I(h(u).be("button","original")),type:"checkbox",name:f.name,tabindex:f.tabindex,disabled:h(o),value:f.label,onChange:p[5]||(p[5]=(...m)=>h(l)&&h(l)(...m)),onFocus:p[6]||(p[6]=m=>r.value=!0),onBlur:p[7]||(p[7]=m=>r.value=!1)},null,42,Yre)),[[Jf,h(a)]]),f.$slots.default||f.label?(E(),F("span",{key:2,class:I(h(u).be("button","inner")),style:Ge(h(s)?h(d):void 0)},[Ce(f.$slots,"default",{},()=>[dt(Oe(f.label),1)])],6)):ce("v-if",!0)],2))}});var DD=Re(Jre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Qre=Pe({modelValue:{type:me(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ns,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Zre={[pt]:t=>Be(t),change:t=>Be(t)},ese=te({name:"ElCheckboxGroup"}),tse=te({...ese,props:Qre,emits:Zre,setup(t,{emit:e}){const n=t,r=ke("checkbox"),{formItem:s}=zr(),{inputId:o,isLabeledByFormItem:i}=La(n,{formItemContext:s}),a=async c=>{e(pt,c),await ze(),e("change",c)},l=T({get(){return n.modelValue},set(c){a(c)}});return yt(vd,{...si($n(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),Ee(()=>n.modelValue,()=>{n.validateEvent&&(s==null||s.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return E(),he(kt(c.tag),{id:h(o),class:I(h(r).b("group")),role:"group","aria-label":h(i)?void 0:c.label||"checkbox-group","aria-labelledby":h(i)?(d=h(s))==null?void 0:d.labelId:void 0},{default:re(()=>[Ce(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var PD=Re(tse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Ws=mt(qre,{CheckboxButton:DD,CheckboxGroup:PD}),nse=vn(DD),LD=vn(PD),BD=Pe({size:ns,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),rse=Pe({...BD,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),FD={[pt]:t=>rt(t)||it(t)||Nn(t),[an]:t=>rt(t)||it(t)||Nn(t)},VD=(t,e)=>{const n=D(),r=Fe(hR,void 0),s=T(()=>!!r),o=T({get(){return s.value?r.modelValue:t.modelValue},set(u){s.value?r.changeEvent(u):e&&e(pt,u),n.value.checked=t.modelValue===t.label}}),i=In(T(()=>r==null?void 0:r.size)),a=ss(T(()=>r==null?void 0:r.disabled)),l=D(!1),c=T(()=>a.value||s.value&&o.value!==t.label?-1:0);return{radioRef:n,isGroup:s,radioGroup:r,focus:l,size:i,disabled:a,tabIndex:c,modelValue:o}},sse=["value","name","disabled"],ose=te({name:"ElRadio"}),ise=te({...ose,props:rse,emits:FD,setup(t,{emit:e}){const n=t,r=ke("radio"),{radioRef:s,radioGroup:o,focus:i,size:a,disabled:l,modelValue:c}=VD(n,e);function u(){ze(()=>e("change",c.value))}return(d,f)=>{var p;return E(),F("label",{class:I([h(r).b(),h(r).is("disabled",h(l)),h(r).is("focus",h(i)),h(r).is("bordered",d.border),h(r).is("checked",h(c)===d.label),h(r).m(h(a))])},[L("span",{class:I([h(r).e("input"),h(r).is("disabled",h(l)),h(r).is("checked",h(c)===d.label)])},[ot(L("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":f[0]||(f[0]=m=>Jt(c)?c.value=m:null),class:I(h(r).e("original")),value:d.label,name:d.name||((p=h(o))==null?void 0:p.name),disabled:h(l),type:"radio",onFocus:f[1]||(f[1]=m=>i.value=!0),onBlur:f[2]||(f[2]=m=>i.value=!1),onChange:u},null,42,sse),[[a$,h(c)]]),L("span",{class:I(h(r).e("inner"))},null,2)],2),L("span",{class:I(h(r).e("label")),onKeydown:f[3]||(f[3]=tt(()=>{},["stop"]))},[Ce(d.$slots,"default",{},()=>[dt(Oe(d.label),1)])],34)],2)}}});var ase=Re(ise,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const lse=Pe({...BD,name:{type:String,default:""}}),cse=["value","name","disabled"],use=te({name:"ElRadioButton"}),dse=te({...use,props:lse,setup(t){const e=t,n=ke("radio"),{radioRef:r,focus:s,size:o,disabled:i,modelValue:a,radioGroup:l}=VD(e),c=T(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(u,d)=>{var f;return E(),F("label",{class:I([h(n).b("button"),h(n).is("active",h(a)===u.label),h(n).is("disabled",h(i)),h(n).is("focus",h(s)),h(n).bm("button",h(o))])},[ot(L("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":d[0]||(d[0]=p=>Jt(a)?a.value=p:null),class:I(h(n).be("button","original-radio")),value:u.label,type:"radio",name:u.name||((f=h(l))==null?void 0:f.name),disabled:h(i),onFocus:d[1]||(d[1]=p=>s.value=!0),onBlur:d[2]||(d[2]=p=>s.value=!1)},null,42,cse),[[a$,h(a)]]),L("span",{class:I(h(n).be("button","inner")),style:Ge(h(a)===u.label?h(c):{}),onKeydown:d[3]||(d[3]=tt(()=>{},["stop"]))},[Ce(u.$slots,"default",{},()=>[dt(Oe(u.label),1)])],38)],2)}}});var zD=Re(dse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const fse=Pe({id:{type:String,default:void 0},size:ns,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),hse=FD,pse=["id","aria-label","aria-labelledby"],mse=te({name:"ElRadioGroup"}),gse=te({...mse,props:fse,emits:hse,setup(t,{emit:e}){const n=t,r=ke("radio"),s=ho(),o=D(),{formItem:i}=zr(),{inputId:a,isLabeledByFormItem:l}=La(n,{formItemContext:i}),c=d=>{e(pt,d),ze(()=>e("change",d))};lt(()=>{const d=o.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(p=>p.checked)&&f&&(f.tabIndex=0)});const u=T(()=>n.name||s.value);return yt(hR,Lt({...$n(n),changeEvent:c,name:u})),Ee(()=>n.modelValue,()=>{n.validateEvent&&(i==null||i.validate("change").catch(d=>void 0))}),(d,f)=>(E(),F("div",{id:h(a),ref_key:"radioGroupRef",ref:o,class:I(h(r).b("group")),role:"radiogroup","aria-label":h(l)?void 0:d.label||"radio-group","aria-labelledby":h(l)?h(i).labelId:void 0},[Ce(d.$slots,"default")],10,pse))}});var HD=Re(gse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const KD=mt(ase,{RadioButton:zD,RadioGroup:HD}),vse=vn(HD),yse=vn(zD);var bse=te({name:"NodeContent",setup(){return{ns:ke("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:r,label:s}=e,{renderLabelFn:o}=n;return He("span",{class:t.e("label")},o?o({node:e,data:r}):s)}});const GS=Symbol(),wse=te({name:"ElCascaderNode",components:{ElCheckbox:Ws,ElRadio:KD,NodeContent:bse,ElIcon:Ue,Check:ip,Loading:Pa,ArrowRight:$r},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=Fe(GS),r=ke("cascader-node"),s=T(()=>n.isHoverMenu),o=T(()=>n.config.multiple),i=T(()=>n.config.checkStrictly),a=T(()=>{var k;return(k=n.checkedNodes[0])==null?void 0:k.uid}),l=T(()=>t.node.isDisabled),c=T(()=>t.node.isLeaf),u=T(()=>i.value&&!c.value||!l.value),d=T(()=>p(n.expandingNode)),f=T(()=>i.value&&n.checkedNodes.some(p)),p=k=>{var A;const{level:x,uid:N}=t.node;return((A=k==null?void 0:k.pathNodes[x-1])==null?void 0:A.uid)===N},m=()=>{d.value||n.expandNode(t.node)},g=k=>{const{node:A}=t;k!==A.checked&&n.handleCheckChange(A,k)},v=()=>{n.lazyLoad(t.node,()=>{c.value||m()})},y=k=>{!s.value||(C(),!c.value&&e("expand",k))},C=()=>{const{node:k}=t;!u.value||k.loading||(k.loaded?m():v())},b=()=>{s.value&&!c.value||(c.value&&!l.value&&!i.value&&!o.value?S(!0):C())},w=k=>{i.value?(g(k),t.node.loaded&&m()):S(k)},S=k=>{t.node.loaded?(g(k),!i.value&&m()):v()};return{panel:n,isHoverMenu:s,multiple:o,checkStrictly:i,checkedNodeId:a,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:f,ns:r,handleHoverExpand:y,handleExpand:C,handleClick:b,handleCheck:S,handleSelectCheck:w}}}),Cse=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Sse=L("span",null,null,-1);function kse(t,e,n,r,s,o){const i=Je("el-checkbox"),a=Je("el-radio"),l=Je("check"),c=Je("el-icon"),u=Je("node-content"),d=Je("loading"),f=Je("arrow-right");return E(),F("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:I([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...p)=>t.handleHoverExpand&&t.handleHoverExpand(...p)),onFocus:e[3]||(e[3]=(...p)=>t.handleHoverExpand&&t.handleHoverExpand(...p)),onClick:e[4]||(e[4]=(...p)=>t.handleClick&&t.handleClick(...p))},[ce(" prefix "),t.multiple?(E(),he(i,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=tt(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(E(),he(a,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:e[1]||(e[1]=tt(()=>{},["stop"]))},{default:re(()=>[ce(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Sse]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(E(),he(c,{key:2,class:I(t.ns.e("prefix"))},{default:re(()=>[q(l)]),_:1},8,["class"])):ce("v-if",!0),ce(" content "),q(u),ce(" postfix "),t.isLeaf?ce("v-if",!0):(E(),F(Ye,{key:3},[t.node.loading?(E(),he(c,{key:0,class:I([t.ns.is("loading"),t.ns.e("postfix")])},{default:re(()=>[q(d)]),_:1},8,["class"])):(E(),he(c,{key:1,class:I(["arrow-right",t.ns.e("postfix")])},{default:re(()=>[q(f)]),_:1},8,["class"]))],64))],42,Cse)}var Ese=Re(wse,[["render",kse],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const Tse=te({name:"ElCascaderMenu",components:{Loading:Pa,ElIcon:Ue,ElScrollbar:Oi,ElCascaderNode:Ese},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=ht(),n=ke("cascader-menu"),{t:r}=Ft(),s=sy();let o=null,i=null;const a=Fe(GS),l=D(null),c=T(()=>!t.nodes.length),u=T(()=>!a.initialLoaded),d=T(()=>`cascader-menu-${s}-${t.index}`),f=v=>{o=v.target},p=v=>{if(!(!a.isHoverMenu||!o||!l.value))if(o.contains(v.target)){m();const y=e.vnode.el,{left:C}=y.getBoundingClientRect(),{offsetWidth:b,offsetHeight:w}=y,S=v.clientX-C,k=o.offsetTop,A=k+o.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${S} ${k} L${b} 0 V${k} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${S} ${A} L${b} ${w} V${A} Z" />
        `}else i||(i=window.setTimeout(g,a.config.hoverThreshold))},m=()=>{!i||(clearTimeout(i),i=null)},g=()=>{!l.value||(l.value.innerHTML="",m())};return{ns:n,panel:a,hoverZone:l,isEmpty:c,isLoading:u,menuId:d,t:r,handleExpand:f,handleMouseMove:p,clearHoverZone:g}}});function _se(t,e,n,r,s,o){const i=Je("el-cascader-node"),a=Je("loading"),l=Je("el-icon"),c=Je("el-scrollbar");return E(),he(c,{key:t.menuId,tag:"ul",role:"menu",class:I(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:re(()=>{var u;return[(E(!0),F(Ye,null,Tt(t.nodes,d=>(E(),he(i,{key:d.uid,node:d,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(E(),F("div",{key:0,class:I(t.ns.e("empty-text"))},[q(l,{size:"14",class:I(t.ns.is("loading"))},{default:re(()=>[q(a)]),_:1},8,["class"]),dt(" "+Oe(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(E(),F("div",{key:1,class:I(t.ns.e("empty-text"))},Oe(t.t("el.cascader.noData")),3)):(u=t.panel)!=null&&u.isHoverMenu?(E(),F("svg",{key:2,ref:"hoverZone",class:I(t.ns.e("hover-zone"))},null,2)):ce("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var xse=Re(Tse,[["render",_se],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let Ise=0;const Mse=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};class Vu{constructor(e,n,r,s=!1){this.data=e,this.config=n,this.parent=r,this.root=s,this.uid=Ise++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:i,children:a}=n,l=e[a],c=Mse(this);this.level=s?0:r?r.level+1:1,this.value=e[o],this.label=e[i],this.pathNodes=c,this.pathValues=c.map(u=>u.value),this.pathLabels=c.map(u=>u.label),this.childrenData=l,this.children=(l||[]).map(u=>new Vu(u,n,this)),this.loaded=!n.lazy||this.isLeaf||!Os(l)}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:s,checkStrictly:o}=r;return(et(s)?s(e,this):!!e[s])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:s}=this,{lazy:o,leaf:i}=n,a=et(i)?i(e,this):e[i];return Un(a)?o&&!s?!1:!(Array.isArray(r)&&r.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,s=new Vu(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],r.push(s),s}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e,...n){const r=`onParent${Ns(e)}`;this.children.forEach(s=>{s&&(s.broadcast(e,...n),s[r]&&s[r](...n))})}emit(e,...n){const{parent:r}=this,s=`onChild${Ns(e)}`;r&&(r[s]&&r[s](...n),r.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(s=>!s.isDisabled),r=n.length?n.every(s=>s.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((s,o)=>{const i=o.checked?1:o.indeterminate?.5:0;return s+i},0);this.checked=this.loaded&&this.children.filter(s=>!s.isDisabled).every(s=>s.loaded&&s.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const Fw=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(Fw(r.children,e))),n),[]);class eI{constructor(e,n){this.config=n;const r=(e||[]).map(s=>new Vu(s,this.config));this.nodes=r,this.allNodes=Fw(r,!1),this.leafNodes=Fw(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new Vu(e,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,n){e.forEach(r=>this.appendNode(r,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(s=>bs(s.value,e)||bs(s.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:s})=>bs(e.value,r)&&e.level===s)||null}}const UD={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},Ase={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Wt,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Ose=t=>T(()=>({...Ase,...t.props})),tI=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},Nse=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():K$(t)&&t.click()},$se=(t,e)=>{const n=e.slice(0),r=n.map(o=>o.uid),s=t.reduce((o,i)=>{const a=r.indexOf(i.uid);return a>-1&&(o.push(i),n.splice(a,1),r.splice(a,1)),o},[]);return s.push(...n),s},Rse=te({name:"ElCascaderPanel",components:{ElCascaderMenu:xse},props:{...UD,border:{type:Boolean,default:!0},renderLabel:Function},emits:[pt,an,"close","expand-change"],setup(t,{emit:e,slots:n}){let r=!1;const s=ke("cascader"),o=Ose(t);let i=null;const a=D(!0),l=D([]),c=D(null),u=D([]),d=D(null),f=D([]),p=T(()=>o.value.expandTrigger==="hover"),m=T(()=>t.renderLabel||n.default),g=()=>{const{options:P}=t,B=o.value;r=!1,i=new eI(P,B),u.value=[i.getNodes()],B.lazy&&Os(t.options)?(a.value=!1,v(void 0,V=>{V&&(i=new eI(V,B),u.value=[i.getNodes()]),a.value=!0,x(!1,!0)})):x(!1,!0)},v=(P,B)=>{const V=o.value;P=P||new Vu({},V,void 0,!0),P.loading=!0;const z=M=>{const _=P,O=_.root?null:_;M&&(i==null||i.appendNodes(M,O)),_.loading=!1,_.loaded=!0,_.childrenData=_.childrenData||[],B&&B(M)};V.lazyLoad(P,z)},y=(P,B)=>{var V;const{level:z}=P,M=u.value.slice(0,z);let _;P.isLeaf?_=P.pathNodes[z-2]:(_=P,M.push(P.children)),((V=d.value)==null?void 0:V.uid)!==(_==null?void 0:_.uid)&&(d.value=P,u.value=M,!B&&e("expand-change",(P==null?void 0:P.pathValues)||[]))},C=(P,B,V=!0)=>{const{checkStrictly:z,multiple:M}=o.value,_=f.value[0];r=!0,!M&&(_==null||_.doCheck(!1)),P.doCheck(B),A(),V&&!M&&!z&&e("close"),!V&&!M&&!z&&b(P)},b=P=>{!P||(P=P.parent,b(P),P&&y(P))},w=P=>i==null?void 0:i.getFlattedNodes(P),S=P=>{var B;return(B=w(P))==null?void 0:B.filter(V=>V.checked!==!1)},k=()=>{f.value.forEach(P=>P.doCheck(!1)),A()},A=()=>{var P;const{checkStrictly:B,multiple:V}=o.value,z=f.value,M=S(!B),_=$se(z,M),O=_.map($=>$.valueByOption);f.value=_,c.value=V?O:(P=O[0])!=null?P:null},x=(P=!1,B=!1)=>{const{modelValue:V}=t,{lazy:z,multiple:M,checkStrictly:_}=o.value,O=!_;if(!(!a.value||r||!B&&bs(V,c.value)))if(z&&!P){const K=sx(r9(ci(V))).map(J=>i==null?void 0:i.getNodeByValue(J)).filter(J=>!!J&&!J.loaded&&!J.loading);K.length?K.forEach(J=>{v(J,()=>x(!1,B))}):x(!0,B)}else{const $=M?ci(V):[V],K=sx($.map(J=>i==null?void 0:i.getNodeByValue(J,O)));N(K,B),c.value=D$(V)}},N=(P,B=!0)=>{const{checkStrictly:V}=o.value,z=f.value,M=P.filter($=>!!$&&(V||$.isLeaf)),_=i==null?void 0:i.getSameNode(d.value),O=B&&_||M[0];O?O.pathNodes.forEach($=>y($,!0)):d.value=null,z.forEach($=>$.doCheck(!1)),M.forEach($=>$.doCheck(!0)),f.value=M,ze(R)},R=()=>{!It||l.value.forEach(P=>{const B=P==null?void 0:P.$el;if(B){const V=B.querySelector(`.${s.namespace.value}-scrollbar__wrap`),z=B.querySelector(`.${s.b("node")}.${s.is("active")}`)||B.querySelector(`.${s.b("node")}.in-active-path`);X$(V,z)}})},H=P=>{const B=P.target,{code:V}=P;switch(V){case Xe.up:case Xe.down:{P.preventDefault();const z=V===Xe.up?-1:1;Bm(U$(B,z,`.${s.b("node")}[tabindex="-1"]`));break}case Xe.left:{P.preventDefault();const z=l.value[tI(B)-1],M=z==null?void 0:z.$el.querySelector(`.${s.b("node")}[aria-expanded="true"]`);Bm(M);break}case Xe.right:{P.preventDefault();const z=l.value[tI(B)+1],M=z==null?void 0:z.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`);Bm(M);break}case Xe.enter:Nse(B);break}};return yt(GS,Lt({config:o,expandingNode:d,checkedNodes:f,isHoverMenu:p,initialLoaded:a,renderLabelFn:m,lazyLoad:v,expandNode:y,handleCheckChange:C})),Ee([o,()=>t.options],g,{deep:!0,immediate:!0}),Ee(()=>t.modelValue,()=>{r=!1,x()},{deep:!0}),Ee(()=>c.value,P=>{bs(P,t.modelValue)||(e(pt,P),e(an,P))}),P2(()=>l.value=[]),lt(()=>!Os(t.modelValue)&&x()),{ns:s,menuList:l,menus:u,checkedNodes:f,handleKeyDown:H,handleCheckChange:C,getFlattedNodes:w,getCheckedNodes:S,clearCheckedNodes:k,calculateCheckedValue:A,scrollToExpandingNode:R}}});function Dse(t,e,n,r,s,o){const i=Je("el-cascader-menu");return E(),F("div",{class:I([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:e[0]||(e[0]=(...a)=>t.handleKeyDown&&t.handleKeyDown(...a))},[(E(!0),F(Ye,null,Tt(t.menus,(a,l)=>(E(),he(i,{key:l,ref_for:!0,ref:c=>t.menuList[l]=c,index:l,nodes:[...a]},null,8,["index","nodes"]))),128))],34)}var jm=Re(Rse,[["render",Dse],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);jm.install=t=>{t.component(jm.name,jm)};const jD=jm,Pse=jD,YS=Pe({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:xi,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Lse={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},Bse=te({name:"ElTag"}),Fse=te({...Bse,props:YS,emits:Lse,setup(t,{emit:e}){const n=t,r=In(),s=ke("tag"),o=T(()=>{const{type:l,hit:c,effect:u,closable:d,round:f}=n;return[s.b(),s.is("closable",d),s.m(l),s.m(r.value),s.m(u),s.is("hit",c),s.is("round",f)]}),i=l=>{e("close",l)},a=l=>{e("click",l)};return(l,c)=>l.disableTransitions?(E(),F("span",{key:0,class:I(h(o)),style:Ge({backgroundColor:l.color}),onClick:a},[L("span",{class:I(h(s).e("content"))},[Ce(l.$slots,"default")],2),l.closable?(E(),he(h(Ue),{key:0,class:I(h(s).e("close")),onClick:tt(i,["stop"])},{default:re(()=>[q(h(fo))]),_:1},8,["class","onClick"])):ce("v-if",!0)],6)):(E(),he(Sn,{key:1,name:`${h(s).namespace.value}-zoom-in-center`,appear:""},{default:re(()=>[L("span",{class:I(h(o)),style:Ge({backgroundColor:l.color}),onClick:a},[L("span",{class:I(h(s).e("content"))},[Ce(l.$slots,"default")],2),l.closable?(E(),he(h(Ue),{key:0,class:I(h(s).e("close")),onClick:tt(i,["stop"])},{default:re(()=>[q(h(fo))]),_:1},8,["class","onClick"])):ce("v-if",!0)],6)]),_:3},8,["name"]))}});var Vse=Re(Fse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const py=mt(Vse),zse={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:t})=>{const{modifiersData:e,placement:n}=t;["right","left","bottom","top"].includes(n)||(e.arrow.x=35)},requires:["arrow"]}]},Hse="ElCascader",Kse=te({name:Hse,components:{ElCascaderPanel:jD,ElInput:vr,ElTooltip:is,ElScrollbar:Oi,ElTag:py,ElIcon:Ue,CircleClose:Da,Check:ip,ArrowDown:Ra},directives:{Clickoutside:Ta},props:{...UD,size:{type:String,validator:gd},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:Hn.teleported,tagType:{...YS.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[pt,an,"focus","blur","visible-change","expand-change","remove-tag"],setup(t,{emit:e}){let n=0,r=0;const s=ke("cascader"),o=ke("input"),{t:i}=Ft(),{form:a,formItem:l}=zr(),c=D(null),u=D(null),d=D(null),f=D(null),p=D(null),m=D(!1),g=D(!1),v=D(!1),y=D(""),C=D(""),b=D([]),w=D([]),S=D([]),k=D(!1),A=T(()=>t.disabled||(a==null?void 0:a.disabled)),x=T(()=>t.placeholder||i("el.cascader.placeholder")),N=T(()=>C.value||b.value.length>0?"":x.value),R=In(),H=T(()=>["small"].includes(R.value)?"small":"default"),P=T(()=>!!t.props.multiple),B=T(()=>!t.filterable||P.value),V=T(()=>P.value?C.value:y.value),z=T(()=>{var ee;return((ee=f.value)==null?void 0:ee.checkedNodes)||[]}),M=T(()=>!t.clearable||A.value||v.value||!g.value?!1:!!z.value.length),_=T(()=>{const{showAllLevels:ee,separator:de}=t,le=z.value;return le.length?P.value?"":le[0].calcText(ee,de):""}),O=T({get(){return D$(t.modelValue)},set(ee){e(pt,ee),e(an,ee),t.validateEvent&&(l==null||l.validate("change").catch(de=>void 0))}}),$=T(()=>{var ee,de;return(de=(ee=c.value)==null?void 0:ee.popperRef)==null?void 0:de.contentRef}),K=ee=>{var de,le,Te;A.value||(ee=ee!=null?ee:!m.value,ee!==m.value&&(m.value=ee,(le=(de=u.value)==null?void 0:de.input)==null||le.setAttribute("aria-expanded",`${ee}`),ee?(J(),ze((Te=f.value)==null?void 0:Te.scrollToExpandingNode)):t.filterable&&ge(),e("visible-change",ee)))},J=()=>{ze(()=>{var ee;(ee=c.value)==null||ee.updatePopper()})},W=()=>{v.value=!1},se=ee=>{const{showAllLevels:de,separator:le}=t;return{node:ee,key:ee.uid,text:ee.calcText(de,le),hitState:!1,closable:!A.value&&!ee.isDisabled,isCollapseTag:!1}},ve=ee=>{var de;const le=ee.node;le.doCheck(!1),(de=f.value)==null||de.calculateCheckedValue(),e("remove-tag",le.valueByOption)},Y=()=>{if(!P.value)return;const ee=z.value,de=[],le=[];if(ee.forEach(Te=>le.push(se(Te))),w.value=le,ee.length){const[Te,...Le]=ee,ae=Le.length;de.push(se(Te)),ae&&(t.collapseTags?de.push({key:-1,text:`+ ${ae}`,closable:!1,isCollapseTag:!0}):Le.forEach(we=>de.push(se(we))))}b.value=de},fe=()=>{var ee,de;const{filterMethod:le,showAllLevels:Te,separator:Le}=t,ae=(de=(ee=f.value)==null?void 0:ee.getFlattedNodes(!t.props.checkStrictly))==null?void 0:de.filter(we=>we.isDisabled?!1:(we.calcText(Te,Le),le(we,V.value)));P.value&&(b.value.forEach(we=>{we.hitState=!1}),w.value.forEach(we=>{we.hitState=!1})),v.value=!0,S.value=ae,J()},X=()=>{var ee;let de;v.value&&p.value?de=p.value.$el.querySelector(`.${s.e("suggestion-item")}`):de=(ee=f.value)==null?void 0:ee.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`),de&&(de.focus(),!v.value&&de.click())},G=()=>{var ee,de;const le=(ee=u.value)==null?void 0:ee.input,Te=d.value,Le=(de=p.value)==null?void 0:de.$el;if(!(!It||!le)){if(Le){const ae=Le.querySelector(`.${s.e("suggestion-list")}`);ae.style.minWidth=`${le.offsetWidth}px`}if(Te){const{offsetHeight:ae}=Te,we=b.value.length>0?`${Math.max(ae+6,n)}px`:`${n}px`;le.style.height=we,J()}}},ue=ee=>{var de;return(de=f.value)==null?void 0:de.getCheckedNodes(ee)},ye=ee=>{J(),e("expand-change",ee)},Ae=ee=>{var de;const le=(de=ee.target)==null?void 0:de.value;if(ee.type==="compositionend")k.value=!1,ze(()=>pe(le));else{const Te=le[le.length-1]||"";k.value=!ry(Te)}},j=ee=>{if(!k.value)switch(ee.code){case Xe.enter:K();break;case Xe.down:K(!0),ze(X),ee.preventDefault();break;case Xe.esc:m.value===!0&&(ee.preventDefault(),ee.stopPropagation(),K(!1));break;case Xe.tab:K(!1);break}},ne=()=>{var ee;(ee=f.value)==null||ee.clearCheckedNodes(),!m.value&&t.filterable&&ge(),K(!1)},ge=()=>{const{value:ee}=_;y.value=ee,C.value=ee},Se=ee=>{var de,le;const{checked:Te}=ee;P.value?(de=f.value)==null||de.handleCheckChange(ee,!Te,!1):(!Te&&((le=f.value)==null||le.handleCheckChange(ee,!0,!1)),K(!1))},_e=ee=>{const de=ee.target,{code:le}=ee;switch(le){case Xe.up:case Xe.down:{const Te=le===Xe.up?-1:1;Bm(U$(de,Te,`.${s.e("suggestion-item")}[tabindex="-1"]`));break}case Xe.enter:de.click();break}},Q=()=>{const ee=b.value,de=ee[ee.length-1];r=C.value?0:r+1,!(!de||!r||t.collapseTags&&ee.length>1)&&(de.hitState?ve(de):de.hitState=!0)},Me=Pr(()=>{const{value:ee}=V;if(!ee)return;const de=t.beforeFilter(ee);Hf(de)?de.then(fe).catch(()=>{}):de!==!1?fe():W()},t.debounce),pe=(ee,de)=>{!m.value&&K(!0),!(de!=null&&de.isComposing)&&(ee?Me():W())};return Ee(v,J),Ee([z,A],Y),Ee(b,()=>{ze(()=>G())}),Ee(_,ge,{immediate:!0}),lt(()=>{const ee=u.value.input,de=Number.parseFloat(L9(o.cssVarName("input-height"),ee).value)-2;n=ee.offsetHeight||de,Sr(ee,G)}),{popperOptions:zse,tooltipRef:c,popperPaneRef:$,input:u,tagWrapper:d,panel:f,suggestionPanel:p,popperVisible:m,inputHover:g,inputPlaceholder:x,currentPlaceholder:N,filtering:v,presentText:_,checkedValue:O,inputValue:y,searchInputValue:C,presentTags:b,allPresentTags:w,suggestions:S,isDisabled:A,isOnComposition:k,realSize:R,tagSize:H,multiple:P,readonly:B,clearBtnVisible:M,nsCascader:s,nsInput:o,t:i,togglePopperVisible:K,hideSuggestionPanel:W,deleteTag:ve,focusFirstNode:X,getCheckedNodes:ue,handleExpandChange:ye,handleKeyDown:j,handleComposition:Ae,handleClear:ne,handleSuggestionClick:Se,handleSuggestionKeyDown:_e,handleDelete:Q,handleInput:pe}}}),Use={key:0},jse=["placeholder"],Wse=["onClick"];function qse(t,e,n,r,s,o){const i=Je("circle-close"),a=Je("el-icon"),l=Je("arrow-down"),c=Je("el-input"),u=Je("el-tag"),d=Je("el-tooltip"),f=Je("el-cascader-panel"),p=Je("check"),m=Je("el-scrollbar"),g=_u("clickoutside");return E(),he(d,{ref:"tooltipRef",visible:t.popperVisible,teleported:t.teleported,"popper-class":[t.nsCascader.e("dropdown"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${t.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:t.hideSuggestionPanel},{default:re(()=>[ot((E(),F("div",{class:I([t.nsCascader.b(),t.nsCascader.m(t.realSize),t.nsCascader.is("disabled",t.isDisabled),t.$attrs.class]),style:Ge(t.$attrs.style),onClick:e[11]||(e[11]=()=>t.togglePopperVisible(t.readonly?void 0:!0)),onKeydown:e[12]||(e[12]=(...v)=>t.handleKeyDown&&t.handleKeyDown(...v)),onMouseenter:e[13]||(e[13]=v=>t.inputHover=!0),onMouseleave:e[14]||(e[14]=v=>t.inputHover=!1)},[q(c,{ref:"input",modelValue:t.inputValue,"onUpdate:modelValue":e[1]||(e[1]=v=>t.inputValue=v),placeholder:t.currentPlaceholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1,size:t.realSize,class:I(t.nsCascader.is("focus",t.popperVisible)),onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onFocus:e[2]||(e[2]=v=>t.$emit("focus",v)),onBlur:e[3]||(e[3]=v=>t.$emit("blur",v)),onInput:t.handleInput},{suffix:re(()=>[t.clearBtnVisible?(E(),he(a,{key:"clear",class:I([t.nsInput.e("icon"),"icon-circle-close"]),onClick:tt(t.handleClear,["stop"])},{default:re(()=>[q(i)]),_:1},8,["class","onClick"])):(E(),he(a,{key:"arrow-down",class:I([t.nsInput.e("icon"),"icon-arrow-down",t.nsCascader.is("reverse",t.popperVisible)]),onClick:e[0]||(e[0]=tt(v=>t.togglePopperVisible(),["stop"]))},{default:re(()=>[q(l)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),t.multiple?(E(),F("div",{key:0,ref:"tagWrapper",class:I(t.nsCascader.e("tags"))},[(E(!0),F(Ye,null,Tt(t.presentTags,v=>(E(),he(u,{key:v.key,type:t.tagType,size:t.tagSize,hit:v.hitState,closable:v.closable,"disable-transitions":"",onClose:y=>t.deleteTag(v)},{default:re(()=>[v.isCollapseTag===!1?(E(),F("span",Use,Oe(v.text),1)):(E(),he(d,{key:1,disabled:t.popperVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:re(()=>[L("span",null,Oe(v.text),1)]),content:re(()=>[L("div",{class:I(t.nsCascader.e("collapse-tags"))},[(E(!0),F(Ye,null,Tt(t.allPresentTags.slice(1),(y,C)=>(E(),F("div",{key:C,class:I(t.nsCascader.e("collapse-tag"))},[(E(),he(u,{key:y.key,class:"in-tooltip",type:t.tagType,size:t.tagSize,hit:y.hitState,closable:y.closable,"disable-transitions":"",onClose:b=>t.deleteTag(y)},{default:re(()=>[L("span",null,Oe(y.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),t.filterable&&!t.isDisabled?ot((E(),F("input",{key:0,"onUpdate:modelValue":e[4]||(e[4]=v=>t.searchInputValue=v),type:"text",class:I(t.nsCascader.e("search-input")),placeholder:t.presentText?"":t.inputPlaceholder,onInput:e[5]||(e[5]=v=>t.handleInput(t.searchInputValue,v)),onClick:e[6]||(e[6]=tt(v=>t.togglePopperVisible(!0),["stop"])),onKeydown:e[7]||(e[7]=Ot((...v)=>t.handleDelete&&t.handleDelete(...v),["delete"])),onCompositionstart:e[8]||(e[8]=(...v)=>t.handleComposition&&t.handleComposition(...v)),onCompositionupdate:e[9]||(e[9]=(...v)=>t.handleComposition&&t.handleComposition(...v)),onCompositionend:e[10]||(e[10]=(...v)=>t.handleComposition&&t.handleComposition(...v))},null,42,jse)),[[jv,t.searchInputValue]]):ce("v-if",!0)],2)):ce("v-if",!0)],38)),[[g,()=>t.togglePopperVisible(!1),t.popperPaneRef]])]),content:re(()=>[ot(q(f,{ref:"panel",modelValue:t.checkedValue,"onUpdate:modelValue":e[15]||(e[15]=v=>t.checkedValue=v),options:t.options,props:t.props,border:!1,"render-label":t.$slots.default,onExpandChange:t.handleExpandChange,onClose:e[16]||(e[16]=v=>t.$nextTick(()=>t.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Dt,!t.filtering]]),t.filterable?ot((E(),he(m,{key:0,ref:"suggestionPanel",tag:"ul",class:I(t.nsCascader.e("suggestion-panel")),"view-class":t.nsCascader.e("suggestion-list"),onKeydown:t.handleSuggestionKeyDown},{default:re(()=>[t.suggestions.length?(E(!0),F(Ye,{key:0},Tt(t.suggestions,v=>(E(),F("li",{key:v.uid,class:I([t.nsCascader.e("suggestion-item"),t.nsCascader.is("checked",v.checked)]),tabindex:-1,onClick:y=>t.handleSuggestionClick(v)},[L("span",null,Oe(v.text),1),v.checked?(E(),he(a,{key:0},{default:re(()=>[q(p)]),_:1})):ce("v-if",!0)],10,Wse))),128)):Ce(t.$slots,"empty",{key:1},()=>[L("li",{class:I(t.nsCascader.e("empty-text"))},Oe(t.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[Dt,t.filtering]]):ce("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var Wm=Re(Kse,[["render",qse],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);Wm.install=t=>{t.component(Wm.name,Wm)};const Gse=Wm,Yse=Gse,Xse=Pe({checked:{type:Boolean,default:!1}}),Jse={"update:checked":t=>Nn(t),[an]:t=>Nn(t)},Qse=te({name:"ElCheckTag"}),Zse=te({...Qse,props:Xse,emits:Jse,setup(t,{emit:e}){const n=t,r=ke("check-tag"),s=()=>{const o=!n.checked;e(an,o),e("update:checked",o)};return(o,i)=>(E(),F("span",{class:I([h(r).b(),h(r).is("checked",o.checked)]),onClick:s},[Ce(o.$slots,"default")],2))}});var eoe=Re(Zse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const toe=mt(eoe),noe=Pe({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:me([Number,Object]),default:()=>un({})},sm:{type:me([Number,Object]),default:()=>un({})},md:{type:me([Number,Object]),default:()=>un({})},lg:{type:me([Number,Object]),default:()=>un({})},xl:{type:me([Number,Object]),default:()=>un({})}}),roe=te({name:"ElCol"}),soe=te({...roe,props:noe,setup(t){const e=t,{gutter:n}=Fe(pR,{gutter:T(()=>0)}),r=ke("col"),s=T(()=>{const i={};return n.value&&(i.paddingLeft=i.paddingRight=`${n.value/2}px`),i}),o=T(()=>{const i=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];it(u)&&(c==="span"?i.push(r.b(`${e[c]}`)):u>0&&i.push(r.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{it(e[c])?i.push(r.b(`${c}-${e[c]}`)):Ct(e[c])&&Object.entries(e[c]).forEach(([u,d])=>{i.push(u!=="span"?r.b(`${c}-${u}-${d}`):r.b(`${c}-${d}`))})}),n.value&&i.push(r.is("guttered")),[r.b(),i]});return(i,a)=>(E(),he(kt(i.tag),{class:I(h(o)),style:Ge(h(s))},{default:re(()=>[Ce(i.$slots,"default")]),_:3},8,["class","style"]))}});var ooe=Re(soe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const ioe=mt(ooe),nI=t=>typeof it(t),aoe=Pe({accordion:Boolean,modelValue:{type:me([Array,String,Number]),default:()=>un([])}}),loe={[pt]:nI,[an]:nI},coe=(t,e)=>{const n=D(Ou(t.modelValue)),r=o=>{n.value=o;const i=t.accordion?n.value[0]:n.value;e(pt,i),e(an,i)},s=o=>{if(t.accordion)r([n.value[0]===o?"":o]);else{const i=[...n.value],a=i.indexOf(o);a>-1?i.splice(a,1):i.push(o),r(i)}};return Ee(()=>t.modelValue,()=>n.value=Ou(t.modelValue),{deep:!0}),yt(cR,{activeNames:n,handleItemClick:s}),{activeNames:n,setActiveNames:r}},uoe=()=>{const t=ke("collapse");return{rootKls:T(()=>t.b())}},doe=te({name:"ElCollapse"}),foe=te({...doe,props:aoe,emits:loe,setup(t,{expose:e,emit:n}){const r=t,{activeNames:s,setActiveNames:o}=coe(r,n),{rootKls:i}=uoe();return e({activeNames:s,setActiveNames:o}),(a,l)=>(E(),F("div",{class:I(h(i)),role:"tablist","aria-multiselectable":"true"},[Ce(a.$slots,"default")],2))}});var hoe=Re(foe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const poe=te({name:"ElCollapseTransition"}),moe=te({...poe,setup(t){const e=ke("collapse-transition"),n={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){r.dataset.oldOverflow=r.style.overflow,r.scrollHeight!==0?(r.style.maxHeight=`${r.scrollHeight}px`,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom):(r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom),r.style.overflow="hidden"},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom}};return(r,s)=>(E(),he(Sn,wt({name:h(e).b()},i8(n)),{default:re(()=>[Ce(r.$slots,"default")]),_:3},16,["name"]))}});var qm=Re(moe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);qm.install=t=>{t.component(qm.name,qm)};const my=qm,goe=my,voe=Pe({title:{type:String,default:""},name:{type:me([String,Number]),default:()=>sy()},disabled:Boolean}),yoe=t=>{const e=Fe(cR),n=D(!1),r=D(!1),s=D(sy()),o=T(()=>e==null?void 0:e.activeNames.value.includes(t.name));return{focusing:n,id:s,isActive:o,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:n.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(t.name),n.value=!1,r.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(t.name)}}},boe=(t,{focusing:e,isActive:n,id:r})=>{const s=ke("collapse"),o=T(()=>[s.b("item"),s.is("active",h(n)),s.is("disabled",t.disabled)]),i=T(()=>[s.be("item","header"),s.is("active",h(n)),{focusing:h(e)&&!t.disabled}]),a=T(()=>[s.be("item","arrow"),s.is("active",h(n))]),l=T(()=>s.be("item","wrap")),c=T(()=>s.be("item","content")),u=T(()=>s.b(`content-${h(r)}`)),d=T(()=>s.b(`head-${h(r)}`));return{arrowKls:a,headKls:i,rootKls:o,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:d}},woe=["aria-expanded","aria-controls","aria-describedby"],Coe=["id","tabindex"],Soe=["id","aria-hidden","aria-labelledby"],koe=te({name:"ElCollapseItem"}),Eoe=te({...koe,props:voe,setup(t,{expose:e}){const n=t,{focusing:r,id:s,isActive:o,handleFocus:i,handleHeaderClick:a,handleEnterClick:l}=yoe(n),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:f,itemContentKls:p,scopedContentId:m,scopedHeadId:g}=boe(n,{focusing:r,isActive:o,id:s});return e({isActive:o}),(v,y)=>(E(),F("div",{class:I(h(d))},[L("div",{role:"tab","aria-expanded":h(o),"aria-controls":h(m),"aria-describedby":h(m)},[L("div",{id:h(g),class:I(h(u)),role:"button",tabindex:v.disabled?-1:0,onClick:y[0]||(y[0]=(...C)=>h(a)&&h(a)(...C)),onKeypress:y[1]||(y[1]=Ot(tt((...C)=>h(l)&&h(l)(...C),["stop","prevent"]),["space","enter"])),onFocus:y[2]||(y[2]=(...C)=>h(i)&&h(i)(...C)),onBlur:y[3]||(y[3]=C=>r.value=!1)},[Ce(v.$slots,"title",{},()=>[dt(Oe(v.title),1)]),q(h(Ue),{class:I(h(c))},{default:re(()=>[q(h($r))]),_:1},8,["class"])],42,Coe)],8,woe),q(h(my),null,{default:re(()=>[ot(L("div",{id:h(m),class:I(h(f)),role:"tabpanel","aria-hidden":!h(o),"aria-labelledby":h(g)},[L("div",{class:I(h(p))},[Ce(v.$slots,"default")],2)],10,Soe),[[Dt,h(o)]])]),_:3})],2))}});var WD=Re(Eoe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const Toe=mt(hoe,{CollapseItem:WD}),_oe=vn(WD);let Ub=!1;function ah(t,e){if(!It)return;const n=function(o){var i;(i=e.drag)==null||i.call(e,o)},r=function(o){var i;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,Ub=!1,(i=e.end)==null||i.call(e,o)},s=function(o){var i;Ub||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),Ub=!0,(i=e.start)==null||i.call(e,o))};t.addEventListener("mousedown",s),t.addEventListener("touchstart",s)}const xoe=te({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(t){const e=ke("color-alpha-slider"),n=ht(),r=en(),s=en(),o=D(0),i=D(0),a=D();Ee(()=>t.color.get("alpha"),()=>{p()}),Ee(()=>t.color.value,()=>{p()});function l(){if(!r.value||t.vertical)return 0;const m=n.vnode.el,g=t.color.get("alpha");return m?Math.round(g*(m.offsetWidth-r.value.offsetWidth/2)/100):0}function c(){if(!r.value)return 0;const m=n.vnode.el;if(!t.vertical)return 0;const g=t.color.get("alpha");return m?Math.round(g*(m.offsetHeight-r.value.offsetHeight/2)/100):0}function u(){if(t.color&&t.color.value){const{r:m,g,b:v}=t.color.toRgb();return`linear-gradient(to right, rgba(${m}, ${g}, ${v}, 0) 0%, rgba(${m}, ${g}, ${v}, 1) 100%)`}return""}function d(m){m.target!==r.value&&f(m)}function f(m){if(!s.value||!r.value)return;const v=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:C}=vS(m);if(t.vertical){let b=C-v.top;b=Math.max(r.value.offsetHeight/2,b),b=Math.min(b,v.height-r.value.offsetHeight/2),t.color.set("alpha",Math.round((b-r.value.offsetHeight/2)/(v.height-r.value.offsetHeight)*100))}else{let b=y-v.left;b=Math.max(r.value.offsetWidth/2,b),b=Math.min(b,v.width-r.value.offsetWidth/2),t.color.set("alpha",Math.round((b-r.value.offsetWidth/2)/(v.width-r.value.offsetWidth)*100))}}function p(){o.value=l(),i.value=c(),a.value=u()}return lt(()=>{if(!s.value||!r.value)return;const m={drag:g=>{f(g)},end:g=>{f(g)}};ah(s.value,m),ah(r.value,m),p()}),{thumb:r,bar:s,thumbLeft:o,thumbTop:i,background:a,handleClick:d,update:p,ns:e}}});function Ioe(t,e,n,r,s,o){return E(),F("div",{class:I([t.ns.b(),t.ns.is("vertical",t.vertical)])},[L("div",{ref:"bar",class:I(t.ns.e("bar")),style:Ge({background:t.background}),onClick:e[0]||(e[0]=(...i)=>t.handleClick&&t.handleClick(...i))},null,6),L("div",{ref:"thumb",class:I(t.ns.e("thumb")),style:Ge({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var Moe=Re(xoe,[["render",Ioe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const Aoe=te({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=ke("color-hue-slider"),n=ht(),r=D(),s=D(),o=D(0),i=D(0),a=T(()=>t.color.get("hue"));Ee(()=>a.value,()=>{f()});function l(p){p.target!==r.value&&c(p)}function c(p){if(!s.value||!r.value)return;const g=n.vnode.el.getBoundingClientRect(),{clientX:v,clientY:y}=vS(p);let C;if(t.vertical){let b=y-g.top;b=Math.min(b,g.height-r.value.offsetHeight/2),b=Math.max(r.value.offsetHeight/2,b),C=Math.round((b-r.value.offsetHeight/2)/(g.height-r.value.offsetHeight)*360)}else{let b=v-g.left;b=Math.min(b,g.width-r.value.offsetWidth/2),b=Math.max(r.value.offsetWidth/2,b),C=Math.round((b-r.value.offsetWidth/2)/(g.width-r.value.offsetWidth)*360)}t.color.set("hue",C)}function u(){if(!r.value)return 0;const p=n.vnode.el;if(t.vertical)return 0;const m=t.color.get("hue");return p?Math.round(m*(p.offsetWidth-r.value.offsetWidth/2)/360):0}function d(){if(!r.value)return 0;const p=n.vnode.el;if(!t.vertical)return 0;const m=t.color.get("hue");return p?Math.round(m*(p.offsetHeight-r.value.offsetHeight/2)/360):0}function f(){o.value=u(),i.value=d()}return lt(()=>{if(!s.value||!r.value)return;const p={drag:m=>{c(m)},end:m=>{c(m)}};ah(s.value,p),ah(r.value,p),f()}),{bar:s,thumb:r,thumbLeft:o,thumbTop:i,hueValue:a,handleClick:l,update:f,ns:e}}});function Ooe(t,e,n,r,s,o){return E(),F("div",{class:I([t.ns.b(),t.ns.is("vertical",t.vertical)])},[L("div",{ref:"bar",class:I(t.ns.e("bar")),onClick:e[0]||(e[0]=(...i)=>t.handleClick&&t.handleClick(...i))},null,2),L("div",{ref:"thumb",class:I(t.ns.e("thumb")),style:Ge({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var Noe=Re(Aoe,[["render",Ooe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const $oe=Pe({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:ns,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:me(Array)},validateEvent:{type:Boolean,default:!0}}),Roe={[pt]:t=>rt(t)||jn(t),[an]:t=>rt(t)||jn(t),activeChange:t=>rt(t)||jn(t)},qD=Symbol("colorPickerContextKey"),rI=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},Doe=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},Poe=function(t){return typeof t=="string"&&t.includes("%")},mu=function(t,e){Doe(t)&&(t="100%");const n=Poe(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},sI={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Gm=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${sI[e]||e}${sI[n]||n}`},oI=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${Gm(t)}${Gm(e)}${Gm(n)}`},jb={A:10,B:11,C:12,D:13,E:14,F:15},Qa=function(t){return t.length===2?(jb[t[0].toUpperCase()]||+t[0])*16+(jb[t[1].toUpperCase()]||+t[1]):jb[t[1].toUpperCase()]||+t[1]},Loe=function(t,e,n){e=e/100,n=n/100;let r=e;const s=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,r*=s<=1?s:2-s;const o=(n+e)/2,i=n===0?2*r/(s+r):2*e/(n+e);return{h:t,s:i*100,v:o*100}},iI=(t,e,n)=>{t=mu(t,255),e=mu(e,255),n=mu(n,255);const r=Math.max(t,e,n),s=Math.min(t,e,n);let o;const i=r,a=r-s,l=r===0?0:a/r;if(r===s)o=0;else{switch(r){case t:{o=(e-n)/a+(e<n?6:0);break}case e:{o=(n-t)/a+2;break}case n:{o=(t-e)/a+4;break}}o/=6}return{h:o*360,s:l*100,v:i*100}},Pd=function(t,e,n){t=mu(t,360)*6,e=mu(e,100),n=mu(n,100);const r=Math.floor(t),s=t-r,o=n*(1-e),i=n*(1-s*e),a=n*(1-(1-s)*e),l=r%6,c=[n,i,o,o,a,n][l],u=[a,n,n,i,o,o][l],d=[o,o,a,n,n,i][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(d*255)}};class wf{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)Et(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)Et(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Pd(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,s,o)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,s)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,o)=>o>2?Number.parseFloat(s):Number.parseInt(s,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:s,s:o,v:i}=Loe(r[0],r[1],r[2]);n(s,o,i)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,o)=>o>2?Number.parseFloat(s):Number.parseInt(s,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,o)=>o>2?Number.parseFloat(s):Number.parseInt(s,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:s,s:o,v:i}=iI(r[0],r[1],r[2]);n(s,o,i)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let s,o,i;r.length===3?(s=Qa(r[0]+r[0]),o=Qa(r[1]+r[1]),i=Qa(r[2]+r[2])):(r.length===6||r.length===8)&&(s=Qa(r.slice(0,2)),o=Qa(r.slice(2,4)),i=Qa(r.slice(4,6))),r.length===8?this._alpha=Qa(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:a,s:l,v:c}=iI(s,o,i);n(a,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:s,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const i=rI(e,n/100,r/100);this.value=`hsla(${e}, ${Math.round(i[1]*100)}%, ${Math.round(i[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${oI(Pd(e,n,r))}${Gm(s*255/100)}`;break}default:{const{r:i,g:a,b:l}=Pd(e,n,r);this.value=`rgba(${i}, ${a}, ${l}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const i=rI(e,n/100,r/100);this.value=`hsl(${e}, ${Math.round(i[1]*100)}%, ${Math.round(i[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:i,g:a,b:l}=Pd(e,n,r);this.value=`rgb(${i}, ${a}, ${l})`;break}default:this.value=oI(Pd(e,n,r))}}}const Boe=te({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const e=ke("color-predefine"),{currentColor:n}=Fe(qD),r=D(o(t.colors,t.color));Ee(()=>n.value,i=>{const a=new wf;a.fromString(i),r.value.forEach(l=>{l.selected=a.compare(l)})}),Gr(()=>{r.value=o(t.colors,t.color)});function s(i){t.color.fromString(t.colors[i])}function o(i,a){return i.map(l=>{const c=new wf;return c.enableAlpha=!0,c.format="rgba",c.fromString(l),c.selected=c.value===a.value,c})}return{rgbaColors:r,handleSelect:s,ns:e}}}),Foe=["onClick"];function Voe(t,e,n,r,s,o){return E(),F("div",{class:I(t.ns.b())},[L("div",{class:I(t.ns.e("colors"))},[(E(!0),F(Ye,null,Tt(t.rgbaColors,(i,a)=>(E(),F("div",{key:t.colors[a],class:I([t.ns.e("color-selector"),t.ns.is("alpha",i._alpha<100),{selected:i.selected}]),onClick:l=>t.handleSelect(a)},[L("div",{style:Ge({backgroundColor:i.value})},null,4)],10,Foe))),128))],2)],2)}var zoe=Re(Boe,[["render",Voe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const Hoe=te({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=ke("color-svpanel"),n=ht(),r=D(0),s=D(0),o=D("hsl(0, 100%, 50%)"),i=T(()=>{const c=t.color.get("hue"),u=t.color.get("value");return{hue:c,value:u}});function a(){const c=t.color.get("saturation"),u=t.color.get("value"),d=n.vnode.el,{clientWidth:f,clientHeight:p}=d;s.value=c*f/100,r.value=(100-u)*p/100,o.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(c){const d=n.vnode.el.getBoundingClientRect(),{clientX:f,clientY:p}=vS(c);let m=f-d.left,g=p-d.top;m=Math.max(0,m),m=Math.min(m,d.width),g=Math.max(0,g),g=Math.min(g,d.height),s.value=m,r.value=g,t.color.set({saturation:m/d.width*100,value:100-g/d.height*100})}return Ee(()=>i.value,()=>{a()}),lt(()=>{ah(n.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),a()}),{cursorTop:r,cursorLeft:s,background:o,colorValue:i,handleDrag:l,update:a,ns:e}}}),Koe=L("div",null,null,-1),Uoe=[Koe];function joe(t,e,n,r,s,o){return E(),F("div",{class:I(t.ns.b()),style:Ge({backgroundColor:t.background})},[L("div",{class:I(t.ns.e("white"))},null,2),L("div",{class:I(t.ns.e("black"))},null,2),L("div",{class:I(t.ns.e("cursor")),style:Ge({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},Uoe,6)],6)}var Woe=Re(Hoe,[["render",joe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const qoe=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],Goe=te({name:"ElColorPicker"}),Yoe=te({...Goe,props:$oe,emits:Roe,setup(t,{expose:e,emit:n}){const r=t,{t:s}=Ft(),o=ke("color"),{formItem:i}=zr(),a=In(),l=ss(),{inputId:c,isLabeledByFormItem:u}=La(r,{formItemContext:i}),d=D(),f=D(),p=D(),m=D();let g=!0;const v=Lt(new wf({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),y=D(!1),C=D(!1),b=D(""),w=T(()=>!r.modelValue&&!C.value?"transparent":x(v,r.showAlpha)),S=T(()=>!r.modelValue&&!C.value?"":v.value),k=T(()=>u.value?void 0:r.label||s("el.colorpicker.defaultLabel")),A=T(()=>u.value?i==null?void 0:i.labelId:void 0);function x(_,O){if(!(_ instanceof wf))throw new TypeError("color should be instance of _color Class");const{r:$,g:K,b:J}=_.toRgb();return O?`rgba(${$}, ${K}, ${J}, ${_.get("alpha")/100})`:`rgb(${$}, ${K}, ${J})`}function N(_){y.value=_}const R=Pr(N,100);function H(){R(!1),P()}function P(){ze(()=>{r.modelValue?v.fromString(r.modelValue):(v.value="",ze(()=>{C.value=!1}))})}function B(){l.value||R(!y.value)}function V(){v.fromString(b.value)}function z(){const _=v.value;n(pt,_),n("change",_),r.validateEvent&&(i==null||i.validate("change").catch(O=>void 0)),R(!1),ze(()=>{const O=new wf({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});v.compare(O)||P()})}function M(){R(!1),n(pt,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(i==null||i.validate("change").catch(_=>void 0)),P()}return lt(()=>{r.modelValue&&(b.value=S.value)}),Ee(()=>r.modelValue,_=>{_?_&&_!==v.value&&(g=!1,v.fromString(_)):C.value=!1}),Ee(()=>S.value,_=>{b.value=_,g&&n("activeChange",_),g=!0}),Ee(()=>v.value,()=>{!r.modelValue&&!C.value&&(C.value=!0)}),Ee(()=>y.value,()=>{ze(()=>{var _,O,$;(_=d.value)==null||_.update(),(O=f.value)==null||O.update(),($=p.value)==null||$.update()})}),yt(qD,{currentColor:S}),e({color:v}),(_,O)=>(E(),he(h(is),{ref_key:"popper",ref:m,visible:y.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[h(o).be("picker","panel"),h(o).b("dropdown"),_.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${h(o).namespace.value}-zoom-in-top`,persistent:""},{content:re(()=>[ot((E(),F("div",null,[L("div",{class:I(h(o).be("dropdown","main-wrapper"))},[q(Noe,{ref_key:"hue",ref:d,class:"hue-slider",color:h(v),vertical:""},null,8,["color"]),q(Woe,{ref:"svPanel",color:h(v)},null,8,["color"])],2),_.showAlpha?(E(),he(Moe,{key:0,ref_key:"alpha",ref:p,color:h(v)},null,8,["color"])):ce("v-if",!0),_.predefine?(E(),he(zoe,{key:1,ref:"predefine",color:h(v),colors:_.predefine},null,8,["color","colors"])):ce("v-if",!0),L("div",{class:I(h(o).be("dropdown","btns"))},[L("span",{class:I(h(o).be("dropdown","value"))},[q(h(vr),{modelValue:b.value,"onUpdate:modelValue":O[0]||(O[0]=$=>b.value=$),"validate-event":!1,size:"small",onKeyup:Ot(V,["enter"]),onBlur:V},null,8,["modelValue","onKeyup"])],2),q(h(ar),{class:I(h(o).be("dropdown","link-btn")),text:"",size:"small",onClick:M},{default:re(()=>[dt(Oe(h(s)("el.colorpicker.clear")),1)]),_:1},8,["class"]),q(h(ar),{plain:"",size:"small",class:I(h(o).be("dropdown","btn")),onClick:z},{default:re(()=>[dt(Oe(h(s)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[h(Ta),H]])]),default:re(()=>[L("div",{id:h(c),class:I([h(o).b("picker"),h(o).is("disabled",h(l)),h(o).bm("picker",h(a))]),role:"button","aria-label":h(k),"aria-labelledby":h(A),"aria-description":h(s)("el.colorpicker.description",{color:_.modelValue||""}),tabindex:_.tabindex,onKeydown:Ot(B,["enter"])},[h(l)?(E(),F("div",{key:0,class:I(h(o).be("picker","mask"))},null,2)):ce("v-if",!0),L("div",{class:I(h(o).be("picker","trigger")),onClick:B},[L("span",{class:I([h(o).be("picker","color"),h(o).is("alpha",_.showAlpha)])},[L("span",{class:I(h(o).be("picker","color-inner")),style:Ge({backgroundColor:h(w)})},[ot(q(h(Ue),{class:I([h(o).be("picker","icon"),h(o).is("icon-arrow-down")])},{default:re(()=>[q(h(Ra))]),_:1},8,["class"]),[[Dt,_.modelValue||C.value]]),!_.modelValue&&!C.value?(E(),he(h(Ue),{key:0,class:I([h(o).be("picker","empty"),h(o).is("icon-close")])},{default:re(()=>[q(h(fo))]),_:1},8,["class"])):ce("v-if",!0)],6)],2)],2)],42,qoe)]),_:1},8,["visible","popper-class","transition"]))}});var Xoe=Re(Yoe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const Joe=mt(Xoe),Vw={},Qoe=Pe({a11y:{type:Boolean,default:!0},locale:{type:me(Object)},size:ns,button:{type:me(Object)},experimentalFeatures:{type:me(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:me(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),Zoe=te({name:"ElConfigProvider",props:Qoe,setup(t,{slots:e}){Ee(()=>t.message,r=>{Object.assign(Vw,r!=null?r:{})},{immediate:!0,deep:!0});const n=CR(t);return()=>Ce(e,"default",{config:n==null?void 0:n.value})}}),eie=mt(Zoe),tie=te({name:"ElContainer"}),nie=te({...tie,props:{direction:{type:String}},setup(t){const e=t,n=Qn(),r=ke("container"),s=T(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(i=>{const a=i.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(o,i)=>(E(),F("section",{class:I([h(r).b(),h(r).is("vertical",h(s))])},[Ce(o.$slots,"default")],2))}});var rie=Re(nie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const sie=te({name:"ElAside"}),oie=te({...sie,props:{width:{type:String,default:null}},setup(t){const e=t,n=ke("aside"),r=T(()=>e.width?n.cssVarBlock({width:e.width}):{});return(s,o)=>(E(),F("aside",{class:I(h(n).b()),style:Ge(h(r))},[Ce(s.$slots,"default")],6))}});var GD=Re(oie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const iie=te({name:"ElFooter"}),aie=te({...iie,props:{height:{type:String,default:null}},setup(t){const e=t,n=ke("footer"),r=T(()=>e.height?n.cssVarBlock({height:e.height}):{});return(s,o)=>(E(),F("footer",{class:I(h(n).b()),style:Ge(h(r))},[Ce(s.$slots,"default")],6))}});var YD=Re(aie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const lie=te({name:"ElHeader"}),cie=te({...lie,props:{height:{type:String,default:null}},setup(t){const e=t,n=ke("header"),r=T(()=>e.height?n.cssVarBlock({height:e.height}):{});return(s,o)=>(E(),F("header",{class:I(h(n).b()),style:Ge(h(r))},[Ce(s.$slots,"default")],6))}});var XD=Re(cie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const uie=te({name:"ElMain"}),die=te({...uie,setup(t){const e=ke("main");return(n,r)=>(E(),F("main",{class:I(h(e).b())},[Ce(n.$slots,"default")],2))}});var JD=Re(die,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const fie=mt(rie,{Aside:GD,Footer:YD,Header:XD,Main:JD}),hie=vn(GD),pie=vn(YD),mie=vn(XD),gie=vn(JD);var QD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r){var s=r.prototype,o=s.format;s.format=function(i){var a=this,l=this.$locale();if(!this.isValid())return o.bind(this)(i);var c=this.$utils(),u=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return o.bind(this)(u)}}})})(QD);const vie=QD.exports;var ZD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){var n="week",r="year";return function(s,o,i){var a=o.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=i(this).startOf(r).add(1,r).date(c),d=i(this).endOf(n);if(u.isBefore(d))return 1}var f=i(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),p=this.diff(f,n,!0);return p<0?i(this).startOf("week").week():Math.ceil(p)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(ZD);const yie=ZD.exports;var eP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r){r.prototype.weekYear=function(){var s=this.month(),o=this.week(),i=this.year();return o===1&&s===11?i+1:s===0&&o>=52?i-1:i}}})})(eP);const bie=eP.exports;var tP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r,s){r.prototype.dayOfYear=function(o){var i=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return o==null?i:this.add(o-i,"day")}}})})(tP);const wie=tP.exports;var nP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r){r.prototype.isSameOrAfter=function(s,o){return this.isSame(s,o)||this.isAfter(s,o)}}})})(nP);const Cie=nP.exports;var rP={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r){r.prototype.isSameOrBefore=function(s,o){return this.isSame(s,o)||this.isBefore(s,o)}}})})(rP);const Sie=rP.exports,kie=Pe({type:{type:me(String),default:"date"}}),Eie=["date","dates","year","month","week","range"],XS=Pe({disabledDate:{type:me(Function)},date:{type:me(Object),required:!0},minDate:{type:me(Object)},maxDate:{type:me(Object)},parsedValue:{type:me([Object,Array])},rangeState:{type:me(Object),default:()=>({endDate:null,selecting:!1})}}),sP=Pe({type:{type:me(String),required:!0,values:_J}}),oP=Pe({unlinkPanels:Boolean,parsedValue:{type:me(Array)}}),iP=t=>({type:String,values:Eie,default:t}),Tie=Pe({...sP,parsedValue:{type:me([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),_ie=Pe({...XS,cellClassName:{type:me(Function)},showWeekNumber:Boolean,selectionMode:iP("date")}),zw=t=>{if(!Be(t))return!1;const[e,n]=t;return ut.isDayjs(e)&&ut.isDayjs(n)&&e.isSameOrBefore(n)},aP=(t,{lang:e,unit:n,unlinkPanels:r})=>{let s;if(Be(t)){let[o,i]=t.map(a=>ut(a).locale(e));return r||(i=o.add(1,n)),[o,i]}else t?s=ut(t):s=ut();return s=s.locale(e),[s,s.add(1,n)]},xie=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:s,now:o,unit:i,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<t.row;u++){const d=e[u];for(let f=0;f<t.column;f++){let p=d[f+n];p||(p={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const m=u*t.column+f,g=a(m);p.dayjs=g,p.date=g.toDate(),p.timestamp=g.valueOf(),p.type="normal",p.inRange=!!(r&&g.isSameOrAfter(r,i)&&s&&g.isSameOrBefore(s,i))||!!(r&&g.isSameOrBefore(r,i)&&s&&g.isSameOrAfter(s,i)),r!=null&&r.isSameOrAfter(s)?(p.start=!!s&&g.isSame(s,i),p.end=r&&g.isSame(r,i)):(p.start=!!r&&g.isSame(r,i),p.end=!!s&&g.isSame(s,i)),g.isSame(o,i)&&(p.type="today"),l==null||l(p,{rowIndex:u,columnIndex:f}),d[f+n]=p}c==null||c(d)}},Iie=Pe({cell:{type:me(Object)}});var Mie=te({name:"ElDatePickerCell",props:Iie,setup(t){const e=ke("date-table-cell"),{slots:n}=Fe(IS);return()=>{const{cell:r}=t;if(n.default){const s=n.default(r).filter(o=>o.patchFlag!==-2&&o.type.toString()!=="Symbol(Comment)");if(s.length)return s}return q("div",{class:e.b()},[q("span",{class:e.e("text")},[r==null?void 0:r.text])])}}});const Aie=["aria-label"],Oie={key:0,scope:"col"},Nie=["aria-label"],$ie=["aria-current","aria-selected","tabindex"],Rie=te({__name:"basic-date-table",props:_ie,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,s=ke("date-table"),{t:o,lang:i}=Ft(),a=D(),l=D(),c=D(),u=D(),d=D([[],[],[],[],[],[]]);let f=!1;const p=r.date.$locale().weekStart||7,m=r.date.locale("en").localeData().weekdaysShort().map(W=>W.toLowerCase()),g=T(()=>p>3?7-p:-p),v=T(()=>{const W=r.date.startOf("month");return W.subtract(W.day()||7,"day")}),y=T(()=>m.concat(m).slice(p,p+7)),C=T(()=>_$(x.value).some(W=>W.isCurrent)),b=T(()=>{const W=r.date.startOf("month"),se=W.day()||7,ve=W.daysInMonth(),Y=W.subtract(1,"month").daysInMonth();return{startOfMonthDay:se,dateCountOfMonth:ve,dateCountOfLastMonth:Y}}),w=T(()=>r.selectionMode==="dates"?ci(r.parsedValue):[]),S=(W,{count:se,rowIndex:ve,columnIndex:Y})=>{const{startOfMonthDay:fe,dateCountOfMonth:X,dateCountOfLastMonth:G}=h(b),ue=h(g);if(ve>=0&&ve<=1){const ye=fe+ue<0?7+fe+ue:fe+ue;if(Y+ve*7>=ye)return W.text=se,!0;W.text=G-(ye-Y%7)+1+ve*7,W.type="prev-month"}else return se<=X?W.text=se:(W.text=se-X,W.type="next-month"),!0;return!1},k=(W,{columnIndex:se,rowIndex:ve},Y)=>{const{disabledDate:fe,cellClassName:X}=r,G=h(w),ue=S(W,{count:Y,rowIndex:ve,columnIndex:se}),ye=W.dayjs.toDate();return W.selected=G.find(Ae=>Ae.valueOf()===W.dayjs.valueOf()),W.isSelected=!!W.selected,W.isCurrent=H(W),W.disabled=fe==null?void 0:fe(ye),W.customClass=X==null?void 0:X(ye),ue},A=W=>{if(r.selectionMode==="week"){const[se,ve]=r.showWeekNumber?[1,7]:[0,6],Y=J(W[se+1]);W[se].inRange=Y,W[se].start=Y,W[ve].inRange=Y,W[ve].end=Y}},x=T(()=>{const{minDate:W,maxDate:se,rangeState:ve,showWeekNumber:Y}=r,fe=g.value,X=d.value,G="day";let ue=1;if(Y)for(let ye=0;ye<6;ye++)X[ye][0]||(X[ye][0]={type:"week",text:v.value.add(ye*7+1,G).week()});return xie({row:6,column:7},X,{startDate:W,columnIndexOffset:Y?1:0,nextEndDate:ve.endDate||se||ve.selecting&&W||null,now:ut().locale(h(i)).startOf(G),unit:G,relativeDateGetter:ye=>v.value.add(ye-fe,G),setCellMetadata:(...ye)=>{k(...ye,ue)&&(ue+=1)},setRowMetadata:A}),X});Ee(()=>r.date,async()=>{var W,se;(W=a.value)!=null&&W.contains(document.activeElement)&&(await ze(),(se=l.value)==null||se.focus())});const N=async()=>{var W;(W=l.value)==null||W.focus()},R=(W="")=>["normal","today"].includes(W),H=W=>r.selectionMode==="date"&&R(W.type)&&P(W,r.parsedValue),P=(W,se)=>se?ut(se).locale(i.value).isSame(r.date.date(Number(W.text)),"day"):!1,B=W=>{const se=[];return R(W.type)&&!W.disabled?(se.push("available"),W.type==="today"&&se.push("today")):se.push(W.type),H(W)&&se.push("current"),W.inRange&&(R(W.type)||r.selectionMode==="week")&&(se.push("in-range"),W.start&&se.push("start-date"),W.end&&se.push("end-date")),W.disabled&&se.push("disabled"),W.selected&&se.push("selected"),W.customClass&&se.push(W.customClass),se.join(" ")},V=(W,se)=>{const ve=W*7+(se-(r.showWeekNumber?1:0))-g.value;return v.value.add(ve,"day")},z=W=>{var se;if(!r.rangeState.selecting)return;let ve=W.target;if(ve.tagName==="SPAN"&&(ve=(se=ve.parentNode)==null?void 0:se.parentNode),ve.tagName==="DIV"&&(ve=ve.parentNode),ve.tagName!=="TD")return;const Y=ve.parentNode.rowIndex-1,fe=ve.cellIndex;x.value[Y][fe].disabled||(Y!==c.value||fe!==u.value)&&(c.value=Y,u.value=fe,n("changerange",{selecting:!0,endDate:V(Y,fe)}))},M=W=>!C.value&&(W==null?void 0:W.text)===1&&W.type==="normal"||W.isCurrent,_=W=>{f||C.value||r.selectionMode!=="date"||K(W,!0)},O=W=>{!W.target.closest("td")||(f=!0)},$=W=>{!W.target.closest("td")||(f=!1)},K=(W,se=!1)=>{const ve=W.target.closest("td");if(!ve)return;const Y=ve.parentNode.rowIndex-1,fe=ve.cellIndex,X=x.value[Y][fe];if(X.disabled||X.type==="week")return;const G=V(Y,fe);if(r.selectionMode==="range")!r.rangeState.selecting||!r.minDate?(n("pick",{minDate:G,maxDate:null}),n("select",!0)):(G>=r.minDate?n("pick",{minDate:r.minDate,maxDate:G}):n("pick",{minDate:G,maxDate:r.minDate}),n("select",!1));else if(r.selectionMode==="date")n("pick",G,se);else if(r.selectionMode==="week"){const ue=G.week(),ye=`${G.year()}w${ue}`;n("pick",{year:G.year(),week:ue,value:ye,date:G.startOf("week")})}else if(r.selectionMode==="dates"){const ue=X.selected?ci(r.parsedValue).filter(ye=>(ye==null?void 0:ye.valueOf())!==G.valueOf()):ci(r.parsedValue).concat([G]);n("pick",ue)}},J=W=>{if(r.selectionMode!=="week")return!1;let se=r.date.startOf("day");if(W.type==="prev-month"&&(se=se.subtract(1,"month")),W.type==="next-month"&&(se=se.add(1,"month")),se=se.date(Number.parseInt(W.text,10)),r.parsedValue&&!Array.isArray(r.parsedValue)){const ve=(r.parsedValue.day()-p+7)%7-1;return r.parsedValue.subtract(ve,"day").isSame(se,"day")}return!1};return e({focus:N}),(W,se)=>(E(),F("table",{role:"grid","aria-label":h(o)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:I([h(s).b(),{"is-week-mode":W.selectionMode==="week"}]),onClick:K,onMousemove:z,onMousedown:O,onMouseup:$},[L("tbody",{ref_key:"tbodyRef",ref:a},[L("tr",null,[W.showWeekNumber?(E(),F("th",Oie,Oe(h(o)("el.datepicker.week")),1)):ce("v-if",!0),(E(!0),F(Ye,null,Tt(h(y),(ve,Y)=>(E(),F("th",{key:Y,scope:"col","aria-label":h(o)("el.datepicker.weeksFull."+ve)},Oe(h(o)("el.datepicker.weeks."+ve)),9,Nie))),128))]),(E(!0),F(Ye,null,Tt(h(x),(ve,Y)=>(E(),F("tr",{key:Y,class:I([h(s).e("row"),{current:J(ve[1])}])},[(E(!0),F(Ye,null,Tt(ve,(fe,X)=>(E(),F("td",{key:`${Y}.${X}`,ref_for:!0,ref:G=>M(fe)&&(l.value=G),class:I(B(fe)),"aria-current":fe.isCurrent?"date":void 0,"aria-selected":fe.isCurrent,tabindex:M(fe)?0:-1,onFocus:_},[q(h(Mie),{cell:fe},null,8,["cell"])],42,$ie))),128))],2))),128))],512)],42,Aie))}});var Hw=Re(Rie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Die=Pe({...XS,selectionMode:iP("month")}),Pie=["aria-label"],Lie=["aria-selected","aria-label","tabindex","onKeydown"],Bie={class:"cell"},Fie=te({__name:"basic-month-table",props:Die,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,s=(w,S,k)=>{const A=ut().locale(k).startOf("month").month(S).year(w),x=A.daysInMonth();return fa(x).map(N=>A.add(N,"day").toDate())},o=ke("month-table"),{t:i,lang:a}=Ft(),l=D(),c=D(),u=D(r.date.locale("en").localeData().monthsShort().map(w=>w.toLowerCase())),d=D([[],[],[]]),f=D(),p=D(),m=T(()=>{var w,S;const k=d.value,A=ut().locale(a.value).startOf("month");for(let x=0;x<3;x++){const N=k[x];for(let R=0;R<4;R++){const H=N[R]||(N[R]={row:x,column:R,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});H.type="normal";const P=x*4+R,B=r.date.startOf("year").month(P),V=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;H.inRange=!!(r.minDate&&B.isSameOrAfter(r.minDate,"month")&&V&&B.isSameOrBefore(V,"month"))||!!(r.minDate&&B.isSameOrBefore(r.minDate,"month")&&V&&B.isSameOrAfter(V,"month")),(w=r.minDate)!=null&&w.isSameOrAfter(V)?(H.start=!!(V&&B.isSame(V,"month")),H.end=r.minDate&&B.isSame(r.minDate,"month")):(H.start=!!(r.minDate&&B.isSame(r.minDate,"month")),H.end=!!(V&&B.isSame(V,"month"))),A.isSame(B)&&(H.type="today"),H.text=P,H.disabled=((S=r.disabledDate)==null?void 0:S.call(r,B.toDate()))||!1}}return k}),g=()=>{var w;(w=c.value)==null||w.focus()},v=w=>{const S={},k=r.date.year(),A=new Date,x=w.text;return S.disabled=r.disabledDate?s(k,x,a.value).every(r.disabledDate):!1,S.current=ci(r.parsedValue).findIndex(N=>ut.isDayjs(N)&&N.year()===k&&N.month()===x)>=0,S.today=A.getFullYear()===k&&A.getMonth()===x,w.inRange&&(S["in-range"]=!0,w.start&&(S["start-date"]=!0),w.end&&(S["end-date"]=!0)),S},y=w=>{const S=r.date.year(),k=w.text;return ci(r.date).findIndex(A=>A.year()===S&&A.month()===k)>=0},C=w=>{var S;if(!r.rangeState.selecting)return;let k=w.target;if(k.tagName==="A"&&(k=(S=k.parentNode)==null?void 0:S.parentNode),k.tagName==="DIV"&&(k=k.parentNode),k.tagName!=="TD")return;const A=k.parentNode.rowIndex,x=k.cellIndex;m.value[A][x].disabled||(A!==f.value||x!==p.value)&&(f.value=A,p.value=x,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(A*4+x)}))},b=w=>{var S;const k=(S=w.target)==null?void 0:S.closest("td");if((k==null?void 0:k.tagName)!=="TD"||io(k,"disabled"))return;const A=k.cellIndex,N=k.parentNode.rowIndex*4+A,R=r.date.startOf("year").month(N);r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&R>=r.minDate?n("pick",{minDate:r.minDate,maxDate:R}):n("pick",{minDate:R,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:R,maxDate:null}),n("select",!0)):n("pick",N)};return Ee(()=>r.date,async()=>{var w,S;(w=l.value)!=null&&w.contains(document.activeElement)&&(await ze(),(S=c.value)==null||S.focus())}),e({focus:g}),(w,S)=>(E(),F("table",{role:"grid","aria-label":h(i)("el.datepicker.monthTablePrompt"),class:I(h(o).b()),onClick:b,onMousemove:C},[L("tbody",{ref_key:"tbodyRef",ref:l},[(E(!0),F(Ye,null,Tt(h(m),(k,A)=>(E(),F("tr",{key:A},[(E(!0),F(Ye,null,Tt(k,(x,N)=>(E(),F("td",{key:N,ref_for:!0,ref:R=>y(x)&&(c.value=R),class:I(v(x)),"aria-selected":`${y(x)}`,"aria-label":h(i)(`el.datepicker.month${+x.text+1}`),tabindex:y(x)?0:-1,onKeydown:[Ot(tt(b,["prevent","stop"]),["space"]),Ot(tt(b,["prevent","stop"]),["enter"])]},[L("div",null,[L("span",Bie,Oe(h(i)("el.datepicker.months."+u.value[x.text])),1)])],42,Lie))),128))]))),128))],512)],42,Pie))}});var Kw=Re(Fie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Vie,disabledDate:zie,parsedValue:Hie}=XS,Kie=Pe({date:Vie,disabledDate:zie,parsedValue:Hie}),Uie=["aria-label"],jie=["aria-selected","tabindex","onKeydown"],Wie={class:"cell"},qie={key:1},Gie=te({__name:"basic-year-table",props:Kie,emits:["pick"],setup(t,{expose:e,emit:n}){const r=t,s=(g,v)=>{const y=ut(String(g)).locale(v).startOf("year"),b=y.endOf("year").dayOfYear();return fa(b).map(w=>y.add(w,"day").toDate())},o=ke("year-table"),{t:i,lang:a}=Ft(),l=D(),c=D(),u=T(()=>Math.floor(r.date.year()/10)*10),d=()=>{var g;(g=c.value)==null||g.focus()},f=g=>{const v={},y=ut().locale(a.value);return v.disabled=r.disabledDate?s(g,a.value).every(r.disabledDate):!1,v.current=ci(r.parsedValue).findIndex(C=>C.year()===g)>=0,v.today=y.year()===g,v},p=g=>g===u.value&&r.date.year()<u.value&&r.date.year()>u.value+9||ci(r.date).findIndex(v=>v.year()===g)>=0,m=g=>{const y=g.target.closest("td");if(y&&y.textContent){if(io(y,"disabled"))return;const C=y.textContent||y.innerText;n("pick",Number(C))}};return Ee(()=>r.date,async()=>{var g,v;(g=l.value)!=null&&g.contains(document.activeElement)&&(await ze(),(v=c.value)==null||v.focus())}),e({focus:d}),(g,v)=>(E(),F("table",{role:"grid","aria-label":h(i)("el.datepicker.yearTablePrompt"),class:I(h(o).b()),onClick:m},[L("tbody",{ref_key:"tbodyRef",ref:l},[(E(),F(Ye,null,Tt(3,(y,C)=>L("tr",{key:C},[(E(),F(Ye,null,Tt(4,(b,w)=>(E(),F(Ye,{key:C+"_"+w},[C*4+w<10?(E(),F("td",{key:0,ref_for:!0,ref:S=>p(h(u)+C*4+w)&&(c.value=S),class:I(["available",f(h(u)+C*4+w)]),"aria-selected":`${p(h(u)+C*4+w)}`,tabindex:p(h(u)+C*4+w)?0:-1,onKeydown:[Ot(tt(m,["prevent","stop"]),["space"]),Ot(tt(m,["prevent","stop"]),["enter"])]},[L("span",Wie,Oe(h(u)+C*4+w),1)],42,jie)):(E(),F("td",qie))],64))),64))])),64))],512)],10,Uie))}});var Yie=Re(Gie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Xie=["onClick"],Jie=["aria-label"],Qie=["aria-label"],Zie=["aria-label"],eae=["aria-label"],tae=te({__name:"panel-date-pick",props:Tie,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,r=(ie,Ie,je)=>!0,s=ke("picker-panel"),o=ke("date-picker"),i=tp(),a=Qn(),{t:l,lang:c}=Ft(),u=Fe("EP_PICKER_BASE"),d=Fe(iy),{shortcuts:f,disabledDate:p,cellClassName:m,defaultTime:g,arrowControl:v}=u.props,y=pn(u.props,"defaultValue"),C=D(),b=D(ut().locale(c.value)),w=D(!1),S=T(()=>ut(g).locale(c.value)),k=T(()=>b.value.month()),A=T(()=>b.value.year()),x=D([]),N=D(null),R=D(null),H=ie=>x.value.length>0?r(ie,x.value,n.format||"HH:mm:ss"):!0,P=ie=>g&&!j.value&&!w.value?S.value.year(ie.year()).month(ie.month()).date(ie.date()):fe.value?ie.millisecond(0):ie.startOf("day"),B=(ie,...Ie)=>{if(!ie)e("pick",ie,...Ie);else if(Be(ie)){const je=ie.map(P);e("pick",je,...Ie)}else e("pick",P(ie),...Ie);N.value=null,R.value=null,w.value=!1},V=(ie,Ie)=>{if(K.value==="date"){ie=ie;let je=n.parsedValue?n.parsedValue.year(ie.year()).month(ie.month()).date(ie.date()):ie;H(je)||(je=x.value[0][0].year(ie.year()).month(ie.month()).date(ie.date())),b.value=je,B(je,fe.value||Ie)}else K.value==="week"?B(ie.date):K.value==="dates"&&B(ie,!0)},z=ie=>{const Ie=ie?"add":"subtract";b.value=b.value[Ie](1,"month"),De("month")},M=ie=>{const Ie=b.value,je=ie?"add":"subtract";b.value=_.value==="year"?Ie[je](10,"year"):Ie[je](1,"year"),De("year")},_=D("date"),O=T(()=>{const ie=l("el.datepicker.year");if(_.value==="year"){const Ie=Math.floor(A.value/10)*10;return ie?`${Ie} ${ie} - ${Ie+9} ${ie}`:`${Ie} - ${Ie+9}`}return`${A.value} ${ie}`}),$=ie=>{const Ie=et(ie.value)?ie.value():ie.value;if(Ie){B(ut(Ie).locale(c.value));return}ie.onClick&&ie.onClick({attrs:i,slots:a,emit:e})},K=T(()=>{const{type:ie}=n;return["week","month","year","dates"].includes(ie)?ie:"date"}),J=T(()=>K.value==="date"?_.value:K.value),W=T(()=>!!f.length),se=async ie=>{b.value=b.value.startOf("month").month(ie),K.value==="month"?B(b.value,!1):(_.value="date",["month","year","date","week"].includes(K.value)&&(B(b.value,!0),await ze(),ae())),De("month")},ve=async ie=>{K.value==="year"?(b.value=b.value.startOf("year").year(ie),B(b.value,!1)):(b.value=b.value.year(ie),_.value="month",["month","year","date","week"].includes(K.value)&&(B(b.value,!0),await ze(),ae())),De("year")},Y=async ie=>{_.value=ie,await ze(),ae()},fe=T(()=>n.type==="datetime"||n.type==="datetimerange"),X=T(()=>fe.value||K.value==="dates"),G=()=>{if(K.value==="dates")B(n.parsedValue);else{let ie=n.parsedValue;if(!ie){const Ie=ut(g).locale(c.value),je=Le();ie=Ie.year(je.year()).month(je.month()).date(je.date())}b.value=ie,B(ie)}},ue=()=>{const Ie=ut().locale(c.value).toDate();w.value=!0,(!p||!p(Ie))&&H(Ie)&&(b.value=ut().locale(c.value),B(b.value))},ye=T(()=>pD(n.format)),Ae=T(()=>hD(n.format)),j=T(()=>{if(R.value)return R.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(ye.value)}),ne=T(()=>{if(N.value)return N.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(Ae.value)}),ge=D(!1),Se=()=>{ge.value=!0},_e=()=>{ge.value=!1},Q=ie=>({hour:ie.hour(),minute:ie.minute(),second:ie.second(),year:ie.year(),month:ie.month(),date:ie.date()}),Me=(ie,Ie,je)=>{const{hour:U,minute:oe,second:Z}=Q(ie),be=n.parsedValue?n.parsedValue.hour(U).minute(oe).second(Z):ie;b.value=be,B(b.value,!0),je||(ge.value=Ie)},pe=ie=>{const Ie=ut(ie,ye.value).locale(c.value);if(Ie.isValid()&&H(Ie)){const{year:je,month:U,date:oe}=Q(b.value);b.value=Ie.year(je).month(U).date(oe),R.value=null,ge.value=!1,B(b.value,!0)}},ee=ie=>{const Ie=ut(ie,Ae.value).locale(c.value);if(Ie.isValid()){if(p&&p(Ie.toDate()))return;const{hour:je,minute:U,second:oe}=Q(b.value);b.value=Ie.hour(je).minute(U).second(oe),N.value=null,B(b.value,!0)}},de=ie=>ut.isDayjs(ie)&&ie.isValid()&&(p?!p(ie.toDate()):!0),le=ie=>K.value==="dates"?ie.map(Ie=>Ie.format(n.format)):ie.format(n.format),Te=ie=>ut(ie,n.format).locale(c.value),Le=()=>{const ie=ut(y.value).locale(c.value);if(!y.value){const Ie=S.value;return ut().hour(Ie.hour()).minute(Ie.minute()).second(Ie.second()).locale(c.value)}return ie},ae=async()=>{var ie;["week","month","year","date"].includes(K.value)&&((ie=C.value)==null||ie.focus(),K.value==="week"&&$e(Xe.down))},we=ie=>{const{code:Ie}=ie;[Xe.up,Xe.down,Xe.left,Xe.right,Xe.home,Xe.end,Xe.pageUp,Xe.pageDown].includes(Ie)&&($e(Ie),ie.stopPropagation(),ie.preventDefault()),[Xe.enter,Xe.space].includes(Ie)&&N.value===null&&R.value===null&&(ie.preventDefault(),B(b.value,!1))},$e=ie=>{var Ie;const{up:je,down:U,left:oe,right:Z,home:be,end:Ke,pageUp:at,pageDown:St}=Xe,Yt={year:{[je]:-4,[U]:4,[oe]:-1,[Z]:1,offset:(_t,xe)=>_t.setFullYear(_t.getFullYear()+xe)},month:{[je]:-4,[U]:4,[oe]:-1,[Z]:1,offset:(_t,xe)=>_t.setMonth(_t.getMonth()+xe)},week:{[je]:-1,[U]:1,[oe]:-1,[Z]:1,offset:(_t,xe)=>_t.setDate(_t.getDate()+xe*7)},date:{[je]:-7,[U]:7,[oe]:-1,[Z]:1,[be]:_t=>-_t.getDay(),[Ke]:_t=>-_t.getDay()+6,[at]:_t=>-new Date(_t.getFullYear(),_t.getMonth(),0).getDate(),[St]:_t=>new Date(_t.getFullYear(),_t.getMonth()+1,0).getDate(),offset:(_t,xe)=>_t.setDate(_t.getDate()+xe)}},At=b.value.toDate();for(;Math.abs(b.value.diff(At,"year",!0))<1;){const _t=Yt[J.value];if(!_t)return;if(_t.offset(At,et(_t[ie])?_t[ie](At):(Ie=_t[ie])!=null?Ie:0),p&&p(At))break;const xe=ut(At).locale(c.value);b.value=xe,e("pick",xe,!0);break}},De=ie=>{e("panel-change",b.value.toDate(),ie,_.value)};return Ee(()=>K.value,ie=>{if(["month","year"].includes(ie)){_.value=ie;return}_.value="date"},{immediate:!0}),Ee(()=>_.value,()=>{d==null||d.updatePopper()}),Ee(()=>y.value,ie=>{ie&&(b.value=Le())},{immediate:!0}),Ee(()=>n.parsedValue,ie=>{if(ie){if(K.value==="dates"||Array.isArray(ie))return;b.value=ie}else b.value=Le()},{immediate:!0}),e("set-picker-option",["isValidValue",de]),e("set-picker-option",["formatToString",le]),e("set-picker-option",["parseUserInput",Te]),e("set-picker-option",["handleFocusPicker",ae]),(ie,Ie)=>(E(),F("div",{class:I([h(s).b(),h(o).b(),{"has-sidebar":ie.$slots.sidebar||h(W),"has-time":h(fe)}])},[L("div",{class:I(h(s).e("body-wrapper"))},[Ce(ie.$slots,"sidebar",{class:I(h(s).e("sidebar"))}),h(W)?(E(),F("div",{key:0,class:I(h(s).e("sidebar"))},[(E(!0),F(Ye,null,Tt(h(f),(je,U)=>(E(),F("button",{key:U,type:"button",class:I(h(s).e("shortcut")),onClick:oe=>$(je)},Oe(je.text),11,Xie))),128))],2)):ce("v-if",!0),L("div",{class:I(h(s).e("body"))},[h(fe)?(E(),F("div",{key:0,class:I(h(o).e("time-header"))},[L("span",{class:I(h(o).e("editor-wrap"))},[q(h(vr),{placeholder:h(l)("el.datepicker.selectDate"),"model-value":h(ne),size:"small","validate-event":!1,onInput:Ie[0]||(Ie[0]=je=>N.value=je),onChange:ee},null,8,["placeholder","model-value"])],2),ot((E(),F("span",{class:I(h(o).e("editor-wrap"))},[q(h(vr),{placeholder:h(l)("el.datepicker.selectTime"),"model-value":h(j),size:"small","validate-event":!1,onFocus:Se,onInput:Ie[1]||(Ie[1]=je=>R.value=je),onChange:pe},null,8,["placeholder","model-value"]),q(h(Rg),{visible:ge.value,format:h(ye),"time-arrow-control":h(v),"parsed-value":b.value,onPick:Me},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[h(Ta),_e]])],2)):ce("v-if",!0),ot(L("div",{class:I([h(o).e("header"),(_.value==="year"||_.value==="month")&&h(o).e("header--bordered")])},[L("span",{class:I(h(o).e("prev-btn"))},[L("button",{type:"button","aria-label":h(l)("el.datepicker.prevYear"),class:I(["d-arrow-left",h(s).e("icon-btn")]),onClick:Ie[2]||(Ie[2]=je=>M(!1))},[q(h(Ue),null,{default:re(()=>[q(h(Nu))]),_:1})],10,Jie),ot(L("button",{type:"button","aria-label":h(l)("el.datepicker.prevMonth"),class:I([h(s).e("icon-btn"),"arrow-left"]),onClick:Ie[3]||(Ie[3]=je=>z(!1))},[q(h(Ue),null,{default:re(()=>[q(h(Sa))]),_:1})],10,Qie),[[Dt,_.value==="date"]])],2),L("span",{role:"button",class:I(h(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Ie[4]||(Ie[4]=Ot(je=>Y("year"),["enter"])),onClick:Ie[5]||(Ie[5]=je=>Y("year"))},Oe(h(O)),35),ot(L("span",{role:"button","aria-live":"polite",tabindex:"0",class:I([h(o).e("header-label"),{active:_.value==="month"}]),onKeydown:Ie[6]||(Ie[6]=Ot(je=>Y("month"),["enter"])),onClick:Ie[7]||(Ie[7]=je=>Y("month"))},Oe(h(l)(`el.datepicker.month${h(k)+1}`)),35),[[Dt,_.value==="date"]]),L("span",{class:I(h(o).e("next-btn"))},[ot(L("button",{type:"button","aria-label":h(l)("el.datepicker.nextMonth"),class:I([h(s).e("icon-btn"),"arrow-right"]),onClick:Ie[8]||(Ie[8]=je=>z(!0))},[q(h(Ue),null,{default:re(()=>[q(h($r))]),_:1})],10,Zie),[[Dt,_.value==="date"]]),L("button",{type:"button","aria-label":h(l)("el.datepicker.nextYear"),class:I([h(s).e("icon-btn"),"d-arrow-right"]),onClick:Ie[9]||(Ie[9]=je=>M(!0))},[q(h(Ue),null,{default:re(()=>[q(h($u))]),_:1})],10,eae)],2)],2),[[Dt,_.value!=="time"]]),L("div",{class:I(h(s).e("content")),onKeydown:we},[_.value==="date"?(E(),he(Hw,{key:0,ref_key:"currentViewRef",ref:C,"selection-mode":h(K),date:b.value,"parsed-value":ie.parsedValue,"disabled-date":h(p),"cell-class-name":h(m),onPick:V},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ce("v-if",!0),_.value==="year"?(E(),he(Yie,{key:1,ref_key:"currentViewRef",ref:C,date:b.value,"disabled-date":h(p),"parsed-value":ie.parsedValue,onPick:ve},null,8,["date","disabled-date","parsed-value"])):ce("v-if",!0),_.value==="month"?(E(),he(Kw,{key:2,ref_key:"currentViewRef",ref:C,date:b.value,"parsed-value":ie.parsedValue,"disabled-date":h(p),onPick:se},null,8,["date","parsed-value","disabled-date"])):ce("v-if",!0)],34)],2)],2),ot(L("div",{class:I(h(s).e("footer"))},[ot(q(h(ar),{text:"",size:"small",class:I(h(s).e("link-btn")),onClick:ue},{default:re(()=>[dt(Oe(h(l)("el.datepicker.now")),1)]),_:1},8,["class"]),[[Dt,h(K)!=="dates"]]),q(h(ar),{plain:"",size:"small",class:I(h(s).e("link-btn")),onClick:G},{default:re(()=>[dt(Oe(h(l)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[Dt,h(X)&&_.value==="date"]])],2))}});var nae=Re(tae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const rae=Pe({...sP,...oP}),sae=t=>{const{emit:e}=ht(),n=tp(),r=Qn();return o=>{const i=et(o.value)?o.value():o.value;if(i){e("pick",[ut(i[0]).locale(t.value),ut(i[1]).locale(t.value)]);return}o.onClick&&o.onClick({attrs:n,slots:r,emit:e})}},lP=(t,{defaultValue:e,leftDate:n,rightDate:r,unit:s,onParsedValueChanged:o})=>{const{emit:i}=ht(),{pickerNs:a}=Fe(IS),l=ke("date-range-picker"),{t:c,lang:u}=Ft(),d=sae(u),f=D(),p=D(),m=D({endDate:null,selecting:!1}),g=b=>{m.value=b},v=(b=!1)=>{const w=h(f),S=h(p);zw([w,S])&&i("pick",[w,S],b)},y=b=>{m.value.selecting=b,b||(m.value.endDate=null)},C=()=>{const[b,w]=aP(h(e),{lang:h(u),unit:s,unlinkPanels:t.unlinkPanels});f.value=void 0,p.value=void 0,n.value=b,r.value=w};return Ee(e,b=>{b&&C()},{immediate:!0}),Ee(()=>t.parsedValue,b=>{if(Be(b)&&b.length===2){const[w,S]=b;f.value=w,n.value=w,p.value=S,o(h(f),h(p))}else C()},{immediate:!0}),{minDate:f,maxDate:p,rangeState:m,lang:u,ppNs:a,drpNs:l,handleChangeRange:g,handleRangeConfirm:v,handleShortcutClick:d,onSelect:y,t:c}},oae=["onClick"],iae=["disabled"],aae=["disabled"],lae=["disabled"],cae=["disabled"],Zp="month",uae=te({__name:"panel-date-range",props:rae,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=Fe("EP_PICKER_BASE"),{disabledDate:s,cellClassName:o,format:i,defaultTime:a,arrowControl:l,clearable:c}=r.props,u=pn(r.props,"shortcuts"),d=pn(r.props,"defaultValue"),{lang:f}=Ft(),p=D(ut().locale(f.value)),m=D(ut().locale(f.value).add(1,Zp)),{minDate:g,maxDate:v,rangeState:y,ppNs:C,drpNs:b,handleChangeRange:w,handleRangeConfirm:S,handleShortcutClick:k,onSelect:A,t:x}=lP(n,{defaultValue:d,leftDate:p,rightDate:m,unit:Zp,onParsedValueChanged:U}),N=D({min:null,max:null}),R=D({min:null,max:null}),H=T(()=>`${p.value.year()} ${x("el.datepicker.year")} ${x(`el.datepicker.month${p.value.month()+1}`)}`),P=T(()=>`${m.value.year()} ${x("el.datepicker.year")} ${x(`el.datepicker.month${m.value.month()+1}`)}`),B=T(()=>p.value.year()),V=T(()=>p.value.month()),z=T(()=>m.value.year()),M=T(()=>m.value.month()),_=T(()=>!!u.value.length),O=T(()=>N.value.min!==null?N.value.min:g.value?g.value.format(se.value):""),$=T(()=>N.value.max!==null?N.value.max:v.value||g.value?(v.value||g.value).format(se.value):""),K=T(()=>R.value.min!==null?R.value.min:g.value?g.value.format(W.value):""),J=T(()=>R.value.max!==null?R.value.max:v.value||g.value?(v.value||g.value).format(W.value):""),W=T(()=>pD(i)),se=T(()=>hD(i)),ve=()=>{p.value=p.value.subtract(1,"year"),n.unlinkPanels||(m.value=p.value.add(1,"month")),j("year")},Y=()=>{p.value=p.value.subtract(1,"month"),n.unlinkPanels||(m.value=p.value.add(1,"month")),j("month")},fe=()=>{n.unlinkPanels?m.value=m.value.add(1,"year"):(p.value=p.value.add(1,"year"),m.value=p.value.add(1,"month")),j("year")},X=()=>{n.unlinkPanels?m.value=m.value.add(1,"month"):(p.value=p.value.add(1,"month"),m.value=p.value.add(1,"month")),j("month")},G=()=>{p.value=p.value.add(1,"year"),j("year")},ue=()=>{p.value=p.value.add(1,"month"),j("month")},ye=()=>{m.value=m.value.subtract(1,"year"),j("year")},Ae=()=>{m.value=m.value.subtract(1,"month"),j("month")},j=oe=>{e("panel-change",[p.value.toDate(),m.value.toDate()],oe)},ne=T(()=>{const oe=(V.value+1)%12,Z=V.value+1>=12?1:0;return n.unlinkPanels&&new Date(B.value+Z,oe)<new Date(z.value,M.value)}),ge=T(()=>n.unlinkPanels&&z.value*12+M.value-(B.value*12+V.value+1)>=12),Se=T(()=>!(g.value&&v.value&&!y.value.selecting&&zw([g.value,v.value]))),_e=T(()=>n.type==="datetime"||n.type==="datetimerange"),Q=(oe,Z)=>{if(!!oe)return a?ut(a[Z]||a).locale(f.value).year(oe.year()).month(oe.month()).date(oe.date()):oe},Me=(oe,Z=!0)=>{const be=oe.minDate,Ke=oe.maxDate,at=Q(be,0),St=Q(Ke,1);v.value===St&&g.value===at||(e("calendar-change",[be.toDate(),Ke&&Ke.toDate()]),v.value=St,g.value=at,!(!Z||_e.value)&&S())},pe=D(!1),ee=D(!1),de=()=>{pe.value=!1},le=()=>{ee.value=!1},Te=(oe,Z)=>{N.value[Z]=oe;const be=ut(oe,se.value).locale(f.value);if(be.isValid()){if(s&&s(be.toDate()))return;Z==="min"?(p.value=be,g.value=(g.value||p.value).year(be.year()).month(be.month()).date(be.date()),n.unlinkPanels||(m.value=be.add(1,"month"),v.value=g.value.add(1,"month"))):(m.value=be,v.value=(v.value||m.value).year(be.year()).month(be.month()).date(be.date()),n.unlinkPanels||(p.value=be.subtract(1,"month"),g.value=v.value.subtract(1,"month")))}},Le=(oe,Z)=>{N.value[Z]=null},ae=(oe,Z)=>{R.value[Z]=oe;const be=ut(oe,W.value).locale(f.value);be.isValid()&&(Z==="min"?(pe.value=!0,g.value=(g.value||p.value).hour(be.hour()).minute(be.minute()).second(be.second()),(!v.value||v.value.isBefore(g.value))&&(v.value=g.value)):(ee.value=!0,v.value=(v.value||m.value).hour(be.hour()).minute(be.minute()).second(be.second()),m.value=v.value,v.value&&v.value.isBefore(g.value)&&(g.value=v.value)))},we=(oe,Z)=>{R.value[Z]=null,Z==="min"?(p.value=g.value,pe.value=!1):(m.value=v.value,ee.value=!1)},$e=(oe,Z,be)=>{R.value.min||(oe&&(p.value=oe,g.value=(g.value||p.value).hour(oe.hour()).minute(oe.minute()).second(oe.second())),be||(pe.value=Z),(!v.value||v.value.isBefore(g.value))&&(v.value=g.value,m.value=oe))},De=(oe,Z,be)=>{R.value.max||(oe&&(m.value=oe,v.value=(v.value||m.value).hour(oe.hour()).minute(oe.minute()).second(oe.second())),be||(ee.value=Z),v.value&&v.value.isBefore(g.value)&&(g.value=v.value))},ie=()=>{p.value=aP(h(d),{lang:h(f),unit:"month",unlinkPanels:n.unlinkPanels})[0],m.value=p.value.add(1,"month"),e("pick",null)},Ie=oe=>Be(oe)?oe.map(Z=>Z.format(i)):oe.format(i),je=oe=>Be(oe)?oe.map(Z=>ut(Z,i).locale(f.value)):ut(oe,i).locale(f.value);function U(oe,Z){if(n.unlinkPanels&&Z){const be=(oe==null?void 0:oe.year())||0,Ke=(oe==null?void 0:oe.month())||0,at=Z.year(),St=Z.month();m.value=be===at&&Ke===St?Z.add(1,Zp):Z}else m.value=p.value.add(1,Zp),Z&&(m.value=m.value.hour(Z.hour()).minute(Z.minute()).second(Z.second()))}return e("set-picker-option",["isValidValue",zw]),e("set-picker-option",["parseUserInput",je]),e("set-picker-option",["formatToString",Ie]),e("set-picker-option",["handleClear",ie]),(oe,Z)=>(E(),F("div",{class:I([h(C).b(),h(b).b(),{"has-sidebar":oe.$slots.sidebar||h(_),"has-time":h(_e)}])},[L("div",{class:I(h(C).e("body-wrapper"))},[Ce(oe.$slots,"sidebar",{class:I(h(C).e("sidebar"))}),h(_)?(E(),F("div",{key:0,class:I(h(C).e("sidebar"))},[(E(!0),F(Ye,null,Tt(h(u),(be,Ke)=>(E(),F("button",{key:Ke,type:"button",class:I(h(C).e("shortcut")),onClick:at=>h(k)(be)},Oe(be.text),11,oae))),128))],2)):ce("v-if",!0),L("div",{class:I(h(C).e("body"))},[h(_e)?(E(),F("div",{key:0,class:I(h(b).e("time-header"))},[L("span",{class:I(h(b).e("editors-wrap"))},[L("span",{class:I(h(b).e("time-picker-wrap"))},[q(h(vr),{size:"small",disabled:h(y).selecting,placeholder:h(x)("el.datepicker.startDate"),class:I(h(b).e("editor")),"model-value":h(O),"validate-event":!1,onInput:Z[0]||(Z[0]=be=>Te(be,"min")),onChange:Z[1]||(Z[1]=be=>Le(be,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),ot((E(),F("span",{class:I(h(b).e("time-picker-wrap"))},[q(h(vr),{size:"small",class:I(h(b).e("editor")),disabled:h(y).selecting,placeholder:h(x)("el.datepicker.startTime"),"model-value":h(K),"validate-event":!1,onFocus:Z[2]||(Z[2]=be=>pe.value=!0),onInput:Z[3]||(Z[3]=be=>ae(be,"min")),onChange:Z[4]||(Z[4]=be=>we(be,"min"))},null,8,["class","disabled","placeholder","model-value"]),q(h(Rg),{visible:pe.value,format:h(W),"datetime-role":"start","time-arrow-control":h(l),"parsed-value":p.value,onPick:$e},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[h(Ta),de]])],2),L("span",null,[q(h(Ue),null,{default:re(()=>[q(h($r))]),_:1})]),L("span",{class:I([h(b).e("editors-wrap"),"is-right"])},[L("span",{class:I(h(b).e("time-picker-wrap"))},[q(h(vr),{size:"small",class:I(h(b).e("editor")),disabled:h(y).selecting,placeholder:h(x)("el.datepicker.endDate"),"model-value":h($),readonly:!h(g),"validate-event":!1,onInput:Z[5]||(Z[5]=be=>Te(be,"max")),onChange:Z[6]||(Z[6]=be=>Le(be,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),ot((E(),F("span",{class:I(h(b).e("time-picker-wrap"))},[q(h(vr),{size:"small",class:I(h(b).e("editor")),disabled:h(y).selecting,placeholder:h(x)("el.datepicker.endTime"),"model-value":h(J),readonly:!h(g),"validate-event":!1,onFocus:Z[7]||(Z[7]=be=>h(g)&&(ee.value=!0)),onInput:Z[8]||(Z[8]=be=>ae(be,"max")),onChange:Z[9]||(Z[9]=be=>we(be,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),q(h(Rg),{"datetime-role":"end",visible:ee.value,format:h(W),"time-arrow-control":h(l),"parsed-value":m.value,onPick:De},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[h(Ta),le]])],2)],2)):ce("v-if",!0),L("div",{class:I([[h(C).e("content"),h(b).e("content")],"is-left"])},[L("div",{class:I(h(b).e("header"))},[L("button",{type:"button",class:I([h(C).e("icon-btn"),"d-arrow-left"]),onClick:ve},[q(h(Ue),null,{default:re(()=>[q(h(Nu))]),_:1})],2),L("button",{type:"button",class:I([h(C).e("icon-btn"),"arrow-left"]),onClick:Y},[q(h(Ue),null,{default:re(()=>[q(h(Sa))]),_:1})],2),oe.unlinkPanels?(E(),F("button",{key:0,type:"button",disabled:!h(ge),class:I([[h(C).e("icon-btn"),{"is-disabled":!h(ge)}],"d-arrow-right"]),onClick:G},[q(h(Ue),null,{default:re(()=>[q(h($u))]),_:1})],10,iae)):ce("v-if",!0),oe.unlinkPanels?(E(),F("button",{key:1,type:"button",disabled:!h(ne),class:I([[h(C).e("icon-btn"),{"is-disabled":!h(ne)}],"arrow-right"]),onClick:ue},[q(h(Ue),null,{default:re(()=>[q(h($r))]),_:1})],10,aae)):ce("v-if",!0),L("div",null,Oe(h(H)),1)],2),q(Hw,{"selection-mode":"range",date:p.value,"min-date":h(g),"max-date":h(v),"range-state":h(y),"disabled-date":h(s),"cell-class-name":h(o),onChangerange:h(w),onPick:Me,onSelect:h(A)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),L("div",{class:I([[h(C).e("content"),h(b).e("content")],"is-right"])},[L("div",{class:I(h(b).e("header"))},[oe.unlinkPanels?(E(),F("button",{key:0,type:"button",disabled:!h(ge),class:I([[h(C).e("icon-btn"),{"is-disabled":!h(ge)}],"d-arrow-left"]),onClick:ye},[q(h(Ue),null,{default:re(()=>[q(h(Nu))]),_:1})],10,lae)):ce("v-if",!0),oe.unlinkPanels?(E(),F("button",{key:1,type:"button",disabled:!h(ne),class:I([[h(C).e("icon-btn"),{"is-disabled":!h(ne)}],"arrow-left"]),onClick:Ae},[q(h(Ue),null,{default:re(()=>[q(h(Sa))]),_:1})],10,cae)):ce("v-if",!0),L("button",{type:"button",class:I([h(C).e("icon-btn"),"d-arrow-right"]),onClick:fe},[q(h(Ue),null,{default:re(()=>[q(h($u))]),_:1})],2),L("button",{type:"button",class:I([h(C).e("icon-btn"),"arrow-right"]),onClick:X},[q(h(Ue),null,{default:re(()=>[q(h($r))]),_:1})],2),L("div",null,Oe(h(P)),1)],2),q(Hw,{"selection-mode":"range",date:m.value,"min-date":h(g),"max-date":h(v),"range-state":h(y),"disabled-date":h(s),"cell-class-name":h(o),onChangerange:h(w),onPick:Me,onSelect:h(A)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),h(_e)?(E(),F("div",{key:0,class:I(h(C).e("footer"))},[h(c)?(E(),he(h(ar),{key:0,text:"",size:"small",class:I(h(C).e("link-btn")),onClick:ie},{default:re(()=>[dt(Oe(h(x)("el.datepicker.clear")),1)]),_:1},8,["class"])):ce("v-if",!0),q(h(ar),{plain:"",size:"small",class:I(h(C).e("link-btn")),disabled:h(Se),onClick:Z[10]||(Z[10]=be=>h(S)(!1))},{default:re(()=>[dt(Oe(h(x)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ce("v-if",!0)],2))}});var dae=Re(uae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const fae=Pe({...oP}),hae=["pick","set-picker-option"],pae=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=Ft(),s=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},o=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},i=()=>{e.value=e.value.add(1,"year")},a=()=>{n.value=n.value.subtract(1,"year")},l=T(()=>`${e.value.year()} ${r("el.datepicker.year")}`),c=T(()=>`${n.value.year()} ${r("el.datepicker.year")}`),u=T(()=>e.value.year()),d=T(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:s,rightNextYear:o,leftNextYear:i,rightPrevYear:a,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},mae=["onClick"],gae=["disabled"],vae=["disabled"],em="year",yae=te({name:"DatePickerMonthRange"}),bae=te({...yae,props:fae,emits:hae,setup(t,{emit:e}){const n=t,{lang:r}=Ft(),s=Fe("EP_PICKER_BASE"),{shortcuts:o,disabledDate:i,format:a}=s.props,l=pn(s.props,"defaultValue"),c=D(ut().locale(r.value)),u=D(ut().locale(r.value).add(1,em)),{minDate:d,maxDate:f,rangeState:p,ppNs:m,drpNs:g,handleChangeRange:v,handleRangeConfirm:y,handleShortcutClick:C,onSelect:b}=lP(n,{defaultValue:l,leftDate:c,rightDate:u,unit:em,onParsedValueChanged:M}),w=T(()=>!!o.length),{leftPrevYear:S,rightNextYear:k,leftNextYear:A,rightPrevYear:x,leftLabel:N,rightLabel:R,leftYear:H,rightYear:P}=pae({unlinkPanels:pn(n,"unlinkPanels"),leftDate:c,rightDate:u}),B=T(()=>n.unlinkPanels&&P.value>H.value+1),V=(_,O=!0)=>{const $=_.minDate,K=_.maxDate;f.value===K&&d.value===$||(f.value=K,d.value=$,O&&y())},z=_=>_.map(O=>O.format(a));function M(_,O){if(n.unlinkPanels&&O){const $=(_==null?void 0:_.year())||0,K=O.year();u.value=$===K?O.add(1,em):O}else u.value=c.value.add(1,em)}return e("set-picker-option",["formatToString",z]),(_,O)=>(E(),F("div",{class:I([h(m).b(),h(g).b(),{"has-sidebar":Boolean(_.$slots.sidebar)||h(w)}])},[L("div",{class:I(h(m).e("body-wrapper"))},[Ce(_.$slots,"sidebar",{class:I(h(m).e("sidebar"))}),h(w)?(E(),F("div",{key:0,class:I(h(m).e("sidebar"))},[(E(!0),F(Ye,null,Tt(h(o),($,K)=>(E(),F("button",{key:K,type:"button",class:I(h(m).e("shortcut")),onClick:J=>h(C)($)},Oe($.text),11,mae))),128))],2)):ce("v-if",!0),L("div",{class:I(h(m).e("body"))},[L("div",{class:I([[h(m).e("content"),h(g).e("content")],"is-left"])},[L("div",{class:I(h(g).e("header"))},[L("button",{type:"button",class:I([h(m).e("icon-btn"),"d-arrow-left"]),onClick:O[0]||(O[0]=(...$)=>h(S)&&h(S)(...$))},[q(h(Ue),null,{default:re(()=>[q(h(Nu))]),_:1})],2),_.unlinkPanels?(E(),F("button",{key:0,type:"button",disabled:!h(B),class:I([[h(m).e("icon-btn"),{[h(m).is("disabled")]:!h(B)}],"d-arrow-right"]),onClick:O[1]||(O[1]=(...$)=>h(A)&&h(A)(...$))},[q(h(Ue),null,{default:re(()=>[q(h($u))]),_:1})],10,gae)):ce("v-if",!0),L("div",null,Oe(h(N)),1)],2),q(Kw,{"selection-mode":"range",date:c.value,"min-date":h(d),"max-date":h(f),"range-state":h(p),"disabled-date":h(i),onChangerange:h(v),onPick:V,onSelect:h(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),L("div",{class:I([[h(m).e("content"),h(g).e("content")],"is-right"])},[L("div",{class:I(h(g).e("header"))},[_.unlinkPanels?(E(),F("button",{key:0,type:"button",disabled:!h(B),class:I([[h(m).e("icon-btn"),{"is-disabled":!h(B)}],"d-arrow-left"]),onClick:O[2]||(O[2]=(...$)=>h(x)&&h(x)(...$))},[q(h(Ue),null,{default:re(()=>[q(h(Nu))]),_:1})],10,vae)):ce("v-if",!0),L("button",{type:"button",class:I([h(m).e("icon-btn"),"d-arrow-right"]),onClick:O[3]||(O[3]=(...$)=>h(k)&&h(k)(...$))},[q(h(Ue),null,{default:re(()=>[q(h($u))]),_:1})],2),L("div",null,Oe(h(R)),1)],2),q(Kw,{"selection-mode":"range",date:u.value,"min-date":h(d),"max-date":h(f),"range-state":h(p),"disabled-date":h(i),onChangerange:h(v),onPick:V,onSelect:h(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var wae=Re(bae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const Cae=function(t){switch(t){case"daterange":case"datetimerange":return dae;case"monthrange":return wae;default:return nae}};ut.extend(AD);ut.extend(vie);ut.extend(WS);ut.extend(yie);ut.extend(bie);ut.extend(wie);ut.extend(Cie);ut.extend(Sie);var Sae=te({name:"ElDatePicker",install:null,props:{...qS,...kie},emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:r}){const s=ke("picker-panel");yt("ElPopperOptions",Lt(pn(t,"popperOptions"))),yt(IS,{slots:r,pickerNs:s});const o=D();e({focus:(l=!0)=>{var c;(c=o.value)==null||c.focus(l)},handleOpen:()=>{var l;(l=o.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=o.value)==null||l.handleClose()}});const a=l=>{n("update:modelValue",l)};return()=>{var l;const c=(l=t.format)!=null?l:kne[t.type]||Kc,u=Cae(t.type);return q(vD,wt(t,{format:c,type:t.type,ref:o,"onUpdate:modelValue":a}),{default:d=>q(u,d,null),"range-separator":r["range-separator"]})}}});const Ym=Sae;Ym.install=t=>{t.component(Ym.name,Ym)};const kae=Ym,JS="elDescriptions";var Ld=te({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:Fe(JS,{})}},render(){var t,e,n,r,s,o;const i=OJ(this.cell),{border:a,direction:l}=this.descriptions,c=l==="vertical",u=((n=(e=(t=this.cell)==null?void 0:t.children)==null?void 0:e.label)==null?void 0:n.call(e))||i.label,d=(o=(s=(r=this.cell)==null?void 0:r.children)==null?void 0:s.default)==null?void 0:o.call(s),f=i.span,p=i.align?`is-${i.align}`:"",m=i.labelAlign?`is-${i.labelAlign}`:p,g=i.className,v=i.labelClassName,y={width:xn(i.width),minWidth:xn(i.minWidth)},C=ke("descriptions");switch(this.type){case"label":return He(this.tag,{style:y,class:[C.e("cell"),C.e("label"),C.is("bordered-label",a),C.is("vertical-label",c),m,v],colSpan:c?f:1},u);case"content":return He(this.tag,{style:y,class:[C.e("cell"),C.e("content"),C.is("bordered-content",a),C.is("vertical-content",c),p,g],colSpan:c?f:f*2-1},d);default:return He("td",{style:y,class:[C.e("cell"),p],colSpan:f},[He("span",{class:[C.e("label"),v]},u),He("span",{class:[C.e("content"),g]},d)])}}});const Eae=Pe({row:{type:Array,default:()=>[]}}),Tae={key:1},_ae=te({name:"ElDescriptionsRow"}),xae=te({..._ae,props:Eae,setup(t){const e=Fe(JS,{});return(n,r)=>h(e).direction==="vertical"?(E(),F(Ye,{key:0},[L("tr",null,[(E(!0),F(Ye,null,Tt(n.row,(s,o)=>(E(),he(h(Ld),{key:`tr1-${o}`,cell:s,tag:"th",type:"label"},null,8,["cell"]))),128))]),L("tr",null,[(E(!0),F(Ye,null,Tt(n.row,(s,o)=>(E(),he(h(Ld),{key:`tr2-${o}`,cell:s,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(E(),F("tr",Tae,[(E(!0),F(Ye,null,Tt(n.row,(s,o)=>(E(),F(Ye,{key:`tr3-${o}`},[h(e).border?(E(),F(Ye,{key:0},[q(h(Ld),{cell:s,tag:"td",type:"label"},null,8,["cell"]),q(h(Ld),{cell:s,tag:"td",type:"content"},null,8,["cell"])],64)):(E(),he(h(Ld),{key:1,cell:s,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var Iae=Re(xae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const Mae=Pe({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ns,title:{type:String,default:""},extra:{type:String,default:""}}),Aae=te({name:"ElDescriptions"}),Oae=te({...Aae,props:Mae,setup(t){const e=t,n=ke("descriptions"),r=In(),s=Qn();yt(JS,e);const o=T(()=>[n.b(),n.m(r.value)]),i=(l,c,u,d=!1)=>(l.props||(l.props={}),c>u&&(l.props.span=u),d&&(l.props.span=c),l),a=()=>{var l;const c=pu((l=s.default)==null?void 0:l.call(s)).filter(m=>{var g;return((g=m==null?void 0:m.type)==null?void 0:g.name)==="ElDescriptionsItem"}),u=[];let d=[],f=e.column,p=0;return c.forEach((m,g)=>{var v;const y=((v=m.props)==null?void 0:v.span)||1;if(g<c.length-1&&(p+=y>f?f:y),g===c.length-1){const C=e.column-p%e.column;d.push(i(m,C,f,!0)),u.push(d);return}y<f?(f-=y,d.push(m)):(d.push(i(m,y,f)),u.push(d),f=e.column,d=[])}),u};return(l,c)=>(E(),F("div",{class:I(h(o))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(E(),F("div",{key:0,class:I(h(n).e("header"))},[L("div",{class:I(h(n).e("title"))},[Ce(l.$slots,"title",{},()=>[dt(Oe(l.title),1)])],2),L("div",{class:I(h(n).e("extra"))},[Ce(l.$slots,"extra",{},()=>[dt(Oe(l.extra),1)])],2)],2)):ce("v-if",!0),L("div",{class:I(h(n).e("body"))},[L("table",{class:I([h(n).e("table"),h(n).is("bordered",l.border)])},[L("tbody",null,[(E(!0),F(Ye,null,Tt(a(),(u,d)=>(E(),he(Iae,{key:d,row:u},null,8,["row"]))),128))])],2)],2)],2))}});var Nae=Re(Oae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),cP=te({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const $ae=mt(Nae,{DescriptionsItem:cP}),Rae=vn(cP),Dae=Pe({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:me([String,Array,Object])},zIndex:{type:me([String,Number])}}),Pae={click:t=>t instanceof MouseEvent};var Lae=te({name:"ElOverlay",props:Dae,emits:Pae,setup(t,{slots:e,emit:n}){const r=ke("overlay"),s=l=>{n("click",l)},{onClick:o,onMousedown:i,onMouseup:a}=MS(t.customMaskEvent?void 0:s);return()=>t.mask?q("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:o,onMousedown:i,onMouseup:a},[Ce(e,"default")],Ms.STYLE|Ms.CLASS|Ms.PROPS,["onClick","onMouseup","onMousedown"]):He("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ce(e,"default")])}});const QS=Lae,uP=Pe({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:tn},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Bae={close:()=>!0},Fae=["aria-label"],Vae=["id"],zae=te({name:"ElDialogContent"}),Hae=te({...zae,props:uP,emits:Bae,setup(t){const e=t,{t:n}=Ft(),{Close:r}=rR,{dialogRef:s,headerRef:o,bodyId:i,ns:a,style:l}=Fe(dR),{focusTrapRef:c}=Fe(KS),u=ny(c,s),d=T(()=>e.draggable);return SR(s,o,d),(f,p)=>(E(),F("div",{ref:h(u),class:I([h(a).b(),h(a).is("fullscreen",f.fullscreen),h(a).is("draggable",h(d)),h(a).is("align-center",f.alignCenter),{[h(a).m("center")]:f.center},f.customClass]),style:Ge(h(l)),tabindex:"-1"},[L("header",{ref_key:"headerRef",ref:o,class:I(h(a).e("header"))},[Ce(f.$slots,"header",{},()=>[L("span",{role:"heading",class:I(h(a).e("title"))},Oe(f.title),3)]),f.showClose?(E(),F("button",{key:0,"aria-label":h(n)("el.dialog.close"),class:I(h(a).e("headerbtn")),type:"button",onClick:p[0]||(p[0]=m=>f.$emit("close"))},[q(h(Ue),{class:I(h(a).e("close"))},{default:re(()=>[(E(),he(kt(f.closeIcon||h(r))))]),_:1},8,["class"])],10,Fae)):ce("v-if",!0)],2),L("div",{id:h(i),class:I(h(a).e("body"))},[Ce(f.$slots,"default")],10,Vae),f.$slots.footer?(E(),F("footer",{key:0,class:I(h(a).e("footer"))},[Ce(f.$slots,"footer")],2)):ce("v-if",!0)],6))}});var Kae=Re(Hae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const dP=Pe({...uP,appendToBody:{type:Boolean,default:!1},beforeClose:{type:me(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),fP={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[pt]:t=>Nn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},hP=(t,e)=>{const r=ht().emit,{nextZIndex:s}=Mi();let o="";const i=ho(),a=ho(),l=D(!1),c=D(!1),u=D(!1),d=D(t.zIndex||s());let f,p;const m=Ii("namespace",ly),g=T(()=>{const V={},z=`--${m.value}-dialog`;return t.fullscreen||(t.top&&(V[`${z}-margin-top`]=t.top),t.width&&(V[`${z}-width`]=xn(t.width))),V}),v=T(()=>t.alignCenter?{display:"flex"}:{});function y(){r("opened")}function C(){r("closed"),r(pt,!1),t.destroyOnClose&&(u.value=!1)}function b(){r("close")}function w(){p==null||p(),f==null||f(),t.openDelay&&t.openDelay>0?{stop:f}=ql(()=>x(),t.openDelay):x()}function S(){f==null||f(),p==null||p(),t.closeDelay&&t.closeDelay>0?{stop:p}=ql(()=>N(),t.closeDelay):N()}function k(){function V(z){z||(c.value=!0,l.value=!1)}t.beforeClose?t.beforeClose(V):S()}function A(){t.closeOnClickModal&&k()}function x(){!It||(l.value=!0)}function N(){l.value=!1}function R(){r("openAutoFocus")}function H(){r("closeAutoFocus")}function P(V){var z;((z=V.detail)==null?void 0:z.focusReason)==="pointer"&&V.preventDefault()}t.lockScroll&&ER(l);function B(){t.closeOnPressEscape&&k()}return Ee(()=>t.modelValue,V=>{V?(c.value=!1,w(),u.value=!0,d.value=t.zIndex?d.value++:s(),ze(()=>{r("open"),e.value&&(e.value.scrollTop=0)})):l.value&&S()}),Ee(()=>t.fullscreen,V=>{!e.value||(V?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),lt(()=>{t.modelValue&&(l.value=!0,u.value=!0,w())}),{afterEnter:y,afterLeave:C,beforeLeave:b,handleClose:k,onModalClick:A,close:S,doClose:N,onOpenAutoFocus:R,onCloseAutoFocus:H,onCloseRequested:B,onFocusoutPrevented:P,titleId:i,bodyId:a,closed:c,style:g,overlayDialogStyle:v,rendered:u,visible:l,zIndex:d}},Uae=["aria-label","aria-labelledby","aria-describedby"],jae=te({name:"ElDialog",inheritAttrs:!1}),Wae=te({...jae,props:dP,emits:fP,setup(t,{expose:e}){const n=t,r=Qn();vi({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},T(()=>!!r.title)),vi({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},T(()=>!!n.customClass));const s=ke("dialog"),o=D(),i=D(),a=D(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:f,rendered:p,zIndex:m,afterEnter:g,afterLeave:v,beforeLeave:y,handleClose:C,onModalClick:b,onOpenAutoFocus:w,onCloseAutoFocus:S,onCloseRequested:k,onFocusoutPrevented:A}=hP(n,o);yt(dR,{dialogRef:o,headerRef:i,bodyId:u,ns:s,rendered:p,style:d});const x=MS(b),N=T(()=>n.draggable&&!n.fullscreen);return e({visible:l,dialogContentRef:a}),(R,H)=>(E(),he(hd,{to:"body",disabled:!R.appendToBody},[q(Sn,{name:"dialog-fade",onAfterEnter:h(g),onAfterLeave:h(v),onBeforeLeave:h(y),persisted:""},{default:re(()=>[ot(q(h(QS),{"custom-mask-event":"",mask:R.modal,"overlay-class":R.modalClass,"z-index":h(m)},{default:re(()=>[L("div",{role:"dialog","aria-modal":"true","aria-label":R.title||void 0,"aria-labelledby":R.title?void 0:h(c),"aria-describedby":h(u),class:I(`${h(s).namespace.value}-overlay-dialog`),style:Ge(h(f)),onClick:H[0]||(H[0]=(...P)=>h(x).onClick&&h(x).onClick(...P)),onMousedown:H[1]||(H[1]=(...P)=>h(x).onMousedown&&h(x).onMousedown(...P)),onMouseup:H[2]||(H[2]=(...P)=>h(x).onMouseup&&h(x).onMouseup(...P))},[q(h(hy),{loop:"",trapped:h(l),"focus-start-el":"container",onFocusAfterTrapped:h(w),onFocusAfterReleased:h(S),onFocusoutPrevented:h(A),onReleaseRequested:h(k)},{default:re(()=>[h(p)?(E(),he(Kae,wt({key:0,ref_key:"dialogContentRef",ref:a},R.$attrs,{"custom-class":R.customClass,center:R.center,"align-center":R.alignCenter,"close-icon":R.closeIcon,draggable:h(N),fullscreen:R.fullscreen,"show-close":R.showClose,title:R.title,onClose:h(C)}),Ca({header:re(()=>[R.$slots.title?Ce(R.$slots,"title",{key:1}):Ce(R.$slots,"header",{key:0,close:h(C),titleId:h(c),titleClass:h(s).e("title")})]),default:re(()=>[Ce(R.$slots,"default")]),_:2},[R.$slots.footer?{name:"footer",fn:re(()=>[Ce(R.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):ce("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Uae)]),_:3},8,["mask","overlay-class","z-index"]),[[Dt,h(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var qae=Re(Wae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Gae=mt(qae),Yae=Pe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:me(String),default:"solid"}}),Xae=te({name:"ElDivider"}),Jae=te({...Xae,props:Yae,setup(t){const e=t,n=ke("divider"),r=T(()=>n.cssVar({"border-style":e.borderStyle}));return(s,o)=>(E(),F("div",{class:I([h(n).b(),h(n).m(s.direction)]),style:Ge(h(r)),role:"separator"},[s.$slots.default&&s.direction!=="vertical"?(E(),F("div",{key:0,class:I([h(n).e("text"),h(n).is(s.contentPosition)])},[Ce(s.$slots,"default")],2)):ce("v-if",!0)],6))}});var Qae=Re(Jae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const pP=mt(Qae),Zae=Pe({...dP,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),ele=fP,tle=te({name:"ElDrawer",components:{ElOverlay:QS,ElFocusTrap:hy,ElIcon:Ue,Close:fo},inheritAttrs:!1,props:Zae,emits:ele,setup(t,{slots:e}){vi({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},T(()=>!!e.title)),vi({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},T(()=>!!t.customClass));const n=D(),r=D(),s=ke("drawer"),{t:o}=Ft(),i=T(()=>t.direction==="rtl"||t.direction==="ltr"),a=T(()=>xn(t.size));return{...hP(t,n),drawerRef:n,focusStartRef:r,isHorizontal:i,drawerSize:a,ns:s,t:o}}}),nle=["aria-label","aria-labelledby","aria-describedby"],rle=["id"],sle=["aria-label"],ole=["id"];function ile(t,e,n,r,s,o){const i=Je("close"),a=Je("el-icon"),l=Je("el-focus-trap"),c=Je("el-overlay");return E(),he(hd,{to:"body",disabled:!t.appendToBody},[q(Sn,{name:t.ns.b("fade"),onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave,persisted:""},{default:re(()=>[ot(q(c,{mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex,onClick:t.onModalClick},{default:re(()=>[q(l,{loop:"",trapped:t.visible,"focus-trap-el":t.drawerRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:re(()=>[L("div",wt({ref:"drawerRef","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:t.titleId,"aria-describedby":t.bodyId},t.$attrs,{class:[t.ns.b(),t.direction,t.visible&&"open",t.customClass],style:t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize,role:"dialog",onClick:e[1]||(e[1]=tt(()=>{},["stop"]))}),[L("span",{ref:"focusStartRef",class:I(t.ns.e("sr-focus")),tabindex:"-1"},null,2),t.withHeader?(E(),F("header",{key:0,class:I(t.ns.e("header"))},[t.$slots.title?Ce(t.$slots,"title",{key:1},()=>[ce(" DEPRECATED SLOT ")]):Ce(t.$slots,"header",{key:0,close:t.handleClose,titleId:t.titleId,titleClass:t.ns.e("title")},()=>[t.$slots.title?ce("v-if",!0):(E(),F("span",{key:0,id:t.titleId,role:"heading",class:I(t.ns.e("title"))},Oe(t.title),11,rle))]),t.showClose?(E(),F("button",{key:2,"aria-label":t.t("el.drawer.close"),class:I(t.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...u)=>t.handleClose&&t.handleClose(...u))},[q(a,{class:I(t.ns.e("close"))},{default:re(()=>[q(i)]),_:1},8,["class"])],10,sle)):ce("v-if",!0)],2)):ce("v-if",!0),t.rendered?(E(),F("div",{key:1,id:t.bodyId,class:I(t.ns.e("body"))},[Ce(t.$slots,"default")],10,ole)):ce("v-if",!0),t.$slots.footer?(E(),F("div",{key:2,class:I(t.ns.e("footer"))},[Ce(t.$slots,"footer")],2)):ce("v-if",!0)],16,nle)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Dt,t.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var ale=Re(tle,[["render",ile],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const lle=mt(ale),cle=te({inheritAttrs:!1});function ule(t,e,n,r,s,o){return Ce(t.$slots,"default")}var dle=Re(cle,[["render",ule],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const fle=te({name:"ElCollectionItem",inheritAttrs:!1});function hle(t,e,n,r,s,o){return Ce(t.$slots,"default")}var ple=Re(fle,[["render",hle],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const mP="data-el-collection-item",gP=t=>{const e=`El${t}Collection`,n=`${e}Item`,r=Symbol(e),s=Symbol(n),o={...dle,name:e,setup(){const a=D(null),l=new Map;yt(r,{itemMap:l,getItems:()=>{const u=h(a);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${mP}]`));return[...l.values()].sort((p,m)=>d.indexOf(p.ref)-d.indexOf(m.ref))},collectionRef:a})}},i={...ple,name:n,setup(a,{attrs:l}){const c=D(null),u=Fe(r,void 0);yt(s,{collectionItemRef:c}),lt(()=>{const d=h(c);d&&u.itemMap.set(d,{ref:d,...l})}),ln(()=>{const d=h(c);u.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:o,ElCollectionItem:i}},mle=Pe({style:{type:me([String,Array,Object])},currentTabId:{type:me(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:me(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:gle,ElCollectionItem:vle,COLLECTION_INJECTION_KEY:ZS,COLLECTION_ITEM_INJECTION_KEY:yle}=gP("RovingFocusGroup"),ek=Symbol("elRovingFocusGroup"),vP=Symbol("elRovingFocusGroupItem"),ble={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},wle=(t,e)=>{if(e!=="rtl")return t;switch(t){case Xe.right:return Xe.left;case Xe.left:return Xe.right;default:return t}},Cle=(t,e,n)=>{const r=wle(t.key,n);if(!(e==="vertical"&&[Xe.left,Xe.right].includes(r))&&!(e==="horizontal"&&[Xe.up,Xe.down].includes(r)))return ble[r]},Sle=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),tk=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},aI="currentTabIdChange",lI="rovingFocusGroup.entryFocus",kle={bubbles:!1,cancelable:!0},Ele=te({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:mle,emits:[aI,"entryFocus"],setup(t,{emit:e}){var n;const r=D((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),s=D(!1),o=D(!1),i=D(null),{getItems:a}=Fe(ZS,void 0),l=T(()=>[{outline:"none"},t.style]),c=g=>{e(aI,g)},u=()=>{s.value=!0},d=gn(g=>{var v;(v=t.onMousedown)==null||v.call(t,g)},()=>{o.value=!0}),f=gn(g=>{var v;(v=t.onFocus)==null||v.call(t,g)},g=>{const v=!h(o),{target:y,currentTarget:C}=g;if(y===C&&v&&!h(s)){const b=new Event(lI,kle);if(C==null||C.dispatchEvent(b),!b.defaultPrevented){const w=a().filter(N=>N.focusable),S=w.find(N=>N.active),k=w.find(N=>N.id===h(r)),x=[S,k,...w].filter(Boolean).map(N=>N.ref);tk(x)}}o.value=!1}),p=gn(g=>{var v;(v=t.onBlur)==null||v.call(t,g)},()=>{s.value=!1}),m=(...g)=>{e("entryFocus",...g)};yt(ek,{currentTabbedId:Zh(r),loop:pn(t,"loop"),tabIndex:T(()=>h(s)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:l,orientation:pn(t,"orientation"),dir:pn(t,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:p,onFocus:f,onMousedown:d}),Ee(()=>t.currentTabId,g=>{r.value=g!=null?g:null}),on(i,lI,m)}});function Tle(t,e,n,r,s,o){return Ce(t.$slots,"default")}var _le=Re(Ele,[["render",Tle],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const xle=te({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:gle,ElRovingFocusGroupImpl:_le}});function Ile(t,e,n,r,s,o){const i=Je("el-roving-focus-group-impl"),a=Je("el-focus-group-collection");return E(),he(a,null,{default:re(()=>[q(i,no(Kv(t.$attrs)),{default:re(()=>[Ce(t.$slots,"default")]),_:3},16)]),_:3})}var Mle=Re(xle,[["render",Ile],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const Ale=te({components:{ElRovingFocusCollectionItem:vle},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:o}=Fe(ek,void 0),{getItems:i}=Fe(ZS,void 0),a=ho(),l=D(null),c=gn(p=>{e("mousedown",p)},p=>{t.focusable?s(h(a)):p.preventDefault()}),u=gn(p=>{e("focus",p)},()=>{s(h(a))}),d=gn(p=>{e("keydown",p)},p=>{const{key:m,shiftKey:g,target:v,currentTarget:y}=p;if(m===Xe.tab&&g){o();return}if(v!==y)return;const C=Cle(p);if(C){p.preventDefault();let w=i().filter(S=>S.focusable).map(S=>S.ref);switch(C){case"last":{w.reverse();break}case"prev":case"next":{C==="prev"&&w.reverse();const S=w.indexOf(y);w=r.value?Sle(w,S+1):w.slice(S+1);break}}ze(()=>{tk(w)})}}),f=T(()=>n.value===h(a));return yt(vP,{rovingFocusGroupItemRef:l,tabIndex:T(()=>h(f)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:a,handleKeydown:d,handleFocus:u,handleMousedown:c}}});function Ole(t,e,n,r,s,o){const i=Je("el-roving-focus-collection-item");return E(),he(i,{id:t.id,focusable:t.focusable,active:t.active},{default:re(()=>[Ce(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var Nle=Re(Ale,[["render",Ole],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Xm=Pe({trigger:ih.trigger,effect:{...Hn.effect,default:"light"},type:{type:me(String)},placement:{type:me(String),default:"bottom"},popperOptions:{type:me(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:me([Number,String]),default:0},maxHeight:{type:me([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:me(Object)},teleported:Hn.teleported}),yP=Pe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:tn}}),$le=Pe({onKeydown:{type:me(Function)}}),Rle=[Xe.down,Xe.pageDown,Xe.home],bP=[Xe.up,Xe.pageUp,Xe.end],Dle=[...Rle,...bP],{ElCollection:Ple,ElCollectionItem:Lle,COLLECTION_INJECTION_KEY:Ble,COLLECTION_ITEM_INJECTION_KEY:Fle}=gP("Dropdown"),gy=Symbol("elDropdown"),{ButtonGroup:Vle}=ar,zle=te({name:"ElDropdown",components:{ElButton:ar,ElButtonGroup:Vle,ElScrollbar:Oi,ElDropdownCollection:Ple,ElTooltip:is,ElRovingFocusGroup:Mle,ElOnlyChild:FR,ElIcon:Ue,ArrowDown:Ra},props:Xm,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=ht(),r=ke("dropdown"),{t:s}=Ft(),o=D(),i=D(),a=D(null),l=D(null),c=D(null),u=D(null),d=D(!1),f=[Xe.enter,Xe.space,Xe.down],p=T(()=>({maxHeight:xn(t.maxHeight)})),m=T(()=>[r.m(w.value)]),g=ho().value,v=T(()=>t.id||g);function y(){C()}function C(){var z;(z=a.value)==null||z.onClose()}function b(){var z;(z=a.value)==null||z.onOpen()}const w=In();function S(...z){e("command",...z)}function k(){}function A(){const z=h(l);z==null||z.focus(),u.value=null}function x(z){u.value=z}function N(z){d.value||(z.preventDefault(),z.stopImmediatePropagation())}function R(){e("visible-change",!0)}function H(z){(z==null?void 0:z.type)==="keydown"&&l.value.focus()}function P(){e("visible-change",!1)}return yt(gy,{contentRef:l,role:T(()=>t.role),triggerId:v,isUsingKeyboard:d,onItemEnter:k,onItemLeave:A}),yt("elDropdown",{instance:n,dropdownSize:w,handleClick:y,commandHandler:S,trigger:pn(t,"trigger"),hideOnClick:pn(t,"hideOnClick")}),{t:s,ns:r,scrollbar:c,wrapStyle:p,dropdownTriggerKls:m,dropdownSize:w,triggerId:v,triggerKeys:f,currentTabId:u,handleCurrentTabIdChange:x,handlerMainButtonClick:z=>{e("click",z)},handleEntryFocus:N,handleClose:C,handleOpen:b,handleBeforeShowTooltip:R,handleShowTooltip:H,handleBeforeHideTooltip:P,onFocusAfterTrapped:z=>{var M,_;z.preventDefault(),(_=(M=l.value)==null?void 0:M.focus)==null||_.call(M,{preventScroll:!0})},popperRef:a,contentRef:l,triggeringElementRef:o,referenceElementRef:i}}});function Hle(t,e,n,r,s,o){var i;const a=Je("el-dropdown-collection"),l=Je("el-roving-focus-group"),c=Je("el-scrollbar"),u=Je("el-only-child"),d=Je("el-tooltip"),f=Je("el-button"),p=Je("arrow-down"),m=Je("el-icon"),g=Je("el-button-group");return E(),F("div",{class:I([t.ns.b(),t.ns.is("disabled",t.disabled)])},[q(d,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(i=t.referenceElementRef)==null?void 0:i.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Ca({content:re(()=>[q(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:re(()=>[q(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:re(()=>[q(a,null,{default:re(()=>[Ce(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:re(()=>[q(u,{id:t.triggerId,role:"button",tabindex:t.tabindex},{default:re(()=>[Ce(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(E(),he(g,{key:0},{default:re(()=>[q(f,wt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:re(()=>[Ce(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),q(f,wt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:re(()=>[q(m,{class:I(t.ns.e("icon"))},{default:re(()=>[q(p)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ce("v-if",!0)],2)}var Kle=Re(zle,[["render",Hle],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const Ule=te({name:"DropdownItemImpl",components:{ElIcon:Ue},props:yP,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=ke("dropdown"),{role:r}=Fe(gy,void 0),{collectionItemRef:s}=Fe(Fle,void 0),{collectionItemRef:o}=Fe(yle,void 0),{rovingFocusGroupItemRef:i,tabIndex:a,handleFocus:l,handleKeydown:c,handleMousedown:u}=Fe(vP,void 0),d=ny(s,o,i),f=T(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),p=gn(m=>{const{code:g}=m;if(g===Xe.enter||g===Xe.space)return m.preventDefault(),m.stopImmediatePropagation(),e("clickimpl",m),!0},c);return{ns:n,itemRef:d,dataset:{[mP]:""},role:f,tabIndex:a,handleFocus:l,handleKeydown:p,handleMousedown:u}}}),jle=["aria-disabled","tabindex","role"];function Wle(t,e,n,r,s,o){const i=Je("el-icon");return E(),F(Ye,null,[t.divided?(E(),F("li",wt({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):ce("v-if",!0),L("li",wt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:e[0]||(e[0]=a=>t.$emit("clickimpl",a)),onFocus:e[1]||(e[1]=(...a)=>t.handleFocus&&t.handleFocus(...a)),onKeydown:e[2]||(e[2]=(...a)=>t.handleKeydown&&t.handleKeydown(...a)),onMousedown:e[3]||(e[3]=(...a)=>t.handleMousedown&&t.handleMousedown(...a)),onPointermove:e[4]||(e[4]=a=>t.$emit("pointermove",a)),onPointerleave:e[5]||(e[5]=a=>t.$emit("pointerleave",a))}),[t.icon?(E(),he(i,{key:0},{default:re(()=>[(E(),he(kt(t.icon)))]),_:1})):ce("v-if",!0),Ce(t.$slots,"default")],16,jle)],64)}var qle=Re(Ule,[["render",Wle],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const wP=()=>{const t=Fe("elDropdown",{}),e=T(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},Gle=te({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Lle,ElRovingFocusItem:Nle,ElDropdownItemImpl:qle},inheritAttrs:!1,props:yP,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=wP(),s=ht(),o=D(null),i=T(()=>{var p,m;return(m=(p=h(o))==null?void 0:p.textContent)!=null?m:""}),{onItemEnter:a,onItemLeave:l}=Fe(gy,void 0),c=gn(p=>(e("pointermove",p),p.defaultPrevented),U_(p=>{var m;t.disabled?l(p):(a(p),p.defaultPrevented||(m=p.currentTarget)==null||m.focus())})),u=gn(p=>(e("pointerleave",p),p.defaultPrevented),U_(p=>{l(p)})),d=gn(p=>{if(!t.disabled)return e("click",p),p.type!=="keydown"&&p.defaultPrevented},p=>{var m,g,v;if(t.disabled){p.stopImmediatePropagation();return}(m=r==null?void 0:r.hideOnClick)!=null&&m.value&&((g=r.handleClick)==null||g.call(r)),(v=r.commandHandler)==null||v.call(r,t.command,s,p)}),f=T(()=>({...t,...n}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:i,propsAndAttrs:f}}});function Yle(t,e,n,r,s,o){var i;const a=Je("el-dropdown-item-impl"),l=Je("el-roving-focus-item"),c=Je("el-dropdown-collection-item");return E(),he(c,{disabled:t.disabled,"text-value":(i=t.textValue)!=null?i:t.textContent},{default:re(()=>[q(l,{focusable:!t.disabled},{default:re(()=>[q(a,wt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:re(()=>[Ce(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var CP=Re(Gle,[["render",Yle],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Xle=te({name:"ElDropdownMenu",props:$le,setup(t){const e=ke("dropdown"),{_elDropdownSize:n}=wP(),r=n.value,{focusTrapRef:s,onKeydown:o}=Fe(KS,void 0),{contentRef:i,role:a,triggerId:l}=Fe(gy,void 0),{collectionRef:c,getItems:u}=Fe(Ble,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:p,onBlur:m,onFocus:g,onMousedown:v}=Fe(ek,void 0),{collectionRef:y}=Fe(ZS,void 0),C=T(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),b=ny(i,c,s,d,y),w=gn(k=>{var A;(A=t.onKeydown)==null||A.call(t,k)},k=>{const{currentTarget:A,code:x,target:N}=k;if(A.contains(N),Xe.tab===x&&k.stopImmediatePropagation(),k.preventDefault(),N!==h(i)||!Dle.includes(x))return;const H=u().filter(P=>!P.disabled).map(P=>P.ref);bP.includes(x)&&H.reverse(),tk(H)});return{size:r,rovingFocusGroupRootStyle:f,tabIndex:p,dropdownKls:C,role:a,triggerId:l,dropdownListWrapperRef:b,handleKeydown:k=>{w(k),o(k)},onBlur:m,onFocus:g,onMousedown:v}}}),Jle=["role","aria-labelledby"];function Qle(t,e,n,r,s,o){return E(),F("ul",{ref:t.dropdownListWrapperRef,class:I(t.dropdownKls),style:Ge(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:e[0]||(e[0]=(...i)=>t.onBlur&&t.onBlur(...i)),onFocus:e[1]||(e[1]=(...i)=>t.onFocus&&t.onFocus(...i)),onKeydown:e[2]||(e[2]=(...i)=>t.handleKeydown&&t.handleKeydown(...i)),onMousedown:e[3]||(e[3]=(...i)=>t.onMousedown&&t.onMousedown(...i))},[Ce(t.$slots,"default")],46,Jle)}var SP=Re(Xle,[["render",Qle],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Zle=mt(Kle,{DropdownItem:CP,DropdownMenu:SP}),ece=vn(CP),tce=vn(SP);let nce=0;const rce=te({name:"ImgEmpty",setup(){return{ns:ke("empty"),id:++nce}}}),sce={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},oce=["id"],ice=["stop-color"],ace=["stop-color"],lce=["id"],cce=["stop-color"],uce=["stop-color"],dce=["id"],fce={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},hce={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},pce={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},mce=["fill"],gce=["fill"],vce={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},yce=["fill"],bce=["fill"],wce=["fill"],Cce=["fill"],Sce=["fill"],kce={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Ece=["fill","xlink:href"],Tce=["fill","mask"],_ce=["fill"];function xce(t,e,n,r,s,o){return E(),F("svg",sce,[L("defs",null,[L("linearGradient",{id:`linearGradient-1-${t.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[L("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,ice),L("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,ace)],8,oce),L("linearGradient",{id:`linearGradient-2-${t.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[L("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,cce),L("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,uce)],8,lce),L("rect",{id:`path-3-${t.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,dce)]),L("g",fce,[L("g",hce,[L("g",pce,[L("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${t.ns.cssVarBlockName("fill-color-3")})`},null,8,mce),L("polygon",{id:"Rectangle-Copy-14",fill:`var(${t.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,gce),L("g",vce,[L("polygon",{id:"Rectangle-Copy-10",fill:`var(${t.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,yce),L("polygon",{id:"Rectangle-Copy-11",fill:`var(${t.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,bce),L("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${t.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,wce),L("polygon",{id:"Rectangle-Copy-13",fill:`var(${t.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,Cce)]),L("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${t.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,Sce),L("g",kce,[L("use",{id:"Mask",fill:`var(${t.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${t.id}`},null,8,Ece),L("polygon",{id:"Rectangle-Copy",fill:`var(${t.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${t.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,Tce)]),L("polygon",{id:"Rectangle-Copy-18",fill:`var(${t.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,_ce)])])])])}var Ice=Re(rce,[["render",xce],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const Mce={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},Ace=["src"],Oce={key:1},Nce=te({name:"ElEmpty"}),$ce=te({...Nce,props:Mce,setup(t){const e=t,{t:n}=Ft(),r=ke("empty"),s=T(()=>e.description||n("el.table.emptyText")),o=T(()=>({width:e.imageSize?`${e.imageSize}px`:""}));return(i,a)=>(E(),F("div",{class:I(h(r).b())},[L("div",{class:I(h(r).e("image")),style:Ge(h(o))},[i.image?(E(),F("img",{key:0,src:i.image,ondragstart:"return false"},null,8,Ace)):Ce(i.$slots,"image",{key:1},()=>[q(Ice)])],6),L("div",{class:I(h(r).e("description"))},[i.$slots.description?Ce(i.$slots,"description",{key:0}):(E(),F("p",Oce,Oe(h(s)),1))],2),i.$slots.default?(E(),F("div",{key:0,class:I(h(r).e("bottom"))},[Ce(i.$slots,"default")],2)):ce("v-if",!0)],2))}});var Rce=Re($ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const kP=mt(Rce),Dce=Pe({model:Object,rules:{type:me(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:xi},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),Pce={validate:(t,e,n)=>(Be(t)||rt(t))&&Nn(e)&&rt(n)};function Lce(){const t=D([]),e=T(()=>{if(!t.value.length)return"0";const o=Math.max(...t.value);return o?`${o}px`:""});function n(o){const i=t.value.indexOf(o);return i===-1&&e.value,i}function r(o,i){if(o&&i){const a=n(i);t.value.splice(a,1,o)}else o&&t.value.push(o)}function s(o){const i=n(o);i>-1&&t.value.splice(i,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:s}}const tm=(t,e)=>{const n=Ou(e);return n.length>0?t.filter(r=>r.prop&&n.includes(r.prop)):t},Bce="ElForm",Fce=te({name:Bce}),Vce=te({...Fce,props:Dce,emits:Pce,setup(t,{expose:e,emit:n}){const r=t,s=[],o=In(),i=ke("form"),a=T(()=>{const{labelPosition:C,inline:b}=r;return[i.b(),i.m(o.value||"default"),{[i.m(`label-${C}`)]:C,[i.m("inline")]:b}]}),l=C=>{s.push(C)},c=C=>{C.prop&&s.splice(s.indexOf(C),1)},u=(C=[])=>{!r.model||tm(s,C).forEach(b=>b.resetField())},d=(C=[])=>{tm(s,C).forEach(b=>b.clearValidate())},f=T(()=>!!r.model),p=C=>{if(s.length===0)return[];const b=tm(s,C);return b.length?b:[]},m=async C=>v(void 0,C),g=async(C=[])=>{if(!f.value)return!1;const b=p(C);if(b.length===0)return!0;let w={};for(const S of b)try{await S.validate("")}catch(k){w={...w,...k}}return Object.keys(w).length===0?!0:Promise.reject(w)},v=async(C=[],b)=>{const w=!et(b);try{const S=await g(C);return S===!0&&(b==null||b(S)),S}catch(S){if(S instanceof Error)throw S;const k=S;return r.scrollToError&&y(Object.keys(k)[0]),b==null||b(!1,k),w&&Promise.reject(k)}},y=C=>{var b;const w=tm(s,C)[0];w&&((b=w.$el)==null||b.scrollIntoView())};return Ee(()=>r.rules,()=>{r.validateOnRuleChange&&m().catch(C=>void 0)},{deep:!0}),yt(bc,Lt({...$n(r),emit:n,resetFields:u,clearValidate:d,validateField:v,addField:l,removeField:c,...Lce()})),e({validate:m,validateField:v,resetFields:u,clearValidate:d,scrollToField:y}),(C,b)=>(E(),F("form",{class:I(h(a))},[Ce(C.$slots,"default")],2))}});var zce=Re(Vce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function Hce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lh(t,e)}function Uw(t){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uw(t)}function lh(t,e){return lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lh(t,e)}function Kce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jm(t,e,n){return Kce()?Jm=Reflect.construct.bind():Jm=function(s,o,i){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(s,a),c=new l;return i&&lh(c,i.prototype),c},Jm.apply(null,arguments)}function Uce(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function jw(t){var e=typeof Map=="function"?new Map:void 0;return jw=function(r){if(r===null||!Uce(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return Jm(r,arguments,Uw(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),lh(s,r)},jw(t)}var jce=/%[sdj%]/g,Wce=function(){};typeof process<"u"&&process.env;function Ww(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function hs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var i=t.replace(jce,function(a){if(a==="%%")return"%";if(s>=o)return a;switch(a){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return a}});return i}return t}function qce(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Fn(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||qce(e)&&typeof t=="string"&&!t)}function Gce(t,e,n){var r=[],s=0,o=t.length;function i(a){r.push.apply(r,a||[]),s++,s===o&&n(r)}t.forEach(function(a){e(a,i)})}function cI(t,e,n){var r=0,s=t.length;function o(i){if(i&&i.length){n(i);return}var a=r;r=r+1,a<s?e(t[a],o):n([])}o([])}function Yce(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var uI=function(t){Hce(e,t);function e(n,r){var s;return s=t.call(this,"Async Validation Error")||this,s.errors=n,s.fields=r,s}return e}(jw(Error));function Xce(t,e,n,r,s){if(e.first){var o=new Promise(function(f,p){var m=function(y){return r(y),y.length?p(new uI(y,Ww(y))):f(s)},g=Yce(t);cI(g,n,m)});return o.catch(function(f){return f}),o}var i=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],d=new Promise(function(f,p){var m=function(v){if(u.push.apply(u,v),c++,c===l)return r(u),u.length?p(new uI(u,Ww(u))):f(s)};a.length||(r(u),f(s)),a.forEach(function(g){var v=t[g];i.indexOf(g)!==-1?cI(v,n,m):Gce(v,n,m)})});return d.catch(function(f){return f}),d}function Jce(t){return!!(t&&t.message!==void 0)}function Qce(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function dI(t,e){return function(n){var r;return t.fullFields?r=Qce(e,t.fullFields):r=e[n.field||t.fullField],Jce(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function fI(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=wl({},t[n],r):t[n]=r}}return t}var EP=function(e,n,r,s,o,i){e.required&&(!r.hasOwnProperty(e.field)||Fn(n,i||e.type))&&s.push(hs(o.messages.required,e.fullField))},Zce=function(e,n,r,s,o){(/^\s+$/.test(n)||n==="")&&s.push(hs(o.messages.whitespace,e.fullField))},nm,eue=function(){if(nm)return nm;var t="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),i=new RegExp("^"+n+"$"),a=new RegExp("^"+s+"$"),l=function(w){return w&&w.exact?o:new RegExp("(?:"+e(w)+n+e(w)+")|(?:"+e(w)+s+e(w)+")","g")};l.v4=function(b){return b&&b.exact?i:new RegExp(""+e(b)+n+e(b),"g")},l.v6=function(b){return b&&b.exact?a:new RegExp(""+e(b)+s+e(b),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',C="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+p+m+g+")"+v+y;return nm=new RegExp("(?:^"+C+"$)","i"),nm},hI={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Zd={integer:function(e){return Zd.number(e)&&parseInt(e,10)===e},float:function(e){return Zd.number(e)&&!Zd.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Zd.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(hI.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(eue())},hex:function(e){return typeof e=="string"&&!!e.match(hI.hex)}},tue=function(e,n,r,s,o){if(e.required&&n===void 0){EP(e,n,r,s,o);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;i.indexOf(a)>-1?Zd[a](n)||s.push(hs(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&s.push(hs(o.messages.types[a],e.fullField,e.type))},nue=function(e,n,r,s,o){var i=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",p=typeof n=="string",m=Array.isArray(n);if(f?d="number":p?d="string":m&&(d="array"),!d)return!1;m&&(u=n.length),p&&(u=n.replace(c,"_").length),i?u!==e.len&&s.push(hs(o.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?s.push(hs(o.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?s.push(hs(o.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&s.push(hs(o.messages[d].range,e.fullField,e.min,e.max))},Mc="enum",rue=function(e,n,r,s,o){e[Mc]=Array.isArray(e[Mc])?e[Mc]:[],e[Mc].indexOf(n)===-1&&s.push(hs(o.messages[Mc],e.fullField,e[Mc].join(", ")))},sue=function(e,n,r,s,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||s.push(hs(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var i=new RegExp(e.pattern);i.test(n)||s.push(hs(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},qt={required:EP,whitespace:Zce,type:tue,range:nue,enum:rue,pattern:sue},oue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n,"string")&&!e.required)return r();qt.required(e,n,s,i,o,"string"),Fn(n,"string")||(qt.type(e,n,s,i,o),qt.range(e,n,s,i,o),qt.pattern(e,n,s,i,o),e.whitespace===!0&&qt.whitespace(e,n,s,i,o))}r(i)},iue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o),n!==void 0&&qt.type(e,n,s,i,o)}r(i)},aue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o),n!==void 0&&(qt.type(e,n,s,i,o),qt.range(e,n,s,i,o))}r(i)},lue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o),n!==void 0&&qt.type(e,n,s,i,o)}r(i)},cue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o),Fn(n)||qt.type(e,n,s,i,o)}r(i)},uue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o),n!==void 0&&(qt.type(e,n,s,i,o),qt.range(e,n,s,i,o))}r(i)},due=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o),n!==void 0&&(qt.type(e,n,s,i,o),qt.range(e,n,s,i,o))}r(i)},fue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();qt.required(e,n,s,i,o,"array"),n!=null&&(qt.type(e,n,s,i,o),qt.range(e,n,s,i,o))}r(i)},hue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o),n!==void 0&&qt.type(e,n,s,i,o)}r(i)},pue="enum",mue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o),n!==void 0&&qt[pue](e,n,s,i,o)}r(i)},gue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n,"string")&&!e.required)return r();qt.required(e,n,s,i,o),Fn(n,"string")||qt.pattern(e,n,s,i,o)}r(i)},vue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n,"date")&&!e.required)return r();if(qt.required(e,n,s,i,o),!Fn(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),qt.type(e,l,s,i,o),l&&qt.range(e,l.getTime(),s,i,o)}}r(i)},yue=function(e,n,r,s,o){var i=[],a=Array.isArray(n)?"array":typeof n;qt.required(e,n,s,i,o,a),r(i)},Wb=function(e,n,r,s,o){var i=e.type,a=[],l=e.required||!e.required&&s.hasOwnProperty(e.field);if(l){if(Fn(n,i)&&!e.required)return r();qt.required(e,n,s,a,o,i),Fn(n,i)||qt.type(e,n,s,a,o)}r(a)},bue=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Fn(n)&&!e.required)return r();qt.required(e,n,s,i,o)}r(i)},Cf={string:oue,method:iue,number:aue,boolean:lue,regexp:cue,integer:uue,float:due,array:fue,object:hue,enum:mue,pattern:gue,date:vue,url:Wb,hex:Wb,email:Wb,required:yue,any:bue};function qw(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Gw=qw(),cp=function(){function t(n){this.rules=null,this._messages=Gw,this.define(n)}var e=t.prototype;return e.define=function(r){var s=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var i=r[o];s.rules[o]=Array.isArray(i)?i:[i]})},e.messages=function(r){return r&&(this._messages=fI(qw(),r)),this._messages},e.validate=function(r,s,o){var i=this;s===void 0&&(s={}),o===void 0&&(o=function(){});var a=r,l=s,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(g){var v=[],y={};function C(w){if(Array.isArray(w)){var S;v=(S=v).concat.apply(S,w)}else v.push(w)}for(var b=0;b<g.length;b++)C(g[b]);v.length?(y=Ww(v),c(v,y)):c(null,a)}if(l.messages){var d=this.messages();d===Gw&&(d=qw()),fI(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},p=l.keys||Object.keys(this.rules);p.forEach(function(g){var v=i.rules[g],y=a[g];v.forEach(function(C){var b=C;typeof b.transform=="function"&&(a===r&&(a=wl({},a)),y=a[g]=b.transform(y)),typeof b=="function"?b={validator:b}:b=wl({},b),b.validator=i.getValidationMethod(b),b.validator&&(b.field=g,b.fullField=b.fullField||g,b.type=i.getType(b),f[g]=f[g]||[],f[g].push({rule:b,value:y,source:a,field:g}))})});var m={};return Xce(f,l,function(g,v){var y=g.rule,C=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");C=C&&(y.required||!y.required&&g.value),y.field=g.field;function b(k,A){return wl({},A,{fullField:y.fullField+"."+k,fullFields:y.fullFields?[].concat(y.fullFields,[k]):[k]})}function w(k){k===void 0&&(k=[]);var A=Array.isArray(k)?k:[k];!l.suppressWarning&&A.length&&t.warning("async-validator:",A),A.length&&y.message!==void 0&&(A=[].concat(y.message));var x=A.map(dI(y,a));if(l.first&&x.length)return m[y.field]=1,v(x);if(!C)v(x);else{if(y.required&&!g.value)return y.message!==void 0?x=[].concat(y.message).map(dI(y,a)):l.error&&(x=[l.error(y,hs(l.messages.required,y.field))]),v(x);var N={};y.defaultField&&Object.keys(g.value).map(function(P){N[P]=y.defaultField}),N=wl({},N,g.rule.fields);var R={};Object.keys(N).forEach(function(P){var B=N[P],V=Array.isArray(B)?B:[B];R[P]=V.map(b.bind(null,P))});var H=new t(R);H.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),H.validate(g.value,g.rule.options||l,function(P){var B=[];x&&x.length&&B.push.apply(B,x),P&&P.length&&B.push.apply(B,P),v(B.length?B:null)})}}var S;if(y.asyncValidator)S=y.asyncValidator(y,g.value,w,g.source,l);else if(y.validator){try{S=y.validator(y,g.value,w,g.source,l)}catch(k){console.error==null||console.error(k),l.suppressValidatorError||setTimeout(function(){throw k},0),w(k.message)}S===!0?w():S===!1?w(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):S instanceof Array?w(S):S instanceof Error&&w(S.message)}S&&S.then&&S.then(function(){return w()},function(k){return w(k)})},function(g){u(g)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Cf.hasOwnProperty(r.type))throw new Error(hs("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var s=Object.keys(r),o=s.indexOf("message");return o!==-1&&s.splice(o,1),s.length===1&&s[0]==="required"?Cf.required:Cf[this.getType(r)]||void 0},t}();cp.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Cf[e]=n};cp.warning=Wce;cp.messages=Gw;cp.validators=Cf;const wue=["","error","validating","success"],Cue=Pe({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:me([String,Array])},required:{type:Boolean,default:void 0},rules:{type:me([Object,Array])},error:String,validateStatus:{type:String,values:wue},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:xi}}),pI="ElLabelWrap";var Sue=te({name:pI,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=Fe(bc,void 0),r=Fe(Ho);r||Rn(pI,"usage: <el-form-item><label-wrap /></el-form-item>");const s=ke("form"),o=D(),i=D(0),a=()=>{var u;if((u=o.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(u="update")=>{ze(()=>{e.default&&t.isAutoWidth&&(u==="update"?i.value=a():u==="remove"&&(n==null||n.deregisterLabelWidth(i.value)))})},c=()=>l("update");return lt(()=>{c()}),ln(()=>{l("remove")}),Ei(()=>c()),Ee(i,(u,d)=>{t.updateAll&&(n==null||n.registerLabelWidth(u,d))}),Sr(T(()=>{var u,d;return(d=(u=o.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!e)return null;const{isAutoWidth:f}=t;if(f){const p=n==null?void 0:n.autoLabelWidth,m=r==null?void 0:r.hasLabel,g={};if(m&&p&&p!=="auto"){const v=Math.max(0,Number.parseInt(p,10)-i.value),y=n.labelPosition==="left"?"marginRight":"marginLeft";v&&(g[y]=`${v}px`)}return q("div",{ref:o,class:[s.be("item","label-wrap")],style:g},[(u=e.default)==null?void 0:u.call(e)])}else return q(Ye,{ref:o},[(d=e.default)==null?void 0:d.call(e)])}}});const kue=["role","aria-labelledby"],Eue=te({name:"ElFormItem"}),Tue=te({...Eue,props:Cue,setup(t,{expose:e}){const n=t,r=Qn(),s=Fe(bc,void 0),o=Fe(Ho,void 0),i=In(void 0,{formItem:!1}),a=ke("form-item"),l=ho().value,c=D([]),u=D(""),d=$9(u,100),f=D(""),p=D();let m,g=!1;const v=T(()=>{if((s==null?void 0:s.labelPosition)==="top")return{};const X=xn(n.labelWidth||(s==null?void 0:s.labelWidth)||"");return X?{width:X}:{}}),y=T(()=>{if((s==null?void 0:s.labelPosition)==="top"||(s==null?void 0:s.inline))return{};if(!n.label&&!n.labelWidth&&N)return{};const X=xn(n.labelWidth||(s==null?void 0:s.labelWidth)||"");return!n.label&&!r.label?{marginLeft:X}:{}}),C=T(()=>[a.b(),a.m(i.value),a.is("error",u.value==="error"),a.is("validating",u.value==="validating"),a.is("success",u.value==="success"),a.is("required",V.value||n.required),a.is("no-asterisk",s==null?void 0:s.hideRequiredAsterisk),(s==null?void 0:s.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:s==null?void 0:s.statusIcon}]),b=T(()=>Nn(n.inlineMessage)?n.inlineMessage:(s==null?void 0:s.inlineMessage)||!1),w=T(()=>[a.e("error"),{[a.em("error","inline")]:b.value}]),S=T(()=>n.prop?rt(n.prop)?n.prop:n.prop.join("."):""),k=T(()=>!!(n.label||r.label)),A=T(()=>n.for||c.value.length===1?c.value[0]:void 0),x=T(()=>!A.value&&k.value),N=!!o,R=T(()=>{const X=s==null?void 0:s.model;if(!(!X||!n.prop))return Fm(X,n.prop).value}),H=T(()=>{const{required:X}=n,G=[];n.rules&&G.push(...Ou(n.rules));const ue=s==null?void 0:s.rules;if(ue&&n.prop){const ye=Fm(ue,n.prop).value;ye&&G.push(...Ou(ye))}if(X!==void 0){const ye=G.map((Ae,j)=>[Ae,j]).filter(([Ae])=>Object.keys(Ae).includes("required"));if(ye.length>0)for(const[Ae,j]of ye)Ae.required!==X&&(G[j]={...Ae,required:X});else G.push({required:X})}return G}),P=T(()=>H.value.length>0),B=X=>H.value.filter(ue=>!ue.trigger||!X?!0:Array.isArray(ue.trigger)?ue.trigger.includes(X):ue.trigger===X).map(({trigger:ue,...ye})=>ye),V=T(()=>H.value.some(X=>X.required)),z=T(()=>{var X;return d.value==="error"&&n.showMessage&&((X=s==null?void 0:s.showMessage)!=null?X:!0)}),M=T(()=>`${n.label||""}${(s==null?void 0:s.labelSuffix)||""}`),_=X=>{u.value=X},O=X=>{var G,ue;const{errors:ye,fields:Ae}=X;(!ye||!Ae)&&console.error(X),_("error"),f.value=ye?(ue=(G=ye==null?void 0:ye[0])==null?void 0:G.message)!=null?ue:`${n.prop} is required`:"",s==null||s.emit("validate",n.prop,!1,f.value)},$=()=>{_("success"),s==null||s.emit("validate",n.prop,!0,"")},K=async X=>{const G=S.value;return new cp({[G]:X}).validate({[G]:R.value},{firstFields:!0}).then(()=>($(),!0)).catch(ye=>(O(ye),Promise.reject(ye)))},J=async(X,G)=>{if(g||!n.prop)return!1;const ue=et(G);if(!P.value)return G==null||G(!1),!1;const ye=B(X);return ye.length===0?(G==null||G(!0),!0):(_("validating"),K(ye).then(()=>(G==null||G(!0),!0)).catch(Ae=>{const{fields:j}=Ae;return G==null||G(!1,j),ue?!1:Promise.reject(j)}))},W=()=>{_(""),f.value="",g=!1},se=async()=>{const X=s==null?void 0:s.model;if(!X||!n.prop)return;const G=Fm(X,n.prop);g=!0,G.value=B_(m),await ze(),W(),g=!1},ve=X=>{c.value.includes(X)||c.value.push(X)},Y=X=>{c.value=c.value.filter(G=>G!==X)};Ee(()=>n.error,X=>{f.value=X||"",_(X?"error":"")},{immediate:!0}),Ee(()=>n.validateStatus,X=>_(X||""));const fe=Lt({...$n(n),$el:p,size:i,validateState:u,labelId:l,inputIds:c,isGroup:x,hasLabel:k,addInputId:ve,removeInputId:Y,resetField:se,clearValidate:W,validate:J});return yt(Ho,fe),lt(()=>{n.prop&&(s==null||s.addField(fe),m=B_(R.value))}),ln(()=>{s==null||s.removeField(fe)}),e({size:i,validateMessage:f,validateState:u,validate:J,clearValidate:W,resetField:se}),(X,G)=>{var ue;return E(),F("div",{ref_key:"formItemRef",ref:p,class:I(h(C)),role:h(x)?"group":void 0,"aria-labelledby":h(x)?h(l):void 0},[q(h(Sue),{"is-auto-width":h(v).width==="auto","update-all":((ue=h(s))==null?void 0:ue.labelWidth)==="auto"},{default:re(()=>[h(k)?(E(),he(kt(h(A)?"label":"div"),{key:0,id:h(l),for:h(A),class:I(h(a).e("label")),style:Ge(h(v))},{default:re(()=>[Ce(X.$slots,"label",{label:h(M)},()=>[dt(Oe(h(M)),1)])]),_:3},8,["id","for","class","style"])):ce("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),L("div",{class:I(h(a).e("content")),style:Ge(h(y))},[Ce(X.$slots,"default"),q(Sn,{name:`${h(a).namespace.value}-zoom-in-top`},{default:re(()=>[h(z)?Ce(X.$slots,"error",{key:0,error:f.value},()=>[L("div",{class:I(h(w))},Oe(f.value),3)]):ce("v-if",!0)]),_:3},8,["name"])],6)],10,kue)}}});var TP=Re(Tue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const _ue=mt(zce,{FormItem:TP}),xue=vn(TP),Iue=Pe({urlList:{type:me(Array),default:()=>un([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),Mue={close:()=>!0,switch:t=>it(t)},Aue=["src"],Oue=te({name:"ElImageViewer"}),Nue=te({...Oue,props:Iue,emits:Mue,setup(t,{expose:e,emit:n}){const r=t,s={CONTAIN:{name:"contain",icon:da(iY)},ORIGINAL:{name:"original",icon:da(CX)}},o=kS()?"DOMMouseScroll":"mousewheel",{t:i}=Ft(),a=ke("image-viewer"),{nextZIndex:l}=Mi(),c=D(),u=D([]),d=eH(),f=D(!0),p=D(r.initialIndex),m=en(s.CONTAIN),g=D({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),v=T(()=>{const{urlList:O}=r;return O.length<=1}),y=T(()=>p.value===0),C=T(()=>p.value===r.urlList.length-1),b=T(()=>r.urlList[p.value]),w=T(()=>{const{scale:O,deg:$,offsetX:K,offsetY:J,enableTransition:W}=g.value;let se=K/O,ve=J/O;switch($%360){case 90:case-270:[se,ve]=[ve,-se];break;case 180:case-180:[se,ve]=[-se,-ve];break;case 270:case-90:[se,ve]=[-ve,se];break}const Y={transform:`scale(${O}) rotate(${$}deg) translate(${se}px, ${ve}px)`,transition:W?"transform .3s":""};return m.value.name===s.CONTAIN.name&&(Y.maxWidth=Y.maxHeight="100%"),Y}),S=T(()=>it(r.zIndex)?r.zIndex:l());function k(){x(),n("close")}function A(){const O=Ml(K=>{switch(K.code){case Xe.esc:r.closeOnPressEscape&&k();break;case Xe.space:B();break;case Xe.left:z();break;case Xe.up:_("zoomIn");break;case Xe.right:M();break;case Xe.down:_("zoomOut");break}}),$=Ml(K=>{(K.wheelDelta?K.wheelDelta:-K.detail)>0?_("zoomIn",{zoomRate:1.2,enableTransition:!1}):_("zoomOut",{zoomRate:1.2,enableTransition:!1})});d.run(()=>{on(document,"keydown",O),on(document,o,$)})}function x(){d.stop()}function N(){f.value=!1}function R(O){f.value=!1,O.target.alt=i("el.image.error")}function H(O){if(f.value||O.button!==0||!c.value)return;g.value.enableTransition=!1;const{offsetX:$,offsetY:K}=g.value,J=O.pageX,W=O.pageY,se=Ml(Y=>{g.value={...g.value,offsetX:$+Y.pageX-J,offsetY:K+Y.pageY-W}}),ve=on(document,"mousemove",se);on(document,"mouseup",()=>{ve()}),O.preventDefault()}function P(){g.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function B(){if(f.value)return;const O=nh(s),$=Object.values(s),K=m.value.name,W=($.findIndex(se=>se.name===K)+1)%O.length;m.value=s[O[W]],P()}function V(O){const $=r.urlList.length;p.value=(O+$)%$}function z(){y.value&&!r.infinite||V(p.value-1)}function M(){C.value&&!r.infinite||V(p.value+1)}function _(O,$={}){if(f.value)return;const{zoomRate:K,rotateDeg:J,enableTransition:W}={zoomRate:1.4,rotateDeg:90,enableTransition:!0,...$};switch(O){case"zoomOut":g.value.scale>.2&&(g.value.scale=Number.parseFloat((g.value.scale/K).toFixed(3)));break;case"zoomIn":g.value.scale<7&&(g.value.scale=Number.parseFloat((g.value.scale*K).toFixed(3)));break;case"clockwise":g.value.deg+=J;break;case"anticlockwise":g.value.deg-=J;break}g.value.enableTransition=W}return Ee(b,()=>{ze(()=>{const O=u.value[0];O!=null&&O.complete||(f.value=!0)})}),Ee(p,O=>{P(),n("switch",O)}),lt(()=>{var O,$;A(),($=(O=c.value)==null?void 0:O.focus)==null||$.call(O)}),e({setActiveItem:V}),(O,$)=>(E(),he(hd,{to:"body",disabled:!O.teleported},[q(Sn,{name:"viewer-fade",appear:""},{default:re(()=>[L("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:I(h(a).e("wrapper")),style:Ge({zIndex:h(S)})},[L("div",{class:I(h(a).e("mask")),onClick:$[0]||($[0]=tt(K=>O.hideOnClickModal&&k(),["self"]))},null,2),ce(" CLOSE "),L("span",{class:I([h(a).e("btn"),h(a).e("close")]),onClick:k},[q(h(Ue),null,{default:re(()=>[q(h(fo))]),_:1})],2),ce(" ARROW "),h(v)?ce("v-if",!0):(E(),F(Ye,{key:0},[L("span",{class:I([h(a).e("btn"),h(a).e("prev"),h(a).is("disabled",!O.infinite&&h(y))]),onClick:z},[q(h(Ue),null,{default:re(()=>[q(h(Sa))]),_:1})],2),L("span",{class:I([h(a).e("btn"),h(a).e("next"),h(a).is("disabled",!O.infinite&&h(C))]),onClick:M},[q(h(Ue),null,{default:re(()=>[q(h($r))]),_:1})],2)],64)),ce(" ACTIONS "),L("div",{class:I([h(a).e("btn"),h(a).e("actions")])},[L("div",{class:I(h(a).e("actions__inner"))},[q(h(Ue),{onClick:$[1]||($[1]=K=>_("zoomOut"))},{default:re(()=>[q(h(kJ))]),_:1}),q(h(Ue),{onClick:$[2]||($[2]=K=>_("zoomIn"))},{default:re(()=>[q(h(tR))]),_:1}),L("i",{class:I(h(a).e("actions__divider"))},null,2),q(h(Ue),{onClick:B},{default:re(()=>[(E(),he(kt(h(m).icon)))]),_:1}),L("i",{class:I(h(a).e("actions__divider"))},null,2),q(h(Ue),{onClick:$[3]||($[3]=K=>_("anticlockwise"))},{default:re(()=>[q(h(cX))]),_:1}),q(h(Ue),{onClick:$[4]||($[4]=K=>_("clockwise"))},{default:re(()=>[q(h(mX))]),_:1})],2)],2),ce(" CANVAS "),L("div",{class:I(h(a).e("canvas"))},[(E(!0),F(Ye,null,Tt(O.urlList,(K,J)=>ot((E(),F("img",{ref_for:!0,ref:W=>u.value[J]=W,key:K,src:K,style:Ge(h(w)),class:I(h(a).e("img")),onLoad:N,onError:R,onMousedown:H},null,46,Aue)),[[Dt,J===p.value]])),128))],2),Ce(O.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var $ue=Re(Nue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const _P=mt($ue),Rue=Pe({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:me([String,Object])},previewSrcList:{type:me(Array),default:()=>un([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}}),Due={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>it(t),close:()=>!0,show:()=>!0},Pue=["src","loading"],Lue={key:0},Bue=te({name:"ElImage",inheritAttrs:!1}),Fue=te({...Bue,props:Rue,emits:Due,setup(t,{emit:e}){const n=t;let r="";const{t:s}=Ft(),o=ke("image"),i=tp(),a=_S(),l=D(),c=D(!1),u=D(!0),d=D(!1),f=D(),p=D(),m=It&&"loading"in HTMLImageElement.prototype;let g,v;const y=T(()=>i.style),C=T(()=>{const{fit:_}=n;return It&&_?{objectFit:_}:{}}),b=T(()=>{const{previewSrcList:_}=n;return Array.isArray(_)&&_.length>0}),w=T(()=>{const{previewSrcList:_,initialIndex:O}=n;let $=O;return O>_.length-1&&($=0),$}),S=T(()=>n.loading==="eager"?!1:!m&&n.loading==="lazy"||n.lazy),k=()=>{!It||(u.value=!0,c.value=!1,l.value=n.src)};function A(_){u.value=!1,c.value=!1,e("load",_)}function x(_){u.value=!1,c.value=!0,e("error",_)}function N(){X9(f.value,p.value)&&(k(),P())}const R=W$(N,200);async function H(){var _;if(!It)return;await ze();const{scrollContainer:O}=n;uo(O)?p.value=O:rt(O)&&O!==""?p.value=(_=document.querySelector(O))!=null?_:void 0:f.value&&(p.value=yS(f.value)),p.value&&(g=on(p,"scroll",R),setTimeout(()=>N(),100))}function P(){!It||!p.value||!R||(g==null||g(),p.value=void 0)}function B(_){if(!!_.ctrlKey){if(_.deltaY<0)return _.preventDefault(),!1;if(_.deltaY>0)return _.preventDefault(),!1}}function V(){!b.value||(v=on("wheel",B,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,e("show"))}function z(){v==null||v(),document.body.style.overflow=r,d.value=!1,e("close")}function M(_){e("switch",_)}return Ee(()=>n.src,()=>{S.value?(u.value=!0,c.value=!1,P(),H()):k()}),lt(()=>{S.value?H():k()}),(_,O)=>(E(),F("div",{ref_key:"container",ref:f,class:I([h(o).b(),_.$attrs.class]),style:Ge(h(y))},[l.value!==void 0&&!c.value?(E(),F("img",wt({key:0},h(a),{src:l.value,loading:_.loading,style:h(C),class:[h(o).e("inner"),h(b)&&h(o).e("preview"),u.value&&h(o).is("loading")],onClick:V,onLoad:A,onError:x}),null,16,Pue)):ce("v-if",!0),u.value||c.value?(E(),F("div",{key:1,class:I(h(o).e("wrapper"))},[u.value?Ce(_.$slots,"placeholder",{key:0},()=>[L("div",{class:I(h(o).e("placeholder"))},null,2)]):c.value?Ce(_.$slots,"error",{key:1},()=>[L("div",{class:I(h(o).e("error"))},Oe(h(s)("el.image.error")),3)]):ce("v-if",!0)],2)):ce("v-if",!0),h(b)?(E(),F(Ye,{key:2},[d.value?(E(),he(h(_P),{key:0,"z-index":_.zIndex,"initial-index":h(w),infinite:_.infinite,"url-list":_.previewSrcList,"hide-on-click-modal":_.hideOnClickModal,teleported:_.previewTeleported,"close-on-press-escape":_.closeOnPressEscape,onClose:z,onSwitch:M},{default:re(()=>[_.$slots.viewer?(E(),F("div",Lue,[Ce(_.$slots,"viewer")])):ce("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):ce("v-if",!0)],64)):ce("v-if",!0)],6))}});var Vue=Re(Fue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const zue=mt(Vue),Hue=Pe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ns,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||it(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0}}),Kue={[an]:(t,e)=>t!==e,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[Rr]:t=>it(t)||jn(t),[pt]:t=>it(t)||jn(t)},Uue=["aria-label","onKeydown"],jue=["aria-label","onKeydown"],Wue=te({name:"ElInputNumber"}),que=te({...Wue,props:Hue,emits:Kue,setup(t,{expose:e,emit:n}){const r=t,{t:s}=Ft(),o=ke("input-number"),i=D(),a=Lt({currentValue:r.modelValue,userInput:null}),{formItem:l}=zr(),c=T(()=>it(r.modelValue)&&r.modelValue<=r.min),u=T(()=>it(r.modelValue)&&r.modelValue>=r.max),d=T(()=>{const B=y(r.step);return Un(r.precision)?Math.max(y(r.modelValue),B):(B>r.precision,r.precision)}),f=T(()=>r.controls&&r.controlsPosition==="right"),p=In(),m=ss(),g=T(()=>{if(a.userInput!==null)return a.userInput;let B=a.currentValue;if(jn(B))return"";if(it(B)){if(Number.isNaN(B))return"";Un(r.precision)||(B=B.toFixed(r.precision))}return B}),v=(B,V)=>{if(Un(V)&&(V=d.value),V===0)return Math.round(B);let z=String(B);const M=z.indexOf(".");if(M===-1||!z.replace(".","").split("")[M+V])return B;const $=z.length;return z.charAt($-1)==="5"&&(z=`${z.slice(0,Math.max(0,$-1))}6`),Number.parseFloat(Number(z).toFixed(V))},y=B=>{if(jn(B))return 0;const V=B.toString(),z=V.indexOf(".");let M=0;return z!==-1&&(M=V.length-z-1),M},C=(B,V=1)=>it(B)?v(B+r.step*V):a.currentValue,b=()=>{if(r.readonly||m.value||u.value)return;const B=Number(g.value)||0,V=C(B);k(V),n(Rr,a.currentValue)},w=()=>{if(r.readonly||m.value||c.value)return;const B=Number(g.value)||0,V=C(B,-1);k(V),n(Rr,a.currentValue)},S=(B,V)=>{const{max:z,min:M,step:_,precision:O,stepStrictly:$,valueOnClear:K}=r;let J=Number(B);if(jn(B)||Number.isNaN(J))return null;if(B===""){if(K===null)return null;J=rt(K)?{min:M,max:z}[K]:K}return $&&(J=v(Math.round(J/_)*_,O)),Un(O)||(J=v(J,O)),(J>z||J<M)&&(J=J>z?z:M,V&&n(pt,J)),J},k=(B,V=!0)=>{var z;const M=a.currentValue,_=S(B);if(M!==_){if(!V){n(pt,_);return}a.userInput=null,n(pt,_),n(an,_,M),r.validateEvent&&((z=l==null?void 0:l.validate)==null||z.call(l,"change").catch(O=>void 0)),a.currentValue=_}},A=B=>{a.userInput=B;const V=B===""?null:Number(B);n(Rr,V),k(V,!1)},x=B=>{const V=B!==""?Number(B):"";(it(V)&&!Number.isNaN(V)||B==="")&&k(V),a.userInput=null},N=()=>{var B,V;(V=(B=i.value)==null?void 0:B.focus)==null||V.call(B)},R=()=>{var B,V;(V=(B=i.value)==null?void 0:B.blur)==null||V.call(B)},H=B=>{n("focus",B)},P=B=>{var V;n("blur",B),r.validateEvent&&((V=l==null?void 0:l.validate)==null||V.call(l,"blur").catch(z=>void 0))};return Ee(()=>r.modelValue,B=>{const V=S(a.userInput),z=S(B,!0);(!V||V!==z)&&(a.currentValue=z,a.userInput=null)},{immediate:!0}),lt(()=>{var B;const{min:V,max:z,modelValue:M}=r,_=(B=i.value)==null?void 0:B.input;if(_.setAttribute("role","spinbutton"),Number.isFinite(z)?_.setAttribute("aria-valuemax",String(z)):_.removeAttribute("aria-valuemax"),Number.isFinite(V)?_.setAttribute("aria-valuemin",String(V)):_.removeAttribute("aria-valuemin"),_.setAttribute("aria-valuenow",String(a.currentValue)),_.setAttribute("aria-disabled",String(m.value)),!it(M)&&M!=null){let O=Number(M);Number.isNaN(O)&&(O=null),n(pt,O)}}),Ei(()=>{var B;const V=(B=i.value)==null?void 0:B.input;V==null||V.setAttribute("aria-valuenow",`${a.currentValue}`)}),e({focus:N,blur:R}),(B,V)=>(E(),F("div",{class:I([h(o).b(),h(o).m(h(p)),h(o).is("disabled",h(m)),h(o).is("without-controls",!B.controls),h(o).is("controls-right",h(f))]),onDragstart:V[0]||(V[0]=tt(()=>{},["prevent"]))},[B.controls?ot((E(),F("span",{key:0,role:"button","aria-label":h(s)("el.inputNumber.decrease"),class:I([h(o).e("decrease"),h(o).is("disabled",h(c))]),onKeydown:Ot(w,["enter"])},[q(h(Ue),null,{default:re(()=>[h(f)?(E(),he(h(Ra),{key:0})):(E(),he(h(MY),{key:1}))]),_:1})],42,Uue)),[[h($g),w]]):ce("v-if",!0),B.controls?ot((E(),F("span",{key:1,role:"button","aria-label":h(s)("el.inputNumber.increase"),class:I([h(o).e("increase"),h(o).is("disabled",h(u))]),onKeydown:Ot(b,["enter"])},[q(h(Ue),null,{default:re(()=>[h(f)?(E(),he(h(ey),{key:0})):(E(),he(h(Z$),{key:1}))]),_:1})],42,jue)),[[h($g),b]]):ce("v-if",!0),q(h(vr),{id:B.id,ref_key:"input",ref:i,type:"number",step:B.step,"model-value":h(g),placeholder:B.placeholder,readonly:B.readonly,disabled:h(m),size:h(p),max:B.max,min:B.min,name:B.name,label:B.label,"validate-event":!1,onKeydown:[Ot(tt(b,["prevent"]),["up"]),Ot(tt(w,["prevent"]),["down"])],onBlur:P,onFocus:H,onInput:A,onChange:x},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Gue=Re(que,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const xP=mt(Gue),Yue=Pe({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:tn}}),Xue={click:t=>t instanceof MouseEvent},Jue=["href"],Que=te({name:"ElLink"}),Zue=te({...Que,props:Yue,emits:Xue,setup(t,{emit:e}){const n=t,r=ke("link"),s=T(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function o(i){n.disabled||e("click",i)}return(i,a)=>(E(),F("a",{class:I(h(s)),href:i.disabled||!i.href?void 0:i.href,onClick:o},[i.icon?(E(),he(h(Ue),{key:0},{default:re(()=>[(E(),he(kt(i.icon)))]),_:1})):ce("v-if",!0),i.$slots.default?(E(),F("span",{key:1,class:I(h(r).e("inner"))},[Ce(i.$slots,"default")],2)):ce("v-if",!0),i.$slots.icon?Ce(i.$slots,"icon",{key:2}):ce("v-if",!0)],10,Jue))}});var ede=Re(Zue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const tde=mt(ede);class nde{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let s=!1;switch(r.code){case Xe.down:{this.gotoSubIndex(this.subIndex+1),s=!0;break}case Xe.up:{this.gotoSubIndex(this.subIndex-1),s=!0;break}case Xe.tab:{Lm(e,"mouseleave");break}case Xe.enter:case Xe.space:{s=!0,r.currentTarget.click();break}}return s&&(r.preventDefault(),r.stopPropagation()),!1})})}}class rde{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new nde(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case Xe.down:{Lm(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Xe.up:{Lm(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Xe.tab:{Lm(e.currentTarget,"mouseleave");break}case Xe.enter:case Xe.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}}class sde{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new rde(r,e)})}}const ode=te({name:"ElMenuCollapseTransition",setup(){const t=ke("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){Mo(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){Yr(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),io(n,t.m("collapse"))?(Yr(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Mo(n,t.m("collapse"))):(Mo(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Yr(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Mo(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function ide(t,e,n,r,s,o){return E(),he(Sn,wt({mode:"out-in"},t.listeners),{default:re(()=>[Ce(t.$slots,"default")]),_:3},16)}var ade=Re(ode,[["render",ide],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function IP(t,e){const n=T(()=>{let s=t.parent;const o=[e.value];for(;s.type.name!=="ElMenu";)s.props.index&&o.unshift(s.props.index),s=s.parent;return o});return{parentMenu:T(()=>{let s=t.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:n}}function lde(t){return T(()=>{const n=t.backgroundColor;return n?new lD(n).shade(20).toString():""})}const MP=(t,e)=>{const n=ke("menu");return T(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":lde(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},cde=Pe({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:tn},expandOpenIcon:{type:tn},collapseCloseIcon:{type:tn},collapseOpenIcon:{type:tn}}),qb="ElSubMenu";var nk=te({name:qb,props:cde,setup(t,{slots:e,expose:n}){const r=ht(),{indexPath:s,parentMenu:o}=IP(r,T(()=>t.index)),i=ke("menu"),a=ke("sub-menu"),l=Fe("rootMenu");l||Rn(qb,"can not inject root menu");const c=Fe(`subMenu:${o.value.uid}`);c||Rn(qb,"can not inject sub menu");const u=D({}),d=D({});let f;const p=D(!1),m=D(),g=D(null),v=T(()=>H.value==="horizontal"&&C.value?"bottom-start":"right-start"),y=T(()=>H.value==="horizontal"&&C.value||H.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?k.value?t.expandOpenIcon:t.expandCloseIcon:Ra:t.collapseCloseIcon&&t.collapseOpenIcon?k.value?t.collapseOpenIcon:t.collapseCloseIcon:$r),C=T(()=>c.level===0),b=T(()=>t.popperAppendToBody===void 0?C.value:Boolean(t.popperAppendToBody)),w=T(()=>l.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`),S=T(()=>H.value==="horizontal"&&C.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),k=T(()=>l.openedMenus.includes(t.index)),A=T(()=>{let $=!1;return Object.values(u.value).forEach(K=>{K.active&&($=!0)}),Object.values(d.value).forEach(K=>{K.active&&($=!0)}),$}),x=T(()=>l.props.backgroundColor||""),N=T(()=>l.props.activeTextColor||""),R=T(()=>l.props.textColor||""),H=T(()=>l.props.mode),P=Lt({index:t.index,indexPath:s,active:A}),B=T(()=>H.value!=="horizontal"?{color:R.value}:{borderBottomColor:A.value?l.props.activeTextColor?N.value:"":"transparent",color:A.value?N.value:R.value}),V=()=>{var $,K,J;return(J=(K=($=g.value)==null?void 0:$.popperRef)==null?void 0:K.popperInstanceRef)==null?void 0:J.destroy()},z=$=>{$||V()},M=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:s.value,active:A.value})},_=($,K=t.showTimeout)=>{var J;$.type!=="focus"&&(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled||(c.mouseInChild.value=!0,f==null||f(),{stop:f}=ql(()=>{l.openMenu(t.index,s.value)},K),b.value&&((J=o.value.vnode.el)==null||J.dispatchEvent(new MouseEvent("mouseenter")))))},O=($=!1)=>{var K,J;l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||(f==null||f(),c.mouseInChild.value=!1,{stop:f}=ql(()=>!p.value&&l.closeMenu(t.index,s.value),t.hideTimeout),b.value&&$&&((K=r.parent)==null?void 0:K.type.name)==="ElSubMenu"&&((J=c.handleMouseleave)==null||J.call(c,!0)))};Ee(()=>l.props.collapse,$=>z(Boolean($)));{const $=J=>{d.value[J.index]=J},K=J=>{delete d.value[J.index]};yt(`subMenu:${r.uid}`,{addSubMenu:$,removeSubMenu:K,handleMouseleave:O,mouseInChild:p,level:c.level+1})}return n({opened:k}),lt(()=>{l.addSubMenu(P),c.addSubMenu(P)}),ln(()=>{c.removeSubMenu(P),l.removeSubMenu(P)}),()=>{var $;const K=[($=e.title)==null?void 0:$.call(e),He(Ue,{class:a.e("icon-arrow"),style:{transform:k.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>rt(y.value)?He(r.appContext.components[y.value]):He(y.value)})],J=MP(l.props,c.level+1),W=l.isMenuPopup?He(is,{ref:g,visible:k.value,effect:"light",pure:!0,offset:t.popperOffset,showArrow:!1,persistent:!0,popperClass:t.popperClass,placement:v.value,teleported:b.value,fallbackPlacements:S.value,transition:w.value,gpuAcceleration:!1},{content:()=>{var se;return He("div",{class:[i.m(H.value),i.m("popup-container"),t.popperClass],onMouseenter:ve=>_(ve,100),onMouseleave:()=>O(!0),onFocus:ve=>_(ve,100)},[He("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${v.value}`)],style:J.value},[(se=e.default)==null?void 0:se.call(e)])])},default:()=>He("div",{class:a.e("title"),style:[B.value,{backgroundColor:x.value}],onClick:M},K)}):He(Ye,{},[He("div",{class:a.e("title"),style:[B.value,{backgroundColor:x.value}],ref:m,onClick:M},K),He(my,{},{default:()=>{var se;return ot(He("ul",{role:"menu",class:[i.b(),i.m("inline")],style:J.value},[(se=e.default)==null?void 0:se.call(e)]),[[Dt,k.value]])}})]);return He("li",{class:[a.b(),a.is("active",A.value),a.is("opened",k.value),a.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:k.value,onMouseenter:_,onMouseleave:()=>O(!0),onFocus:_},[W])}}});const ude=Pe({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:me(Array),default:()=>un([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),Gb=t=>Array.isArray(t)&&t.every(e=>rt(e)),dde={close:(t,e)=>rt(t)&&Gb(e),open:(t,e)=>rt(t)&&Gb(e),select:(t,e,n,r)=>rt(t)&&Gb(e)&&Ct(n)&&(r===void 0||r instanceof Promise)};var fde=te({name:"ElMenu",props:ude,emits:dde,setup(t,{emit:e,slots:n,expose:r}){const s=ht(),o=s.appContext.config.globalProperties.$router,i=D(),a=ke("menu"),l=ke("sub-menu"),c=D(-1),u=D(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),d=D(t.defaultActive),f=D({}),p=D({}),m=T(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),g=()=>{const R=d.value&&f.value[d.value];if(!R||t.mode==="horizontal"||t.collapse)return;R.indexPath.forEach(P=>{const B=p.value[P];B&&v(P,B.indexPath)})},v=(R,H)=>{u.value.includes(R)||(t.uniqueOpened&&(u.value=u.value.filter(P=>H.includes(P))),u.value.push(R),e("open",R,H))},y=(R,H)=>{const P=u.value.indexOf(R);P!==-1&&u.value.splice(P,1),e("close",R,H)},C=({index:R,indexPath:H})=>{u.value.includes(R)?y(R,H):v(R,H)},b=R=>{(t.mode==="horizontal"||t.collapse)&&(u.value=[]);const{index:H,indexPath:P}=R;if(!(H===void 0||P===void 0))if(t.router&&o){const B=R.route||H,V=o.push(B).then(z=>(z||(d.value=H),z));e("select",H,P,{index:H,indexPath:P,route:B},V)}else d.value=H,e("select",H,P,{index:H,indexPath:P})},w=R=>{const H=f.value,P=H[R]||d.value&&H[d.value]||H[t.defaultActive];P?d.value=P.index:d.value=R},S=()=>{var R,H;if(!i.value)return-1;const P=Array.from((H=(R=i.value)==null?void 0:R.childNodes)!=null?H:[]).filter($=>$.nodeName!=="#text"||$.nodeValue),B=64,V=Number.parseInt(getComputedStyle(i.value).paddingLeft,10),z=Number.parseInt(getComputedStyle(i.value).paddingRight,10),M=i.value.clientWidth-V-z;let _=0,O=0;return P.forEach(($,K)=>{_+=$.offsetWidth||0,_<=M-B&&(O=K+1)}),O===P.length?-1:O},k=(R,H=33.34)=>{let P;return()=>{P&&clearTimeout(P),P=setTimeout(()=>{R()},H)}};let A=!0;const x=()=>{const R=()=>{c.value=-1,ze(()=>{c.value=S()})};A?R():k(R)(),A=!1};Ee(()=>t.defaultActive,R=>{f.value[R]||(d.value=""),w(R)}),Ee(()=>t.collapse,R=>{R&&(u.value=[])}),Ee(f.value,g);let N;Gr(()=>{t.mode==="horizontal"&&t.ellipsis?N=Sr(i,x).stop:N==null||N()});{const R=V=>{p.value[V.index]=V},H=V=>{delete p.value[V.index]};yt("rootMenu",Lt({props:t,openedMenus:u,items:f,subMenus:p,activeIndex:d,isMenuPopup:m,addMenuItem:V=>{f.value[V.index]=V},removeMenuItem:V=>{delete f.value[V.index]},addSubMenu:R,removeSubMenu:H,openMenu:v,closeMenu:y,handleMenuItemClick:b,handleSubMenuClick:C})),yt(`subMenu:${s.uid}`,{addSubMenu:R,removeSubMenu:H,mouseInChild:D(!1),level:0})}return lt(()=>{t.mode==="horizontal"&&new sde(s.vnode.el,a.namespace.value)}),r({open:H=>{const{indexPath:P}=p.value[H];P.forEach(B=>v(B,P))},close:y,handleResize:x}),()=>{var R,H;let P=(H=(R=n.default)==null?void 0:R.call(n))!=null?H:[];const B=[];if(t.mode==="horizontal"&&i.value){const M=pu(P),_=c.value===-1?M:M.slice(0,c.value),O=c.value===-1?[]:M.slice(c.value);(O==null?void 0:O.length)&&t.ellipsis&&(P=_,B.push(He(nk,{index:"sub-menu-more",class:l.e("hide-arrow")},{title:()=>He(Ue,{class:l.e("icon-more")},{default:()=>He(VY)}),default:()=>O})))}const V=MP(t,0),z=He("ul",{key:String(t.collapse),role:"menubar",ref:i,style:V.value,class:{[a.b()]:!0,[a.m(t.mode)]:!0,[a.m("collapse")]:t.collapse}},[...P,...B]);return t.collapseTransition&&t.mode==="vertical"?He(ade,()=>z):z}}});const hde=Pe({index:{type:me([String,null]),default:null},route:{type:me([String,Object])},disabled:Boolean}),pde={click:t=>rt(t.index)&&Array.isArray(t.indexPath)},Yb="ElMenuItem",mde=te({name:Yb,components:{ElTooltip:is},props:hde,emits:pde,setup(t,{emit:e}){const n=ht(),r=Fe("rootMenu"),s=ke("menu"),o=ke("menu-item");r||Rn(Yb,"can not inject root menu");const{parentMenu:i,indexPath:a}=IP(n,pn(t,"index")),l=Fe(`subMenu:${i.value.uid}`);l||Rn(Yb,"can not inject sub menu");const c=T(()=>t.index===r.activeIndex),u=Lt({index:t.index,indexPath:a,active:c}),d=()=>{t.disabled||(r.handleMenuItemClick({index:t.index,indexPath:a.value,route:t.route}),e("click",u))};return lt(()=>{l.addSubMenu(u),r.addMenuItem(u)}),ln(()=>{l.removeSubMenu(u),r.removeMenuItem(u)}),{parentMenu:i,rootMenu:r,active:c,nsMenu:s,nsMenuItem:o,handleClick:d}}});function gde(t,e,n,r,s,o){const i=Je("el-tooltip");return E(),F("li",{class:I([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(E(),he(i,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:re(()=>[Ce(t.$slots,"title")]),default:re(()=>[L("div",{class:I(t.nsMenu.be("tooltip","trigger"))},[Ce(t.$slots,"default")],2)]),_:3},8,["effect"])):(E(),F(Ye,{key:1},[Ce(t.$slots,"default"),Ce(t.$slots,"title")],64))],2)}var AP=Re(mde,[["render",gde],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const vde={title:String},yde="ElMenuItemGroup",bde=te({name:yde,props:vde,setup(){return{ns:ke("menu-item-group")}}});function wde(t,e,n,r,s,o){return E(),F("li",{class:I(t.ns.b())},[L("div",{class:I(t.ns.e("title"))},[t.$slots.title?Ce(t.$slots,"title",{key:1}):(E(),F(Ye,{key:0},[dt(Oe(t.title),1)],64))],2),L("ul",null,[Ce(t.$slots,"default")])],2)}var OP=Re(bde,[["render",wde],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const Cde=mt(fde,{MenuItem:AP,MenuItemGroup:OP,SubMenu:nk}),Sde=vn(AP),kde=vn(OP);vn(nk);const Ede=Pe({icon:{type:tn,default:()=>M7},title:String,content:{type:String,default:""}}),Tde={back:()=>!0},_de=["aria-label"],xde=te({name:"ElPageHeader"}),Ide=te({...xde,props:Ede,emits:Tde,setup(t,{emit:e}){const n=Qn(),{t:r}=Ft(),s=ke("page-header"),o=T(()=>[s.b(),{[s.m("has-breadcrumb")]:!!n.breadcrumb,[s.m("has-extra")]:!!n.extra,[s.is("contentful")]:!!n.default}]);function i(){e("back")}return(a,l)=>(E(),F("div",{class:I(h(o))},[a.$slots.breadcrumb?(E(),F("div",{key:0,class:I(h(s).e("breadcrumb"))},[Ce(a.$slots,"breadcrumb")],2)):ce("v-if",!0),L("div",{class:I(h(s).e("header"))},[L("div",{class:I(h(s).e("left"))},[L("div",{class:I(h(s).e("back")),role:"button",tabindex:"0",onClick:i},[a.icon||a.$slots.icon?(E(),F("div",{key:0,"aria-label":a.title||h(r)("el.pageHeader.title"),class:I(h(s).e("icon"))},[Ce(a.$slots,"icon",{},()=>[a.icon?(E(),he(h(Ue),{key:0},{default:re(()=>[(E(),he(kt(a.icon)))]),_:1})):ce("v-if",!0)])],10,_de)):ce("v-if",!0),L("div",{class:I(h(s).e("title"))},[Ce(a.$slots,"title",{},()=>[dt(Oe(a.title||h(r)("el.pageHeader.title")),1)])],2)],2),q(h(pP),{direction:"vertical"}),L("div",{class:I(h(s).e("content"))},[Ce(a.$slots,"content",{},()=>[dt(Oe(a.content),1)])],2)],2),a.$slots.extra?(E(),F("div",{key:0,class:I(h(s).e("extra"))},[Ce(a.$slots,"extra")],2)):ce("v-if",!0)],2),a.$slots.default?(E(),F("div",{key:1,class:I(h(s).e("main"))},[Ce(a.$slots,"default")],2)):ce("v-if",!0)],2))}});var Mde=Re(Ide,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const Ade=mt(Mde),Ode=Pe({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:tn}}),Nde={click:t=>t instanceof MouseEvent},$de=["disabled","aria-disabled"],Rde={key:0},Dde=te({name:"ElPaginationPrev"}),Pde=te({...Dde,props:Ode,emits:Nde,setup(t){const e=t,n=T(()=>e.disabled||e.currentPage<=1);return(r,s)=>(E(),F("button",{type:"button",class:"btn-prev",disabled:h(n),"aria-disabled":h(n),onClick:s[0]||(s[0]=o=>r.$emit("click",o))},[r.prevText?(E(),F("span",Rde,Oe(r.prevText),1)):(E(),he(h(Ue),{key:1},{default:re(()=>[(E(),he(kt(r.prevIcon)))]),_:1}))],8,$de))}});var Lde=Re(Pde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const Bde=Pe({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:tn}}),Fde=["disabled","aria-disabled"],Vde={key:0},zde=te({name:"ElPaginationNext"}),Hde=te({...zde,props:Bde,emits:["click"],setup(t){const e=t,n=T(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(r,s)=>(E(),F("button",{type:"button",class:"btn-next",disabled:h(n),"aria-disabled":h(n),onClick:s[0]||(s[0]=o=>r.$emit("click",o))},[r.nextText?(E(),F("span",Vde,Oe(r.nextText),1)):(E(),he(h(Ue),{key:1},{default:re(()=>[(E(),he(kt(r.nextIcon)))]),_:1}))],8,Fde))}});var Kde=Re(Hde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const NP="ElSelectGroup",up="ElSelect";function Ude(t,e){const n=Fe(up),r=Fe(NP,{disabled:!1}),s=T(()=>Object.prototype.toString.call(t.value).toLowerCase()==="[object object]"),o=T(()=>n.props.multiple?d(n.props.modelValue,t.value):f(t.value,n.props.modelValue)),i=T(()=>{if(n.props.multiple){const g=n.props.modelValue||[];return!o.value&&g.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=T(()=>t.label||(s.value?"":t.value)),l=T(()=>t.value||t.label||""),c=T(()=>t.disabled||e.groupDisabled||i.value),u=ht(),d=(g=[],v)=>{if(s.value){const y=n.props.valueKey;return g&&g.some(C=>Ut(cn(C,y))===cn(v,y))}else return g&&g.includes(v)},f=(g,v)=>{if(s.value){const{valueKey:y}=n.props;return cn(g,y)===cn(v,y)}else return g===v},p=()=>{!t.disabled&&!r.disabled&&(n.hoverIndex=n.optionsArray.indexOf(u.proxy))};Ee(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Ee(()=>t.value,(g,v)=>{const{remote:y,valueKey:C}=n.props;if(Object.is(g,v)||(n.onOptionDestroy(v,u.proxy),n.onOptionCreate(u.proxy)),!t.created&&!y){if(C&&typeof g=="object"&&typeof v=="object"&&g[C]===v[C])return;n.setSelected()}}),Ee(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0});const{queryChange:m}=Ut(n);return Ee(m,g=>{const{query:v}=h(g),y=new RegExp(q$(v),"i");e.visible=y.test(a.value)||t.created,e.visible||n.filteredOptionsCount--}),{select:n,currentLabel:a,currentValue:l,itemSelected:o,isDisabled:c,hoverItem:p}}const jde=te({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(t){const e=ke("select"),n=Lt({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:r,itemSelected:s,isDisabled:o,select:i,hoverItem:a}=Ude(t,n),{visible:l,hover:c}=$n(n),u=ht().proxy;i.onOptionCreate(u),ln(()=>{const f=u.value,{selected:p}=i,g=(i.props.multiple?p:[p]).some(v=>v.value===u.value);ze(()=>{i.cachedOptions.get(f)===u&&!g&&i.cachedOptions.delete(f)}),i.onOptionDestroy(f,u)});function d(){t.disabled!==!0&&n.groupDisabled!==!0&&i.handleOptionSelect(u,!0)}return{ns:e,currentLabel:r,itemSelected:s,isDisabled:o,select:i,hoverItem:a,visible:l,hover:c,selectOptionClick:d,states:n}}});function Wde(t,e,n,r,s,o){return ot((E(),F("li",{class:I([t.ns.be("dropdown","item"),t.ns.is("disabled",t.isDisabled),{selected:t.itemSelected,hover:t.hover}]),onMouseenter:e[0]||(e[0]=(...i)=>t.hoverItem&&t.hoverItem(...i)),onClick:e[1]||(e[1]=tt((...i)=>t.selectOptionClick&&t.selectOptionClick(...i),["stop"]))},[Ce(t.$slots,"default",{},()=>[L("span",null,Oe(t.currentLabel),1)])],34)),[[Dt,t.visible]])}var rk=Re(jde,[["render",Wde],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const qde=te({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=Fe(up),e=ke("select"),n=T(()=>t.props.popperClass),r=T(()=>t.props.multiple),s=T(()=>t.props.fitInputWidth),o=D("");function i(){var a;o.value=`${(a=t.selectWrapper)==null?void 0:a.offsetWidth}px`}return lt(()=>{i(),Sr(t.selectWrapper,i)}),{ns:e,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:s}}});function Gde(t,e,n,r,s,o){return E(),F("div",{class:I([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:Ge({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[Ce(t.$slots,"default")],6)}var Yde=Re(qde,[["render",Gde],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Xde(t){const{t:e}=Ft();return Lt({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:t.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const Jde=(t,e,n)=>{const{t:r}=Ft(),s=ke("select");vi({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},T(()=>t.suffixTransition===!1));const o=D(null),i=D(null),a=D(null),l=D(null),c=D(null),u=D(null),d=D(-1),f=en({query:""}),p=en(""),{form:m,formItem:g}=zr(),v=T(()=>!t.filterable||t.multiple||!e.visible),y=T(()=>t.disabled||(m==null?void 0:m.disabled)),C=T(()=>{const U=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!=="";return t.clearable&&!y.value&&e.inputHovering&&U}),b=T(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),w=T(()=>s.is("reverse",b.value&&e.visible&&t.suffixTransition)),S=T(()=>t.remote?300:0),k=T(()=>t.loading?t.loadingText||r("el.select.loading"):t.remote&&e.query===""&&e.options.size===0?!1:t.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?t.noMatchText||r("el.select.noMatch"):e.options.size===0?t.noDataText||r("el.select.noData"):null),A=T(()=>Array.from(e.options.values())),x=T(()=>Array.from(e.cachedOptions.values())),N=T(()=>{const U=A.value.filter(oe=>!oe.created).some(oe=>oe.currentLabel===e.query);return t.filterable&&t.allowCreate&&e.query!==""&&!U}),R=In(),H=T(()=>["small"].includes(R.value)?"small":"default"),P=T({get(){return e.visible&&k.value!==!1},set(U){e.visible=U}});Ee([()=>y.value,()=>R.value,()=>m==null?void 0:m.size],()=>{ze(()=>{B()})}),Ee(()=>t.placeholder,U=>{e.cachedPlaceHolder=e.currentPlaceholder=U}),Ee(()=>t.modelValue,(U,oe)=>{t.multiple&&(B(),U&&U.length>0||i.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,t.filterable&&!t.reserveKeyword&&(e.query="",V(e.query))),_(),t.filterable&&!t.multiple&&(e.inputLength=20),!bs(U,oe)&&t.validateEvent&&(g==null||g.validate("change").catch(Z=>void 0))},{flush:"post",deep:!0}),Ee(()=>e.visible,U=>{var oe,Z,be;U?((Z=(oe=a.value)==null?void 0:oe.updatePopper)==null||Z.call(oe),t.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=t.remote?"":e.selectedLabel,t.multiple?(be=i.value)==null||be.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),V(e.query),!t.multiple&&!t.remote&&(f.value.query="",Od(f),Od(p)))):(t.filterable&&(et(t.filterMethod)&&t.filterMethod(""),et(t.remoteMethod)&&t.remoteMethod("")),i.value&&i.value.blur(),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,$(),ze(()=>{i.value&&i.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),t.multiple||(e.selected&&(t.filterable&&t.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,t.filterable&&(e.query=e.selectedLabel)),t.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),n.emit("visible-change",U)}),Ee(()=>e.options.entries(),()=>{var U,oe,Z;if(!It)return;(oe=(U=a.value)==null?void 0:U.updatePopper)==null||oe.call(U),t.multiple&&B();const be=((Z=c.value)==null?void 0:Z.querySelectorAll("input"))||[];Array.from(be).includes(document.activeElement)||_(),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&M()},{flush:"post"}),Ee(()=>e.hoverIndex,U=>{it(U)&&U>-1?d.value=A.value[U]||{}:d.value={},A.value.forEach(oe=>{oe.hover=d.value===oe})});const B=()=>{t.collapseTags&&!t.filterable||ze(()=>{var U,oe;if(!o.value)return;const Z=o.value.$el.querySelector("input"),be=l.value,Ke=IJ(R.value||(m==null?void 0:m.size));Z.style.height=`${(e.selected.length===0?Ke:Math.max(be?be.clientHeight+(be.clientHeight>Ke?6:0):0,Ke))-2}px`,e.tagInMultiLine=Number.parseFloat(Z.style.height)>=Ke,e.visible&&k.value!==!1&&((oe=(U=a.value)==null?void 0:U.updatePopper)==null||oe.call(U))})},V=async U=>{if(!(e.previousQuery===U||e.isOnComposition)){if(e.previousQuery===null&&(et(t.filterMethod)||et(t.remoteMethod))){e.previousQuery=U;return}e.previousQuery=U,ze(()=>{var oe,Z;e.visible&&((Z=(oe=a.value)==null?void 0:oe.updatePopper)==null||Z.call(oe))}),e.hoverIndex=-1,t.multiple&&t.filterable&&ze(()=>{const oe=i.value.value.length*15+20;e.inputLength=t.collapseTags?Math.min(50,oe):oe,z(),B()}),t.remote&&et(t.remoteMethod)?(e.hoverIndex=-1,t.remoteMethod(U)):et(t.filterMethod)?(t.filterMethod(U),Od(p)):(e.filteredOptionsCount=e.optionsCount,f.value.query=U,Od(f),Od(p)),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&(await ze(),M())}},z=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=i.value.value?"":e.cachedPlaceHolder)},M=()=>{const U=A.value.filter(be=>be.visible&&!be.disabled&&!be.states.groupDisabled),oe=U.find(be=>be.created),Z=U[0];e.hoverIndex=ye(A.value,oe||Z)},_=()=>{var U;if(t.multiple)e.selectedLabel="";else{const Z=O(t.modelValue);(U=Z.props)!=null&&U.created?(e.createdLabel=Z.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=Z.currentLabel,e.selected=Z,t.filterable&&(e.query=e.selectedLabel);return}const oe=[];Array.isArray(t.modelValue)&&t.modelValue.forEach(Z=>{oe.push(O(Z))}),e.selected=oe,ze(()=>{B()})},O=U=>{let oe;const Z=Om(U).toLowerCase()==="object",be=Om(U).toLowerCase()==="null",Ke=Om(U).toLowerCase()==="undefined";for(let Yt=e.cachedOptions.size-1;Yt>=0;Yt--){const At=x.value[Yt];if(Z?cn(At.value,t.valueKey)===cn(U,t.valueKey):At.value===U){oe={value:U,currentLabel:At.currentLabel,isDisabled:At.isDisabled};break}}if(oe)return oe;const at=Z?U.label:!be&&!Ke?U:"",St={value:U,currentLabel:at};return t.multiple&&(St.hitState=!1),St},$=()=>{setTimeout(()=>{const U=t.valueKey;t.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(oe=>A.value.findIndex(Z=>cn(Z,U)===cn(oe,U)))):e.hoverIndex=-1:e.hoverIndex=A.value.findIndex(oe=>$e(oe)===$e(e.selected))},300)},K=()=>{var U,oe;J(),(oe=(U=a.value)==null?void 0:U.updatePopper)==null||oe.call(U),t.multiple&&!t.filterable&&B()},J=()=>{var U;e.inputWidth=(U=o.value)==null?void 0:U.$el.getBoundingClientRect().width},W=()=>{t.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,V(e.query))},se=Pr(()=>{W()},S.value),ve=Pr(U=>{V(U.target.value)},S.value),Y=U=>{bs(t.modelValue,U)||n.emit(an,U)},fe=U=>{if(U.target.value.length<=0&&!_e()){const oe=t.modelValue.slice();oe.pop(),n.emit(pt,oe),Y(oe)}U.target.value.length===1&&t.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)},X=(U,oe)=>{const Z=e.selected.indexOf(oe);if(Z>-1&&!y.value){const be=t.modelValue.slice();be.splice(Z,1),n.emit(pt,be),Y(be),n.emit("remove-tag",oe.value)}U.stopPropagation()},G=U=>{U.stopPropagation();const oe=t.multiple?[]:"";if(!rt(oe))for(const Z of e.selected)Z.isDisabled&&oe.push(Z.value);n.emit(pt,oe),Y(oe),e.hoverIndex=-1,e.visible=!1,n.emit("clear")},ue=(U,oe)=>{var Z;if(t.multiple){const be=(t.modelValue||[]).slice(),Ke=ye(be,U.value);Ke>-1?be.splice(Ke,1):(t.multipleLimit<=0||be.length<t.multipleLimit)&&be.push(U.value),n.emit(pt,be),Y(be),U.created&&(e.query="",V(""),e.inputLength=20),t.filterable&&((Z=i.value)==null||Z.focus())}else n.emit(pt,U.value),Y(U.value),e.visible=!1;e.isSilentBlur=oe,Ae(),!e.visible&&ze(()=>{j(U)})},ye=(U=[],oe)=>{if(!Ct(oe))return U.indexOf(oe);const Z=t.valueKey;let be=-1;return U.some((Ke,at)=>Ut(cn(Ke,Z))===cn(oe,Z)?(be=at,!0):!1),be},Ae=()=>{e.softFocus=!0;const U=i.value||o.value;U&&(U==null||U.focus())},j=U=>{var oe,Z,be,Ke,at;const St=Array.isArray(U)?U[0]:U;let Yt=null;if(St!=null&&St.value){const At=A.value.filter(_t=>_t.value===St.value);At.length>0&&(Yt=At[0].$el)}if(a.value&&Yt){const At=(Ke=(be=(Z=(oe=a.value)==null?void 0:oe.popperRef)==null?void 0:Z.contentRef)==null?void 0:be.querySelector)==null?void 0:Ke.call(be,`.${s.be("dropdown","wrap")}`);At&&X$(At,Yt)}(at=u.value)==null||at.handleScroll()},ne=U=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(U.value,U),e.cachedOptions.set(U.value,U)},ge=(U,oe)=>{e.options.get(U)===oe&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(U))},Se=U=>{U.code!==Xe.backspace&&_e(!1),e.inputLength=i.value.value.length*15+20,B()},_e=U=>{if(!Array.isArray(e.selected))return;const oe=e.selected[e.selected.length-1];if(!!oe)return U===!0||U===!1?(oe.hitState=U,U):(oe.hitState=!oe.hitState,oe.hitState)},Q=U=>{const oe=U.target.value;if(U.type==="compositionend")e.isOnComposition=!1,ze(()=>V(oe));else{const Z=oe[oe.length-1]||"";e.isOnComposition=!ry(Z)}},Me=()=>{ze(()=>j(e.selected))},pe=U=>{e.softFocus?e.softFocus=!1:((t.automaticDropdown||t.filterable)&&(t.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),n.emit("focus",U))},ee=()=>{var U;e.visible=!1,(U=o.value)==null||U.blur()},de=U=>{ze(()=>{e.isSilentBlur?e.isSilentBlur=!1:n.emit("blur",U)}),e.softFocus=!1},le=U=>{G(U)},Te=()=>{e.visible=!1},Le=U=>{e.visible&&(U.preventDefault(),U.stopPropagation(),e.visible=!1)},ae=U=>{var oe;U&&!e.mouseEnter||y.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:(!a.value||!a.value.isFocusInsideContent())&&(e.visible=!e.visible),e.visible&&((oe=i.value||o.value)==null||oe.focus()))},we=()=>{e.visible?A.value[e.hoverIndex]&&ue(A.value[e.hoverIndex],void 0):ae()},$e=U=>Ct(U.value)?cn(U.value,t.valueKey):U.value,De=T(()=>A.value.filter(U=>U.visible).every(U=>U.disabled)),ie=U=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!De.value){U==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):U==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const oe=A.value[e.hoverIndex];(oe.disabled===!0||oe.states.groupDisabled===!0||!oe.visible)&&ie(U),ze(()=>j(d.value))}};return{optionsArray:A,selectSize:R,handleResize:K,debouncedOnInputChange:se,debouncedQueryChange:ve,deletePrevTag:fe,deleteTag:X,deleteSelected:G,handleOptionSelect:ue,scrollToOption:j,readonly:v,resetInputHeight:B,showClose:C,iconComponent:b,iconReverse:w,showNewOption:N,collapseTagSize:H,setSelected:_,managePlaceholder:z,selectDisabled:y,emptyText:k,toggleLastOptionHitState:_e,resetInputState:Se,handleComposition:Q,onOptionCreate:ne,onOptionDestroy:ge,handleMenuEnter:Me,handleFocus:pe,blur:ee,handleBlur:de,handleClearClick:le,handleClose:Te,handleKeydownEscape:Le,toggleMenu:ae,selectOption:we,getValueKey:$e,navigateOptions:ie,dropMenuVisible:P,queryChange:f,groupQueryChange:p,reference:o,input:i,tooltipRef:a,tags:l,selectWrapper:c,scrollbar:u,handleMouseEnter:()=>{e.mouseEnter=!0},handleMouseLeave:()=>{e.mouseEnter=!1}}},mI="ElSelect",Qde=te({name:mI,componentName:mI,components:{ElInput:vr,ElSelectMenu:Yde,ElOption:rk,ElTag:py,ElScrollbar:Oi,ElTooltip:is,ElIcon:Ue},directives:{ClickOutside:Ta},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:gd},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:Hn.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:tn,default:Da},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:tn,default:Ra},tagType:{...YS.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:wc,default:"bottom-start"}},emits:[pt,an,"remove-tag","clear","visible-change","focus","blur"],setup(t,e){const n=ke("select"),r=ke("input"),{t:s}=Ft(),o=Xde(t),{optionsArray:i,selectSize:a,readonly:l,handleResize:c,collapseTagSize:u,debouncedOnInputChange:d,debouncedQueryChange:f,deletePrevTag:p,deleteTag:m,deleteSelected:g,handleOptionSelect:v,scrollToOption:y,setSelected:C,resetInputHeight:b,managePlaceholder:w,showClose:S,selectDisabled:k,iconComponent:A,iconReverse:x,showNewOption:N,emptyText:R,toggleLastOptionHitState:H,resetInputState:P,handleComposition:B,onOptionCreate:V,onOptionDestroy:z,handleMenuEnter:M,handleFocus:_,blur:O,handleBlur:$,handleClearClick:K,handleClose:J,handleKeydownEscape:W,toggleMenu:se,selectOption:ve,getValueKey:Y,navigateOptions:fe,dropMenuVisible:X,reference:G,input:ue,tooltipRef:ye,tags:Ae,selectWrapper:j,scrollbar:ne,queryChange:ge,groupQueryChange:Se,handleMouseEnter:_e,handleMouseLeave:Q}=Jde(t,o,e),{focus:Me}=LJ(G),{inputWidth:pe,selected:ee,inputLength:de,filteredOptionsCount:le,visible:Te,softFocus:Le,selectedLabel:ae,hoverIndex:we,query:$e,inputHovering:De,currentPlaceholder:ie,menuVisibleOnFocus:Ie,isOnComposition:je,isSilentBlur:U,options:oe,cachedOptions:Z,optionsCount:be,prefixWidth:Ke,tagInMultiLine:at}=$n(o),St=T(()=>{const xe=[n.b()],Qe=h(a);return Qe&&xe.push(n.m(Qe)),t.disabled&&xe.push(n.m("disabled")),xe}),Yt=T(()=>({maxWidth:`${h(pe)-32}px`,width:"100%"})),At=T(()=>({maxWidth:`${h(pe)>123?h(pe)-123:h(pe)-75}px`}));yt(up,Lt({props:t,options:oe,optionsArray:i,cachedOptions:Z,optionsCount:be,filteredOptionsCount:le,hoverIndex:we,handleOptionSelect:v,onOptionCreate:V,onOptionDestroy:z,selectWrapper:j,selected:ee,setSelected:C,queryChange:ge,groupQueryChange:Se})),lt(()=>{o.cachedPlaceHolder=ie.value=t.placeholder||s("el.select.placeholder"),t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.length>0&&(ie.value=""),Sr(j,c),t.remote&&t.multiple&&b(),ze(()=>{const xe=G.value&&G.value.$el;if(!!xe&&(pe.value=xe.getBoundingClientRect().width,e.slots.prefix)){const Qe=xe.querySelector(`.${r.e("prefix")}`);Ke.value=Math.max(Qe.getBoundingClientRect().width+5,30)}}),C()}),t.multiple&&!Array.isArray(t.modelValue)&&e.emit(pt,[]),!t.multiple&&Array.isArray(t.modelValue)&&e.emit(pt,"");const _t=T(()=>{var xe,Qe;return(Qe=(xe=ye.value)==null?void 0:xe.popperRef)==null?void 0:Qe.contentRef});return{tagInMultiLine:at,prefixWidth:Ke,selectSize:a,readonly:l,handleResize:c,collapseTagSize:u,debouncedOnInputChange:d,debouncedQueryChange:f,deletePrevTag:p,deleteTag:m,deleteSelected:g,handleOptionSelect:v,scrollToOption:y,inputWidth:pe,selected:ee,inputLength:de,filteredOptionsCount:le,visible:Te,softFocus:Le,selectedLabel:ae,hoverIndex:we,query:$e,inputHovering:De,currentPlaceholder:ie,menuVisibleOnFocus:Ie,isOnComposition:je,isSilentBlur:U,options:oe,resetInputHeight:b,managePlaceholder:w,showClose:S,selectDisabled:k,iconComponent:A,iconReverse:x,showNewOption:N,emptyText:R,toggleLastOptionHitState:H,resetInputState:P,handleComposition:B,handleMenuEnter:M,handleFocus:_,blur:O,handleBlur:$,handleClearClick:K,handleClose:J,handleKeydownEscape:W,toggleMenu:se,selectOption:ve,getValueKey:Y,navigateOptions:fe,dropMenuVisible:X,focus:Me,reference:G,input:ue,tooltipRef:ye,popperPaneRef:_t,tags:Ae,selectWrapper:j,scrollbar:ne,wrapperKls:St,selectTagsStyle:Yt,nsSelect:n,tagTextStyle:At,handleMouseEnter:_e,handleMouseLeave:Q}}}),Zde=["disabled","autocomplete"],efe={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function tfe(t,e,n,r,s,o){const i=Je("el-tag"),a=Je("el-tooltip"),l=Je("el-icon"),c=Je("el-input"),u=Je("el-option"),d=Je("el-scrollbar"),f=Je("el-select-menu"),p=_u("click-outside");return ot((E(),F("div",{ref:"selectWrapper",class:I(t.wrapperKls),onMouseenter:e[22]||(e[22]=(...m)=>t.handleMouseEnter&&t.handleMouseEnter(...m)),onMouseleave:e[23]||(e[23]=(...m)=>t.handleMouseLeave&&t.handleMouseLeave(...m)),onClick:e[24]||(e[24]=tt((...m)=>t.toggleMenu&&t.toggleMenu(...m),["stop"]))},[q(a,{ref:"tooltipRef",visible:t.dropMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onShow:t.handleMenuEnter},{default:re(()=>[L("div",{class:"select-trigger",onMouseenter:e[20]||(e[20]=m=>t.inputHovering=!0),onMouseleave:e[21]||(e[21]=m=>t.inputHovering=!1)},[t.multiple?(E(),F("div",{key:0,ref:"tags",class:I(t.nsSelect.e("tags")),style:Ge(t.selectTagsStyle)},[t.collapseTags&&t.selected.length?(E(),F("span",{key:0,class:I([t.nsSelect.b("tags-wrapper"),{"has-prefix":t.prefixWidth&&t.selected.length}])},[q(i,{closable:!t.selectDisabled&&!t.selected[0].isDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:t.tagType,"disable-transitions":"",onClose:e[0]||(e[0]=m=>t.deleteTag(m,t.selected[0]))},{default:re(()=>[L("span",{class:I(t.nsSelect.e("tags-text")),style:Ge(t.tagTextStyle)},Oe(t.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),t.selected.length>1?(E(),he(i,{key:0,closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":""},{default:re(()=>[t.collapseTagsTooltip?(E(),he(a,{key:0,disabled:t.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:re(()=>[L("span",{class:I(t.nsSelect.e("tags-text"))},"+ "+Oe(t.selected.length-1),3)]),content:re(()=>[L("div",{class:I(t.nsSelect.e("collapse-tags"))},[(E(!0),F(Ye,null,Tt(t.selected.slice(1),(m,g)=>(E(),F("div",{key:g,class:I(t.nsSelect.e("collapse-tag"))},[(E(),he(i,{key:t.getValueKey(m),class:"in-tooltip",closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,hit:m.hitState,type:t.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:v=>t.deleteTag(v,m)},{default:re(()=>[L("span",{class:I(t.nsSelect.e("tags-text")),style:Ge({maxWidth:t.inputWidth-75+"px"})},Oe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(E(),F("span",{key:1,class:I(t.nsSelect.e("tags-text"))},"+ "+Oe(t.selected.length-1),3))]),_:1},8,["size","type"])):ce("v-if",!0)],2)):ce("v-if",!0),ce(" <div> "),t.collapseTags?ce("v-if",!0):(E(),he(Sn,{key:1,onAfterLeave:t.resetInputHeight},{default:re(()=>[L("span",{class:I([t.nsSelect.b("tags-wrapper"),{"has-prefix":t.prefixWidth&&t.selected.length}])},[(E(!0),F(Ye,null,Tt(t.selected,m=>(E(),he(i,{key:t.getValueKey(m),closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,hit:m.hitState,type:t.tagType,"disable-transitions":"",onClose:g=>t.deleteTag(g,m)},{default:re(()=>[L("span",{class:I(t.nsSelect.e("tags-text")),style:Ge({maxWidth:t.inputWidth-75+"px"})},Oe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),ce(" </div> "),t.filterable?ot((E(),F("input",{key:2,ref:"input","onUpdate:modelValue":e[1]||(e[1]=m=>t.query=m),type:"text",class:I([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:Ge({marginLeft:t.prefixWidth&&!t.selected.length||t.tagInMultiLine?`${t.prefixWidth}px`:"",flexGrow:1,width:`${t.inputLength/(t.inputWidth-32)}%`,maxWidth:`${t.inputWidth-42}px`}),onFocus:e[2]||(e[2]=(...m)=>t.handleFocus&&t.handleFocus(...m)),onBlur:e[3]||(e[3]=(...m)=>t.handleBlur&&t.handleBlur(...m)),onKeyup:e[4]||(e[4]=(...m)=>t.managePlaceholder&&t.managePlaceholder(...m)),onKeydown:[e[5]||(e[5]=(...m)=>t.resetInputState&&t.resetInputState(...m)),e[6]||(e[6]=Ot(tt(m=>t.navigateOptions("next"),["prevent"]),["down"])),e[7]||(e[7]=Ot(tt(m=>t.navigateOptions("prev"),["prevent"]),["up"])),e[8]||(e[8]=Ot((...m)=>t.handleKeydownEscape&&t.handleKeydownEscape(...m),["esc"])),e[9]||(e[9]=Ot(tt((...m)=>t.selectOption&&t.selectOption(...m),["stop","prevent"]),["enter"])),e[10]||(e[10]=Ot((...m)=>t.deletePrevTag&&t.deletePrevTag(...m),["delete"])),e[11]||(e[11]=Ot(m=>t.visible=!1,["tab"]))],onCompositionstart:e[12]||(e[12]=(...m)=>t.handleComposition&&t.handleComposition(...m)),onCompositionupdate:e[13]||(e[13]=(...m)=>t.handleComposition&&t.handleComposition(...m)),onCompositionend:e[14]||(e[14]=(...m)=>t.handleComposition&&t.handleComposition(...m)),onInput:e[15]||(e[15]=(...m)=>t.debouncedQueryChange&&t.debouncedQueryChange(...m))},null,46,Zde)),[[jv,t.query]]):ce("v-if",!0)],6)):ce("v-if",!0),q(c,{id:t.id,ref:"reference",modelValue:t.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=m=>t.selectedLabel=m),type:"text",placeholder:t.currentPlaceholder,name:t.name,autocomplete:t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,class:I([t.nsSelect.is("focus",t.visible)]),tabindex:t.multiple&&t.filterable?-1:void 0,onFocus:t.handleFocus,onBlur:t.handleBlur,onInput:t.debouncedOnInputChange,onPaste:t.debouncedOnInputChange,onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onKeydown:[e[17]||(e[17]=Ot(tt(m=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=Ot(tt(m=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),Ot(tt(t.selectOption,["stop","prevent"]),["enter"]),Ot(t.handleKeydownEscape,["esc"]),e[19]||(e[19]=Ot(m=>t.visible=!1,["tab"]))]},Ca({suffix:re(()=>[t.iconComponent&&!t.showClose?(E(),he(l,{key:0,class:I([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:re(()=>[(E(),he(kt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),t.showClose&&t.clearIcon?(E(),he(l,{key:1,class:I([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:re(()=>[(E(),he(kt(t.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0)]),_:2},[t.$slots.prefix?{name:"prefix",fn:re(()=>[L("div",efe,[Ce(t.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:re(()=>[q(f,null,{default:re(()=>[ot(q(d,{ref:"scrollbar",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:I([t.nsSelect.is("empty",!t.allowCreate&&Boolean(t.query)&&t.filteredOptionsCount===0)])},{default:re(()=>[t.showNewOption?(E(),he(u,{key:0,value:t.query,created:!0},null,8,["value"])):ce("v-if",!0),Ce(t.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[Dt,t.options.size>0&&!t.loading]]),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&t.options.size===0)?(E(),F(Ye,{key:0},[t.$slots.empty?Ce(t.$slots,"empty",{key:0}):(E(),F("p",{key:1,class:I(t.nsSelect.be("dropdown","empty"))},Oe(t.emptyText),3))],64)):ce("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","effect","transition","persistent","onShow"])],34)),[[p,t.handleClose,t.popperPaneRef]])}var nfe=Re(Qde,[["render",tfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const rfe=te({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(t){const e=ke("select"),n=D(!0),r=ht(),s=D([]);yt(NP,Lt({...$n(t)}));const o=Fe(up);lt(()=>{s.value=i(r.subTree)});const i=l=>{const c=[];return Array.isArray(l.children)&&l.children.forEach(u=>{var d;u.type&&u.type.name==="ElOption"&&u.component&&u.component.proxy?c.push(u.component.proxy):(d=u.children)!=null&&d.length&&c.push(...i(u))}),c},{groupQueryChange:a}=Ut(o);return Ee(a,()=>{n.value=s.value.some(l=>l.visible===!0)},{flush:"post"}),{visible:n,ns:e}}});function sfe(t,e,n,r,s,o){return ot((E(),F("ul",{class:I(t.ns.be("group","wrap"))},[L("li",{class:I(t.ns.be("group","title"))},Oe(t.label),3),L("li",null,[L("ul",{class:I(t.ns.b("group"))},[Ce(t.$slots,"default")],2)])],2)),[[Dt,t.visible]])}var $P=Re(rfe,[["render",sfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Yl=mt(nfe,{Option:rk,OptionGroup:$P}),Dg=vn(rk),ofe=vn($P),sk=()=>Fe(fR,{}),ife=Pe({pageSize:{type:Number,required:!0},pageSizes:{type:me(Array),default:()=>un([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:xi}}),afe=te({name:"ElPaginationSizes"}),lfe=te({...afe,props:ife,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:r}=Ft(),s=ke("pagination"),o=sk(),i=D(n.pageSize);Ee(()=>n.pageSizes,(c,u)=>{if(!bs(c,u)&&Array.isArray(c)){const d=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",d)}}),Ee(()=>n.pageSize,c=>{i.value=c});const a=T(()=>n.pageSizes);function l(c){var u;c!==i.value&&(i.value=c,(u=o.handleSizeChange)==null||u.call(o,Number(c)))}return(c,u)=>(E(),F("span",{class:I(h(s).e("sizes"))},[q(h(Yl),{"model-value":i.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,"validate-event":!1,onChange:l},{default:re(()=>[(E(!0),F(Ye,null,Tt(h(a),d=>(E(),he(h(Dg),{key:d,value:d,label:d+h(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var cfe=Re(lfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const ufe=Pe({size:{type:String,values:xi}}),dfe=["disabled"],ffe=te({name:"ElPaginationJumper"}),hfe=te({...ffe,props:ufe,setup(t){const{t:e}=Ft(),n=ke("pagination"),{pageCount:r,disabled:s,currentPage:o,changeEvent:i}=sk(),a=D(),l=T(()=>{var d;return(d=a.value)!=null?d:o==null?void 0:o.value});function c(d){a.value=+d}function u(d){d=Math.trunc(+d),i==null||i(+d),a.value=void 0}return(d,f)=>(E(),F("span",{class:I(h(n).e("jump")),disabled:h(s)},[L("span",{class:I([h(n).e("goto")])},Oe(h(e)("el.pagination.goto")),3),q(h(vr),{size:d.size,class:I([h(n).e("editor"),h(n).is("in-pagination")]),min:1,max:h(r),disabled:h(s),"model-value":h(l),"validate-event":!1,type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value"]),L("span",{class:I([h(n).e("classifier")])},Oe(h(e)("el.pagination.pageClassifier")),3)],10,dfe))}});var pfe=Re(hfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const mfe=Pe({total:{type:Number,default:1e3}}),gfe=["disabled"],vfe=te({name:"ElPaginationTotal"}),yfe=te({...vfe,props:mfe,setup(t){const{t:e}=Ft(),n=ke("pagination"),{disabled:r}=sk();return(s,o)=>(E(),F("span",{class:I(h(n).e("total")),disabled:h(r)},Oe(h(e)("el.pagination.total",{total:s.total})),11,gfe))}});var bfe=Re(yfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const wfe=Pe({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Cfe=["onKeyup"],Sfe=["aria-current","tabindex"],kfe=["tabindex"],Efe=["aria-current","tabindex"],Tfe=["tabindex"],_fe=["aria-current","tabindex"],xfe=te({name:"ElPaginationPager"}),Ife=te({...xfe,props:wfe,emits:["change"],setup(t,{emit:e}){const n=t,r=ke("pager"),s=ke("icon"),o=D(!1),i=D(!1),a=D(!1),l=D(!1),c=D(!1),u=D(!1),d=T(()=>{const y=n.pagerCount,C=(y-1)/2,b=Number(n.currentPage),w=Number(n.pageCount);let S=!1,k=!1;w>y&&(b>y-C&&(S=!0),b<w-C&&(k=!0));const A=[];if(S&&!k){const x=w-(y-2);for(let N=x;N<w;N++)A.push(N)}else if(!S&&k)for(let x=2;x<y;x++)A.push(x);else if(S&&k){const x=Math.floor(y/2)-1;for(let N=b-x;N<=b+x;N++)A.push(N)}else for(let x=2;x<w;x++)A.push(x);return A}),f=T(()=>n.disabled?-1:0);Gr(()=>{const y=(n.pagerCount-1)/2;o.value=!1,i.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-y&&(o.value=!0),n.currentPage<n.pageCount-y&&(i.value=!0))});function p(y=!1){n.disabled||(y?a.value=!0:l.value=!0)}function m(y=!1){y?c.value=!0:u.value=!0}function g(y){const C=y.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const b=Number(C.textContent);b!==n.currentPage&&e("change",b)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&v(y)}function v(y){const C=y.target;if(C.tagName.toLowerCase()==="ul"||n.disabled)return;let b=Number(C.textContent);const w=n.pageCount,S=n.currentPage,k=n.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?b=S-k:C.className.includes("quicknext")&&(b=S+k)),Number.isNaN(+b)||(b<1&&(b=1),b>w&&(b=w)),b!==S&&e("change",b)}return(y,C)=>(E(),F("ul",{class:I(h(r).b()),onClick:v,onKeyup:Ot(g,["enter"])},[y.pageCount>0?(E(),F("li",{key:0,class:I([[h(r).is("active",y.currentPage===1),h(r).is("disabled",y.disabled)],"number"]),"aria-current":y.currentPage===1,tabindex:h(f)}," 1 ",10,Sfe)):ce("v-if",!0),o.value?(E(),F("li",{key:1,class:I(["more","btn-quickprev",h(s).b(),h(r).is("disabled",y.disabled)]),tabindex:h(f),onMouseenter:C[0]||(C[0]=b=>p(!0)),onMouseleave:C[1]||(C[1]=b=>a.value=!1),onFocus:C[2]||(C[2]=b=>m(!0)),onBlur:C[3]||(C[3]=b=>c.value=!1)},[(a.value||c.value)&&!y.disabled?(E(),he(h(Nu),{key:0})):(E(),he(h(tx),{key:1}))],42,kfe)):ce("v-if",!0),(E(!0),F(Ye,null,Tt(h(d),b=>(E(),F("li",{key:b,class:I([[h(r).is("active",y.currentPage===b),h(r).is("disabled",y.disabled)],"number"]),"aria-current":y.currentPage===b,tabindex:h(f)},Oe(b),11,Efe))),128)),i.value?(E(),F("li",{key:2,class:I(["more","btn-quicknext",h(s).b(),h(r).is("disabled",y.disabled)]),tabindex:h(f),onMouseenter:C[4]||(C[4]=b=>p()),onMouseleave:C[5]||(C[5]=b=>l.value=!1),onFocus:C[6]||(C[6]=b=>m()),onBlur:C[7]||(C[7]=b=>u.value=!1)},[(l.value||u.value)&&!y.disabled?(E(),he(h($u),{key:0})):(E(),he(h(tx),{key:1}))],42,Tfe)):ce("v-if",!0),y.pageCount>1?(E(),F("li",{key:3,class:I([[h(r).is("active",y.currentPage===y.pageCount),h(r).is("disabled",y.disabled)],"number"]),"aria-current":y.currentPage===y.pageCount,tabindex:h(f)},Oe(y.pageCount),11,_fe)):ce("v-if",!0)],42,Cfe))}});var Mfe=Re(Ife,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const Tr=t=>typeof t!="number",Afe=Pe({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>typeof t=="number"&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:me(Array),default:()=>un([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:tn,default:()=>Sa},nextText:{type:String,default:""},nextIcon:{type:tn,default:()=>$r},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Ofe={"update:current-page":t=>typeof t=="number","update:page-size":t=>typeof t=="number","size-change":t=>typeof t=="number","current-change":t=>typeof t=="number","prev-click":t=>typeof t=="number","next-click":t=>typeof t=="number"},gI="ElPagination";var Nfe=te({name:gI,props:Afe,emits:Ofe,setup(t,{emit:e,slots:n}){const{t:r}=Ft(),s=ke("pagination"),o=ht().vnode.props||{},i="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,a="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,l=T(()=>{if(Tr(t.total)&&Tr(t.pageCount)||!Tr(t.currentPage)&&!i)return!1;if(t.layout.includes("sizes")){if(Tr(t.pageCount)){if(!Tr(t.total)&&!Tr(t.pageSize)&&!a)return!1}else if(!a)return!1}return!0}),c=D(Tr(t.defaultPageSize)?10:t.defaultPageSize),u=D(Tr(t.defaultCurrentPage)?1:t.defaultCurrentPage),d=T({get(){return Tr(t.pageSize)?c.value:t.pageSize},set(b){Tr(t.pageSize)&&(c.value=b),a&&(e("update:page-size",b),e("size-change",b))}}),f=T(()=>{let b=0;return Tr(t.pageCount)?Tr(t.total)||(b=Math.max(1,Math.ceil(t.total/d.value))):b=t.pageCount,b}),p=T({get(){return Tr(t.currentPage)?u.value:t.currentPage},set(b){let w=b;b<1?w=1:b>f.value&&(w=f.value),Tr(t.currentPage)&&(u.value=w),i&&(e("update:current-page",w),e("current-change",w))}});Ee(f,b=>{p.value>b&&(p.value=b)});function m(b){p.value=b}function g(b){d.value=b;const w=f.value;p.value>w&&(p.value=w)}function v(){t.disabled||(p.value-=1,e("prev-click",p.value))}function y(){t.disabled||(p.value+=1,e("next-click",p.value))}function C(b,w){b&&(b.props||(b.props={}),b.props.class=[b.props.class,w].join(" "))}return yt(fR,{pageCount:f,disabled:T(()=>t.disabled),currentPage:p,changeEvent:m,handleSizeChange:g}),()=>{var b,w;if(!l.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&f.value<=1)return null;const S=[],k=[],A=He("div",{class:s.e("rightwrapper")},k),x={prev:He(Lde,{disabled:t.disabled,currentPage:p.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:v}),jumper:He(pfe,{size:t.small?"small":"default"}),pager:He(Mfe,{currentPage:p.value,pageCount:f.value,pagerCount:t.pagerCount,onChange:m,disabled:t.disabled}),next:He(Kde,{disabled:t.disabled,currentPage:p.value,pageCount:f.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:y}),sizes:He(cfe,{pageSize:d.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,size:t.small?"small":"default"}),slot:(w=(b=n==null?void 0:n.default)==null?void 0:b.call(n))!=null?w:null,total:He(bfe,{total:Tr(t.total)?0:t.total})},N=t.layout.split(",").map(H=>H.trim());let R=!1;return N.forEach(H=>{if(H==="->"){R=!0;return}R?k.push(x[H]):S.push(x[H])}),C(S[0],s.is("first")),C(S[S.length-1],s.is("last")),R&&k.length>0&&(C(k[0],s.is("first")),C(k[k.length-1],s.is("last")),S.push(A)),He("div",{role:"pagination","aria-label":"pagination",class:[s.b(),s.is("background",t.background),{[s.m("small")]:t.small}]},S)}}});const $fe=mt(Nfe),Rfe=Pe({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Tw,default:"primary"},cancelButtonType:{type:String,values:Tw,default:"text"},icon:{type:tn,default:()=>rX},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:me(Function)},onCancel:{type:me(Function)},teleported:Hn.teleported,persistent:Hn.persistent,width:{type:[String,Number],default:150}}),Dfe=te({name:"ElPopconfirm"}),Pfe=te({...Dfe,props:Rfe,setup(t){const e=t,{t:n}=Ft(),r=ke("popconfirm"),s=D(),o=()=>{var d,f;(f=(d=s.value)==null?void 0:d.onClose)==null||f.call(d)},i=T(()=>({width:xn(e.width)})),a=d=>{var f;(f=e.onConfirm)==null||f.call(e,d),o()},l=d=>{var f;(f=e.onCancel)==null||f.call(e,d),o()},c=T(()=>e.confirmButtonText||n("el.popconfirm.confirmButtonText")),u=T(()=>e.cancelButtonText||n("el.popconfirm.cancelButtonText"));return(d,f)=>(E(),he(h(is),wt({ref_key:"tooltipRef",ref:s,trigger:"click",effect:"light"},d.$attrs,{"popper-class":`${h(r).namespace.value}-popover`,"popper-style":h(i),teleported:d.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":d.hideAfter,persistent:d.persistent}),{content:re(()=>[L("div",{class:I(h(r).b())},[L("div",{class:I(h(r).e("main"))},[!d.hideIcon&&d.icon?(E(),he(h(Ue),{key:0,class:I(h(r).e("icon")),style:Ge({color:d.iconColor})},{default:re(()=>[(E(),he(kt(d.icon)))]),_:1},8,["class","style"])):ce("v-if",!0),dt(" "+Oe(d.title),1)],2),L("div",{class:I(h(r).e("action"))},[q(h(ar),{size:"small",type:d.cancelButtonType==="text"?"":d.cancelButtonType,text:d.cancelButtonType==="text",onClick:l},{default:re(()=>[dt(Oe(h(u)),1)]),_:1},8,["type","text"]),q(h(ar),{size:"small",type:d.confirmButtonType==="text"?"":d.confirmButtonType,text:d.confirmButtonType==="text",onClick:a},{default:re(()=>[dt(Oe(h(c)),1)]),_:1},8,["type","text"])],2)],2)]),default:re(()=>[d.$slots.reference?Ce(d.$slots,"reference",{key:0}):ce("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Lfe=Re(Pfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const Bfe=mt(Lfe),Ffe=Pe({trigger:ih.trigger,placement:Xm.placement,disabled:ih.disabled,visible:Hn.visible,transition:Hn.transition,popperOptions:Xm.popperOptions,tabindex:Xm.tabindex,content:Hn.content,popperStyle:Hn.popperStyle,popperClass:Hn.popperClass,enterable:{...Hn.enterable,default:!0},effect:{...Hn.effect,default:"light"},teleported:Hn.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Vfe={"update:visible":t=>Nn(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},zfe="onUpdate:visible",Hfe=te({name:"ElPopover"}),Kfe=te({...Hfe,props:Ffe,emits:Vfe,setup(t,{expose:e,emit:n}){const r=t,s=T(()=>r[zfe]),o=ke("popover"),i=D(),a=T(()=>{var v;return(v=h(i))==null?void 0:v.popperRef}),l=T(()=>[{width:xn(r.width)},r.popperStyle]),c=T(()=>[o.b(),r.popperClass,{[o.m("plain")]:!!r.content}]),u=T(()=>r.transition===`${o.namespace.value}-fade-in-linear`),d=()=>{var v;(v=i.value)==null||v.hide()},f=()=>{n("before-enter")},p=()=>{n("before-leave")},m=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:a,hide:d}),(v,y)=>(E(),he(h(is),wt({ref_key:"tooltipRef",ref:i},v.$attrs,{trigger:v.trigger,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":h(c),"popper-style":h(l),teleported:v.teleported,persistent:v.persistent,"gpu-acceleration":h(u),"onUpdate:visible":h(s),onBeforeShow:f,onBeforeHide:p,onShow:m,onHide:g}),{content:re(()=>[v.title?(E(),F("div",{key:0,class:I(h(o).e("title")),role:"title"},Oe(v.title),3)):ce("v-if",!0),Ce(v.$slots,"default",{},()=>[dt(Oe(v.content),1)])]),default:re(()=>[v.$slots.reference?Ce(v.$slots,"reference",{key:0}):ce("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Ufe=Re(Kfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const vI=(t,e)=>{const n=e.arg||e.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=t)};var jfe={mounted(t,e){vI(t,e)},updated(t,e){vI(t,e)}};const Wfe="popover",RP=TJ(jfe,Wfe),qfe=mt(Ufe,{directive:RP}),Gfe=Pe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:me(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:me([String,Array,Function]),default:""},format:{type:me(Function),default:t=>`${t}%`}}),Yfe=["aria-valuenow"],Xfe={viewBox:"0 0 100 100"},Jfe=["d","stroke","stroke-width"],Qfe=["d","stroke","opacity","stroke-linecap","stroke-width"],Zfe={key:0},ehe=te({name:"ElProgress"}),the=te({...ehe,props:Gfe,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=ke("progress"),s=T(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:C(e.percentage)})),o=T(()=>(e.strokeWidth/e.width*100).toFixed(1)),i=T(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),a=T(()=>{const b=i.value,w=e.type==="dashboard";return`
          M 50 50
          m 0 ${w?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${w?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${w?"":"-"}${b*2}
          `}),l=T(()=>2*Math.PI*i.value),c=T(()=>e.type==="dashboard"?.75:1),u=T(()=>`${-1*l.value*(1-c.value)/2}px`),d=T(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),f=T(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),p=T(()=>{let b;return e.color?b=C(e.percentage):b=n[e.status]||n.default,b}),m=T(()=>e.status==="warning"?ty:e.type==="line"?e.status==="success"?bS:Da:e.status==="success"?ip:fo),g=T(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),v=T(()=>e.format(e.percentage));function y(b){const w=100/b.length;return b.map((k,A)=>rt(k)?{color:k,percentage:(A+1)*w}:k).sort((k,A)=>k.percentage-A.percentage)}const C=b=>{var w;const{color:S}=e;if(et(S))return S(b);if(rt(S))return S;{const k=y(S);for(const A of k)if(A.percentage>b)return A.color;return(w=k[k.length-1])==null?void 0:w.color}};return(b,w)=>(E(),F("div",{class:I([h(r).b(),h(r).m(b.type),h(r).is(b.status),{[h(r).m("without-text")]:!b.showText,[h(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(E(),F("div",{key:0,class:I(h(r).b("bar"))},[L("div",{class:I(h(r).be("bar","outer")),style:Ge({height:`${b.strokeWidth}px`})},[L("div",{class:I([h(r).be("bar","inner"),{[h(r).bem("bar","inner","indeterminate")]:b.indeterminate}]),style:Ge(h(s))},[(b.showText||b.$slots.default)&&b.textInside?(E(),F("div",{key:0,class:I(h(r).be("bar","innerText"))},[Ce(b.$slots,"default",{percentage:b.percentage},()=>[L("span",null,Oe(h(v)),1)])],2)):ce("v-if",!0)],6)],6)],2)):(E(),F("div",{key:1,class:I(h(r).b("circle")),style:Ge({height:`${b.width}px`,width:`${b.width}px`})},[(E(),F("svg",Xfe,[L("path",{class:I(h(r).be("circle","track")),d:h(a),stroke:`var(${h(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":h(o),fill:"none",style:Ge(h(d))},null,14,Jfe),L("path",{class:I(h(r).be("circle","path")),d:h(a),stroke:h(p),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":h(o),style:Ge(h(f))},null,14,Qfe)]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(E(),F("div",{key:2,class:I(h(r).e("text")),style:Ge({fontSize:`${h(g)}px`})},[Ce(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(E(),he(h(Ue),{key:1},{default:re(()=>[(E(),he(kt(h(m))))]),_:1})):(E(),F("span",Zfe,Oe(h(v)),1))])],6)):ce("v-if",!0)],10,Yfe))}});var nhe=Re(the,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const DP=mt(nhe),rhe=Pe({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:me([Array,Object]),default:()=>un(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:me([Array,Object]),default:()=>[jp,jp,jp]},voidIcon:{type:tn,default:()=>XX},disabledVoidIcon:{type:tn,default:()=>jp},disabled:{type:Boolean},allowHalf:{type:Boolean},showText:{type:Boolean},showScore:{type:Boolean},textColor:{type:String,default:""},texts:{type:me(Array),default:()=>un(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:gd},label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),she={[an]:t=>it(t),[pt]:t=>it(t)},ohe=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],ihe=["onMousemove","onClick"],ahe=te({name:"ElRate"}),lhe=te({...ahe,props:rhe,emits:she,setup(t,{expose:e,emit:n}){const r=t;function s(M,_){const O=J=>Ct(J),$=Object.keys(_).map(J=>+J).filter(J=>{const W=_[J];return(O(W)?W.excluded:!1)?M<J:M<=J}).sort((J,W)=>J-W),K=_[$[0]];return O(K)&&K.value||K}const o=Fe(bc,void 0),i=Fe(Ho,void 0),a=In(),l=ke("rate"),{inputId:c,isLabeledByFormItem:u}=La(r,{formItemContext:i}),d=D(r.modelValue),f=D(-1),p=D(!0),m=T(()=>[l.b(),l.m(a.value)]),g=T(()=>r.disabled||(o==null?void 0:o.disabled)),v=T(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":w.value})),y=T(()=>{let M="";return r.showScore?M=r.scoreTemplate.replace(/\{\s*value\s*\}/,g.value?`${r.modelValue}`:`${d.value}`):r.showText&&(M=r.texts[Math.ceil(d.value)-1]),M}),C=T(()=>r.modelValue*100-Math.floor(r.modelValue)*100),b=T(()=>Be(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),w=T(()=>{const M=s(d.value,b.value);return Ct(M)?"":M}),S=T(()=>{let M="";return g.value?M=`${C.value}%`:r.allowHalf&&(M="50%"),{color:w.value,width:M}}),k=T(()=>{let M=Be(r.icons)?[...r.icons]:{...r.icons};return M=da(M),Be(M)?{[r.lowThreshold]:M[0],[r.highThreshold]:{value:M[1],excluded:!0},[r.max]:M[2]}:M}),A=T(()=>s(r.modelValue,k.value)),x=T(()=>g.value?rt(r.disabledVoidIcon)?r.disabledVoidIcon:da(r.disabledVoidIcon):rt(r.voidIcon)?r.voidIcon:da(r.voidIcon)),N=T(()=>s(d.value,k.value));function R(M){const _=g.value&&C.value>0&&M-1<r.modelValue&&M>r.modelValue,O=r.allowHalf&&p.value&&M-.5<=d.value&&M>d.value;return _||O}function H(M){r.clearable&&M===r.modelValue&&(M=0),n(pt,M),r.modelValue!==M&&n("change",M)}function P(M){g.value||(r.allowHalf&&p.value?H(d.value):H(M))}function B(M){if(g.value)return;let _=d.value;const O=M.code;return O===Xe.up||O===Xe.right?(r.allowHalf?_+=.5:_+=1,M.stopPropagation(),M.preventDefault()):(O===Xe.left||O===Xe.down)&&(r.allowHalf?_-=.5:_-=1,M.stopPropagation(),M.preventDefault()),_=_<0?0:_,_=_>r.max?r.max:_,n(pt,_),n("change",_),_}function V(M,_){if(!g.value){if(r.allowHalf){let O=_.target;io(O,l.e("item"))&&(O=O.querySelector(`.${l.e("icon")}`)),(O.clientWidth===0||io(O,l.e("decimal")))&&(O=O.parentNode),p.value=_.offsetX*2<=O.clientWidth,d.value=p.value?M-.5:M}else d.value=M;f.value=M}}function z(){g.value||(r.allowHalf&&(p.value=r.modelValue!==Math.floor(r.modelValue)),d.value=r.modelValue,f.value=-1)}return Ee(()=>r.modelValue,M=>{d.value=M,p.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(pt,0),e({setCurrentValue:V,resetCurrentValue:z}),(M,_)=>{var O;return E(),F("div",{id:h(c),class:I([h(m),h(l).is("disabled",h(g))]),role:"slider","aria-label":h(u)?void 0:M.label||"rating","aria-labelledby":h(u)?(O=h(i))==null?void 0:O.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":h(y)||void 0,"aria-valuemin":"0","aria-valuemax":M.max,tabindex:"0",style:Ge(h(v)),onKeydown:B},[(E(!0),F(Ye,null,Tt(M.max,($,K)=>(E(),F("span",{key:K,class:I(h(l).e("item")),onMousemove:J=>V($,J),onMouseleave:z,onClick:J=>P($)},[q(h(Ue),{class:I([h(l).e("icon"),{hover:f.value===$},h(l).is("active",$<=d.value)])},{default:re(()=>[R($)?ce("v-if",!0):(E(),F(Ye,{key:0},[ot((E(),he(kt(h(N)),null,null,512)),[[Dt,$<=d.value]]),ot((E(),he(kt(h(x)),null,null,512)),[[Dt,!($<=d.value)]])],64)),R($)?(E(),he(h(Ue),{key:1,style:Ge(h(S)),class:I([h(l).e("icon"),h(l).e("decimal")])},{default:re(()=>[(E(),he(kt(h(A))))]),_:1},8,["style","class"])):ce("v-if",!0)]),_:2},1032,["class"])],42,ihe))),128)),M.showText||M.showScore?(E(),F("span",{key:0,class:I(h(l).e("text"))},Oe(h(y)),3)):ce("v-if",!0)],46,ohe)}}});var che=Re(lhe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const uhe=mt(che),Zc={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},yI={[Zc.success]:rG,[Zc.warning]:ty,[Zc.error]:wS,[Zc.info]:CS},dhe=Pe({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),fhe=te({name:"ElResult"}),hhe=te({...fhe,props:dhe,setup(t){const e=t,n=ke("result"),r=T(()=>{const s=e.icon,o=s&&Zc[s]?Zc[s]:"icon-info",i=yI[o]||yI["icon-info"];return{class:o,component:i}});return(s,o)=>(E(),F("div",{class:I(h(n).b())},[L("div",{class:I(h(n).e("icon"))},[Ce(s.$slots,"icon",{},()=>[h(r).component?(E(),he(kt(h(r).component),{key:0,class:I(h(r).class)},null,8,["class"])):ce("v-if",!0)])],2),s.title||s.$slots.title?(E(),F("div",{key:0,class:I(h(n).e("title"))},[Ce(s.$slots,"title",{},()=>[L("p",null,Oe(s.title),1)])],2)):ce("v-if",!0),s.subTitle||s.$slots["sub-title"]?(E(),F("div",{key:1,class:I(h(n).e("subtitle"))},[Ce(s.$slots,"sub-title",{},()=>[L("p",null,Oe(s.subTitle),1)])],2)):ce("v-if",!0),s.$slots.extra?(E(),F("div",{key:2,class:I(h(n).e("extra"))},[Ce(s.$slots,"extra")],2)):ce("v-if",!0)],2))}});var phe=Re(hhe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const mhe=mt(phe),ghe=["start","center","end","space-around","space-between","space-evenly"],vhe=["top","middle","bottom"],yhe=Pe({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:ghe,default:"start"},align:{type:String,values:vhe,default:"top"}}),bhe=te({name:"ElRow"}),whe=te({...bhe,props:yhe,setup(t){const e=t,n=ke("row"),r=T(()=>e.gutter);yt(pR,{gutter:r});const s=T(()=>{const i={};return e.gutter&&(i.marginRight=i.marginLeft=`-${e.gutter/2}px`),i}),o=T(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,e.align!=="top")]);return(i,a)=>(E(),he(kt(i.tag),{class:I(h(o)),style:Ge(h(s))},{default:re(()=>[Ce(i.$slots,"default")]),_:3},8,["class","style"]))}});var Che=Re(whe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const She=mt(Che);var bI=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function khe(t,e){return!!(t===e||bI(t)&&bI(e))}function Ehe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!khe(t[n],e[n]))return!1;return!0}function The(t,e){e===void 0&&(e=Ehe);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var i=t.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const PP=()=>{const e=ht().proxy.$props;return T(()=>{const n=(r,s,o)=>({});return e.perfMode?Xv(n):The(n)})},Yw=50,Pg="itemRendered",Lg="scroll",eu="forward",Bg="backward",Ds="auto",vy="smart",ch="start",Ao="center",uh="end",zu="horizontal",ok="vertical",_he="ltr",gu="rtl",dh="negative",ik="positive-ascending",ak="positive-descending",xhe={[zu]:"left",[ok]:"top"},Ihe=20,Mhe={[zu]:"deltaX",[ok]:"deltaY"},Ahe=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let s,o=0;const i=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:i,onWheel:l=>{TS(s);const c=l[Mhe[n.value]];i(o)&&i(o+c)||(o+=c,kS()||l.preventDefault(),s=ES(()=>{r(o),o=0}))}}},Xw=yo({type:me([Number,Function]),required:!0}),Jw=yo({type:Number}),Qw=yo({type:Number,default:2}),Ohe=yo({type:String,values:["ltr","rtl"],default:"ltr"}),Zw=yo({type:Number,default:0}),Fg=yo({type:Number,required:!0}),LP=yo({type:String,values:["horizontal","vertical"],default:ok}),BP=Pe({className:{type:String,default:""},containerElement:{type:me([String,Object]),default:"div"},data:{type:me(Array),default:()=>un([])},direction:Ohe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:me([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),FP=Pe({cache:Qw,estimatedItemSize:Jw,layout:LP,initScrollOffset:Zw,total:Fg,itemSize:Xw,...BP}),e1={type:Number,default:6},VP={type:Number,default:0},zP={type:Number,default:2},Ol=Pe({columnCache:Qw,columnWidth:Xw,estimatedColumnWidth:Jw,estimatedRowHeight:Jw,initScrollLeft:Zw,initScrollTop:Zw,itemKey:{type:me(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:Qw,rowHeight:Xw,totalColumn:Fg,totalRow:Fg,hScrollbarSize:e1,vScrollbarSize:e1,scrollbarStartGap:VP,scrollbarEndGap:zP,...BP}),HP=Pe({alwaysOn:Boolean,class:String,layout:LP,total:Fg,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:e1,startGap:VP,endGap:zP,visible:Boolean}),Cl=(t,e)=>t<e?eu:Bg,fh=t=>t===_he||t===gu||t===zu,wI=t=>t===gu;let Ac=null;function Vg(t=!1){if(Ac===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Ac=ak:(e.scrollLeft=1,e.scrollLeft===0?Ac=dh:Ac=ik),document.body.removeChild(e),Ac}return Ac}function Nhe({move:t,size:e,bar:n},r){const s={},o=`translate${n.axis}(${t}px)`;return s[n.size]=e,s.transform=o,s.msTransform=o,s.webkitTransform=o,r==="horizontal"?s.height="100%":s.width="100%",s}const t1=te({name:"ElVirtualScrollBar",props:HP,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=T(()=>t.startGap+t.endGap),r=ke("virtual-scrollbar"),s=ke("scrollbar"),o=D(),i=D();let a=null,l=null;const c=Lt({isDragging:!1,traveled:0}),u=T(()=>PR[t.layout]),d=T(()=>t.clientSize-h(n)),f=T(()=>({position:"absolute",width:`${zu===t.layout?d.value:t.scrollbarSize}px`,height:`${zu===t.layout?t.scrollbarSize:d.value}px`,[xhe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),p=T(()=>{const k=t.ratio,A=t.clientSize;if(k>=100)return Number.POSITIVE_INFINITY;if(k>=50)return k*A/100;const x=A/3;return Math.floor(Math.min(Math.max(k*A,Ihe),x))}),m=T(()=>{if(!Number.isFinite(p.value))return{display:"none"};const k=`${p.value}px`;return Nhe({bar:u.value,size:k,move:c.traveled},t.layout)}),g=T(()=>Math.floor(t.clientSize-p.value-h(n))),v=()=>{window.addEventListener("mousemove",w),window.addEventListener("mouseup",b);const k=h(i);!k||(l=document.onselectstart,document.onselectstart=()=>!1,k.addEventListener("touchmove",w),k.addEventListener("touchend",b))},y=()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const k=h(i);!k||(k.removeEventListener("touchmove",w),k.removeEventListener("touchend",b))},C=k=>{k.stopImmediatePropagation(),!(k.ctrlKey||[1,2].includes(k.button))&&(c.isDragging=!0,c[u.value.axis]=k.currentTarget[u.value.offset]-(k[u.value.client]-k.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),v())},b=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),y()},w=k=>{const{isDragging:A}=c;if(!A||!i.value||!o.value)return;const x=c[u.value.axis];if(!x)return;TS(a);const N=(o.value.getBoundingClientRect()[u.value.direction]-k[u.value.client])*-1,R=i.value[u.value.offset]-x,H=N-R;a=ES(()=>{c.traveled=Math.max(t.startGap,Math.min(H,g.value)),e("scroll",H,g.value)})},S=k=>{const A=Math.abs(k.target.getBoundingClientRect()[u.value.direction]-k[u.value.client]),x=i.value[u.value.offset]/2,N=A-x;c.traveled=Math.max(0,Math.min(N,g.value)),e("scroll",N,g.value)};return Ee(()=>t.scrollFrom,k=>{c.isDragging||(c.traveled=Math.ceil(k*g.value))}),ln(()=>{y()}),()=>He("div",{role:"presentation",ref:o,class:[r.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:f.value,onMousedown:tt(S,["stop","prevent"]),onTouchstartPrevent:C},He("div",{ref:i,class:s.e("thumb"),style:m.value,onMousedown:C},[]))}}),KP=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:s,getStartIndexForOffset:o,getStopIndexForStartIndex:i,initCache:a,clearCache:l,validateProps:c})=>te({name:t!=null?t:"ElVirtualList",props:FP,emits:[Pg,Lg],setup(u,{emit:d,expose:f}){c(u);const p=ht(),m=ke("vl"),g=D(a(u,p)),v=PP(),y=D(),C=D(),b=D(),w=D({isScrolling:!1,scrollDir:"forward",scrollOffset:it(u.initScrollOffset)?u.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:u.scrollbarAlwaysOn}),S=T(()=>{const{total:se,cache:ve}=u,{isScrolling:Y,scrollDir:fe,scrollOffset:X}=h(w);if(se===0)return[0,0,0,0];const G=o(u,X,h(g)),ue=i(u,G,X,h(g)),ye=!Y||fe===Bg?Math.max(1,ve):1,Ae=!Y||fe===eu?Math.max(1,ve):1;return[Math.max(0,G-ye),Math.max(0,Math.min(se-1,ue+Ae)),G,ue]}),k=T(()=>s(u,h(g))),A=T(()=>fh(u.layout)),x=T(()=>[{position:"relative",[`overflow-${A.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:it(u.height)?`${u.height}px`:u.height,width:it(u.width)?`${u.width}px`:u.width},u.style]),N=T(()=>{const se=h(k),ve=h(A);return{height:ve?"100%":`${se}px`,pointerEvents:h(w).isScrolling?"none":void 0,width:ve?`${se}px`:"100%"}}),R=T(()=>A.value?u.width:u.height),{onWheel:H}=Ahe({atStartEdge:T(()=>w.value.scrollOffset<=0),atEndEdge:T(()=>w.value.scrollOffset>=k.value),layout:T(()=>u.layout)},se=>{var ve,Y;(Y=(ve=b.value).onMouseUp)==null||Y.call(ve),_(Math.min(w.value.scrollOffset+se,k.value-R.value))}),P=()=>{const{total:se}=u;if(se>0){const[X,G,ue,ye]=h(S);d(Pg,X,G,ue,ye)}const{scrollDir:ve,scrollOffset:Y,updateRequested:fe}=h(w);d(Lg,ve,Y,fe)},B=se=>{const{clientHeight:ve,scrollHeight:Y,scrollTop:fe}=se.currentTarget,X=h(w);if(X.scrollOffset===fe)return;const G=Math.max(0,Math.min(fe,Y-ve));w.value={...X,isScrolling:!0,scrollDir:Cl(X.scrollOffset,G),scrollOffset:G,updateRequested:!1},ze(K)},V=se=>{const{clientWidth:ve,scrollLeft:Y,scrollWidth:fe}=se.currentTarget,X=h(w);if(X.scrollOffset===Y)return;const{direction:G}=u;let ue=Y;if(G===gu)switch(Vg()){case dh:{ue=-Y;break}case ak:{ue=fe-ve-Y;break}}ue=Math.max(0,Math.min(ue,fe-ve)),w.value={...X,isScrolling:!0,scrollDir:Cl(X.scrollOffset,ue),scrollOffset:ue,updateRequested:!1},ze(K)},z=se=>{h(A)?V(se):B(se),P()},M=(se,ve)=>{const Y=(k.value-R.value)/ve*se;_(Math.min(k.value-R.value,Y))},_=se=>{se=Math.max(se,0),se!==h(w).scrollOffset&&(w.value={...h(w),scrollOffset:se,scrollDir:Cl(h(w).scrollOffset,se),updateRequested:!0},ze(K))},O=(se,ve=Ds)=>{const{scrollOffset:Y}=h(w);se=Math.max(0,Math.min(se,u.total-1)),_(e(u,se,ve,Y,h(g)))},$=se=>{const{direction:ve,itemSize:Y,layout:fe}=u,X=v.value(l&&Y,l&&fe,l&&ve);let G;if(Et(X,String(se)))G=X[se];else{const ue=r(u,se,h(g)),ye=n(u,se,h(g)),Ae=h(A),j=ve===gu,ne=Ae?ue:0;X[se]=G={position:"absolute",left:j?void 0:`${ne}px`,right:j?`${ne}px`:void 0,top:Ae?0:`${ue}px`,height:Ae?"100%":`${ye}px`,width:Ae?`${ye}px`:"100%"}}return G},K=()=>{w.value.isScrolling=!1,ze(()=>{v.value(-1,null,null)})},J=()=>{const se=y.value;se&&(se.scrollTop=0)};lt(()=>{if(!It)return;const{initScrollOffset:se}=u,ve=h(y);it(se)&&ve&&(h(A)?ve.scrollLeft=se:ve.scrollTop=se),P()}),Ei(()=>{const{direction:se,layout:ve}=u,{scrollOffset:Y,updateRequested:fe}=h(w),X=h(y);if(fe&&X)if(ve===zu)if(se===gu)switch(Vg()){case dh:{X.scrollLeft=-Y;break}case ik:{X.scrollLeft=Y;break}default:{const{clientWidth:G,scrollWidth:ue}=X;X.scrollLeft=ue-G-Y;break}}else X.scrollLeft=Y;else X.scrollTop=Y});const W={ns:m,clientSize:R,estimatedTotalSize:k,windowStyle:x,windowRef:y,innerRef:C,innerStyle:N,itemsToRender:S,scrollbarRef:b,states:w,getItemStyle:$,onScroll:z,onScrollbarScroll:M,onWheel:H,scrollTo:_,scrollToItem:O,resetScrollTop:J};return f({windowRef:y,innerRef:C,getItemStyleCache:v,scrollTo:_,scrollToItem:O,resetScrollTop:J,states:w}),W},render(u){var d;const{$slots:f,className:p,clientSize:m,containerElement:g,data:v,getItemStyle:y,innerElement:C,itemsToRender:b,innerStyle:w,layout:S,total:k,onScroll:A,onScrollbarScroll:x,onWheel:N,states:R,useIsScrolling:H,windowStyle:P,ns:B}=u,[V,z]=b,M=kt(g),_=kt(C),O=[];if(k>0)for(let W=V;W<=z;W++)O.push((d=f.default)==null?void 0:d.call(f,{data:v,key:W,index:W,isScrolling:H?R.isScrolling:void 0,style:y(W)}));const $=[He(_,{style:w,ref:"innerRef"},rt(_)?O:{default:()=>O})],K=He(t1,{ref:"scrollbarRef",clientSize:m,layout:S,onScroll:x,ratio:m*100/this.estimatedTotalSize,scrollFrom:R.scrollOffset/(this.estimatedTotalSize-m),total:k}),J=He(M,{class:[B.e("window"),p],style:P,onScroll:A,onWheel:N,ref:"windowRef",key:0},rt(M)?[$]:{default:()=>[$]});return He("div",{key:0,class:[B.e("wrapper"),R.scrollbarAlwaysOn?"always-on":""]},[J,K])}}),UP=KP({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:s},o,i,a)=>{const l=fh(r)?s:t,c=Math.max(0,e*n-l),u=Math.min(c,o*n),d=Math.max(0,(o+1)*n-l);switch(i===vy&&(a>=d-l&&a<=u+l?i=Ds:i=Ao),i){case ch:return u;case uh:return d;case Ao:{const f=Math.round(d+(u-d)/2);return f<Math.ceil(l/2)?0:f>c+Math.floor(l/2)?c:f}case Ds:default:return a>=d&&a<=u?a:a<d?d:u}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:s},o,i)=>{const a=o*n,l=fh(r)?s:t,c=Math.ceil((l+i-a)/n);return Math.max(0,Math.min(e-1,o+c-1))},initCache(){},clearCache:!0,validateProps(){}}),tu=(t,e,n)=>{const{itemSize:r}=t,{items:s,lastVisitedIndex:o}=n;if(e>o){let i=0;if(o>=0){const a=s[o];i=a.offset+a.size}for(let a=o+1;a<=e;a++){const l=r(a);s[a]={offset:i,size:l},i+=l}n.lastVisitedIndex=e}return s[e]},$he=(t,e,n)=>{const{items:r,lastVisitedIndex:s}=e;return(s>0?r[s].offset:0)>=n?jP(t,e,0,s,n):Rhe(t,e,Math.max(0,s),n)},jP=(t,e,n,r,s)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),i=tu(t,o,e).offset;if(i===s)return o;i<s?n=o+1:i>s&&(r=o-1)}return Math.max(0,n-1)},Rhe=(t,e,n,r)=>{const{total:s}=t;let o=1;for(;n<s&&tu(t,n,e).offset<r;)n+=o,o*=2;return jP(t,e,Math.floor(n/2),Math.min(n,s-1),r)},CI=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let s=0;if(r>=t&&(r=t-1),r>=0){const a=e[r];s=a.offset+a.size}const i=(t-r-1)*n;return s+i},Dhe=KP({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>tu(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:CI,getOffset:(t,e,n,r,s)=>{const{height:o,layout:i,width:a}=t,l=fh(i)?a:o,c=tu(t,e,s),u=CI(t,s),d=Math.max(0,Math.min(u-l,c.offset)),f=Math.max(0,c.offset-l+c.size);switch(n===vy&&(r>=f-l&&r<=d+l?n=Ds:n=Ao),n){case ch:return d;case uh:return f;case Ao:return Math.round(f+(d-f)/2);case Ds:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(t,e,n)=>$he(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:s,total:o,layout:i,width:a}=t,l=fh(i)?a:s,c=tu(t,e,r),u=n+l;let d=c.offset+c.size,f=e;for(;f<o-1&&d<u;)f++,d+=tu(t,f,r).size;return f},initCache({estimatedItemSize:t=Yw},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,s=!0)=>{var o,i;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=e.exposed)==null||o.getItemStyleCache(-1),s&&((i=e.proxy)==null||i.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),Phe=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:r},s)=>{let o=null,i=0,a=0;const l=(u,d)=>{const f=u<0&&e.value||u>0&&t.value,p=d<0&&r.value||d>0&&n.value;return f&&p};return{hasReachedEdge:l,onWheel:u=>{TS(o);let d=u.deltaX,f=u.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,u.shiftKey&&f!==0&&(d=f,f=0),!(l(i,a)&&l(i+d,a+f))&&(i+=d,a+=f,kS()||u.preventDefault(),o=ES(()=>{s(i,a),i=0,a=0}))}}},WP=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:o,getEstimatedTotalWidth:i,getColumnOffset:a,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:p,validateProps:m})=>te({name:t!=null?t:"ElVirtualList",props:Ol,emits:[Pg,Lg],setup(g,{emit:v,expose:y,slots:C}){const b=ke("vl");m(g);const w=ht(),S=D(f(g,w));p==null||p(w,S);const k=D(),A=D(),x=D(),N=D(null),R=D({isScrolling:!1,scrollLeft:it(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:it(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:eu,yAxisScrollDir:eu}),H=PP(),P=T(()=>Number.parseInt(`${g.height}`,10)),B=T(()=>Number.parseInt(`${g.width}`,10)),V=T(()=>{const{totalColumn:Q,totalRow:Me,columnCache:pe}=g,{isScrolling:ee,xAxisScrollDir:de,scrollLeft:le}=h(R);if(Q===0||Me===0)return[0,0,0,0];const Te=r(g,le,h(S)),Le=s(g,Te,le,h(S)),ae=!ee||de===Bg?Math.max(1,pe):1,we=!ee||de===eu?Math.max(1,pe):1;return[Math.max(0,Te-ae),Math.max(0,Math.min(Q-1,Le+we)),Te,Le]}),z=T(()=>{const{totalColumn:Q,totalRow:Me,rowCache:pe}=g,{isScrolling:ee,yAxisScrollDir:de,scrollTop:le}=h(R);if(Q===0||Me===0)return[0,0,0,0];const Te=u(g,le,h(S)),Le=d(g,Te,le,h(S)),ae=!ee||de===Bg?Math.max(1,pe):1,we=!ee||de===eu?Math.max(1,pe):1;return[Math.max(0,Te-ae),Math.max(0,Math.min(Me-1,Le+we)),Te,Le]}),M=T(()=>o(g,h(S))),_=T(()=>i(g,h(S))),O=T(()=>{var Q;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:it(g.height)?`${g.height}px`:g.height,width:it(g.width)?`${g.width}px`:g.width},(Q=g.style)!=null?Q:{}]}),$=T(()=>{const Q=`${h(_)}px`;return{height:`${h(M)}px`,pointerEvents:h(R).isScrolling?"none":void 0,width:Q}}),K=()=>{const{totalColumn:Q,totalRow:Me}=g;if(Q>0&&Me>0){const[Le,ae,we,$e]=h(V),[De,ie,Ie,je]=h(z);v(Pg,{columnCacheStart:Le,columnCacheEnd:ae,rowCacheStart:De,rowCacheEnd:ie,columnVisibleStart:we,columnVisibleEnd:$e,rowVisibleStart:Ie,rowVisibleEnd:je})}const{scrollLeft:pe,scrollTop:ee,updateRequested:de,xAxisScrollDir:le,yAxisScrollDir:Te}=h(R);v(Lg,{xAxisScrollDir:le,scrollLeft:pe,yAxisScrollDir:Te,scrollTop:ee,updateRequested:de})},J=Q=>{const{clientHeight:Me,clientWidth:pe,scrollHeight:ee,scrollLeft:de,scrollTop:le,scrollWidth:Te}=Q.currentTarget,Le=h(R);if(Le.scrollTop===le&&Le.scrollLeft===de)return;let ae=de;if(wI(g.direction))switch(Vg()){case dh:ae=-de;break;case ak:ae=Te-pe-de;break}R.value={...Le,isScrolling:!0,scrollLeft:ae,scrollTop:Math.max(0,Math.min(le,ee-Me)),updateRequested:!0,xAxisScrollDir:Cl(Le.scrollLeft,ae),yAxisScrollDir:Cl(Le.scrollTop,le)},ze(()=>G()),ue(),K()},W=(Q,Me)=>{const pe=h(P),ee=(M.value-pe)/Me*Q;Y({scrollTop:Math.min(M.value-pe,ee)})},se=(Q,Me)=>{const pe=h(B),ee=(_.value-pe)/Me*Q;Y({scrollLeft:Math.min(_.value-pe,ee)})},{onWheel:ve}=Phe({atXStartEdge:T(()=>R.value.scrollLeft<=0),atXEndEdge:T(()=>R.value.scrollLeft>=_.value),atYStartEdge:T(()=>R.value.scrollTop<=0),atYEndEdge:T(()=>R.value.scrollTop>=M.value)},(Q,Me)=>{var pe,ee,de,le;(ee=(pe=A.value)==null?void 0:pe.onMouseUp)==null||ee.call(pe),(le=(de=A.value)==null?void 0:de.onMouseUp)==null||le.call(de);const Te=h(B),Le=h(P);Y({scrollLeft:Math.min(R.value.scrollLeft+Q,_.value-Te),scrollTop:Math.min(R.value.scrollTop+Me,M.value-Le)})}),Y=({scrollLeft:Q=R.value.scrollLeft,scrollTop:Me=R.value.scrollTop})=>{Q=Math.max(Q,0),Me=Math.max(Me,0);const pe=h(R);Me===pe.scrollTop&&Q===pe.scrollLeft||(R.value={...pe,xAxisScrollDir:Cl(pe.scrollLeft,Q),yAxisScrollDir:Cl(pe.scrollTop,Me),scrollLeft:Q,scrollTop:Me,updateRequested:!0},ze(()=>G()),ue(),K())},fe=(Q=0,Me=0,pe=Ds)=>{const ee=h(R);Me=Math.max(0,Math.min(Me,g.totalColumn-1)),Q=Math.max(0,Math.min(Q,g.totalRow-1));const de=Y$(b.namespace.value),le=h(S),Te=o(g,le),Le=i(g,le);Y({scrollLeft:a(g,Me,pe,ee.scrollLeft,le,Le>g.width?de:0),scrollTop:l(g,Q,pe,ee.scrollTop,le,Te>g.height?de:0)})},X=(Q,Me)=>{const{columnWidth:pe,direction:ee,rowHeight:de}=g,le=H.value(e&&pe,e&&de,e&&ee),Te=`${Q},${Me}`;if(Et(le,Te))return le[Te];{const[,Le]=n(g,Me,h(S)),ae=h(S),we=wI(ee),[$e,De]=c(g,Q,ae),[ie]=n(g,Me,ae);return le[Te]={position:"absolute",left:we?void 0:`${Le}px`,right:we?`${Le}px`:void 0,top:`${De}px`,height:`${$e}px`,width:`${ie}px`},le[Te]}},G=()=>{R.value.isScrolling=!1,ze(()=>{H.value(-1,null,null)})};lt(()=>{if(!It)return;const{initScrollLeft:Q,initScrollTop:Me}=g,pe=h(k);pe&&(it(Q)&&(pe.scrollLeft=Q),it(Me)&&(pe.scrollTop=Me)),K()});const ue=()=>{const{direction:Q}=g,{scrollLeft:Me,scrollTop:pe,updateRequested:ee}=h(R),de=h(k);if(ee&&de){if(Q===gu)switch(Vg()){case dh:{de.scrollLeft=-Me;break}case ik:{de.scrollLeft=Me;break}default:{const{clientWidth:le,scrollWidth:Te}=de;de.scrollLeft=Te-le-Me;break}}else de.scrollLeft=Math.max(0,Me);de.scrollTop=Math.max(0,pe)}},{resetAfterColumnIndex:ye,resetAfterRowIndex:Ae,resetAfter:j}=w.proxy;y({windowRef:k,innerRef:N,getItemStyleCache:H,scrollTo:Y,scrollToItem:fe,states:R,resetAfterColumnIndex:ye,resetAfterRowIndex:Ae,resetAfter:j});const ne=()=>{const{scrollbarAlwaysOn:Q,scrollbarStartGap:Me,scrollbarEndGap:pe,totalColumn:ee,totalRow:de}=g,le=h(B),Te=h(P),Le=h(_),ae=h(M),{scrollLeft:we,scrollTop:$e}=h(R),De=He(t1,{ref:A,alwaysOn:Q,startGap:Me,endGap:pe,class:b.e("horizontal"),clientSize:le,layout:"horizontal",onScroll:se,ratio:le*100/Le,scrollFrom:we/(Le-le),total:de,visible:!0}),ie=He(t1,{ref:x,alwaysOn:Q,startGap:Me,endGap:pe,class:b.e("vertical"),clientSize:Te,layout:"vertical",onScroll:W,ratio:Te*100/ae,scrollFrom:$e/(ae-Te),total:ee,visible:!0});return{horizontalScrollbar:De,verticalScrollbar:ie}},ge=()=>{var Q;const[Me,pe]=h(V),[ee,de]=h(z),{data:le,totalColumn:Te,totalRow:Le,useIsScrolling:ae,itemKey:we}=g,$e=[];if(Le>0&&Te>0)for(let De=ee;De<=de;De++)for(let ie=Me;ie<=pe;ie++)$e.push((Q=C.default)==null?void 0:Q.call(C,{columnIndex:ie,data:le,key:we({columnIndex:ie,data:le,rowIndex:De}),isScrolling:ae?h(R).isScrolling:void 0,style:X(De,ie),rowIndex:De}));return $e},Se=()=>{const Q=kt(g.innerElement),Me=ge();return[He(Q,{style:h($),ref:N},rt(Q)?Me:{default:()=>Me})]};return()=>{const Q=kt(g.containerElement),{horizontalScrollbar:Me,verticalScrollbar:pe}=ne(),ee=Se();return He("div",{key:0,class:b.e("wrapper")},[He(Q,{class:g.className,style:h(O),onScroll:J,onWheel:ve,ref:k},rt(Q)?ee:{default:()=>ee}),Me,pe])}}}),Lhe=WP({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},r,s,o,i,a)=>{n=Number(n);const l=Math.max(0,t*e-n),c=Math.min(l,r*e),u=Math.max(0,r*e-n+a+e);switch(s==="smart"&&(o>=u-n&&o<=c+n?s=Ds:s=Ao),s){case ch:return c;case uh:return u;case Ao:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(n/2)?0:d>l+Math.floor(n/2)?l:d}case Ds:default:return o>=u&&o<=c?o:u>c||o<u?u:c}},getRowOffset:({rowHeight:t,height:e,totalRow:n},r,s,o,i,a)=>{e=Number(e);const l=Math.max(0,n*t-e),c=Math.min(l,r*t),u=Math.max(0,r*t-e+a+t);switch(s===vy&&(o>=u-e&&o<=c+e?s=Ds:s=Ao),s){case ch:return c;case uh:return u;case Ao:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case Ds:default:return o>=u&&o<=c?o:u>c||o<u?u:c}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},r,s)=>{const o=r*t,i=Math.ceil((n+s-o)/t);return Math.max(0,Math.min(e-1,r+i-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},r,s)=>{const o=r*t,i=Math.ceil((n+s-o)/t);return Math.max(0,Math.min(e-1,r+i-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:zg,min:qP,floor:GP}=Math,Bhe={column:"columnWidth",row:"rowHeight"},n1={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ti=(t,e,n,r)=>{const[s,o,i]=[n[r],t[Bhe[r]],n[n1[r]]];if(e>i){let a=0;if(i>=0){const l=s[i];a=l.offset+l.size}for(let l=i+1;l<=e;l++){const c=o(l);s[l]={offset:a,size:c},a+=c}n[n1[r]]=e}return s[e]},YP=(t,e,n,r,s,o)=>{for(;n<=r;){const i=n+GP((r-n)/2),a=ti(t,i,e,o).offset;if(a===s)return i;a<s?n=i+1:r=i-1}return zg(0,n-1)},Fhe=(t,e,n,r,s)=>{const o=s==="column"?t.totalColumn:t.totalRow;let i=1;for(;n<o&&ti(t,n,e,s).offset<r;)n+=i,i*=2;return YP(t,e,GP(n/2),qP(n,o-1),r,s)},SI=(t,e,n,r)=>{const[s,o]=[e[r],e[n1[r]]];return(o>0?s[o].offset:0)>=n?YP(t,e,0,o,n,r):Fhe(t,e,zg(0,o),n,r)},XP=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:r})=>{let s=0;if(n>=t&&(n=t-1),n>=0){const a=r[n];s=a.offset+a.size}const i=(t-n-1)*e;return s+i},JP=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let s=0;if(r>t&&(r=t-1),r>=0){const a=e[r];s=a.offset+a.size}const i=(t-r-1)*n;return s+i},Vhe={column:JP,row:XP},kI=(t,e,n,r,s,o,i)=>{const[a,l]=[o==="row"?t.height:t.width,Vhe[o]],c=ti(t,e,s,o),u=l(t,s),d=zg(0,qP(u-a,c.offset)),f=zg(0,c.offset-a+i+c.size);switch(n===vy&&(r>=f-a&&r<=d+a?n=Ds:n=Ao),n){case ch:return d;case uh:return f;case Ao:return Math.round(f+(d-f)/2);case Ds:default:return r>=f&&r<=d?r:f>d||r<f?f:d}},zhe=WP({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const r=ti(t,e,n,"column");return[r.size,r.offset]},getRowPosition:(t,e,n)=>{const r=ti(t,e,n,"row");return[r.size,r.offset]},getColumnOffset:(t,e,n,r,s,o)=>kI(t,e,n,r,s,"column",o),getRowOffset:(t,e,n,r,s,o)=>kI(t,e,n,r,s,"row",o),getColumnStartIndexForOffset:(t,e,n)=>SI(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,r)=>{const s=ti(t,e,r,"column"),o=n+t.width;let i=s.offset+s.size,a=e;for(;a<t.totalColumn-1&&i<o;)a++,i+=ti(t,e,r,"column").size;return a},getEstimatedTotalHeight:XP,getEstimatedTotalWidth:JP,getRowStartIndexForOffset:(t,e,n)=>SI(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,r)=>{const{totalRow:s,height:o}=t,i=ti(t,e,r,"row"),a=n+o;let l=i.size+i.offset,c=e;for(;c<s-1&&l<a;)c++,l+=ti(t,c,r,"row").size;return c},injectToInstance:(t,e)=>{const n=({columnIndex:o,rowIndex:i},a)=>{var l,c;a=Un(a)?!0:a,it(o)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,o-1)),it(i)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,i-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),a&&((c=t.proxy)==null||c.$forceUpdate())},r=(o,i)=>{n({columnIndex:o},i)},s=(o,i)=>{n({rowIndex:o},i)};Object.assign(t.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:s,resetAfter:n})},initCache:({estimatedColumnWidth:t=Yw,estimatedRowHeight:e=Yw})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),Hhe=te({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:ke("select")}}});function Khe(t,e,n,r,s,o){return t.item.isTitle?(E(),F("div",{key:0,class:I(t.ns.be("group","title")),style:Ge([t.style,{lineHeight:`${t.height}px`}])},Oe(t.item.label),7)):(E(),F("div",{key:1,class:I(t.ns.be("group","split")),style:Ge(t.style)},[L("span",{class:I(t.ns.be("group","split-dash")),style:Ge({top:`${t.height/2}px`})},null,6)],6))}var Uhe=Re(Hhe,[["render",Khe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function jhe(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const Whe={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Da},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Hn.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:gd},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:me(String),values:wc,default:"bottom-start"}},qhe={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Ghe=te({props:qhe,emits:["select","hover"],setup(t,{emit:e}){const n=ke("select"),{hoverItem:r,selectOptionClick:s}=jhe(t,{emit:e});return{ns:n,hoverItem:r,selectOptionClick:s}}}),Yhe=["aria-selected"];function Xhe(t,e,n,r,s,o){return E(),F("li",{"aria-selected":t.selected,style:Ge(t.style),class:I([t.ns.be("dropdown","option-item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),{hover:t.hovering}]),onMouseenter:e[0]||(e[0]=(...i)=>t.hoverItem&&t.hoverItem(...i)),onClick:e[1]||(e[1]=tt((...i)=>t.selectOptionClick&&t.selectOptionClick(...i),["stop"]))},[Ce(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[L("span",null,Oe(t.item.label),1)])],46,Yhe)}var Jhe=Re(Ghe,[["render",Xhe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const QP="ElSelectV2Injection";var Qhe=te({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:n}){const r=Fe(QP),s=ke("select"),o=D([]),i=D(),a=T(()=>t.data.length);Ee(()=>a.value,()=>{var x,N;(N=(x=r.popper.value).updatePopper)==null||N.call(x)});const l=T(()=>Un(r.props.estimatedOptionHeight)),c=T(()=>l.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:x=>o.value[x]}),u=(x=[],N)=>{const{props:{valueKey:R}}=r;return Ct(N)?x&&x.some(H=>cn(H,R)===cn(N,R)):x.includes(N)},d=(x,N)=>{if(Ct(N)){const{valueKey:R}=r.props;return cn(x,R)===cn(N,R)}else return x===N},f=(x,N)=>{const{valueKey:R}=r.props;return r.props.multiple?u(x,cn(N,R)):d(x,cn(N,R))},p=(x,N)=>{const{disabled:R,multiple:H,multipleLimit:P}=r.props;return R||!N&&(H?P>0&&x.length>=P:!1)},m=x=>t.hoveringIndex===x;n({listRef:i,isSized:l,isItemDisabled:p,isItemHovering:m,isItemSelected:f,scrollToItem:x=>{const N=i.value;N&&N.scrollToItem(x)},resetScrollTop:()=>{const x=i.value;x&&x.resetScrollTop()}});const y=x=>{const{index:N,data:R,style:H}=x,P=h(l),{itemSize:B,estimatedSize:V}=h(c),{modelValue:z}=r.props,{onSelect:M,onHover:_}=r,O=R[N];if(O.type==="Group")return q(Uhe,{item:O,style:H,height:P?B:V},null);const $=f(z,O),K=p(z,$),J=m(N);return q(Jhe,wt(x,{selected:$,disabled:O.disabled||K,created:!!O.created,hovering:J,item:O,onSelect:M,onHover:_}),{default:W=>{var se;return((se=e.default)==null?void 0:se.call(e,W))||q("span",null,[O.label])}})},{onKeyboardNavigate:C,onKeyboardSelect:b}=r,w=()=>{C("forward")},S=()=>{C("backward")},k=()=>{r.expanded=!1},A=x=>{const{code:N}=x,{tab:R,esc:H,down:P,up:B,enter:V}=Xe;switch(N!==R&&(x.preventDefault(),x.stopPropagation()),N){case R:case H:{k();break}case P:{w();break}case B:{S();break}case V:{b();break}}};return()=>{var x;const{data:N,width:R}=t,{height:H,multiple:P,scrollbarAlwaysOn:B}=r.props;if(N.length===0)return q("div",{class:s.b("dropdown"),style:{width:`${R}px`}},[(x=e.empty)==null?void 0:x.call(e)]);const V=h(l)?UP:Dhe;return q("div",{class:[s.b("dropdown"),s.is("multiple",P)]},[q(V,wt({ref:i},h(c),{className:s.be("dropdown","list"),scrollbarAlwaysOn:B,data:N,height:H,width:R,total:N.length,onKeydown:A}),{default:z=>q(y,z,null)})])}}});function Zhe(t,e){const n=D(0),r=D(null),s=T(()=>t.allowCreate&&t.filterable);function o(u){const d=f=>f.value===u;return t.options&&t.options.some(d)||e.createdOptions.some(d)}function i(u){!s.value||(t.multiple&&u.created?n.value++:r.value=u)}function a(u){if(s.value)if(u&&u.length>0&&!o(u)){const d={value:u,label:u,created:!0,disabled:!1};e.createdOptions.length>=n.value?e.createdOptions[n.value]=d:e.createdOptions.push(d)}else if(t.multiple)e.createdOptions.length=n.value;else{const d=r.value;e.createdOptions.length=0,d&&d.created&&e.createdOptions.push(d)}}function l(u){if(!s.value||!u||!u.created||u.created&&t.reserveKeyword&&e.inputValue===u.label)return;const d=e.createdOptions.findIndex(f=>f.value===u.value);~d&&(e.createdOptions.splice(d,1),n.value--)}function c(){s.value&&(e.createdOptions.length=0,n.value=0)}return{createNewOption:a,removeNewOption:l,selectNewOption:i,clearAllNewOption:c}}const epe=t=>{const e=[];return t.forEach(n=>{Be(n.options)?(e.push({label:n.label,isTitle:!0,type:"Group"}),n.options.forEach(r=>{e.push(r)}),e.push({type:"Group"})):e.push(n)}),e};function tpe(t){const e=D(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:o=>{const i=o.target.value,a=i[i.length-1]||"";e.value=!ry(a)},handleCompositionEnd:o=>{e.value&&(e.value=!1,et(t)&&t(o))}}}const EI="",TI=11,npe={larget:51,default:42,small:33},rpe=(t,e)=>{const{t:n}=Ft(),r=ke("select-v2"),s=ke("input"),{form:o,formItem:i}=zr(),a=Lt({inputValue:EI,displayInputValue:EI,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),l=D(-1),c=D(-1),u=D(null),d=D(null),f=D(null),p=D(null),m=D(null),g=D(null),v=D(null),y=D(!1),C=T(()=>t.disabled||(o==null?void 0:o.disabled)),b=T(()=>{const xe=P.value.length*34;return xe>t.height?t.height:xe}),w=T(()=>!jn(t.modelValue)),S=T(()=>{const xe=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:w.value;return t.clearable&&!C.value&&a.comboBoxHovering&&xe}),k=T(()=>t.remote&&t.filterable?"":ey),A=T(()=>k.value&&r.is("reverse",y.value)),x=T(()=>(i==null?void 0:i.validateState)||""),N=T(()=>sR[x.value]),R=T(()=>t.remote?300:0),H=T(()=>{const xe=P.value;return t.loading?t.loadingText||n("el.select.loading"):t.remote&&a.inputValue===""&&xe.length===0?!1:t.filterable&&a.inputValue&&xe.length>0?t.noMatchText||n("el.select.noMatch"):xe.length===0?t.noDataText||n("el.select.noData"):null}),P=T(()=>{const xe=Qe=>{const bt=a.inputValue,Vt=new RegExp(q$(bt),"i");return bt?Vt.test(Qe.label||""):!0};return t.loading?[]:epe(t.options.concat(a.createdOptions).map(Qe=>{if(Be(Qe.options)){const bt=Qe.options.filter(xe);if(bt.length>0)return{...Qe,options:bt}}else if(t.remote||xe(Qe))return Qe;return null}).filter(Qe=>Qe!==null))}),B=T(()=>P.value.every(xe=>xe.disabled)),V=In(),z=T(()=>V.value==="small"?"small":"default"),M=T(()=>{const xe=g.value,Qe=z.value||"default",bt=xe?Number.parseInt(getComputedStyle(xe).paddingLeft):0,Vt=xe?Number.parseInt(getComputedStyle(xe).paddingRight):0;return a.selectWidth-Vt-bt-npe[Qe]}),_=()=>{var xe;c.value=((xe=m.value)==null?void 0:xe.offsetWidth)||200},O=T(()=>({width:`${a.calculatedWidth===0?TI:Math.ceil(a.calculatedWidth)+TI}px`})),$=T(()=>Be(t.modelValue)?t.modelValue.length===0&&!a.displayInputValue:t.filterable?a.displayInputValue.length===0:!0),K=T(()=>{const xe=t.placeholder||n("el.select.placeholder");return t.multiple||jn(t.modelValue)?xe:a.selectedLabel}),J=T(()=>{var xe,Qe;return(Qe=(xe=p.value)==null?void 0:xe.popperRef)==null?void 0:Qe.contentRef}),W=T(()=>{if(t.multiple){const xe=t.modelValue.length;if(t.modelValue.length>0)return P.value.findIndex(Qe=>Qe.value===t.modelValue[xe-1])}else if(t.modelValue)return P.value.findIndex(xe=>xe.value===t.modelValue);return-1}),se=T({get(){return y.value&&H.value!==!1},set(xe){y.value=xe}}),{createNewOption:ve,removeNewOption:Y,selectNewOption:fe,clearAllNewOption:X}=Zhe(t,a),{handleCompositionStart:G,handleCompositionUpdate:ue,handleCompositionEnd:ye}=tpe(xe=>at(xe)),Ae=()=>{var xe,Qe,bt;(Qe=(xe=d.value).focus)==null||Qe.call(xe),(bt=p.value)==null||bt.updatePopper()},j=()=>{if(!t.automaticDropdown&&!C.value)return a.isComposing&&(a.softFocus=!0),ze(()=>{var xe,Qe;y.value=!y.value,(Qe=(xe=d.value)==null?void 0:xe.focus)==null||Qe.call(xe)})},ne=()=>(t.filterable&&a.inputValue!==a.selectedLabel&&(a.query=a.selectedLabel),Se(a.inputValue),ze(()=>{ve(a.inputValue)})),ge=Pr(ne,R.value),Se=xe=>{a.previousQuery!==xe&&(a.previousQuery=xe,t.filterable&&et(t.filterMethod)?t.filterMethod(xe):t.filterable&&t.remote&&et(t.remoteMethod)&&t.remoteMethod(xe))},_e=xe=>{bs(t.modelValue,xe)||e(an,xe)},Q=xe=>{e(pt,xe),_e(xe),a.previousValue=xe==null?void 0:xe.toString()},Me=(xe=[],Qe)=>{if(!Ct(Qe))return xe.indexOf(Qe);const bt=t.valueKey;let Vt=-1;return xe.some((er,xs)=>cn(er,bt)===cn(Qe,bt)?(Vt=xs,!0):!1),Vt},pe=xe=>Ct(xe)?cn(xe,t.valueKey):xe,ee=xe=>Ct(xe)?xe.label:xe,de=()=>{if(!(t.collapseTags&&!t.filterable))return ze(()=>{var xe,Qe;if(!d.value)return;const bt=g.value;m.value.height=bt.offsetHeight,y.value&&H.value!==!1&&((Qe=(xe=p.value)==null?void 0:xe.updatePopper)==null||Qe.call(xe))})},le=()=>{var xe,Qe;if(Te(),_(),(Qe=(xe=p.value)==null?void 0:xe.updatePopper)==null||Qe.call(xe),t.multiple)return de()},Te=()=>{const xe=g.value;xe&&(a.selectWidth=xe.getBoundingClientRect().width)},Le=(xe,Qe,bt=!0)=>{var Vt,er;if(t.multiple){let xs=t.modelValue.slice();const Di=Me(xs,pe(xe));Di>-1?(xs=[...xs.slice(0,Di),...xs.slice(Di+1)],a.cachedOptions.splice(Di,1),Y(xe)):(t.multipleLimit<=0||xs.length<t.multipleLimit)&&(xs=[...xs,pe(xe)],a.cachedOptions.push(xe),fe(xe),Z(Qe)),Q(xs),xe.created&&(a.query="",Se(""),a.inputLength=20),t.filterable&&!t.reserveKeyword&&((er=(Vt=d.value).focus)==null||er.call(Vt),je("")),t.filterable&&(a.calculatedWidth=v.value.getBoundingClientRect().width),de(),Ke()}else l.value=Qe,a.selectedLabel=xe.label,Q(pe(xe)),y.value=!1,a.isComposing=!1,a.isSilentBlur=bt,fe(xe),xe.created||X(),Z(Qe)},ae=(xe,Qe)=>{const{valueKey:bt}=t,Vt=t.modelValue.indexOf(cn(Qe,bt));if(Vt>-1&&!C.value){const er=[...t.modelValue.slice(0,Vt),...t.modelValue.slice(Vt+1)];return a.cachedOptions.splice(Vt,1),Q(er),e("remove-tag",cn(Qe,bt)),a.softFocus=!0,Y(Qe),ze(Ae)}xe.stopPropagation()},we=xe=>{const Qe=a.isComposing;a.isComposing=!0,a.softFocus?a.softFocus=!1:Qe||e("focus",xe)},$e=xe=>(a.softFocus=!1,ze(()=>{var Qe,bt;(bt=(Qe=d.value)==null?void 0:Qe.blur)==null||bt.call(Qe),v.value&&(a.calculatedWidth=v.value.getBoundingClientRect().width),a.isSilentBlur?a.isSilentBlur=!1:a.isComposing&&e("blur",xe),a.isComposing=!1})),De=()=>{a.displayInputValue.length>0?je(""):y.value=!1},ie=xe=>{if(a.displayInputValue.length===0){xe.preventDefault();const Qe=t.modelValue.slice();Qe.pop(),Y(a.cachedOptions.pop()),Q(Qe)}},Ie=()=>{let xe;return Be(t.modelValue)?xe=[]:xe=void 0,a.softFocus=!0,t.multiple?a.cachedOptions=[]:a.selectedLabel="",y.value=!1,Q(xe),e("clear"),X(),ze(Ae)},je=xe=>{a.displayInputValue=xe,a.inputValue=xe},U=(xe,Qe=void 0)=>{const bt=P.value;if(!["forward","backward"].includes(xe)||C.value||bt.length<=0||B.value)return;if(!y.value)return j();Qe===void 0&&(Qe=a.hoveringIndex);let Vt=-1;xe==="forward"?(Vt=Qe+1,Vt>=bt.length&&(Vt=0)):xe==="backward"&&(Vt=Qe-1,(Vt<0||Vt>=bt.length)&&(Vt=bt.length-1));const er=bt[Vt];if(er.disabled||er.type==="Group")return U(xe,Vt);Z(Vt),At(Vt)},oe=()=>{if(y.value)~a.hoveringIndex&&P.value[a.hoveringIndex]&&Le(P.value[a.hoveringIndex],a.hoveringIndex,!1);else return j()},Z=xe=>{a.hoveringIndex=xe},be=()=>{a.hoveringIndex=-1},Ke=()=>{var xe;const Qe=d.value;Qe&&((xe=Qe.focus)==null||xe.call(Qe))},at=xe=>{const Qe=xe.target.value;if(je(Qe),a.displayInputValue.length>0&&!y.value&&(y.value=!0),a.calculatedWidth=v.value.getBoundingClientRect().width,t.multiple&&de(),t.remote)ge();else return ne()},St=()=>(y.value=!1,$e()),Yt=()=>(a.inputValue=a.displayInputValue,ze(()=>{~W.value&&(Z(W.value),At(a.hoveringIndex))})),At=xe=>{f.value.scrollToItem(xe)},_t=()=>{if(be(),t.multiple)if(t.modelValue.length>0){let xe=!1;a.cachedOptions.length=0,a.previousValue=t.modelValue.toString(),t.modelValue.forEach(Qe=>{const bt=P.value.findIndex(Vt=>pe(Vt)===Qe);~bt&&(a.cachedOptions.push(P.value[bt]),xe||Z(bt),xe=!0)})}else a.cachedOptions=[],a.previousValue=void 0;else if(w.value){a.previousValue=t.modelValue;const xe=P.value,Qe=xe.findIndex(bt=>pe(bt)===pe(t.modelValue));~Qe?(a.selectedLabel=xe[Qe].label,Z(Qe)):a.selectedLabel=`${t.modelValue}`}else a.selectedLabel="",a.previousValue=void 0;X(),_()};return Ee(y,xe=>{var Qe,bt;e("visible-change",xe),xe?(bt=(Qe=p.value).update)==null||bt.call(Qe):(a.displayInputValue="",a.previousQuery=null,ve(""))}),Ee(()=>t.modelValue,(xe,Qe)=>{var bt;(!xe||xe.toString()!==a.previousValue)&&_t(),!bs(xe,Qe)&&t.validateEvent&&((bt=i==null?void 0:i.validate)==null||bt.call(i,"change").catch(Vt=>void 0))},{deep:!0}),Ee(()=>t.options,()=>{const xe=d.value;(!xe||xe&&document.activeElement!==xe)&&_t()},{deep:!0}),Ee(P,()=>ze(f.value.resetScrollTop)),lt(()=>{_t()}),Sr(m,le),{collapseTagSize:z,currentPlaceholder:K,expanded:y,emptyText:H,popupHeight:b,debounce:R,filteredOptions:P,iconComponent:k,iconReverse:A,inputWrapperStyle:O,popperSize:c,dropdownMenuVisible:se,hasModelValue:w,shouldShowPlaceholder:$,selectDisabled:C,selectSize:V,showClearBtn:S,states:a,tagMaxWidth:M,nsSelectV2:r,nsInput:s,calculatorRef:v,controlRef:u,inputRef:d,menuRef:f,popper:p,selectRef:m,selectionRef:g,popperRef:J,validateState:x,validateIcon:N,debouncedOnInputChange:ge,deleteTag:ae,getLabel:ee,getValueKey:pe,handleBlur:$e,handleClear:Ie,handleClickOutside:St,handleDel:ie,handleEsc:De,handleFocus:we,handleMenuEnter:Yt,handleResize:le,toggleMenu:j,scrollTo:At,onInput:at,onKeyboardNavigate:U,onKeyboardSelect:oe,onSelect:Le,onHover:Z,onUpdateInputValue:je,handleCompositionStart:G,handleCompositionEnd:ye,handleCompositionUpdate:ue}},spe=te({name:"ElSelectV2",components:{ElSelectMenu:Qhe,ElTag:py,ElTooltip:is,ElIcon:Ue},directives:{ClickOutside:Ta,ModelText:jv},props:Whe,emits:[pt,an,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=T(()=>{const{modelValue:s,multiple:o}=t,i=o?[]:void 0;return Be(s)?o?s:i:o?i:s}),r=rpe(Lt({...$n(t),modelValue:n}),e);return yt(QP,{props:Lt({...$n(t),height:r.popupHeight,modelValue:n}),popper:r.popper,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect}),{...r,modelValue:n}}}),ope={key:0},ipe=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],ape=["textContent"],lpe=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],cpe=["textContent"];function upe(t,e,n,r,s,o){const i=Je("el-tag"),a=Je("el-tooltip"),l=Je("el-icon"),c=Je("el-select-menu"),u=_u("model-text"),d=_u("click-outside");return ot((E(),F("div",{ref:"selectRef",class:I([t.nsSelectV2.b(),t.nsSelectV2.m(t.selectSize)]),onClick:e[25]||(e[25]=tt((...f)=>t.toggleMenu&&t.toggleMenu(...f),["stop"])),onMouseenter:e[26]||(e[26]=f=>t.states.comboBoxHovering=!0),onMouseleave:e[27]||(e[27]=f=>t.states.comboBoxHovering=!1)},[q(a,{ref:"popper",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelectV2.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[24]||(e[24]=f=>t.states.inputValue=t.states.displayInputValue)},{default:re(()=>{var f;return[L("div",{ref:"selectionRef",class:I([t.nsSelectV2.e("wrapper"),t.nsSelectV2.is("focused",t.states.isComposing||t.expanded),t.nsSelectV2.is("hovering",t.states.comboBoxHovering),t.nsSelectV2.is("filterable",t.filterable),t.nsSelectV2.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(E(),F("div",ope,[Ce(t.$slots,"prefix")])):ce("v-if",!0),t.multiple?(E(),F("div",{key:1,class:I(t.nsSelectV2.e("selection"))},[t.collapseTags&&t.modelValue.length>0?(E(),F("div",{key:0,class:I(t.nsSelectV2.e("selected-item"))},[q(i,{closable:!t.selectDisabled&&!((f=t.states.cachedOptions[0])!=null&&f.disable),size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:e[0]||(e[0]=p=>t.deleteTag(p,t.states.cachedOptions[0]))},{default:re(()=>{var p;return[L("span",{class:I(t.nsSelectV2.e("tags-text")),style:Ge({maxWidth:`${t.tagMaxWidth}px`})},Oe((p=t.states.cachedOptions[0])==null?void 0:p.label),7)]}),_:1},8,["closable","size"]),t.modelValue.length>1?(E(),he(i,{key:0,closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""},{default:re(()=>[t.collapseTagsTooltip?(E(),he(a,{key:0,disabled:t.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:!1},{default:re(()=>[L("span",{class:I(t.nsSelectV2.e("tags-text")),style:Ge({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Oe(t.modelValue.length-1),7)]),content:re(()=>[L("div",{class:I(t.nsSelectV2.e("selection"))},[(E(!0),F(Ye,null,Tt(t.states.cachedOptions.slice(1),(p,m)=>(E(),F("div",{key:m,class:I(t.nsSelectV2.e("selected-item"))},[(E(),he(i,{key:t.getValueKey(p),closable:!t.selectDisabled&&!p.disabled,size:t.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:g=>t.deleteTag(g,p)},{default:re(()=>[L("span",{class:I(t.nsSelectV2.e("tags-text")),style:Ge({maxWidth:`${t.tagMaxWidth}px`})},Oe(t.getLabel(p)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(E(),F("span",{key:1,class:I(t.nsSelectV2.e("tags-text")),style:Ge({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Oe(t.modelValue.length-1),7))]),_:1},8,["size"])):ce("v-if",!0)],2)):(E(!0),F(Ye,{key:1},Tt(t.states.cachedOptions,(p,m)=>(E(),F("div",{key:m,class:I(t.nsSelectV2.e("selected-item"))},[(E(),he(i,{key:t.getValueKey(p),closable:!t.selectDisabled&&!p.disabled,size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:g=>t.deleteTag(g,p)},{default:re(()=>[L("span",{class:I(t.nsSelectV2.e("tags-text")),style:Ge({maxWidth:`${t.tagMaxWidth}px`})},Oe(t.getLabel(p)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),L("div",{class:I([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")]),style:Ge(t.inputWrapperStyle)},[ot(L("input",{id:t.id,ref:"inputRef",autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-labelledby":t.label,class:I([t.nsSelectV2.is(t.selectSize),t.nsSelectV2.e("combobox-input")]),disabled:t.disabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,unselectable:t.expanded?"on":void 0,"onUpdate:modelValue":e[1]||(e[1]=(...p)=>t.onUpdateInputValue&&t.onUpdateInputValue(...p)),onFocus:e[2]||(e[2]=(...p)=>t.handleFocus&&t.handleFocus(...p)),onBlur:e[3]||(e[3]=(...p)=>t.handleBlur&&t.handleBlur(...p)),onInput:e[4]||(e[4]=(...p)=>t.onInput&&t.onInput(...p)),onCompositionstart:e[5]||(e[5]=(...p)=>t.handleCompositionStart&&t.handleCompositionStart(...p)),onCompositionupdate:e[6]||(e[6]=(...p)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...p)),onCompositionend:e[7]||(e[7]=(...p)=>t.handleCompositionEnd&&t.handleCompositionEnd(...p)),onKeydown:[e[8]||(e[8]=Ot(tt(p=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[9]||(e[9]=Ot(tt(p=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[10]||(e[10]=Ot(tt((...p)=>t.onKeyboardSelect&&t.onKeyboardSelect(...p),["stop","prevent"]),["enter"])),e[11]||(e[11]=Ot(tt((...p)=>t.handleEsc&&t.handleEsc(...p),["stop","prevent"]),["esc"])),e[12]||(e[12]=Ot(tt((...p)=>t.handleDel&&t.handleDel(...p),["stop"]),["delete"]))]},null,42,ipe),[[u,t.states.displayInputValue]]),t.filterable?(E(),F("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:I(t.nsSelectV2.e("input-calculator")),textContent:Oe(t.states.displayInputValue)},null,10,ape)):ce("v-if",!0)],6)],2)):(E(),F(Ye,{key:2},[L("div",{class:I([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")])},[ot(L("input",{id:t.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":t.label,"aria-expanded":t.expanded,autocapitalize:"off",autocomplete:t.autocomplete,class:I(t.nsSelectV2.e("combobox-input")),disabled:t.disabled,name:t.name,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",unselectable:t.expanded?"on":void 0,onCompositionstart:e[13]||(e[13]=(...p)=>t.handleCompositionStart&&t.handleCompositionStart(...p)),onCompositionupdate:e[14]||(e[14]=(...p)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...p)),onCompositionend:e[15]||(e[15]=(...p)=>t.handleCompositionEnd&&t.handleCompositionEnd(...p)),onFocus:e[16]||(e[16]=(...p)=>t.handleFocus&&t.handleFocus(...p)),onBlur:e[17]||(e[17]=(...p)=>t.handleBlur&&t.handleBlur(...p)),onInput:e[18]||(e[18]=(...p)=>t.onInput&&t.onInput(...p)),onKeydown:[e[19]||(e[19]=Ot(tt(p=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[20]||(e[20]=Ot(tt(p=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[21]||(e[21]=Ot(tt((...p)=>t.onKeyboardSelect&&t.onKeyboardSelect(...p),["stop","prevent"]),["enter"])),e[22]||(e[22]=Ot(tt((...p)=>t.handleEsc&&t.handleEsc(...p),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[23]||(e[23]=(...p)=>t.onUpdateInputValue&&t.onUpdateInputValue(...p))},null,42,lpe),[[u,t.states.displayInputValue]])],2),t.filterable?(E(),F("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:I([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-calculator")]),textContent:Oe(t.states.displayInputValue)},null,10,cpe)):ce("v-if",!0)],64)),t.shouldShowPlaceholder?(E(),F("span",{key:3,class:I([t.nsSelectV2.e("placeholder"),t.nsSelectV2.is("transparent",t.multiple?t.modelValue.length===0:!t.hasModelValue)])},Oe(t.currentPlaceholder),3)):ce("v-if",!0),L("span",{class:I(t.nsSelectV2.e("suffix"))},[t.iconComponent?ot((E(),he(l,{key:0,class:I([t.nsSelectV2.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:re(()=>[(E(),he(kt(t.iconComponent)))]),_:1},8,["class"])),[[Dt,!t.showClearBtn]]):ce("v-if",!0),t.showClearBtn&&t.clearIcon?(E(),he(l,{key:1,class:I([t.nsSelectV2.e("caret"),t.nsInput.e("icon")]),onClick:tt(t.handleClear,["prevent","stop"])},{default:re(()=>[(E(),he(kt(t.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0),t.validateState&&t.validateIcon?(E(),he(l,{key:2,class:I([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:re(()=>[(E(),he(kt(t.validateIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],2)]}),content:re(()=>[q(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},{default:re(f=>[Ce(t.$slots,"default",no(Kv(f)))]),empty:re(()=>[Ce(t.$slots,"empty",{},()=>[L("p",{class:I(t.nsSelectV2.e("empty"))},Oe(t.emptyText?t.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[d,t.handleClickOutside,t.popperRef]])}var Qm=Re(spe,[["render",upe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Qm.install=t=>{t.component(Qm.name,Qm)};const dpe=Qm,fpe=dpe,hpe=Pe({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),ppe=Pe({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),mpe=te({name:"ElSkeletonItem"}),gpe=te({...mpe,props:ppe,setup(t){const e=ke("skeleton");return(n,r)=>(E(),F("div",{class:I([h(e).e("item"),h(e).e(n.variant)])},[n.variant==="image"?(E(),he(h(WY),{key:0})):ce("v-if",!0)],2))}});var Hg=Re(gpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const vpe=te({name:"ElSkeleton"}),ype=te({...vpe,props:hpe,setup(t,{expose:e}){const n=t,r=ke("skeleton"),s=GJ(pn(n,"loading"),n.throttle);return e({uiLoading:s}),(o,i)=>h(s)?(E(),F("div",wt({key:0,class:[h(r).b(),h(r).is("animated",o.animated)]},o.$attrs),[(E(!0),F(Ye,null,Tt(o.count,a=>(E(),F(Ye,{key:a},[o.loading?Ce(o.$slots,"template",{key:a},()=>[q(Hg,{class:I(h(r).is("first")),variant:"p"},null,8,["class"]),(E(!0),F(Ye,null,Tt(o.rows,l=>(E(),he(Hg,{key:l,class:I([h(r).e("paragraph"),h(r).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):ce("v-if",!0)],64))),128))],16)):Ce(o.$slots,"default",no(wt({key:1},o.$attrs)))}});var bpe=Re(ype,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const wpe=mt(bpe,{SkeletonItem:Hg}),Cpe=vn(Hg),Spe=Pe({modelValue:{type:me([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ns,inputSize:ns,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:me(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:me(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:wc,default:"top"},marks:{type:me(Object)},validateEvent:{type:Boolean,default:!0}}),Xb=t=>it(t)||Be(t)&&t.every(it),kpe={[pt]:Xb,[Rr]:Xb,[an]:Xb},Epe=(t,e,n)=>{const r=D();return lt(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),on(window,"resize",n),await ze(),n()}),{sliderWrapper:r}},Tpe=t=>T(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),_pe=(t,e,n)=>{const{form:r,formItem:s}=zr(),o=en(),i=D(),a=D(),l={firstButton:i,secondButton:a},c=T(()=>t.disabled||(r==null?void 0:r.disabled)||!1),u=T(()=>Math.min(e.firstValue,e.secondValue)),d=T(()=>Math.max(e.firstValue,e.secondValue)),f=T(()=>t.range?`${100*(d.value-u.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),p=T(()=>t.range?`${100*(u.value-t.min)/(t.max-t.min)}%`:"0%"),m=T(()=>t.vertical?{height:t.height}:{}),g=T(()=>t.vertical?{height:f.value,bottom:p.value}:{width:f.value,left:p.value}),v=()=>{o.value&&(e.sliderSize=o.value[`client${t.vertical?"Height":"Width"}`])},y=H=>{const P=t.min+H*(t.max-t.min)/100;if(!t.range)return i;let B;return Math.abs(u.value-P)<Math.abs(d.value-P)?B=e.firstValue<e.secondValue?"firstButton":"secondButton":B=e.firstValue>e.secondValue?"firstButton":"secondButton",l[B]},C=H=>{const P=y(H);return P.value.setPosition(H),P},b=H=>{e.firstValue=H,S(t.range?[u.value,d.value]:H)},w=H=>{e.secondValue=H,t.range&&S([u.value,d.value])},S=H=>{n(pt,H),n(Rr,H)},k=async()=>{await ze(),n(an,t.range?[u.value,d.value]:t.modelValue)},A=H=>{var P,B,V,z,M,_;if(c.value||e.dragging)return;v();let O=0;if(t.vertical){const $=(V=(B=(P=H.touches)==null?void 0:P.item(0))==null?void 0:B.clientY)!=null?V:H.clientY;O=(o.value.getBoundingClientRect().bottom-$)/e.sliderSize*100}else{const $=(_=(M=(z=H.touches)==null?void 0:z.item(0))==null?void 0:M.clientX)!=null?_:H.clientX,K=o.value.getBoundingClientRect().left;O=($-K)/e.sliderSize*100}if(!(O<0||O>100))return C(O)};return{elFormItem:s,slider:o,firstButton:i,secondButton:a,sliderDisabled:c,minValue:u,maxValue:d,runwayStyle:m,barStyle:g,resetSize:v,setPosition:C,emitChange:k,onSliderWrapperPrevent:H=>{var P,B;(((P=l.firstButton.value)==null?void 0:P.dragging)||((B=l.secondButton.value)==null?void 0:B.dragging))&&H.preventDefault()},onSliderClick:H=>{A(H)&&k()},onSliderDown:async H=>{const P=A(H);P&&(await ze(),P.value.onButtonDown(H))},setFirstValue:b,setSecondValue:w}},{left:xpe,down:Ipe,right:Mpe,up:Ape,home:Ope,end:Npe,pageUp:$pe,pageDown:Rpe}=Xe,Dpe=(t,e,n)=>{const r=D(),s=D(!1),o=T(()=>e.value instanceof Function),i=T(()=>o.value&&e.value(t.modelValue)||t.modelValue),a=Pr(()=>{n.value&&(s.value=!0)},50),l=Pr(()=>{n.value&&(s.value=!1)},50);return{tooltip:r,tooltipVisible:s,formatValue:i,displayTooltip:a,hideTooltip:l}},Ppe=(t,e,n)=>{const{disabled:r,min:s,max:o,step:i,showTooltip:a,precision:l,sliderSize:c,formatTooltip:u,emitChange:d,resetSize:f,updateDragging:p}=Fe(gR),{tooltip:m,tooltipVisible:g,formatValue:v,displayTooltip:y,hideTooltip:C}=Dpe(t,u,a),b=D(),w=T(()=>`${(t.modelValue-s.value)/(o.value-s.value)*100}%`),S=T(()=>t.vertical?{bottom:w.value}:{left:w.value}),k=()=>{e.hovering=!0,y()},A=()=>{e.hovering=!1,e.dragging||C()},x=W=>{r.value||(W.preventDefault(),O(W),window.addEventListener("mousemove",$),window.addEventListener("touchmove",$),window.addEventListener("mouseup",K),window.addEventListener("touchend",K),window.addEventListener("contextmenu",K),b.value.focus())},N=W=>{r.value||(e.newPosition=Number.parseFloat(w.value)+W/(o.value-s.value)*100,J(e.newPosition),d())},R=()=>{N(-i.value)},H=()=>{N(i.value)},P=()=>{N(-i.value*4)},B=()=>{N(i.value*4)},V=()=>{r.value||(J(0),d())},z=()=>{r.value||(J(100),d())},M=W=>{let se=!0;[xpe,Ipe].includes(W.key)?R():[Mpe,Ape].includes(W.key)?H():W.key===Ope?V():W.key===Npe?z():W.key===Rpe?P():W.key===$pe?B():se=!1,se&&W.preventDefault()},_=W=>{let se,ve;return W.type.startsWith("touch")?(ve=W.touches[0].clientY,se=W.touches[0].clientX):(ve=W.clientY,se=W.clientX),{clientX:se,clientY:ve}},O=W=>{e.dragging=!0,e.isClick=!0;const{clientX:se,clientY:ve}=_(W);t.vertical?e.startY=ve:e.startX=se,e.startPosition=Number.parseFloat(w.value),e.newPosition=e.startPosition},$=W=>{if(e.dragging){e.isClick=!1,y(),f();let se;const{clientX:ve,clientY:Y}=_(W);t.vertical?(e.currentY=Y,se=(e.startY-e.currentY)/c.value*100):(e.currentX=ve,se=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+se,J(e.newPosition)}},K=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||C(),e.isClick||J(e.newPosition),d()},0),window.removeEventListener("mousemove",$),window.removeEventListener("touchmove",$),window.removeEventListener("mouseup",K),window.removeEventListener("touchend",K),window.removeEventListener("contextmenu",K))},J=async W=>{if(W===null||Number.isNaN(+W))return;W<0?W=0:W>100&&(W=100);const se=100/((o.value-s.value)/i.value);let Y=Math.round(W/se)*se*(o.value-s.value)*.01+s.value;Y=Number.parseFloat(Y.toFixed(l.value)),Y!==t.modelValue&&n(pt,Y),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await ze(),e.dragging&&y(),m.value.updatePopper()};return Ee(()=>e.dragging,W=>{p(W)}),{disabled:r,button:b,tooltip:m,tooltipVisible:g,showTooltip:a,wrapperStyle:S,formatValue:v,handleMouseEnter:k,handleMouseLeave:A,onButtonDown:x,onKeyDown:M,setPosition:J}},Lpe=(t,e,n,r)=>({stops:T(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const i=(t.max-t.min)/t.step,a=100*t.step/(t.max-t.min),l=Array.from({length:i-1}).map((c,u)=>(u+1)*a);return t.range?l.filter(c=>c<100*(n.value-t.min)/(t.max-t.min)||c>100*(r.value-t.min)/(t.max-t.min)):l.filter(c=>c>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:i=>t.vertical?{bottom:`${i}%`}:{left:`${i}%`}}),Bpe=(t,e,n,r,s,o)=>{const i=c=>{s(pt,c),s(Rr,c)},a=()=>t.range?![n.value,r.value].every((c,u)=>c===e.oldValue[u]):t.modelValue!==e.oldValue,l=()=>{var c,u;if(t.min>t.max){Rn("Slider","min should not be greater than max.");return}const d=t.modelValue;t.range&&Array.isArray(d)?d[1]<t.min?i([t.min,t.min]):d[0]>t.max?i([t.max,t.max]):d[0]<t.min?i([t.min,d[1]]):d[1]>t.max?i([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],a()&&(t.validateEvent&&((c=o==null?void 0:o.validate)==null||c.call(o,"change").catch(f=>void 0)),e.oldValue=d.slice())):!t.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<t.min?i(t.min):d>t.max?i(t.max):(e.firstValue=d,a()&&(t.validateEvent&&((u=o==null?void 0:o.validate)==null||u.call(o,"change").catch(f=>void 0)),e.oldValue=d)))};l(),Ee(()=>e.dragging,c=>{c||l()}),Ee(()=>t.modelValue,(c,u)=>{e.dragging||Array.isArray(c)&&Array.isArray(u)&&c.every((d,f)=>d===u[f])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),Ee(()=>[t.min,t.max],()=>{l()})},Fpe=Pe({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:wc,default:"top"}}),Vpe={[pt]:t=>it(t)},zpe=["tabindex"],Hpe=te({name:"ElSliderButton"}),Kpe=te({...Hpe,props:Fpe,emits:Vpe,setup(t,{expose:e,emit:n}){const r=t,s=ke("slider"),o=Lt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:i,button:a,tooltip:l,showTooltip:c,tooltipVisible:u,wrapperStyle:d,formatValue:f,handleMouseEnter:p,handleMouseLeave:m,onButtonDown:g,onKeyDown:v,setPosition:y}=Ppe(r,o,n),{hovering:C,dragging:b}=$n(o);return e({onButtonDown:g,onKeyDown:v,setPosition:y,hovering:C,dragging:b}),(w,S)=>(E(),F("div",{ref_key:"button",ref:a,class:I([h(s).e("button-wrapper"),{hover:h(C),dragging:h(b)}]),style:Ge(h(d)),tabindex:h(i)?-1:0,onMouseenter:S[0]||(S[0]=(...k)=>h(p)&&h(p)(...k)),onMouseleave:S[1]||(S[1]=(...k)=>h(m)&&h(m)(...k)),onMousedown:S[2]||(S[2]=(...k)=>h(g)&&h(g)(...k)),onTouchstart:S[3]||(S[3]=(...k)=>h(g)&&h(g)(...k)),onFocus:S[4]||(S[4]=(...k)=>h(p)&&h(p)(...k)),onBlur:S[5]||(S[5]=(...k)=>h(m)&&h(m)(...k)),onKeydown:S[6]||(S[6]=(...k)=>h(v)&&h(v)(...k))},[q(h(is),{ref_key:"tooltip",ref:l,visible:h(u),placement:w.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":w.tooltipClass,disabled:!h(c),persistent:""},{content:re(()=>[L("span",null,Oe(h(f)),1)]),default:re(()=>[L("div",{class:I([h(s).e("button"),{hover:h(C),dragging:h(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,zpe))}});var _I=Re(Kpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const Upe=Pe({mark:{type:me([String,Object]),default:void 0}});var jpe=te({name:"ElSliderMarker",props:Upe,setup(t){const e=ke("slider"),n=T(()=>rt(t.mark)?t.mark:t.mark.label),r=T(()=>rt(t.mark)?void 0:t.mark.style);return()=>He("div",{class:e.e("marks-text"),style:r.value},n.value)}});const Wpe=["id","role","aria-label","aria-labelledby"],qpe={key:1},Gpe=te({name:"ElSlider"}),Ype=te({...Gpe,props:Spe,emits:kpe,setup(t,{expose:e,emit:n}){const r=t,s=ke("slider"),{t:o}=Ft(),i=Lt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:a,slider:l,firstButton:c,secondButton:u,sliderDisabled:d,minValue:f,maxValue:p,runwayStyle:m,barStyle:g,resetSize:v,emitChange:y,onSliderWrapperPrevent:C,onSliderClick:b,onSliderDown:w,setFirstValue:S,setSecondValue:k}=_pe(r,i,n),{stops:A,getStopStyle:x}=Lpe(r,i,f,p),{inputId:N,isLabeledByFormItem:R}=La(r,{formItemContext:a}),H=In(),P=T(()=>r.inputSize||H.value),B=T(()=>r.label||o("el.slider.defaultLabel",{min:r.min,max:r.max})),V=T(()=>r.range?r.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):B.value),z=T(()=>r.formatValueText?r.formatValueText(W.value):`${W.value}`),M=T(()=>r.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),_=T(()=>r.formatValueText?r.formatValueText(se.value):`${se.value}`),O=T(()=>[s.b(),s.m(H.value),s.is("vertical",r.vertical),{[s.m("with-input")]:r.showInput}]),$=Tpe(r);Bpe(r,i,f,p,n,a);const K=T(()=>{const fe=[r.min,r.max,r.step].map(X=>{const G=`${X}`.split(".")[1];return G?G.length:0});return Math.max.apply(null,fe)}),{sliderWrapper:J}=Epe(r,i,v),{firstValue:W,secondValue:se,sliderSize:ve}=$n(i),Y=fe=>{i.dragging=fe};return yt(gR,{...$n(r),sliderSize:ve,disabled:d,precision:K,emitChange:y,resetSize:v,updateDragging:Y}),e({onSliderClick:b}),(fe,X)=>{var G,ue;return E(),F("div",{id:fe.range?h(N):void 0,ref_key:"sliderWrapper",ref:J,class:I(h(O)),role:fe.range?"group":void 0,"aria-label":fe.range&&!h(R)?h(B):void 0,"aria-labelledby":fe.range&&h(R)?(G=h(a))==null?void 0:G.labelId:void 0,onTouchstart:X[2]||(X[2]=(...ye)=>h(C)&&h(C)(...ye)),onTouchmove:X[3]||(X[3]=(...ye)=>h(C)&&h(C)(...ye))},[L("div",{ref_key:"slider",ref:l,class:I([h(s).e("runway"),{"show-input":fe.showInput&&!fe.range},h(s).is("disabled",h(d))]),style:Ge(h(m)),onMousedown:X[0]||(X[0]=(...ye)=>h(w)&&h(w)(...ye)),onTouchstart:X[1]||(X[1]=(...ye)=>h(w)&&h(w)(...ye))},[L("div",{class:I(h(s).e("bar")),style:Ge(h(g))},null,6),q(_I,{id:fe.range?void 0:h(N),ref_key:"firstButton",ref:c,"model-value":h(W),vertical:fe.vertical,"tooltip-class":fe.tooltipClass,placement:fe.placement,role:"slider","aria-label":fe.range||!h(R)?h(V):void 0,"aria-labelledby":!fe.range&&h(R)?(ue=h(a))==null?void 0:ue.labelId:void 0,"aria-valuemin":fe.min,"aria-valuemax":fe.range?h(se):fe.max,"aria-valuenow":h(W),"aria-valuetext":h(z),"aria-orientation":fe.vertical?"vertical":"horizontal","aria-disabled":h(d),"onUpdate:modelValue":h(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),fe.range?(E(),he(_I,{key:0,ref_key:"secondButton",ref:u,"model-value":h(se),vertical:fe.vertical,"tooltip-class":fe.tooltipClass,placement:fe.placement,role:"slider","aria-label":h(M),"aria-valuemin":h(W),"aria-valuemax":fe.max,"aria-valuenow":h(se),"aria-valuetext":h(_),"aria-orientation":fe.vertical?"vertical":"horizontal","aria-disabled":h(d),"onUpdate:modelValue":h(k)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ce("v-if",!0),fe.showStops?(E(),F("div",qpe,[(E(!0),F(Ye,null,Tt(h(A),(ye,Ae)=>(E(),F("div",{key:Ae,class:I(h(s).e("stop")),style:Ge(h(x)(ye))},null,6))),128))])):ce("v-if",!0),h($).length>0?(E(),F(Ye,{key:2},[L("div",null,[(E(!0),F(Ye,null,Tt(h($),(ye,Ae)=>(E(),F("div",{key:Ae,style:Ge(h(x)(ye.position)),class:I([h(s).e("stop"),h(s).e("marks-stop")])},null,6))),128))]),L("div",{class:I(h(s).e("marks"))},[(E(!0),F(Ye,null,Tt(h($),(ye,Ae)=>(E(),he(h(jpe),{key:Ae,mark:ye.mark,style:Ge(h(x)(ye.position))},null,8,["mark","style"]))),128))],2)],64)):ce("v-if",!0)],38),fe.showInput&&!fe.range?(E(),he(h(xP),{key:0,ref:"input","model-value":h(W),class:I(h(s).e("input")),step:fe.step,disabled:h(d),controls:fe.showInputControls,min:fe.min,max:fe.max,debounce:fe.debounce,size:h(P),"onUpdate:modelValue":h(S),onChange:h(y)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):ce("v-if",!0)],42,Wpe)}}});var Xpe=Re(Ype,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const Jpe=mt(Xpe),Qpe=Pe({prefixCls:{type:String}}),xI=te({name:"ElSpaceItem",props:Qpe,setup(t,{slots:e}){const n=ke("space"),r=T(()=>`${t.prefixCls||n.b()}__item`);return()=>He("div",{class:r.value},Ce(e,"default"))}}),II={small:8,default:12,large:16};function Zpe(t){const e=ke("space"),n=T(()=>[e.b(),e.m(t.direction),t.class]),r=D(0),s=D(0),o=T(()=>{const a=t.wrap||t.fill?{flexWrap:"wrap",marginBottom:`-${s.value}px`}:{},l={alignItems:t.alignment};return[a,l,t.style]}),i=T(()=>{const a={paddingBottom:`${s.value}px`,marginRight:`${r.value}px`},l=t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{};return[a,l]});return Gr(()=>{const{size:a="small",wrap:l,direction:c,fill:u}=t;if(Be(a)){const[d=0,f=0]=a;r.value=d,s.value=f}else{let d;it(a)?d=a:d=II[a||"small"]||II.small,(l||u)&&c==="horizontal"?r.value=s.value=d:c==="horizontal"?(r.value=d,s.value=0):(s.value=d,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:i}}const eme=Pe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:me([String,Object,Array]),default:""},style:{type:me([String,Array,Object]),default:""},alignment:{type:me(String),default:"center"},prefixCls:{type:String},spacer:{type:me([Object,String,Number,Array]),default:null,validator:t=>fn(t)||it(t)||rt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:xi,validator:t=>it(t)||Be(t)&&t.length===2&&t.every(it)}}),tme=te({name:"ElSpace",props:eme,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:s}=Zpe(t);function o(i,a="",l=[]){const{prefixCls:c}=t;return i.forEach((u,d)=>{kw(u)?Be(u.children)&&u.children.forEach((f,p)=>{kw(f)&&Be(f.children)?o(f.children,`${a+p}-`,l):l.push(q(xI,{style:s.value,prefixCls:c,key:`nested-${a+p}`},{default:()=>[f]},Ms.PROPS|Ms.STYLE,["style","prefixCls"]))}):AJ(u)&&l.push(q(xI,{style:s.value,prefixCls:c,key:`LoopKey${a+d}`},{default:()=>[u]},Ms.PROPS|Ms.STYLE,["style","prefixCls"]))}),l}return()=>{var i;const{spacer:a,direction:l}=t,c=Ce(e,"default",{key:0},()=>[]);if(((i=c.children)!=null?i:[]).length===0)return null;if(Be(c.children)){let u=o(c.children);if(a){const d=u.length-1;u=u.reduce((f,p,m)=>{const g=[...f,p];return m!==d&&g.push(q("span",{style:[s.value,l==="vertical"?"width: 100%":null],key:m},[fn(a)?a:dt(a,Ms.TEXT)],Ms.STYLE)),g},[])}return q("div",{class:n.value,style:r.value},u,Ms.STYLE|Ms.CLASS)}return c.children}}}),nme=mt(tme),rme=Pe({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),sme={[an]:(t,e)=>[t,e].every(it)},ome=te({name:"ElSteps"}),ime=te({...ome,props:rme,emits:sme,setup(t,{emit:e}){const n=t,r=ke("steps"),s=D([]);return Ee(s,()=>{s.value.forEach((o,i)=>{o.setIndex(i)})}),yt("ElSteps",{props:n,steps:s}),Ee(()=>n.active,(o,i)=>{e(an,o,i)}),(o,i)=>(E(),F("div",{class:I([h(r).b(),h(r).m(o.simple?"simple":o.direction)])},[Ce(o.$slots,"default")],2))}});var ame=Re(ime,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const lme=Pe({title:{type:String,default:""},icon:{type:tn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),cme=te({name:"ElStep"}),ume=te({...cme,props:lme,setup(t){const e=t,n=ke("step"),r=D(-1),s=D({}),o=D(""),i=Fe("ElSteps"),a=ht();lt(()=>{Ee([()=>i.props.active,()=>i.props.processStatus,()=>i.props.finishStatus],([S])=>{b(S)},{immediate:!0})}),ln(()=>{i.steps.value=i.steps.value.filter(S=>S.uid!==(a==null?void 0:a.uid))});const l=T(()=>e.status||o.value),c=T(()=>{const S=i.steps.value[r.value-1];return S?S.currentStatus:"wait"}),u=T(()=>i.props.alignCenter),d=T(()=>i.props.direction==="vertical"),f=T(()=>i.props.simple),p=T(()=>i.steps.value.length),m=T(()=>{var S;return((S=i.steps.value[p.value-1])==null?void 0:S.uid)===(a==null?void 0:a.uid)}),g=T(()=>f.value?"":i.props.space),v=T(()=>{const S={flexBasis:typeof g.value=="number"?`${g.value}px`:g.value?g.value:`${100/(p.value-(u.value?0:1))}%`};return d.value||m.value&&(S.maxWidth=`${100/p.value}%`),S}),y=S=>{r.value=S},C=S=>{let k=100;const A={};A.transitionDelay=`${150*r.value}ms`,S===i.props.processStatus?k=0:S==="wait"&&(k=0,A.transitionDelay=`${-150*r.value}ms`),A.borderWidth=k&&!f.value?"1px":0,A[i.props.direction==="vertical"?"height":"width"]=`${k}%`,s.value=A},b=S=>{S>r.value?o.value=i.props.finishStatus:S===r.value&&c.value!=="error"?o.value=i.props.processStatus:o.value="wait";const k=i.steps.value[r.value-1];k&&k.calcProgress(o.value)},w=Lt({uid:T(()=>a==null?void 0:a.uid),currentStatus:l,setIndex:y,calcProgress:C});return i.steps.value=[...i.steps.value,w],(S,k)=>(E(),F("div",{style:Ge(h(v)),class:I([h(n).b(),h(n).is(h(f)?"simple":h(i).props.direction),h(n).is("flex",h(m)&&!h(g)&&!h(u)),h(n).is("center",h(u)&&!h(d)&&!h(f))])},[ce(" icon & line "),L("div",{class:I([h(n).e("head"),h(n).is(h(l))])},[h(f)?ce("v-if",!0):(E(),F("div",{key:0,class:I(h(n).e("line"))},[L("i",{class:I(h(n).e("line-inner")),style:Ge(s.value)},null,6)],2)),L("div",{class:I([h(n).e("icon"),h(n).is(S.icon||S.$slots.icon?"icon":"text")])},[Ce(S.$slots,"icon",{},()=>[S.icon?(E(),he(h(Ue),{key:0,class:I(h(n).e("icon-inner"))},{default:re(()=>[(E(),he(kt(S.icon)))]),_:1},8,["class"])):h(l)==="success"?(E(),he(h(Ue),{key:1,class:I([h(n).e("icon-inner"),h(n).is("status")])},{default:re(()=>[q(h(ip))]),_:1},8,["class"])):h(l)==="error"?(E(),he(h(Ue),{key:2,class:I([h(n).e("icon-inner"),h(n).is("status")])},{default:re(()=>[q(h(fo))]),_:1},8,["class"])):h(f)?ce("v-if",!0):(E(),F("div",{key:3,class:I(h(n).e("icon-inner"))},Oe(r.value+1),3))])],2)],2),ce(" title & description "),L("div",{class:I(h(n).e("main"))},[L("div",{class:I([h(n).e("title"),h(n).is(h(l))])},[Ce(S.$slots,"title",{},()=>[dt(Oe(S.title),1)])],2),h(f)?(E(),F("div",{key:0,class:I(h(n).e("arrow"))},null,2)):(E(),F("div",{key:1,class:I([h(n).e("description"),h(n).is(h(l))])},[Ce(S.$slots,"description",{},()=>[dt(Oe(S.description),1)])],2))],2)],6))}});var ZP=Re(ume,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const dme=mt(ame,{Step:ZP}),fme=vn(ZP),hme=Pe({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:tn},inactiveIcon:{type:tn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:me(Function)},size:{type:String,validator:gd},tabindex:{type:[String,Number]}}),pme={[pt]:t=>Nn(t)||rt(t)||it(t),[an]:t=>Nn(t)||rt(t)||it(t),[Rr]:t=>Nn(t)||rt(t)||it(t)},mme=["onClick"],gme=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],vme=["aria-hidden"],yme=["aria-hidden"],bme=["aria-hidden"],r1="ElSwitch",wme=te({name:r1}),Cme=te({...wme,props:hme,emits:pme,setup(t,{expose:e,emit:n}){const r=t,s=ht(),{formItem:o}=zr(),i=In(),a=ke("switch");vi({from:'"value"',replacement:'"model-value" or "v-model"',scope:r1,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},T(()=>{var S;return!!((S=s.vnode.props)!=null&&S.value)}));const{inputId:l}=La(r,{formItemContext:o}),c=ss(T(()=>r.loading)),u=D(r.modelValue!==!1),d=D(),f=D(),p=T(()=>[a.b(),a.m(i.value),a.is("disabled",c.value),a.is("checked",v.value)]),m=T(()=>({width:xn(r.width)}));Ee(()=>r.modelValue,()=>{u.value=!0}),Ee(()=>r.value,()=>{u.value=!1});const g=T(()=>u.value?r.modelValue:r.value),v=T(()=>g.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(g.value)||(n(pt,r.inactiveValue),n(an,r.inactiveValue),n(Rr,r.inactiveValue)),Ee(v,S=>{var k;d.value.checked=S,r.validateEvent&&((k=o==null?void 0:o.validate)==null||k.call(o,"change").catch(A=>void 0))});const y=()=>{const S=v.value?r.inactiveValue:r.activeValue;n(pt,S),n(an,S),n(Rr,S),ze(()=>{d.value.checked=v.value})},C=()=>{if(c.value)return;const{beforeChange:S}=r;if(!S){y();return}const k=S();[Hf(k),Nn(k)].includes(!0)||Rn(r1,"beforeChange must return type `Promise<boolean>` or `boolean`"),Hf(k)?k.then(x=>{x&&y()}).catch(x=>{}):k&&y()},b=T(()=>a.cssVarBlock({...r.activeColor?{"on-color":r.activeColor}:null,...r.inactiveColor?{"off-color":r.inactiveColor}:null,...r.borderColor?{"border-color":r.borderColor}:null})),w=()=>{var S,k;(k=(S=d.value)==null?void 0:S.focus)==null||k.call(S)};return lt(()=>{d.value.checked=v.value}),e({focus:w,checked:v}),(S,k)=>(E(),F("div",{class:I(h(p)),style:Ge(h(b)),onClick:tt(C,["prevent"])},[L("input",{id:h(l),ref_key:"input",ref:d,class:I(h(a).e("input")),type:"checkbox",role:"switch","aria-checked":h(v),"aria-disabled":h(c),name:S.name,"true-value":S.activeValue,"false-value":S.inactiveValue,disabled:h(c),tabindex:S.tabindex,onChange:y,onKeydown:Ot(C,["enter"])},null,42,gme),!S.inlinePrompt&&(S.inactiveIcon||S.inactiveText)?(E(),F("span",{key:0,class:I([h(a).e("label"),h(a).em("label","left"),h(a).is("active",!h(v))])},[S.inactiveIcon?(E(),he(h(Ue),{key:0},{default:re(()=>[(E(),he(kt(S.inactiveIcon)))]),_:1})):ce("v-if",!0),!S.inactiveIcon&&S.inactiveText?(E(),F("span",{key:1,"aria-hidden":h(v)},Oe(S.inactiveText),9,vme)):ce("v-if",!0)],2)):ce("v-if",!0),L("span",{ref_key:"core",ref:f,class:I(h(a).e("core")),style:Ge(h(m))},[S.inlinePrompt?(E(),F("div",{key:0,class:I(h(a).e("inner"))},[S.activeIcon||S.inactiveIcon?(E(),he(h(Ue),{key:0,class:I(h(a).is("icon"))},{default:re(()=>[(E(),he(kt(h(v)?S.activeIcon:S.inactiveIcon)))]),_:1},8,["class"])):S.activeText||S.inactiveText?(E(),F("span",{key:1,class:I(h(a).is("text")),"aria-hidden":!h(v)},Oe(h(v)?S.activeText:S.inactiveText),11,yme)):ce("v-if",!0)],2)):ce("v-if",!0),L("div",{class:I(h(a).e("action"))},[S.loading?(E(),he(h(Ue),{key:0,class:I(h(a).is("loading"))},{default:re(()=>[q(h(Pa))]),_:1},8,["class"])):ce("v-if",!0)],2)],6),!S.inlinePrompt&&(S.activeIcon||S.activeText)?(E(),F("span",{key:1,class:I([h(a).e("label"),h(a).em("label","right"),h(a).is("active",h(v))])},[S.activeIcon?(E(),he(h(Ue),{key:0},{default:re(()=>[(E(),he(kt(S.activeIcon)))]),_:1})):ce("v-if",!0),!S.activeIcon&&S.activeText?(E(),F("span",{key:1,"aria-hidden":!h(v)},Oe(S.activeText),9,bme)):ce("v-if",!0)],2)):ce("v-if",!0)],14,mme))}});var Sme=Re(Cme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const kme=mt(Sme);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Eme=/["'&<>]/,Tme=_me;function _me(t){var e=""+t,n=Eme.exec(e);if(!n)return e;var r,s="",o=0,i=0;for(o=n.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==o&&(s+=e.substring(i,o)),i=o+1,s+=r}return i!==o?s+e.substring(i,o):s}const Jb=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},MI=function(t){return t!==null&&typeof t=="object"},xme=function(t,e,n,r,s){if(!e&&!r&&(!s||Array.isArray(s)&&!s.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(a,l){return s?(Array.isArray(s)||(s=[s]),s.map(c=>typeof c=="string"?cn(a,c):c(a,l,t))):(e!=="$key"&&MI(a)&&"$value"in a&&(a=a.$value),[MI(a)?cn(a,e):a])},i=function(a,l){if(r)return r(a.value,l.value);for(let c=0,u=a.key.length;c<u;c++){if(a.key[c]<l.key[c])return-1;if(a.key[c]>l.key[c])return 1}return 0};return t.map((a,l)=>({value:a,index:l,key:o?o(a,l):null})).sort((a,l)=>{let c=i(a,l);return c||(c=a.index-l.index),c*+n}).map(a=>a.value)},eL=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},Ime=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const s=t.columns[r];if(s.columnKey===e){n=s;break}}return n||Rn("ElTable",`No column matching with column-key: ${e}`),n},AI=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?eL(t,r[0]):null},or=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const s of n)r=r[s];return`${r}`}else if(typeof e=="function")return e.call(null,t)},Sl=function(t,e){const n={};return(t||[]).forEach((r,s)=>{n[or(r,e)]={row:r,index:s}}),n};function Mme(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(Et(e,r)){const s=e[r];typeof s<"u"&&(n[r]=s)}return n}function lk(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function tL(t){return t===""||t!==void 0&&(t=lk(t),Number.isNaN(t)&&(t=80)),t}function Ame(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function Ome(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Sf(t,e,n){let r=!1;const s=t.indexOf(e),o=s!==-1,i=a=>{a==="add"?t.push(e):t.splice(s,1),r=!0,Be(e.children)&&e.children.forEach(l=>{Sf(t,l,n!=null?n:!o)})};return Nn(n)?n&&!o?i("add"):!n&&o&&i("remove"):i(o?"remove":"add"),r}function Nme(t,e,n="children",r="hasChildren"){const s=i=>!(Array.isArray(i)&&i.length);function o(i,a,l){e(i,a,l),a.forEach(c=>{if(c[r]){e(c,null,l+1);return}const u=c[n];s(u)||o(c,u,l+1)})}t.forEach(i=>{if(i[r]){e(i,null,0);return}const a=i[n];s(a)||o(i,a,0)})}let Qo;function $me(t,e,n,r,s){const{nextZIndex:o}=Mi(),i=t==null?void 0:t.dataset.prefix,a=t==null?void 0:t.querySelector(`.${i}-scrollbar__wrap`);function l(){const m=s==="light",g=document.createElement("div");return g.className=`${i}-popper ${m?"is-light":"is-dark"}`,n=Tme(n),g.innerHTML=n,g.style.zIndex=String(o()),t==null||t.appendChild(g),g}function c(){const m=document.createElement("div");return m.className=`${i}-popper__arrow`,m}function u(){d&&d.update()}Qo==null||Qo(),Qo=()=>{try{d&&d.destroy(),f&&(t==null||t.removeChild(f)),e.removeEventListener("mouseenter",u),e.removeEventListener("mouseleave",Qo),a==null||a.removeEventListener("scroll",Qo),Qo=void 0}catch{}};let d=null;const f=l(),p=c();return f.appendChild(p),d=ZR(e,f,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:p,padding:10}}],...r}),e.addEventListener("mouseenter",u),e.addEventListener("mouseleave",Qo),a==null||a.addEventListener("scroll",Qo),d}function nL(t){return t.children?t9(t.children,nL):[t]}function OI(t,e){return t+e.colSpan}const rL=(t,e,n,r)=>{let s=0,o=t;const i=n.states.columns.value;if(r){const l=nL(r[t]);s=i.slice(0,i.indexOf(l[0])).reduce(OI,0),o=s+l.reduce(OI,0)-1}else s=t;let a;switch(e){case"left":o<n.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:o<n.states.fixedLeafColumnsLength.value?a="left":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:s,after:o}:{}},ck=(t,e,n,r,s,o=0)=>{const i=[],{direction:a,start:l,after:c}=rL(e,n,r,s);if(a){const u=a==="left";i.push(`${t}-fixed-column--${a}`),u&&c+o===r.states.fixedLeafColumnsLength.value-1?i.push("is-last-column"):!u&&l-o===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&i.push("is-first-column")}return i};function NI(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const uk=(t,e,n,r)=>{const{direction:s,start:o=0,after:i=0}=rL(t,e,n,r);if(!s)return;const a={},l=s==="left",c=n.states.columns.value;return l?a.left=c.slice(0,o).reduce(NI,0):a.right=c.slice(i+1).reverse().reduce(NI,0),a},Hu=(t,e)=>{!t||Number.isNaN(t[e])||(t[e]=`${t[e]}px`)};function Rme(t){const e=ht(),n=D(!1),r=D([]);return{updateExpandRows:()=>{const l=t.data.value||[],c=t.rowKey.value;if(n.value)r.value=l.slice();else if(c){const u=Sl(r.value,c);r.value=l.reduce((d,f)=>{const p=or(f,c);return u[p]&&d.push(f),d},[])}else r.value=[]},toggleRowExpansion:(l,c)=>{Sf(r.value,l,c)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=t.data.value||[],u=t.rowKey.value,d=Sl(c,u);r.value=l.reduce((f,p)=>{const m=d[p];return m&&f.push(m.row),f},[])},isRowExpanded:l=>{const c=t.rowKey.value;return c?!!Sl(r.value,c)[or(l,c)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function Dme(t){const e=ht(),n=D(null),r=D(null),s=c=>{e.store.assertRowKey(),n.value=c,i(c)},o=()=>{n.value=null},i=c=>{const{data:u,rowKey:d}=t;let f=null;d.value&&(f=(h(u)||[]).find(p=>or(p,d.value)===c)),r.value=f,e.emit("current-change",r.value,null)};return{setCurrentRowKey:s,restoreCurrentRowKey:o,setCurrentRowByKey:i,updateCurrentRow:c=>{const u=r.value;if(c&&c!==u){r.value=c,e.emit("current-change",r.value,u);return}!c&&u&&(r.value=null,e.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=t.rowKey.value,u=t.data.value||[],d=r.value;if(!u.includes(d)&&d){if(c){const f=or(d,c);i(f)}else r.value=null;r.value===null&&e.emit("current-change",null,d)}else n.value&&(i(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function Pme(t){const e=D([]),n=D({}),r=D(16),s=D(!1),o=D({}),i=D("hasChildren"),a=D("children"),l=ht(),c=T(()=>{if(!t.rowKey.value)return{};const y=t.data.value||[];return d(y)}),u=T(()=>{const y=t.rowKey.value,C=Object.keys(o.value),b={};return C.length&&C.forEach(w=>{if(o.value[w].length){const S={children:[]};o.value[w].forEach(k=>{const A=or(k,y);S.children.push(A),k[i.value]&&!b[A]&&(b[A]={children:[]})}),b[w]=S}}),b}),d=y=>{const C=t.rowKey.value,b={};return Nme(y,(w,S,k)=>{const A=or(w,C);Array.isArray(S)?b[A]={children:S.map(x=>or(x,C)),level:k}:s.value&&(b[A]={children:[],lazy:!0,level:k})},a.value,i.value),b},f=(y=!1,C=(b=>(b=l.store)==null?void 0:b.states.defaultExpandAll.value)())=>{var b;const w=c.value,S=u.value,k=Object.keys(w),A={};if(k.length){const x=h(n),N=[],R=(P,B)=>{if(y)return e.value?C||e.value.includes(B):!!(C||(P==null?void 0:P.expanded));{const V=C||e.value&&e.value.includes(B);return!!((P==null?void 0:P.expanded)||V)}};k.forEach(P=>{const B=x[P],V={...w[P]};if(V.expanded=R(B,P),V.lazy){const{loaded:z=!1,loading:M=!1}=B||{};V.loaded=!!z,V.loading=!!M,N.push(P)}A[P]=V});const H=Object.keys(S);s.value&&H.length&&N.length&&H.forEach(P=>{const B=x[P],V=S[P].children;if(N.includes(P)){if(A[P].children.length!==0)throw new Error("[ElTable]children must be an empty array.");A[P].children=V}else{const{loaded:z=!1,loading:M=!1}=B||{};A[P]={lazy:!0,loaded:!!z,loading:!!M,expanded:R(B,P),children:V,level:""}}})}n.value=A,(b=l.store)==null||b.updateTableScrollY()};Ee(()=>e.value,()=>{f(!0)}),Ee(()=>c.value,()=>{f()}),Ee(()=>u.value,()=>{f()});const p=y=>{e.value=y,f()},m=(y,C)=>{l.store.assertRowKey();const b=t.rowKey.value,w=or(y,b),S=w&&n.value[w];if(w&&S&&"expanded"in S){const k=S.expanded;C=typeof C>"u"?!S.expanded:C,n.value[w].expanded=C,k!==C&&l.emit("expand-change",y,C),l.store.updateTableScrollY()}},g=y=>{l.store.assertRowKey();const C=t.rowKey.value,b=or(y,C),w=n.value[b];s.value&&w&&"loaded"in w&&!w.loaded?v(y,b,w):m(y,void 0)},v=(y,C,b)=>{const{load:w}=l.props;w&&!n.value[C].loaded&&(n.value[C].loading=!0,w(y,b,S=>{if(!Array.isArray(S))throw new TypeError("[ElTable] data must be an array");n.value[C].loading=!1,n.value[C].loaded=!0,n.value[C].expanded=!0,S.length&&(o.value[C]=S),l.emit("expand-change",y,!0)}))};return{loadData:v,loadOrToggle:g,toggleTreeExpansion:m,updateTreeExpandKeys:p,updateTreeData:f,normalize:d,states:{expandRowKeys:e,treeData:n,indent:r,lazy:s,lazyTreeNodeMap:o,lazyColumnIdentifier:i,childrenColumnName:a}}}const Lme=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:xme(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},Zm=t=>{const e=[];return t.forEach(n=>{n.children?e.push.apply(e,Zm(n.children)):e.push(n)}),e};function Bme(){var t;const e=ht(),{size:n}=$n((t=e.proxy)==null?void 0:t.$props),r=D(null),s=D([]),o=D([]),i=D(!1),a=D([]),l=D([]),c=D([]),u=D([]),d=D([]),f=D([]),p=D([]),m=D([]),g=D(0),v=D(0),y=D(0),C=D(!1),b=D([]),w=D(!1),S=D(!1),k=D(null),A=D({}),x=D(null),N=D(null),R=D(null),H=D(null),P=D(null);Ee(s,()=>e.state&&M(!1),{deep:!0});const B=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},V=ie=>{var Ie;(Ie=ie.children)==null||Ie.forEach(je=>{je.fixed=ie.fixed,V(je)})},z=()=>{a.value.forEach(oe=>{V(oe)}),u.value=a.value.filter(oe=>oe.fixed===!0||oe.fixed==="left"),d.value=a.value.filter(oe=>oe.fixed==="right"),u.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,u.value.unshift(a.value[0]));const ie=a.value.filter(oe=>!oe.fixed);l.value=[].concat(u.value).concat(ie).concat(d.value);const Ie=Zm(ie),je=Zm(u.value),U=Zm(d.value);g.value=Ie.length,v.value=je.length,y.value=U.length,c.value=[].concat(je).concat(Ie).concat(U),i.value=u.value.length>0||d.value.length>0},M=(ie,Ie=!1)=>{ie&&z(),Ie?e.state.doLayout():e.state.debouncedUpdateLayout()},_=ie=>b.value.includes(ie),O=()=>{C.value=!1,b.value.length&&(b.value=[],e.emit("selection-change",[]))},$=()=>{let ie;if(r.value){ie=[];const Ie=Sl(b.value,r.value),je=Sl(s.value,r.value);for(const U in Ie)Et(Ie,U)&&!je[U]&&ie.push(Ie[U].row)}else ie=b.value.filter(Ie=>!s.value.includes(Ie));if(ie.length){const Ie=b.value.filter(je=>!ie.includes(je));b.value=Ie,e.emit("selection-change",Ie.slice())}},K=()=>(b.value||[]).slice(),J=(ie,Ie=void 0,je=!0)=>{if(Sf(b.value,ie,Ie)){const oe=(b.value||[]).slice();je&&e.emit("select",oe,ie),e.emit("selection-change",oe)}},W=()=>{var ie,Ie;const je=S.value?!C.value:!(C.value||b.value.length);C.value=je;let U=!1,oe=0;const Z=(Ie=(ie=e==null?void 0:e.store)==null?void 0:ie.states)==null?void 0:Ie.rowKey.value;s.value.forEach((be,Ke)=>{const at=Ke+oe;k.value?k.value.call(null,be,at)&&Sf(b.value,be,je)&&(U=!0):Sf(b.value,be,je)&&(U=!0),oe+=Y(or(be,Z))}),U&&e.emit("selection-change",b.value?b.value.slice():[]),e.emit("select-all",b.value)},se=()=>{const ie=Sl(b.value,r.value);s.value.forEach(Ie=>{const je=or(Ie,r.value),U=ie[je];U&&(b.value[U.index]=Ie)})},ve=()=>{var ie,Ie,je;if(((ie=s.value)==null?void 0:ie.length)===0){C.value=!1;return}let U;r.value&&(U=Sl(b.value,r.value));const oe=function(at){return U?!!U[or(at,r.value)]:b.value.includes(at)};let Z=!0,be=0,Ke=0;for(let at=0,St=(s.value||[]).length;at<St;at++){const Yt=(je=(Ie=e==null?void 0:e.store)==null?void 0:Ie.states)==null?void 0:je.rowKey.value,At=at+Ke,_t=s.value[at],xe=k.value&&k.value.call(null,_t,At);if(oe(_t))be++;else if(!k.value||xe){Z=!1;break}Ke+=Y(or(_t,Yt))}be===0&&(Z=!1),C.value=Z},Y=ie=>{var Ie;if(!e||!e.store)return 0;const{treeData:je}=e.store.states;let U=0;const oe=(Ie=je.value[ie])==null?void 0:Ie.children;return oe&&(U+=oe.length,oe.forEach(Z=>{U+=Y(Z)})),U},fe=(ie,Ie)=>{Array.isArray(ie)||(ie=[ie]);const je={};return ie.forEach(U=>{A.value[U.id]=Ie,je[U.columnKey||U.id]=Ie}),je},X=(ie,Ie,je)=>{N.value&&N.value!==ie&&(N.value.order=null),N.value=ie,R.value=Ie,H.value=je},G=()=>{let ie=h(o);Object.keys(A.value).forEach(Ie=>{const je=A.value[Ie];if(!je||je.length===0)return;const U=eL({columns:c.value},Ie);U&&U.filterMethod&&(ie=ie.filter(oe=>je.some(Z=>U.filterMethod.call(null,Z,oe,U))))}),x.value=ie},ue=()=>{s.value=Lme(x.value,{sortingColumn:N.value,sortProp:R.value,sortOrder:H.value})},ye=(ie=void 0)=>{ie&&ie.filter||G(),ue()},Ae=ie=>{const{tableHeaderRef:Ie}=e.refs;if(!Ie)return;const je=Object.assign({},Ie.filterPanels),U=Object.keys(je);if(!!U.length)if(typeof ie=="string"&&(ie=[ie]),Array.isArray(ie)){const oe=ie.map(Z=>Ime({columns:c.value},Z));U.forEach(Z=>{const be=oe.find(Ke=>Ke.id===Z);be&&(be.filteredValue=[])}),e.store.commit("filterChange",{column:oe,values:[],silent:!0,multi:!0})}else U.forEach(oe=>{const Z=c.value.find(be=>be.id===oe);Z&&(Z.filteredValue=[])}),A.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},j=()=>{!N.value||(X(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:ne,toggleRowExpansion:ge,updateExpandRows:Se,states:_e,isRowExpanded:Q}=Rme({data:s,rowKey:r}),{updateTreeExpandKeys:Me,toggleTreeExpansion:pe,updateTreeData:ee,loadOrToggle:de,states:le}=Pme({data:s,rowKey:r}),{updateCurrentRowData:Te,updateCurrentRow:Le,setCurrentRowKey:ae,states:we}=Dme({data:s,rowKey:r});return{assertRowKey:B,updateColumns:z,scheduleLayout:M,isSelected:_,clearSelection:O,cleanSelection:$,getSelectionRows:K,toggleRowSelection:J,_toggleAllSelection:W,toggleAllSelection:null,updateSelectionByRowKey:se,updateAllSelected:ve,updateFilters:fe,updateCurrentRow:Le,updateSort:X,execFilter:G,execSort:ue,execQuery:ye,clearFilter:Ae,clearSort:j,toggleRowExpansion:ge,setExpandRowKeysAdapter:ie=>{ne(ie),Me(ie)},setCurrentRowKey:ae,toggleRowExpansionAdapter:(ie,Ie)=>{c.value.some(({type:U})=>U==="expand")?ge(ie,Ie):pe(ie,Ie)},isRowExpanded:Q,updateExpandRows:Se,updateCurrentRowData:Te,loadOrToggle:de,updateTreeData:ee,states:{tableSize:n,rowKey:r,data:s,_data:o,isComplex:i,_columns:a,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:p,rightFixedLeafColumns:m,leafColumnsLength:g,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:y,isAllSelected:C,selection:b,reserveSelection:w,selectOnIndeterminate:S,selectable:k,filters:A,filteredData:x,sortingColumn:N,sortProp:R,sortOrder:H,hoverRow:P,..._e,...le,...we}}}function s1(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=s1(n.children,e)),n)})}function sL(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&sL(e.children)}),t.sort((e,n)=>e.no-n.no)}function Fme(){const t=ht(),e=Bme();return{ns:ke("table"),...e,mutations:{setData(i,a){const l=h(i._data)!==a;i.data.value=a,i._data.value=a,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),h(i.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(i,a,l){const c=h(i._columns);let u=[];l?(l&&!l.children&&(l.children=[]),l.children.push(a),u=s1(c,l)):(c.push(a),u=c),sL(u),i._columns.value=u,a.type==="selection"&&(i.selectable.value=a.selectable,i.reserveSelection.value=a.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},removeColumn(i,a,l){const c=h(i._columns)||[];if(l)l.children.splice(l.children.findIndex(u=>u.id===a.id),1),ze(()=>{var u;((u=l.children)==null?void 0:u.length)===0&&delete l.children}),i._columns.value=s1(c,l);else{const u=c.indexOf(a);u>-1&&(c.splice(u,1),i._columns.value=c)}t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(i,a){const{prop:l,order:c,init:u}=a;if(l){const d=h(i.columns).find(f=>f.property===l);d&&(d.order=c,t.store.updateSort(d,l,c),t.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(i,a){const{sortingColumn:l,sortProp:c,sortOrder:u}=i,d=h(l),f=h(c),p=h(u);p===null&&(i.sortingColumn.value=null,i.sortProp.value=null);const m={filter:!0};t.store.execQuery(m),(!a||!(a.silent||a.init))&&t.emit("sort-change",{column:d,prop:f,order:p}),t.store.updateTableScrollY()},filterChange(i,a){const{column:l,values:c,silent:u}=a,d=t.store.updateFilters(l,c);t.store.execQuery(),u||t.emit("filter-change",d),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(i,a){t.store.toggleRowSelection(a),t.store.updateAllSelected()},setHoverRow(i,a){i.hoverRow.value=a},setCurrentRow(i,a){t.store.updateCurrentRow(a)}},commit:function(i,...a){const l=t.store.mutations;if(l[i])l[i].apply(t,[t.store.states].concat(a));else throw new Error(`Action not found: ${i}`)},updateTableScrollY:function(){ze(()=>t.layout.updateScrollY.apply(t.layout))}}}const kf={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function Vme(t,e){if(!t)throw new Error("Table is required.");const n=Fme();return n.toggleAllSelection=Pr(n._toggleAllSelection,10),Object.keys(kf).forEach(r=>{oL(iL(e,r),r,n)}),zme(n,e),n}function zme(t,e){Object.keys(kf).forEach(n=>{Ee(()=>iL(e,n),r=>{oL(r,n,t)})})}function oL(t,e,n){let r=t,s=kf[e];typeof kf[e]=="object"&&(s=s.key,r=r||kf[e].default),n.states[s].value=r}function iL(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(s=>{r=r[s]}),r}else return t[e]}class Hme{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=D(null),this.scrollX=D(!1),this.scrollY=D(!1),this.bodyWidth=D(null),this.fixedWidth=D(null),this.rightFixedWidth=D(null),this.gutterWidth=0;for(const n in e)Et(e,n)&&(Jt(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&n){let r=!0;const s=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,s!==r}return!1}setHeight(e,n="height"){if(!It)return;const r=this.table.vnode.el;if(e=Ame(e),this.height.value=Number(e),!r&&(e||e===0))return ze(()=>this.setHeight(e,n));typeof e=="number"?(r.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!It)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const s=this.getFlattenColumns(),o=s.filter(l=>typeof l.width!="number");if(s.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),o.length>0&&e){if(s.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=n){this.scrollX.value=!1;const l=n-r;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+l;else{const c=o.reduce((f,p)=>f+Number(p.minWidth||80),0),u=l/c;let d=0;o.forEach((f,p)=>{if(p===0)return;const m=Math.floor(Number(f.minWidth||80)*u);d+=m,f.realWidth=Number(f.minWidth||80)+m}),o[0].realWidth=Number(o[0].minWidth||80)+l-d}}else this.scrollX.value=!0,o.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else s.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const i=this.store.states.fixedColumns.value;if(i.length>0){let l=0;i.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let l=0;a.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var s,o;switch(e){case"columns":(s=r.state)==null||s.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:Kme}=Ws,Ume=te({name:"ElTableFilterPanel",components:{ElCheckbox:Ws,ElCheckboxGroup:Kme,ElScrollbar:Oi,ElTooltip:is,ElIcon:Ue,ArrowDown:Ra,ArrowUp:ey},directives:{ClickOutside:Ta},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=ht(),{t:n}=Ft(),r=ke("table-filter"),s=e==null?void 0:e.parent;s.filterPanels.value[t.column.id]||(s.filterPanels.value[t.column.id]=e);const o=D(!1),i=D(null),a=T(()=>t.column&&t.column.filters),l=T({get:()=>{var w;return(((w=t.column)==null?void 0:w.filteredValue)||[])[0]},set:w=>{c.value&&(typeof w<"u"&&w!==null?c.value.splice(0,1,w):c.value.splice(0,1))}}),c=T({get(){return t.column?t.column.filteredValue||[]:[]},set(w){t.column&&t.upDataColumn("filteredValue",w)}}),u=T(()=>t.column?t.column.filterMultiple:!0),d=w=>w.value===l.value,f=()=>{o.value=!1},p=w=>{w.stopPropagation(),o.value=!o.value},m=()=>{o.value=!1},g=()=>{C(c.value),f()},v=()=>{c.value=[],C(c.value),f()},y=w=>{l.value=w,C(typeof w<"u"&&w!==null?c.value:[]),f()},C=w=>{t.store.commit("filterChange",{column:t.column,values:w}),t.store.updateAllSelected()};Ee(o,w=>{t.column&&t.upDataColumn("filterOpened",w)},{immediate:!0});const b=T(()=>{var w,S;return(S=(w=i.value)==null?void 0:w.popperRef)==null?void 0:S.contentRef});return{tooltipVisible:o,multiple:u,filteredValue:c,filterValue:l,filters:a,handleConfirm:g,handleReset:v,handleSelect:y,isActive:d,t:n,ns:r,showFilterPanel:p,hideFilterPanel:m,popperPaneRef:b,tooltip:i}}}),jme={key:0},Wme=["disabled"],qme=["label","onClick"];function Gme(t,e,n,r,s,o){const i=Je("el-checkbox"),a=Je("el-checkbox-group"),l=Je("el-scrollbar"),c=Je("arrow-up"),u=Je("arrow-down"),d=Je("el-icon"),f=Je("el-tooltip"),p=_u("click-outside");return E(),he(f,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.ns.b(),persistent:""},{content:re(()=>[t.multiple?(E(),F("div",jme,[L("div",{class:I(t.ns.e("content"))},[q(l,{"wrap-class":t.ns.e("wrap")},{default:re(()=>[q(a,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=m=>t.filteredValue=m),class:I(t.ns.e("checkbox-group"))},{default:re(()=>[(E(!0),F(Ye,null,Tt(t.filters,m=>(E(),he(i,{key:m.value,label:m.value},{default:re(()=>[dt(Oe(m.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),L("div",{class:I(t.ns.e("bottom"))},[L("button",{class:I({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...m)=>t.handleConfirm&&t.handleConfirm(...m))},Oe(t.t("el.table.confirmFilter")),11,Wme),L("button",{type:"button",onClick:e[2]||(e[2]=(...m)=>t.handleReset&&t.handleReset(...m))},Oe(t.t("el.table.resetFilter")),1)],2)])):(E(),F("ul",{key:1,class:I(t.ns.e("list"))},[L("li",{class:I([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:e[3]||(e[3]=m=>t.handleSelect(null))},Oe(t.t("el.table.clearFilter")),3),(E(!0),F(Ye,null,Tt(t.filters,m=>(E(),F("li",{key:m.value,class:I([t.ns.e("list-item"),t.ns.is("active",t.isActive(m))]),label:m.value,onClick:g=>t.handleSelect(m.value)},Oe(m.text),11,qme))),128))],2))]),default:re(()=>[ot((E(),F("span",{class:I([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...m)=>t.showFilterPanel&&t.showFilterPanel(...m))},[q(d,null,{default:re(()=>[t.column.filterOpened?(E(),he(c,{key:0})):(E(),he(u,{key:1}))]),_:1})],2)),[[p,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var Yme=Re(Ume,[["render",Gme],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function aL(t){const e=ht();zv(()=>{n.value.addObserver(e)}),lt(()=>{r(n.value),s(n.value)}),Ei(()=>{r(n.value),s(n.value)}),gc(()=>{n.value.removeObserver(e)});const n=T(()=>{const o=t.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var i;const a=((i=t.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=o.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,d=a.length;u<d;u++){const f=a[u],p=f.getAttribute("name"),m=c[p];m&&f.setAttribute("width",m.realWidth||m.width)}},s=o=>{var i,a;const l=((i=t.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,d=l.length;u<d;u++)l[u].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const c=((a=t.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",f.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:s}}const qo=Symbol("ElTable");function Xme(t,e){const n=ht(),r=Fe(qo),s=g=>{g.stopPropagation()},o=(g,v)=>{!v.filters&&v.sortable?m(g,v,!1):v.filterable&&!v.sortable&&s(g),r==null||r.emit("header-click",v,g)},i=(g,v)=>{r==null||r.emit("header-contextmenu",v,g)},a=D(null),l=D(!1),c=D({}),u=(g,v)=>{if(!!It&&!(v.children&&v.children.length>0)&&a.value&&t.border){l.value=!0;const y=r;e("set-drag-visible",!0);const b=(y==null?void 0:y.vnode.el).getBoundingClientRect().left,w=n.vnode.el.querySelector(`th.${v.id}`),S=w.getBoundingClientRect(),k=S.left-b+30;Mo(w,"noclick"),c.value={startMouseLeft:g.clientX,startLeft:S.right-b,startColumnLeft:S.left-b,tableLeft:b};const A=y==null?void 0:y.refs.resizeProxy;A.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const x=R=>{const H=R.clientX-c.value.startMouseLeft,P=c.value.startLeft+H;A.style.left=`${Math.max(k,P)}px`},N=()=>{if(l.value){const{startColumnLeft:R,startLeft:H}=c.value,B=Number.parseInt(A.style.left,10)-R;v.width=v.realWidth=B,y==null||y.emit("header-dragend",v.width,H-R,v,g),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",N),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Yr(w,"noclick")},0)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",N)}},d=(g,v)=>{var y;if(v.children&&v.children.length>0)return;const C=(y=g.target)==null?void 0:y.closest("th");if(!(!v||!v.resizable)&&!l.value&&t.border){const b=C.getBoundingClientRect(),w=document.body.style;b.width>12&&b.right-g.pageX<8?(w.cursor="col-resize",io(C,"is-sortable")&&(C.style.cursor="col-resize"),a.value=v):l.value||(w.cursor="",io(C,"is-sortable")&&(C.style.cursor="pointer"),a.value=null)}},f=()=>{!It||(document.body.style.cursor="")},p=({order:g,sortOrders:v})=>{if(g==="")return v[0];const y=v.indexOf(g||null);return v[y>v.length-2?0:y+1]},m=(g,v,y)=>{var C;g.stopPropagation();const b=v.order===y?null:y||p(v),w=(C=g.target)==null?void 0:C.closest("th");if(w&&io(w,"noclick")){Yr(w,"noclick");return}if(!v.sortable)return;const S=t.store.states;let k=S.sortProp.value,A;const x=S.sortingColumn.value;(x!==v||x===v&&x.order===null)&&(x&&(x.order=null),S.sortingColumn.value=v,k=v.property),b?A=v.order=b:A=v.order=null,S.sortProp.value=k,S.sortOrder.value=A,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:i,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:m,handleFilterClick:s}}function Jme(t){const e=Fe(qo),n=ke("table");return{getHeaderRowStyle:a=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return typeof c=="string"?l.push(c):typeof c=="function"&&l.push(c.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,c,u)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};typeof f=="function"&&(f=f.call(null,{rowIndex:a,columnIndex:l,row:c,column:u}));const p=uk(l,u.fixed,t.store,c);return Hu(p,"left"),Hu(p,"right"),Object.assign({},f,p)},getHeaderCellClass:(a,l,c,u)=>{const d=ck(n.b(),l,u.fixed,t.store,c),f=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...d];u.children||f.push("is-leaf"),u.sortable&&f.push("is-sortable");const p=e==null?void 0:e.props.headerCellClassName;return typeof p=="string"?f.push(p):typeof p=="function"&&f.push(p.call(null,{rowIndex:a,columnIndex:l,row:c,column:u})),f.push(n.e("cell")),f.filter(m=>Boolean(m)).join(" ")}}}const lL=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,lL(n.children))):e.push(n)}),e},Qme=t=>{let e=1;const n=(o,i)=>{if(i&&(o.level=i.level+1,e<o.level&&(e=o.level)),o.children){let a=0;o.children.forEach(l=>{n(l,o),a+=l.colSpan}),o.colSpan=a}else o.colSpan=1};t.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<e;o++)r.push([]);return lL(t).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(i=>i.isSubColumn=!0)):o.rowSpan=e-o.level+1,r[o.level-1].push(o)}),r};function Zme(t){const e=Fe(qo),n=T(()=>Qme(t.store.states.originColumns.value));return{isGroup:T(()=>{const o=n.value.length>1;return o&&e&&(e.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var ege=te({name:"ElTableHeader",components:{ElCheckbox:Ws},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=ht(),r=Fe(qo),s=ke("table"),o=D({}),{onColumnsChange:i,onScrollableChange:a}=aL(r);lt(async()=>{await ze(),await ze();const{prop:k,order:A}=t.defaultSort;r==null||r.store.commit("sort",{prop:k,order:A,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:m}=Xme(t,e),{getHeaderRowStyle:g,getHeaderRowClass:v,getHeaderCellStyle:y,getHeaderCellClass:C}=Jme(t),{isGroup:b,toggleAllSelection:w,columnRows:S}=Zme(t);return n.state={onColumnsChange:i,onScrollableChange:a},n.filterPanels=o,{ns:s,filterPanels:o,onColumnsChange:i,onScrollableChange:a,columnRows:S,getHeaderRowClass:v,getHeaderRowStyle:g,getHeaderCellClass:C,getHeaderCellStyle:y,handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:m,isGroup:b,toggleAllSelection:w}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:s,getHeaderRowClass:o,getHeaderRowStyle:i,handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:f,store:p,$parent:m}=this;let g=1;return He("thead",{class:{[t.is("group")]:e}},n.map((v,y)=>He("tr",{class:o(y),key:y,style:i(y)},v.map((C,b)=>(C.rowSpan>g&&(g=C.rowSpan),He("th",{class:s(y,b,v,C),colspan:C.colSpan,key:`${C.id}-thead`,rowspan:C.rowSpan,style:r(y,b,v,C),onClick:w=>a(w,C),onContextmenu:w=>l(w,C),onMousedown:w=>c(w,C),onMousemove:w=>u(w,C),onMouseout:f},[He("div",{class:["cell",C.filteredValue&&C.filteredValue.length>0?"highlight":""]},[C.renderHeader?C.renderHeader({column:C,$index:b,store:p,_self:m}):C.label,C.sortable&&He("span",{onClick:w=>d(w,C),class:"caret-wrapper"},[He("i",{onClick:w=>d(w,C,"ascending"),class:"sort-caret ascending"}),He("i",{onClick:w=>d(w,C,"descending"),class:"sort-caret descending"})]),C.filterable&&He(Yme,{store:p,placement:C.filterPlacement||"bottom-start",column:C,upDataColumn:(w,S)=>{C[w]=S}})])]))))))}});function tge(t){const e=Fe(qo),n=D(""),r=D(He("div")),s=(f,p,m)=>{var g;const v=e,y=Jb(f);let C;const b=(g=v==null?void 0:v.vnode.el)==null?void 0:g.dataset.prefix;y&&(C=AI({columns:t.store.states.columns.value},y,b),C&&(v==null||v.emit(`cell-${m}`,p,C,y,f))),v==null||v.emit(`row-${m}`,p,C,f)},o=(f,p)=>{s(f,p,"dblclick")},i=(f,p)=>{t.store.commit("setCurrentRow",p),s(f,p,"click")},a=(f,p)=>{s(f,p,"contextmenu")},l=Pr(f=>{t.store.commit("setHoverRow",f)},30),c=Pr(()=>{t.store.commit("setHoverRow",null)},30);return{handleDoubleClick:o,handleClick:i,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(f,p,m)=>{var g;const v=e,y=Jb(f),C=(g=v==null?void 0:v.vnode.el)==null?void 0:g.dataset.prefix;if(y){const A=AI({columns:t.store.states.columns.value},y,C),x=v.hoverState={cell:y,column:A,row:p};v==null||v.emit("cell-mouse-enter",x.row,x.column,x.cell,f)}const b=f.target.querySelector(".cell");if(!(io(b,`${C}-tooltip`)&&b.childNodes.length))return;const w=document.createRange();w.setStart(b,0),w.setEnd(b,b.childNodes.length);const S=Math.round(w.getBoundingClientRect().width),k=(Number.parseInt(ni(b,"paddingLeft"),10)||0)+(Number.parseInt(ni(b,"paddingRight"),10)||0);(S+k>b.offsetWidth||b.scrollWidth>b.offsetWidth)&&$me(e==null?void 0:e.refs.tableWrapper,y,y.innerText||y.textContent,{placement:"top",strategy:"fixed"},m)},handleCellMouseLeave:f=>{if(!Jb(f))return;const m=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",m==null?void 0:m.row,m==null?void 0:m.column,m==null?void 0:m.cell,f)},tooltipContent:n,tooltipTrigger:r}}function nge(t){const e=Fe(qo),n=ke("table");return{getRowStyle:(c,u)=>{const d=e==null?void 0:e.props.rowStyle;return typeof d=="function"?d.call(null,{row:c,rowIndex:u}):d||null},getRowClass:(c,u)=>{const d=[n.e("row")];(e==null?void 0:e.props.highlightCurrentRow)&&c===t.store.states.currentRow.value&&d.push("current-row"),t.stripe&&u%2===1&&d.push(n.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return typeof f=="string"?d.push(f):typeof f=="function"&&d.push(f.call(null,{row:c,rowIndex:u})),d},getCellStyle:(c,u,d,f)=>{const p=e==null?void 0:e.props.cellStyle;let m=p!=null?p:{};typeof p=="function"&&(m=p.call(null,{rowIndex:c,columnIndex:u,row:d,column:f}));const g=uk(u,t==null?void 0:t.fixed,t.store);return Hu(g,"left"),Hu(g,"right"),Object.assign({},m,g)},getCellClass:(c,u,d,f,p)=>{const m=ck(n.b(),u,t==null?void 0:t.fixed,t.store,void 0,p),g=[f.id,f.align,f.className,...m],v=e==null?void 0:e.props.cellClassName;return typeof v=="string"?g.push(v):typeof v=="function"&&g.push(v.call(null,{rowIndex:c,columnIndex:u,row:d,column:f})),g.push(n.e("cell")),g.filter(y=>Boolean(y)).join(" ")},getSpan:(c,u,d,f)=>{let p=1,m=1;const g=e==null?void 0:e.props.spanMethod;if(typeof g=="function"){const v=g({row:c,column:u,rowIndex:d,columnIndex:f});Array.isArray(v)?(p=v[0],m=v[1]):typeof v=="object"&&(p=v.rowspan,m=v.colspan)}return{rowspan:p,colspan:m}},getColspanRealWidth:(c,u,d)=>{if(u<1)return c[d].realWidth;const f=c.map(({realWidth:p,width:m})=>p||m).slice(d,d+u);return Number(f.reduce((p,m)=>Number(p)+Number(m),-1))}}}function rge(t){const e=Fe(qo),n=ke("table"),{handleDoubleClick:r,handleClick:s,handleContextMenu:o,handleMouseEnter:i,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=tge(t),{getRowStyle:f,getRowClass:p,getCellStyle:m,getCellClass:g,getSpan:v,getColspanRealWidth:y}=nge(t),C=T(()=>t.store.states.columns.value.findIndex(({type:A})=>A==="default")),b=(A,x)=>{const N=e.props.rowKey;return N?or(A,N):x},w=(A,x,N,R=!1)=>{const{tooltipEffect:H,store:P}=t,{indent:B,columns:V}=P.states,z=p(A,x);let M=!0;return N&&(z.push(n.em("row",`level-${N.level}`)),M=N.display),He("tr",{style:[M?null:{display:"none"},f(A,x)],class:z,key:b(A,x),onDblclick:O=>r(O,A),onClick:O=>s(O,A),onContextmenu:O=>o(O,A),onMouseenter:()=>i(x),onMouseleave:a},V.value.map((O,$)=>{const{rowspan:K,colspan:J}=v(A,O,x,$);if(!K||!J)return null;const W={...O};W.realWidth=y(V.value,J,$);const se={store:t.store,_self:t.context||e,column:W,row:A,$index:x,cellIndex:$,expanded:R};$===C.value&&N&&(se.treeNode={indent:N.level*B.value,level:N.level},typeof N.expanded=="boolean"&&(se.treeNode.expanded=N.expanded,"loading"in N&&(se.treeNode.loading=N.loading),"noLazyChildren"in N&&(se.treeNode.noLazyChildren=N.noLazyChildren)));const ve=`${x},${$}`,Y=W.columnKey||W.rawColumnKey||"",fe=S($,O,se);return He("td",{style:m(x,$,A,O),class:g(x,$,A,O,J-1),key:`${Y}${ve}`,rowspan:K,colspan:J,onMouseenter:X=>l(X,A,H),onMouseleave:c},[fe])}))},S=(A,x,N)=>x.renderCell(N);return{wrappedRowRender:(A,x)=>{const N=t.store,{isRowExpanded:R,assertRowKey:H}=N,{treeData:P,lazyTreeNodeMap:B,childrenColumnName:V,rowKey:z}=N.states,M=N.states.columns.value;if(M.some(({type:O})=>O==="expand")){const O=R(A),$=w(A,x,void 0,O),K=e.renderExpanded;return O?K?[[$,He("tr",{key:`expanded-row__${$.key}`},[He("td",{colspan:M.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[K({row:A,$index:x,store:N,expanded:O})])])]]:(console.error("[Element Error]renderExpanded is required."),$):[[$]]}else if(Object.keys(P.value).length){H();const O=or(A,z.value);let $=P.value[O],K=null;$&&(K={expanded:$.expanded,level:$.level,display:!0},typeof $.lazy=="boolean"&&(typeof $.loaded=="boolean"&&$.loaded&&(K.noLazyChildren=!($.children&&$.children.length)),K.loading=$.loading));const J=[w(A,x,K)];if($){let W=0;const se=(Y,fe)=>{!(Y&&Y.length&&fe)||Y.forEach(X=>{const G={display:fe.display&&fe.expanded,level:fe.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ue=or(X,z.value);if(ue==null)throw new Error("For nested data item, row-key is required.");if($={...P.value[ue]},$&&(G.expanded=$.expanded,$.level=$.level||G.level,$.display=!!($.expanded&&G.display),typeof $.lazy=="boolean"&&(typeof $.loaded=="boolean"&&$.loaded&&(G.noLazyChildren=!($.children&&$.children.length)),G.loading=$.loading)),W++,J.push(w(X,x+W,G)),$){const ye=B.value[ue]||X[V.value];se(ye,$)}})};$.display=!0;const ve=B.value[O]||A[V.value];se(ve,$)}return J}else return w(A,x,void 0)},tooltipContent:u,tooltipTrigger:d}}const sge={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var oge=te({name:"ElTableBody",props:sge,setup(t){const e=ht(),n=Fe(qo),r=ke("table"),{wrappedRowRender:s,tooltipContent:o,tooltipTrigger:i}=rge(t),{onColumnsChange:a,onScrollableChange:l}=aL(n);return Ee(t.store.states.hoverRow,(c,u)=>{if(!t.store.states.isComplex.value||!It)return;let d=window.requestAnimationFrame;d||(d=f=>window.setTimeout(f,16)),d(()=>{const f=e==null?void 0:e.vnode.el,p=Array.from((f==null?void 0:f.children)||[]).filter(v=>v==null?void 0:v.classList.contains(`${r.e("row")}`)),m=p[u],g=p[c];m&&Yr(m,"hover-row"),g&&Mo(g,"hover-row")})}),gc(()=>{var c;(c=Qo)==null||c()}),{ns:r,onColumnsChange:a,onScrollableChange:l,wrappedRowRender:s,tooltipContent:o,tooltipTrigger:i}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return He("tbody",{},[n.reduce((r,s)=>r.concat(t(s,r.length)),[])])}});function dk(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(s=>s.width===void 0)&&(n=[]);const r=s=>{const o={key:`${t.tableLayout}_${s.id}`,style:{},name:void 0};return e?o.style={width:`${s.width}px`}:o.name=s.id,o};return He("colgroup",{},n.map(s=>He("col",r(s))))}dk.props=["columns","tableLayout"];function ige(){const t=Fe(qo),e=t==null?void 0:t.store,n=T(()=>e.states.fixedLeafColumnsLength.value),r=T(()=>e.states.rightFixedColumns.value.length),s=T(()=>e.states.columns.value.length),o=T(()=>e.states.fixedColumns.value.length),i=T(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:s,leftFixedCount:o,rightFixedCount:i,columns:e.states.columns}}function age(t){const{columns:e}=ige(),n=ke("table");return{getCellClasses:(o,i)=>{const a=o[i],l=[n.e("cell"),a.id,a.align,a.labelClassName,...ck(n.b(),i,a.fixed,t.store)];return a.className&&l.push(a.className),a.children||l.push(n.is("leaf")),l},getCellStyles:(o,i)=>{const a=uk(i,o.fixed,t.store);return Hu(a,"left"),Hu(a,"right"),a},columns:e}}var lge=te({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:r}=age(t);return{ns:ke("table"),getCellClasses:e,getCellStyles:n,columns:r}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:s,ns:o}=this,i=this.store.states.data.value;let a=[];return r?a=r({columns:t,data:i}):t.forEach((l,c)=>{if(c===0){a[c]=s;return}const u=i.map(m=>Number(m[l.property])),d=[];let f=!0;u.forEach(m=>{if(!Number.isNaN(+m)){f=!1;const g=`${m}`.split(".")[1];d.push(g?g.length:0)}});const p=Math.max.apply(null,d);f?a[c]="":a[c]=u.reduce((m,g)=>{const v=Number(g);return Number.isNaN(+v)?m:Number.parseFloat((m+g).toFixed(Math.min(p,20)))},0)}),He("table",{class:o.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[dk({columns:t}),He("tbody",[He("tr",{},[...t.map((l,c)=>He("td",{key:c,colspan:l.colSpan,rowspan:l.rowSpan,class:n(t,c),style:e(l,c)},[He("div",{class:["cell",l.labelClassName]},[a[c]])]))])])])}});function cge(t){return{setCurrentRow:u=>{t.commit("setCurrentRow",u)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(u,d)=>{t.toggleRowSelection(u,d,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:u=>{t.clearFilter(u)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(u,d)=>{t.toggleRowExpansionAdapter(u,d)},clearSort:()=>{t.clearSort()},sort:(u,d)=>{t.commit("sort",{prop:u,order:d})}}}function uge(t,e,n,r){const s=D(!1),o=D(null),i=D(!1),a=O=>{i.value=O},l=D({width:null,height:null,headerHeight:null}),c=D(!1),u={display:"inline-block",verticalAlign:"middle"},d=D(),f=D(0),p=D(0),m=D(0),g=D(0);Gr(()=>{e.setHeight(t.height)}),Gr(()=>{e.setMaxHeight(t.maxHeight)}),Ee(()=>[t.currentRowKey,n.states.rowKey],([O,$])=>{!h($)||!h(O)||n.setCurrentRowKey(`${O}`)},{immediate:!0}),Ee(()=>t.data,O=>{r.store.commit("setData",O)},{immediate:!0,deep:!0}),Gr(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const v=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(O,$)=>{const{pixelX:K,pixelY:J}=$;Math.abs(K)>=Math.abs(J)&&(r.refs.bodyWrapper.scrollLeft+=$.pixelX/5)},C=T(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),b=T(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),w=()=>{C.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(x)};lt(async()=>{await ze(),n.updateColumns(),N(),requestAnimationFrame(w);const O=r.vnode.el,$=r.refs.headerWrapper;t.flexible&&O&&O.parentElement&&(O.parentElement.style.minWidth="0"),l.value={width:d.value=O.offsetWidth,height:O.offsetHeight,headerHeight:t.showHeader&&$?$.offsetHeight:null},n.states.columns.value.forEach(K=>{K.filteredValue&&K.filteredValue.length&&r.store.commit("filterChange",{column:K,values:K.filteredValue,silent:!0})}),r.$ready=!0});const S=(O,$)=>{if(!O)return;const K=Array.from(O.classList).filter(J=>!J.startsWith("is-scrolling-"));K.push(e.scrollX.value?$:"is-scrolling-none"),O.className=K.join(" ")},k=O=>{const{tableWrapper:$}=r.refs;S($,O)},A=O=>{const{tableWrapper:$}=r.refs;return!!($&&$.classList.contains(O))},x=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const Y="is-scrolling-none";A(Y)||k(Y);return}const O=r.refs.scrollBarRef.wrapRef;if(!O)return;const{scrollLeft:$,offsetWidth:K,scrollWidth:J}=O,{headerWrapper:W,footerWrapper:se}=r.refs;W&&(W.scrollLeft=$),se&&(se.scrollLeft=$);const ve=J-K-1;$>=ve?k("is-scrolling-right"):k($===0?"is-scrolling-left":"is-scrolling-middle")},N=()=>{!r.refs.scrollBarRef||(r.refs.scrollBarRef.wrapRef&&on(r.refs.scrollBarRef.wrapRef,"scroll",x,{passive:!0}),t.fit?Sr(r.vnode.el,R):on(window,"resize",R),Sr(r.refs.bodyWrapper,()=>{var O,$;R(),($=(O=r.refs)==null?void 0:O.scrollBarRef)==null||$.update()}))},R=()=>{var O,$,K;const J=r.vnode.el;if(!r.$ready||!J)return;let W=!1;const{width:se,height:ve,headerHeight:Y}=l.value,fe=d.value=J.offsetWidth;se!==fe&&(W=!0);const X=J.offsetHeight;(t.height||C.value)&&ve!==X&&(W=!0);const G=t.tableLayout==="fixed"?r.refs.headerWrapper:(O=r.refs.tableHeaderRef)==null?void 0:O.$el;t.showHeader&&(G==null?void 0:G.offsetHeight)!==Y&&(W=!0),f.value=(($=r.refs.tableWrapper)==null?void 0:$.scrollHeight)||0,m.value=(G==null?void 0:G.scrollHeight)||0,g.value=((K=r.refs.footerWrapper)==null?void 0:K.offsetHeight)||0,p.value=f.value-m.value-g.value,W&&(l.value={width:fe,height:X,headerHeight:t.showHeader&&(G==null?void 0:G.offsetHeight)||0},w())},H=In(),P=T(()=>{const{bodyWidth:O,scrollY:$,gutterWidth:K}=e;return O.value?`${O.value-($.value?K:0)}px`:""}),B=T(()=>t.maxHeight?"fixed":t.tableLayout),V=T(()=>{if(t.data&&t.data.length)return null;let O="100%";t.height&&p.value&&(O=`${p.value}px`);const $=d.value;return{width:$?`${$}px`:"",height:O}}),z=T(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),M=T(()=>{if(t.height)return{height:"100%"};if(t.maxHeight){if(Number.isNaN(Number(t.maxHeight)))return{maxHeight:`calc(${t.maxHeight} - ${m.value+g.value}px)`};{const O=t.maxHeight;if(f.value>=Number(O))return{maxHeight:`${f.value-m.value-g.value}px`}}}return{}});return{isHidden:s,renderExpanded:o,setDragVisible:a,isGroup:c,handleMouseLeave:v,handleHeaderFooterMousewheel:y,tableSize:H,emptyBlockStyle:V,handleFixedMousewheel:(O,$)=>{const K=r.refs.bodyWrapper;if(Math.abs($.spinY)>0){const J=K.scrollTop;$.pixelY<0&&J!==0&&O.preventDefault(),$.pixelY>0&&K.scrollHeight-K.clientHeight>J&&O.preventDefault(),K.scrollTop+=Math.ceil($.pixelY/5)}else K.scrollLeft+=Math.ceil($.pixelX/5)},resizeProxyVisible:i,bodyWidth:P,resizeState:l,doLayout:w,tableBodyStyles:b,tableLayout:B,scrollbarViewStyle:u,tableInnerStyle:z,scrollbarStyle:M}}var dge={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const fge=()=>{const t=D(),e=(o,i)=>{const a=t.value;a&&a.scrollTo(o,i)},n=(o,i)=>{const a=t.value;a&&it(i)&&["Top","Left"].includes(o)&&a[`setScroll${o}`](i)};return{scrollBarRef:t,scrollTo:e,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};let hge=1;const pge=te({name:"ElTable",directives:{Mousewheel:Bne},components:{TableHeader:ege,TableBody:oge,TableFooter:lge,ElScrollbar:Oi,hColgroup:dk},props:dge,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=Ft(),n=ke("table"),r=ht();yt(qo,r);const s=Vme(r,t);r.store=s;const o=new Hme({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=o;const i=T(()=>(s.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:p,clearSort:m,sort:g}=cge(s),{isHidden:v,renderExpanded:y,setDragVisible:C,isGroup:b,handleMouseLeave:w,handleHeaderFooterMousewheel:S,tableSize:k,emptyBlockStyle:A,handleFixedMousewheel:x,resizeProxyVisible:N,bodyWidth:R,resizeState:H,doLayout:P,tableBodyStyles:B,tableLayout:V,scrollbarViewStyle:z,tableInnerStyle:M,scrollbarStyle:_}=uge(t,o,s,r),{scrollBarRef:O,scrollTo:$,setScrollLeft:K,setScrollTop:J}=fge(),W=Pr(P,50),se=`${n.namespace.value}-table_${hge++}`;r.tableId=se,r.state={isGroup:b,resizeState:H,doLayout:P,debouncedUpdateLayout:W};const ve=T(()=>t.sumText||e("el.table.sumText")),Y=T(()=>t.emptyText||e("el.table.emptyText"));return{ns:n,layout:o,store:s,handleHeaderFooterMousewheel:S,handleMouseLeave:w,tableId:se,tableSize:k,isHidden:v,isEmpty:i,renderExpanded:y,resizeProxyVisible:N,resizeState:H,isGroup:b,bodyWidth:R,tableBodyStyles:B,emptyBlockStyle:A,debouncedUpdateLayout:W,handleFixedMousewheel:x,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:p,clearSort:m,doLayout:P,sort:g,t:e,setDragVisible:C,context:r,computedSumText:ve,computedEmptyText:Y,tableLayout:V,scrollbarViewStyle:z,tableInnerStyle:M,scrollbarStyle:_,scrollBarRef:O,scrollTo:$,setScrollLeft:K,setScrollTop:J}}}),mge=["data-prefix"],gge={ref:"hiddenColumns",class:"hidden-columns"};function vge(t,e,n,r,s,o){const i=Je("hColgroup"),a=Je("table-header"),l=Je("table-body"),c=Je("el-scrollbar"),u=Je("table-footer"),d=_u("mousewheel");return E(),F("div",{ref:"tableWrapper",class:I([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:Ge(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[0]||(e[0]=f=>t.handleMouseLeave())},[L("div",{class:I(t.ns.e("inner-wrapper")),style:Ge(t.tableInnerStyle)},[L("div",gge,[Ce(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?ot((E(),F("div",{key:0,ref:"headerWrapper",class:I(t.ns.e("header-wrapper"))},[L("table",{ref:"tableHeader",class:I(t.ns.e("header")),style:Ge(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[q(i,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),q(a,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):ce("v-if",!0),L("div",{ref:"bodyWrapper",class:I(t.ns.e("body-wrapper"))},[q(c,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:re(()=>[L("table",{ref:"tableBody",class:I(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Ge({width:t.bodyWidth,tableLayout:t.tableLayout})},[q(i,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(E(),he(a,{key:0,ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):ce("v-if",!0),q(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),t.isEmpty?(E(),F("div",{key:0,ref:"emptyBlock",style:Ge(t.emptyBlockStyle),class:I(t.ns.e("empty-block"))},[L("span",{class:I(t.ns.e("empty-text"))},[Ce(t.$slots,"empty",{},()=>[dt(Oe(t.computedEmptyText),1)])],2)],6)):ce("v-if",!0),t.$slots.append?(E(),F("div",{key:1,ref:"appendWrapper",class:I(t.ns.e("append-wrapper"))},[Ce(t.$slots,"append")],2)):ce("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary?ot((E(),F("div",{key:1,ref:"footerWrapper",class:I(t.ns.e("footer-wrapper"))},[q(u,{border:t.border,"default-sort":t.defaultSort,store:t.store,style:Ge(t.tableBodyStyles),"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[Dt,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):ce("v-if",!0),t.border||t.isGroup?(E(),F("div",{key:2,class:I(t.ns.e("border-left-patch"))},null,2)):ce("v-if",!0)],6),ot(L("div",{ref:"resizeProxy",class:I(t.ns.e("column-resize-proxy"))},null,2),[[Dt,t.resizeProxyVisible]])],46,mge)}var yge=Re(pge,[["render",vge],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const bge={selection:"table-column--selection",expand:"table__expand-column"},wge={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Cge=t=>bge[t]||"",Sge={selection:{renderHeader({store:t}){function e(){return t.states.data.value&&t.states.data.value.length===0}return He(Ws,{disabled:e(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value})},renderCell({row:t,column:e,store:n,$index:r}){return He(Ws,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:s=>s.stopPropagation(),modelValue:n.isSelected(t)})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return typeof r=="number"?n=e+r:typeof r=="function"&&(n=r(e)),He("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:r}=e,s=[r.e("expand-icon")];return n&&s.push(r.em("expand-icon","expanded")),He("div",{class:s,onClick:function(i){i.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[He(Ue,null,{default:()=>[He($r)]})]})},sortable:!1,resizable:!1}};function kge({row:t,column:e,$index:n}){var r;const s=e.property,o=s&&Fm(t,s).value;return e&&e.formatter?e.formatter(t,e,o,n):((r=o==null?void 0:o.toString)==null?void 0:r.call(o))||""}function Ege({row:t,treeNode:e,store:n},r=!1){const{ns:s}=n;if(!e)return r?[He("span",{class:s.e("placeholder")})]:null;const o=[],i=function(a){a.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&o.push(He("span",{class:s.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const a=[s.e("expand-icon"),e.expanded?s.em("expand-icon","expanded"):""];let l=$r;e.loading&&(l=Pa),o.push(He("div",{class:a,onClick:i},{default:()=>[He(Ue,{class:{[s.is("loading")]:e.loading}},{default:()=>[He(l)]})]}))}else o.push(He("span",{class:s.e("placeholder")}));return o}function $I(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function Tge(t,e){const n=ht();return{registerComplexWatchers:()=>{const o=["fixed"],i={realWidth:"width",realMinWidth:"minWidth"},a=$I(o,i);Object.keys(a).forEach(l=>{const c=i[l];Et(e,c)&&Ee(()=>e[c],u=>{let d=u;c==="width"&&l==="realWidth"&&(d=lk(u)),c==="minWidth"&&l==="realMinWidth"&&(d=tL(u)),n.columnConfig.value[c]=d,n.columnConfig.value[l]=d;const f=c==="fixed";t.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],i={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=$I(o,i);Object.keys(a).forEach(l=>{const c=i[l];Et(e,c)&&Ee(()=>e[c],u=>{n.columnConfig.value[l]=u})})}}}function _ge(t,e,n){const r=ht(),s=D(""),o=D(!1),i=D(),a=D(),l=ke("table");Gr(()=>{i.value=t.align?`is-${t.align}`:null,i.value}),Gr(()=>{a.value=t.headerAlign?`is-${t.headerAlign}`:i.value,a.value});const c=T(()=>{let b=r.vnode.vParent||r.parent;for(;b&&!b.tableId&&!b.columnId;)b=b.vnode.vParent||b.parent;return b}),u=T(()=>{const{store:b}=r.parent;if(!b)return!1;const{treeData:w}=b.states,S=w.value;return S&&Object.keys(S).length>0}),d=D(lk(t.width)),f=D(tL(t.minWidth)),p=b=>(d.value&&(b.width=d.value),f.value&&(b.minWidth=f.value),!d.value&&f.value&&(b.width=void 0),b.minWidth||(b.minWidth=80),b.realWidth=Number(b.width===void 0?b.minWidth:b.width),b),m=b=>{const w=b.type,S=Sge[w]||{};Object.keys(S).forEach(A=>{const x=S[A];A!=="className"&&x!==void 0&&(b[A]=x)});const k=Cge(w);if(k){const A=`${h(l.namespace)}-${k}`;b.className=b.className?`${b.className} ${A}`:A}return b},g=b=>{Array.isArray(b)?b.forEach(S=>w(S)):w(b);function w(S){var k;((k=S==null?void 0:S.type)==null?void 0:k.name)==="ElTableColumn"&&(S.vParent=r)}};return{columnId:s,realAlign:i,isSubColumn:o,realHeaderAlign:a,columnOrTableParent:c,setColumnWidth:p,setColumnForcedProps:m,setColumnRenders:b=>{t.renderHeader||b.type!=="selection"&&(b.renderHeader=S=>{r.columnConfig.value.label;const k=e.header;return k?k(S):b.label});let w=b.renderCell;return b.type==="expand"?(b.renderCell=S=>He("div",{class:"cell"},[w(S)]),n.value.renderExpanded=S=>e.default?e.default(S):e.default):(w=w||kge,b.renderCell=S=>{let k=null;if(e.default){const R=e.default(S);k=R.some(H=>H.type!==Nr)?R:w(S)}else k=w(S);const A=u.value&&S.cellIndex===0&&S.column.type!=="selection",x=Ege(S,A),N={class:"cell",style:{}};return b.showOverflowTooltip&&(N.class=`${N.class} ${h(l.namespace)}-tooltip`,N.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),g(k),He("div",N,[x,k])}),b},getPropsData:(...b)=>b.reduce((w,S)=>(Array.isArray(S)&&S.forEach(k=>{w[k]=t[k]}),w),{}),getColumnElIndex:(b,w)=>Array.prototype.indexOf.call(b,w)}}var xge={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let Ige=1;var cL=te({name:"ElTableColumn",components:{ElCheckbox:Ws},props:xge,setup(t,{slots:e}){const n=ht(),r=D({}),s=T(()=>{let C=n.parent;for(;C&&!C.tableId;)C=C.parent;return C}),{registerNormalWatchers:o,registerComplexWatchers:i}=Tge(s,t),{columnId:a,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:p,getPropsData:m,getColumnElIndex:g,realAlign:v}=_ge(t,e,s),y=u.value;a.value=`${y.tableId||y.columnId}_column_${Ige++}`,zv(()=>{l.value=s.value!==y;const C=t.type||"default",b=t.sortable===""?!0:t.sortable,w={...wge[C],id:a.value,type:C,property:t.prop||t.property,align:v,headerAlign:c,showOverflowTooltip:t.showOverflowTooltip||t.showTooltipWhenOverflow,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:b,index:t.index,rawColumnKey:n.vnode.key};let N=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);N=Mme(w,N),N=Ome(p,d,f)(N),r.value=N,o(),i()}),lt(()=>{var C;const b=u.value,w=l.value?b.vnode.el.children:(C=b.refs.hiddenColumns)==null?void 0:C.children,S=()=>g(w||[],n.vnode.el);r.value.getColumnIndex=S,S()>-1&&s.value.store.commit("insertColumn",r.value,l.value?b.columnConfig.value:null)}),ln(()=>{s.value.store.commit("removeColumn",r.value,l.value?y.columnConfig.value:null)}),n.columnId=a.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),s=[];if(Array.isArray(r))for(const i of r)((n=i.type)==null?void 0:n.name)==="ElTableColumn"||i.shapeFlag&2?s.push(i):i.type===Ye&&Array.isArray(i.children)&&i.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!rt(a==null?void 0:a.children)&&s.push(a)});return He("div",s)}catch{return He("div",[])}}});const Mge=mt(yge,{TableColumn:cL}),Age=vn(cL);var hh=(t=>(t.ASC="asc",t.DESC="desc",t))(hh||{}),ph=(t=>(t.CENTER="center",t.RIGHT="right",t))(ph||{}),uL=(t=>(t.LEFT="left",t.RIGHT="right",t))(uL||{});const o1={asc:"desc",desc:"asc"},mh=Symbol("placeholder"),Oge=(t,e,n)=>{var r;const s={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(s.flexShrink=1);const o={...(r=t.style)!=null?r:{},...s,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(o.maxWidth=t.maxWidth),t.minWidth&&(o.minWidth=t.minWidth)),o};function Nge(t,e,n){const r=T(()=>h(e).filter(g=>!g.hidden)),s=T(()=>h(r).filter(g=>g.fixed==="left"||g.fixed===!0)),o=T(()=>h(r).filter(g=>g.fixed==="right")),i=T(()=>h(r).filter(g=>!g.fixed)),a=T(()=>{const g=[];return h(s).forEach(v=>{g.push({...v,placeholderSign:mh})}),h(i).forEach(v=>{g.push(v)}),h(o).forEach(v=>{g.push({...v,placeholderSign:mh})}),g}),l=T(()=>h(s).length||h(o).length),c=T(()=>h(e).reduce((v,y)=>(v[y.key]=Oge(y,h(n),t.fixed),v),{})),u=T(()=>h(r).reduce((g,v)=>g+v.width,0)),d=g=>h(e).find(v=>v.key===g),f=g=>h(c)[g],p=(g,v)=>{g.width=v};function m(g){var v;const{key:y}=g.currentTarget.dataset;if(!y)return;const{sortState:C,sortBy:b}=t;let w=hh.ASC;Ct(C)?w=o1[C[y]]:w=o1[b.order],(v=t.onColumnSort)==null||v.call(t,{column:d(y),key:y,order:w})}return{columns:e,columnsStyles:c,columnsTotalWidth:u,fixedColumnsOnLeft:s,fixedColumnsOnRight:o,hasFixedColumns:l,mainColumns:a,normalColumns:i,visibleColumns:r,getColumn:d,getColumnStyle:f,updateColumnWidth:p,onColumnSorted:m}}const $ge=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:s})=>{const o=D({scrollLeft:0,scrollTop:0});function i(p){var m,g,v;const{scrollTop:y}=p;(m=e.value)==null||m.scrollTo(p),(g=n.value)==null||g.scrollToTop(y),(v=r.value)==null||v.scrollToTop(y)}function a(p){o.value=p,i(p)}function l(p){o.value.scrollTop=p,i(h(o))}function c(p){var m,g;o.value.scrollLeft=p,(g=(m=e.value)==null?void 0:m.scrollTo)==null||g.call(m,h(o))}function u(p){var m;a(p),(m=t.onScroll)==null||m.call(t,p)}function d({scrollTop:p}){const{scrollTop:m}=h(o);p!==m&&l(p)}function f(p,m="auto"){var g;(g=e.value)==null||g.scrollToRow(p,m)}return Ee(()=>h(o).scrollTop,(p,m)=>{p>m&&s()}),{scrollPos:o,scrollTo:a,scrollToLeft:c,scrollToTop:l,scrollToRow:f,onScroll:u,onVerticalScroll:d}},Rge=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:s})=>{const o=ht(),{emit:i}=o,a=en(!1),l=en(null),c=D(t.defaultExpandedRowKeys||[]),u=D(-1),d=en(null),f=D({}),p=D({}),m=en({}),g=en({}),v=en({}),y=T(()=>it(t.estimatedRowHeight));function C(N){var R;(R=t.onRowsRendered)==null||R.call(t,N),N.rowCacheEnd>h(u)&&(u.value=N.rowCacheEnd)}function b({hovered:N,rowKey:R}){l.value=N?R:null}function w({expanded:N,rowData:R,rowIndex:H,rowKey:P}){var B,V;const z=[...h(c)],M=z.indexOf(P);N?M===-1&&z.push(P):M>-1&&z.splice(M,1),c.value=z,i("update:expandedRowKeys",z),(B=t.onRowExpand)==null||B.call(t,{expanded:N,rowData:R,rowIndex:H,rowKey:P}),(V=t.onExpandedRowsChange)==null||V.call(t,z)}const S=Pr(()=>{var N,R,H,P;a.value=!0,f.value={...h(f),...h(p)},k(h(d),!1),p.value={},d.value=null,(N=e.value)==null||N.forceUpdate(),(R=n.value)==null||R.forceUpdate(),(H=r.value)==null||H.forceUpdate(),(P=o.proxy)==null||P.$forceUpdate(),a.value=!1},0);function k(N,R=!1){!h(y)||[e,n,r].forEach(H=>{const P=h(H);P&&P.resetAfterRowIndex(N,R)})}function A(N,R,H){const P=h(d);(P===null||P>H)&&(d.value=H),p.value[N]=R}function x({rowKey:N,height:R,rowIndex:H},P){P?P===uL.RIGHT?v.value[N]=R:m.value[N]=R:g.value[N]=R;const B=Math.max(...[m,v,g].map(V=>V.value[N]||0));h(f)[N]!==B&&(A(N,B,H),S())}return Ee(u,()=>s()),{hoveringRowKey:l,expandedRowKeys:c,lastRenderedRowIndex:u,isDynamic:y,isResetting:a,rowHeights:f,resetAfterIndex:k,onRowExpanded:w,onRowHovered:b,onRowsRendered:C,onRowHeightChange:x}},Dge=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const s=D({}),o=T(()=>{const a={},{data:l,rowKey:c}=t,u=h(e);if(!u||!u.length)return l;const d=[],f=new Set;u.forEach(m=>f.add(m));let p=l.slice();for(p.forEach(m=>a[m[c]]=0);p.length>0;){const m=p.shift();d.push(m),f.has(m[c])&&Array.isArray(m.children)&&m.children.length>0&&(p=[...m.children,...p],m.children.forEach(g=>a[g[c]]=a[m[c]]+1))}return s.value=a,d}),i=T(()=>{const{data:a,expandColumnKey:l}=t;return l?h(o):a});return Ee(i,(a,l)=>{a!==l&&(n.value=-1,r(0,!0))}),{data:i,depthMap:s}},Pge=(t,e)=>t+e,eg=t=>Be(t)?t.reduce(Pge,0):t,Xl=(t,e,n={})=>et(t)?t(e):t!=null?t:n,ra=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=xn(t[e])}),t),dL=t=>fn(t)?e=>He(t,e):t,Lge=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:s})=>{const o=T(()=>{const{fixed:b,width:w,vScrollbarSize:S}=t,k=w-S;return b?Math.max(Math.round(h(e)),k):k}),i=T(()=>h(o)+(t.fixed?t.vScrollbarSize:0)),a=T(()=>{const{height:b=0,maxHeight:w=0,footerHeight:S,hScrollbarSize:k}=t;if(w>0){const A=h(m),x=h(l),R=h(p)+A+x+k;return Math.min(R,w-S)}return b-S}),l=T(()=>{const{rowHeight:b,estimatedRowHeight:w}=t,S=h(n);return it(w)?S.length*w:S.length*b}),c=T(()=>{const{maxHeight:b}=t,w=h(a);if(it(b)&&b>0)return w;const S=h(l)+h(p)+h(m);return Math.min(w,S)}),u=b=>b.width,d=T(()=>eg(h(r).map(u))),f=T(()=>eg(h(s).map(u))),p=T(()=>eg(t.headerHeight)),m=T(()=>{var b;return(((b=t.fixedData)==null?void 0:b.length)||0)*t.rowHeight}),g=T(()=>h(a)-h(p)-h(m)),v=T(()=>{const{style:b={},height:w,width:S}=t;return ra({...b,height:w,width:S})}),y=T(()=>ra({height:t.footerHeight})),C=T(()=>({top:xn(h(p)),bottom:xn(t.footerHeight),width:xn(t.width)}));return{bodyWidth:o,fixedTableHeight:c,mainTableHeight:a,leftTableWidth:d,rightTableWidth:f,headerWidth:i,rowsHeight:l,windowHeight:g,footerHeight:y,emptyStyle:C,rootStyle:v,headerHeight:p}},Bge=t=>{const e=D(),n=D(0),r=D(0);let s;return lt(()=>{s=Sr(e,([o])=>{const{width:i,height:a}=o.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:u,paddingBottom:d}=getComputedStyle(o.target),f=Number.parseInt(l)||0,p=Number.parseInt(c)||0,m=Number.parseInt(u)||0,g=Number.parseInt(d)||0;n.value=i-f-p,r.value=a-m-g}).stop}),ln(()=>{s==null||s()}),Ee([n,r],([o,i])=>{var a;(a=t.onResize)==null||a.call(t,{width:o,height:i})}),{sizer:e,width:n,height:r}};function Fge(t){const e=D(),n=D(),r=D(),{columns:s,columnsStyles:o,columnsTotalWidth:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:d}=Nge(t,pn(t,"columns"),pn(t,"fixed")),{scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:g,onScroll:v,onVerticalScroll:y,scrollPos:C}=$ge(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:j}),{expandedRowKeys:b,hoveringRowKey:w,lastRenderedRowIndex:S,isDynamic:k,isResetting:A,rowHeights:x,resetAfterIndex:N,onRowExpanded:R,onRowHeightChange:H,onRowHovered:P,onRowsRendered:B}=Rge(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:j}),{data:V,depthMap:z}=Dge(t,{expandedRowKeys:b,lastRenderedRowIndex:S,resetAfterIndex:N}),{bodyWidth:M,fixedTableHeight:_,mainTableHeight:O,leftTableWidth:$,rightTableWidth:K,headerWidth:J,rowsHeight:W,windowHeight:se,footerHeight:ve,emptyStyle:Y,rootStyle:fe,headerHeight:X}=Lge(t,{columnsTotalWidth:i,data:V,fixedColumnsOnLeft:a,fixedColumnsOnRight:l}),G=en(!1),ue=D(),ye=T(()=>{const ne=h(V).length===0;return Be(t.fixedData)?t.fixedData.length===0&&ne:ne});function Ae(ne){const{estimatedRowHeight:ge,rowHeight:Se,rowKey:_e}=t;return ge?h(x)[h(V)[ne][_e]]||ge:Se}function j(){const{onEndReached:ne}=t;if(!ne)return;const{scrollTop:ge}=h(C),Se=h(W),_e=h(se),Q=Se-(ge+_e)+t.hScrollbarSize;h(S)>=0&&Se===ge+h(O)-h(X)&&ne(Q)}return Ee(()=>t.expandedRowKeys,ne=>b.value=ne,{deep:!0}),{columns:s,containerRef:ue,mainTableRef:e,leftTableRef:n,rightTableRef:r,isDynamic:k,isResetting:A,isScrolling:G,hoveringRowKey:w,hasFixedColumns:c,columnsStyles:o,columnsTotalWidth:i,data:V,expandedRowKeys:b,depthMap:z,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:M,emptyStyle:Y,rootStyle:fe,headerWidth:J,footerHeight:ve,mainTableHeight:O,fixedTableHeight:_,leftTableWidth:$,rightTableWidth:K,showEmpty:ye,getRowHeight:Ae,onColumnSorted:d,onRowHovered:P,onRowExpanded:R,onRowsRendered:B,onRowHeightChange:H,scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:g,onScroll:v,onVerticalScroll:y}}const fk=Symbol("tableV2"),fL=String,dp={type:me(Array),required:!0},hk={type:me(Array)},hL={...hk,required:!0},Vge=String,RI={type:me(Array),default:()=>un([])},dl={type:Number,required:!0},pL={type:me([String,Number,Symbol]),default:"id"},DI={type:me(Object)},kl=Pe({class:String,columns:dp,columnsStyles:{type:me(Object),required:!0},depth:Number,expandColumnKey:Vge,estimatedRowHeight:{...Ol.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:me(Function)},onRowHover:{type:me(Function)},onRowHeightChange:{type:me(Function)},rowData:{type:me(Object),required:!0},rowEventHandlers:{type:me(Object)},rowIndex:{type:Number,required:!0},rowKey:pL,style:{type:me(Object)}}),Qb={type:Number,required:!0},pk=Pe({class:String,columns:dp,fixedHeaderData:{type:me(Array)},headerData:{type:me(Array),required:!0},headerHeight:{type:me([Number,Array]),default:50},rowWidth:Qb,rowHeight:{type:Number,default:50},height:Qb,width:Qb}),tg=Pe({columns:dp,data:hL,fixedData:hk,estimatedRowHeight:kl.estimatedRowHeight,width:dl,height:dl,headerWidth:dl,headerHeight:pk.headerHeight,bodyWidth:dl,rowHeight:dl,cache:FP.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Ol.scrollbarAlwaysOn,scrollbarStartGap:Ol.scrollbarStartGap,scrollbarEndGap:Ol.scrollbarEndGap,class:fL,style:DI,containerStyle:DI,getRowHeight:{type:me(Function),required:!0},rowKey:kl.rowKey,onRowsRendered:{type:me(Function)},onScroll:{type:me(Function)}}),zge=Pe({cache:tg.cache,estimatedRowHeight:kl.estimatedRowHeight,rowKey:pL,headerClass:{type:me([String,Function])},headerProps:{type:me([Object,Function])},headerCellProps:{type:me([Object,Function])},headerHeight:pk.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:me([String,Function])},rowProps:{type:me([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:me([Object,Function])},columns:dp,data:hL,dataGetter:{type:me(Function)},fixedData:hk,expandColumnKey:kl.expandColumnKey,expandedRowKeys:RI,defaultExpandedRowKeys:RI,class:fL,fixed:Boolean,style:{type:me(Object)},width:dl,height:dl,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Ol.hScrollbarSize,vScrollbarSize:Ol.vScrollbarSize,scrollbarAlwaysOn:HP.alwaysOn,sortBy:{type:me(Object),default:()=>({})},sortState:{type:me(Object),default:void 0},onColumnSort:{type:me(Function)},onExpandedRowsChange:{type:me(Function)},onEndReached:{type:me(Function)},onRowExpand:kl.onRowExpand,onScroll:tg.onScroll,onRowsRendered:tg.onRowsRendered,rowEventHandlers:kl.rowEventHandlers}),mk=(t,{slots:e})=>{var n;const{cellData:r,style:s}=t,o=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"";return q("div",{class:t.class,title:o,style:s},[e.default?e.default(t):o])};mk.displayName="ElTableV2Cell";mk.inheritAttrs=!1;const gk=(t,{slots:e})=>{var n,r;return e.default?e.default(t):q("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(r=t.column)==null?void 0:r.title])};gk.displayName="ElTableV2HeaderCell";gk.inheritAttrs=!1;const Hge=Pe({class:String,columns:dp,columnsStyles:{type:me(Object),required:!0},headerIndex:Number,style:{type:me(Object)}}),Kge=te({name:"ElTableV2HeaderRow",props:Hge,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:r,headerIndex:s,style:o}=t;let i=n.map((a,l)=>e.cell({columns:n,column:a,columnIndex:l,headerIndex:s,style:r[a.key]}));return e.header&&(i=e.header({cells:i.map(a=>Be(a)&&a.length===1?a[0]:a),columns:n,headerIndex:s})),q("div",{class:t.class,style:o},[i])}}}),Uge="ElTableV2Header",jge=te({name:Uge,props:pk,setup(t,{slots:e,expose:n}){const r=ke("table-v2"),s=D(),o=T(()=>ra({width:t.width,height:t.height})),i=T(()=>ra({width:t.rowWidth,height:t.height})),a=T(()=>Ou(h(t.headerHeight))),l=d=>{const f=h(s);ze(()=>{f!=null&&f.scroll&&f.scroll({left:d})})},c=()=>{const d=r.e("fixed-header-row"),{columns:f,fixedHeaderData:p,rowHeight:m}=t;return p==null?void 0:p.map((g,v)=>{var y;const C=ra({height:m,width:"100%"});return(y=e.fixed)==null?void 0:y.call(e,{class:d,columns:f,rowData:g,rowIndex:-(v+1),style:C})})},u=()=>{const d=r.e("dynamic-header-row"),{columns:f}=t;return h(a).map((p,m)=>{var g;const v=ra({width:"100%",height:p});return(g=e.dynamic)==null?void 0:g.call(e,{class:d,columns:f,headerIndex:m,style:v})})};return n({scrollToLeft:l}),()=>{if(!(t.height<=0))return q("div",{ref:s,class:t.class,style:h(o)},[q("div",{style:h(i),class:r.e("header")},[u(),c()])])}}}),Wge=t=>{const{isScrolling:e}=Fe(fk),n=D(!1),r=D(),s=T(()=>it(t.estimatedRowHeight)&&t.rowIndex>=0),o=(l=!1)=>{const c=h(r);if(!c)return;const{columns:u,onRowHeightChange:d,rowKey:f,rowIndex:p,style:m}=t,{height:g}=c.getBoundingClientRect();n.value=!0,ze(()=>{if(l||g!==Number.parseInt(m.height)){const v=u[0],y=(v==null?void 0:v.placeholderSign)===mh;d==null||d({rowKey:f,height:g,rowIndex:p},v&&!y&&v.fixed)}})},i=T(()=>{const{rowData:l,rowIndex:c,rowKey:u,onRowHover:d}=t,f=t.rowEventHandlers||{},p={};return Object.entries(f).forEach(([m,g])=>{et(g)&&(p[m]=v=>{g({event:v,rowData:l,rowIndex:c,rowKey:u})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:m,hovered:g})=>{const v=p[m];p[m]=y=>{d({event:y,hovered:g,rowData:l,rowIndex:c,rowKey:u}),v==null||v(y)}}),p}),a=l=>{const{onRowExpand:c,rowData:u,rowIndex:d,rowKey:f}=t;c==null||c({expanded:l,rowData:u,rowIndex:d,rowKey:f})};return lt(()=>{h(s)&&o(!0)}),{isScrolling:e,measurable:s,measured:n,rowRef:r,eventHandlers:i,onExpand:a}},qge="ElTableV2TableRow",Gge=te({name:qge,props:kl,setup(t,{expose:e,slots:n,attrs:r}){const{eventHandlers:s,isScrolling:o,measurable:i,measured:a,rowRef:l,onExpand:c}=Wge(t);return e({onExpand:c}),()=>{const{columns:u,columnsStyles:d,expandColumnKey:f,depth:p,rowData:m,rowIndex:g,style:v}=t;let y=u.map((C,b)=>{const w=Be(m.children)&&m.children.length>0&&C.key===f;return n.cell({column:C,columns:u,columnIndex:b,depth:p,style:d[C.key],rowData:m,rowIndex:g,isScrolling:h(o),expandIconProps:w?{rowData:m,rowIndex:g,onExpand:c}:void 0})});if(n.row&&(y=n.row({cells:y.map(C=>Be(C)&&C.length===1?C[0]:C),style:v,columns:u,depth:p,rowData:m,rowIndex:g,isScrolling:h(o)})),h(i)){const{height:C,...b}=v||{},w=h(a);return q("div",wt({ref:l,class:t.class,style:w?v:b},r,h(s)),[y])}return q("div",wt(r,{ref:l,class:t.class,style:v},h(s)),[y])}}}),Yge=t=>{const{sortOrder:e}=t;return q(Ue,{size:14,class:t.class},{default:()=>[e===hh.ASC?q(FX,null,null):q($X,null,null)]})},Xge=t=>{const{expanded:e,expandable:n,onExpand:r,style:s,size:o}=t,i={onClick:n?()=>r(!e):void 0,class:t.class};return q(Ue,wt(i,{size:o,style:s}),{default:()=>[q($r,null,null)]})},Jge="ElTableV2Grid",Qge=t=>{const e=D(),n=D(),r=T(()=>{const{data:g,rowHeight:v,estimatedRowHeight:y}=t;if(!y)return g.length*v}),s=T(()=>{const{fixedData:g,rowHeight:v}=t;return((g==null?void 0:g.length)||0)*v}),o=T(()=>eg(t.headerHeight)),i=T(()=>{const{height:g}=t;return Math.max(0,g-h(o)-h(s))}),a=T(()=>h(o)+h(s)>0),l=({data:g,rowIndex:v})=>g[v][t.rowKey];function c({rowCacheStart:g,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:C}){var b;(b=t.onRowsRendered)==null||b.call(t,{rowCacheStart:g,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:C})}function u(g,v){var y;(y=n.value)==null||y.resetAfterRowIndex(g,v)}function d(g,v){const y=h(e),C=h(n);!y||!C||(Ct(g)?(y.scrollToLeft(g.scrollLeft),C.scrollTo(g)):(y.scrollToLeft(g),C.scrollTo({scrollLeft:g,scrollTop:v})))}function f(g){var v;(v=h(n))==null||v.scrollTo({scrollTop:g})}function p(g,v){var y;(y=h(n))==null||y.scrollToItem(g,1,v)}function m(){var g,v;(g=h(n))==null||g.$forceUpdate(),(v=h(e))==null||v.$forceUpdate()}return{bodyRef:n,forceUpdate:m,fixedRowHeight:s,gridHeight:i,hasHeader:a,headerHeight:o,headerRef:e,totalHeight:r,itemKey:l,onItemRendered:c,resetAfterRowIndex:u,scrollTo:d,scrollToTop:f,scrollToRow:p}},vk=te({name:Jge,props:tg,setup(t,{slots:e,expose:n}){const{ns:r}=Fe(fk),{bodyRef:s,fixedRowHeight:o,gridHeight:i,hasHeader:a,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:p,resetAfterRowIndex:m,scrollTo:g,scrollToTop:v,scrollToRow:y}=Qge(t);n({forceUpdate:d,totalHeight:u,scrollTo:g,scrollToTop:v,scrollToRow:y,resetAfterRowIndex:m});const C=()=>t.bodyWidth;return()=>{const{cache:b,columns:w,data:S,fixedData:k,useIsScrolling:A,scrollbarAlwaysOn:x,scrollbarEndGap:N,scrollbarStartGap:R,style:H,rowHeight:P,bodyWidth:B,estimatedRowHeight:V,headerWidth:z,height:M,width:_,getRowHeight:O,onScroll:$}=t,K=it(V),J=K?zhe:Lhe,W=h(c);return q("div",{role:"table",class:[r.e("table"),t.class],style:H},[q(J,{ref:s,data:S,useIsScrolling:A,itemKey:f,columnCache:0,columnWidth:K?C:B,totalColumn:1,totalRow:S.length,rowCache:b,rowHeight:K?O:P,width:_,height:h(i),class:r.e("body"),scrollbarStartGap:R,scrollbarEndGap:N,scrollbarAlwaysOn:x,onScroll:$,onItemRendered:p,perfMode:!1},{default:se=>{var ve;const Y=S[se.rowIndex];return(ve=e.row)==null?void 0:ve.call(e,{...se,columns:w,rowData:Y})}}),h(a)&&q(jge,{ref:l,class:r.e("header-wrapper"),columns:w,headerData:S,headerHeight:t.headerHeight,fixedHeaderData:k,rowWidth:z,rowHeight:P,width:_,height:Math.min(W+h(o),M)},{dynamic:e.header,fixed:e.row})])}}});function Zge(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!fn(t)}const eve=(t,{slots:e})=>{const{mainTableRef:n,...r}=t;return q(vk,wt({ref:n},r),Zge(e)?e:{default:()=>[e]})};function tve(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!fn(t)}const nve=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...r}=t;return q(vk,wt({ref:n},r),tve(e)?e:{default:()=>[e]})};function rve(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!fn(t)}const sve=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...r}=t;return q(vk,wt({ref:n},r),rve(e)?e:{default:()=>[e]})};function ove(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!fn(t)}const ive=(t,{slots:e})=>{const{columns:n,columnsStyles:r,depthMap:s,expandColumnKey:o,expandedRowKeys:i,estimatedRowHeight:a,hasFixedColumns:l,hoveringRowKey:c,rowData:u,rowIndex:d,style:f,isScrolling:p,rowProps:m,rowClass:g,rowKey:v,rowEventHandlers:y,ns:C,onRowHovered:b,onRowExpanded:w}=t,S=Xl(g,{columns:n,rowData:u,rowIndex:d},""),k=Xl(m,{columns:n,rowData:u,rowIndex:d}),A=u[v],x=s[A]||0,N=Boolean(o),R=d<0,H=[C.e("row"),S,{[C.e(`row-depth-${x}`)]:N&&d>=0,[C.is("expanded")]:N&&i.includes(A),[C.is("hovered")]:!p&&A===c,[C.is("fixed")]:!x&&R,[C.is("customized")]:Boolean(e.row)}],P=l?b:void 0,B={...k,columns:n,columnsStyles:r,class:H,depth:x,expandColumnKey:o,estimatedRowHeight:R?void 0:a,isScrolling:p,rowIndex:d,rowData:u,rowKey:A,rowEventHandlers:y,style:f};return q(Gge,wt(B,{onRowHover:P,onRowExpand:w}),ove(e)?e:{default:()=>[e]})},i1=({columns:t,column:e,columnIndex:n,depth:r,expandIconProps:s,isScrolling:o,rowData:i,rowIndex:a,style:l,expandedRowKeys:c,ns:u,cellProps:d,expandColumnKey:f,indentSize:p,iconSize:m,rowKey:g},{slots:v})=>{const y=ra(l);if(e.placeholderSign===mh)return q("div",{class:u.em("row-cell","placeholder"),style:y},null);const{cellRenderer:C,dataKey:b,dataGetter:w}=e,k=dL(C)||v.default||(M=>q(mk,M,null)),A=et(w)?w({columns:t,column:e,columnIndex:n,rowData:i,rowIndex:a}):cn(i,b!=null?b:""),x=Xl(d,{cellData:A,columns:t,column:e,columnIndex:n,rowIndex:a,rowData:i}),N={class:u.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:A,isScrolling:o,rowData:i,rowIndex:a},R=k(N),H=[u.e("row-cell"),e.align===ph.CENTER&&u.is("align-center"),e.align===ph.RIGHT&&u.is("align-right")],P=a>=0&&e.key===f,B=a>=0&&c.includes(i[g]);let V;const z=`margin-inline-start: ${r*p}px;`;return P&&(Ct(s)?V=q(Xge,wt(s,{class:[u.e("expand-icon"),u.is("expanded",B)],size:m,expanded:B,style:z,expandable:!0}),null):V=q("div",{style:[z,`width: ${m}px; height: ${m}px;`].join(" ")},null)),q("div",wt({class:H,style:y},x),[V,R])};i1.inheritAttrs=!1;function ave(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!fn(t)}const lve=({columns:t,columnsStyles:e,headerIndex:n,style:r,headerClass:s,headerProps:o,ns:i},{slots:a})=>{const l={columns:t,headerIndex:n},c=[i.e("header-row"),Xl(s,l,""),{[i.is("customized")]:Boolean(a.header)}],u={...Xl(o,l),columnsStyles:e,class:c,columns:t,headerIndex:n,style:r};return q(Kge,u,ave(a)?a:{default:()=>[a]})},PI=(t,{slots:e})=>{const{column:n,ns:r,style:s,onColumnSorted:o}=t,i=ra(s);if(n.placeholderSign===mh)return q("div",{class:r.em("header-row-cell","placeholder"),style:i},null);const{headerCellRenderer:a,headerClass:l,sortable:c}=n,u={...t,class:r.e("header-cell-text")},f=(dL(a)||e.default||(w=>q(gk,w,null)))(u),{sortBy:p,sortState:m,headerCellProps:g}=t;let v,y;if(m){const w=m[n.key];v=Boolean(o1[w]),y=v?w:hh.ASC}else v=n.key===p.key,y=v?p.order:hh.ASC;const C=[r.e("header-cell"),Xl(l,t,""),n.align===ph.CENTER&&r.is("align-center"),n.align===ph.RIGHT&&r.is("align-right"),c&&r.is("sortable")],b={...Xl(g,t),onClick:n.sortable?o:void 0,class:C,style:i,["data-key"]:n.key};return q("div",b,[f,c&&q(Yge,{class:[r.e("sort-icon"),v&&r.is("sorting")],sortOrder:y},null)])},mL=(t,{slots:e})=>{var n;return q("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};mL.displayName="ElTableV2Footer";const gL=(t,{slots:e})=>q("div",{class:t.class,style:t.style},[e.default?e.default():q(kP,null,null)]);gL.displayName="ElTableV2Empty";const vL=(t,{slots:e})=>{var n;return q("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};vL.displayName="ElTableV2Overlay";function Bd(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!fn(t)}const cve="ElTableV2",uve=te({name:cve,props:zge,setup(t,{slots:e,expose:n}){const r=ke("table-v2"),{columnsStyles:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:i,mainColumns:a,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:d,data:f,depthMap:p,expandedRowKeys:m,hasFixedColumns:g,hoveringRowKey:v,mainTableRef:y,leftTableRef:C,rightTableRef:b,isDynamic:w,isResetting:S,isScrolling:k,bodyWidth:A,emptyStyle:x,rootStyle:N,headerWidth:R,footerHeight:H,showEmpty:P,scrollTo:B,scrollToLeft:V,scrollToTop:z,scrollToRow:M,getRowHeight:_,onColumnSorted:O,onRowHeightChange:$,onRowHovered:K,onRowExpanded:J,onRowsRendered:W,onScroll:se,onVerticalScroll:ve}=Fge(t);return n({scrollTo:B,scrollToLeft:V,scrollToTop:z,scrollToRow:M}),yt(fk,{ns:r,isResetting:S,hoveringRowKey:v,isScrolling:k}),()=>{const{cache:Y,cellProps:fe,estimatedRowHeight:X,expandColumnKey:G,fixedData:ue,headerHeight:ye,headerClass:Ae,headerProps:j,headerCellProps:ne,sortBy:ge,sortState:Se,rowHeight:_e,rowClass:Q,rowEventHandlers:Me,rowKey:pe,rowProps:ee,scrollbarAlwaysOn:de,indentSize:le,iconSize:Te,useIsScrolling:Le,vScrollbarSize:ae,width:we}=t,$e=h(f),De={cache:Y,class:r.e("main"),columns:h(a),data:$e,fixedData:ue,estimatedRowHeight:X,bodyWidth:h(A),headerHeight:ye,headerWidth:h(R),height:h(l),mainTableRef:y,rowKey:pe,rowHeight:_e,scrollbarAlwaysOn:de,scrollbarStartGap:2,scrollbarEndGap:ae,useIsScrolling:Le,width:we,getRowHeight:_,onRowsRendered:W,onScroll:se},ie=h(u),Ie=h(c),je={cache:Y,class:r.e("left"),columns:h(o),data:$e,estimatedRowHeight:X,leftTableRef:C,rowHeight:_e,bodyWidth:ie,headerWidth:ie,headerHeight:ye,height:Ie,rowKey:pe,scrollbarAlwaysOn:de,scrollbarStartGap:2,scrollbarEndGap:ae,useIsScrolling:Le,width:ie,getRowHeight:_,onScroll:ve},oe=h(d)+ae,Z={cache:Y,class:r.e("right"),columns:h(i),data:$e,estimatedRowHeight:X,rightTableRef:b,rowHeight:_e,bodyWidth:oe,headerWidth:oe,headerHeight:ye,height:Ie,rowKey:pe,scrollbarAlwaysOn:de,scrollbarStartGap:2,scrollbarEndGap:ae,width:oe,style:`--${h(r.namespace)}-table-scrollbar-size: ${ae}px`,useIsScrolling:Le,getRowHeight:_,onScroll:ve},be=h(s),Ke={ns:r,depthMap:h(p),columnsStyles:be,expandColumnKey:G,expandedRowKeys:h(m),estimatedRowHeight:X,hasFixedColumns:h(g),hoveringRowKey:h(v),rowProps:ee,rowClass:Q,rowKey:pe,rowEventHandlers:Me,onRowHovered:K,onRowExpanded:J,onRowHeightChange:$},at={cellProps:fe,expandColumnKey:G,indentSize:le,iconSize:Te,rowKey:pe,expandedRowKeys:h(m),ns:r},St={ns:r,headerClass:Ae,headerProps:j,columnsStyles:be},Yt={ns:r,sortBy:ge,sortState:Se,headerCellProps:ne,onColumnSorted:O},At={row:Qe=>q(ive,wt(Qe,Ke),{row:e.row,cell:bt=>{let Vt;return e.cell?q(i1,wt(bt,at,{style:be[bt.column.key]}),Bd(Vt=e.cell(bt))?Vt:{default:()=>[Vt]}):q(i1,wt(bt,at,{style:be[bt.column.key]}),null)}}),header:Qe=>q(lve,wt(Qe,St),{header:e.header,cell:bt=>{let Vt;return e["header-cell"]?q(PI,wt(bt,Yt,{style:be[bt.column.key]}),Bd(Vt=e["header-cell"](bt))?Vt:{default:()=>[Vt]}):q(PI,wt(bt,Yt,{style:be[bt.column.key]}),null)}})},_t=[t.class,r.b(),r.e("root"),{[r.is("dynamic")]:h(w)}],xe={class:r.e("footer"),style:h(H)};return q("div",{class:_t,style:h(N)},[q(eve,De,Bd(At)?At:{default:()=>[At]}),q(nve,je,Bd(At)?At:{default:()=>[At]}),q(sve,Z,Bd(At)?At:{default:()=>[At]}),e.footer&&q(mL,xe,{default:e.footer}),h(P)&&q(gL,{class:r.e("empty"),style:h(x)},{default:e.empty}),e.overlay&&q(vL,{class:r.e("overlay")},{default:e.overlay})])}}}),dve=Pe({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:me(Function)}}),fve=te({name:"ElAutoResizer",props:dve,setup(t,{slots:e}){const n=ke("auto-resizer"),{height:r,width:s,sizer:o}=Bge(t),i={width:"100%",height:"100%"};return()=>{var a;return q("div",{ref:o,class:n.b(),style:i},[(a=e.default)==null?void 0:a.call(e,{height:r.value,width:s.value})])}}}),hve=mt(uve),pve=mt(fve),mve=Pe({tabs:{type:me(Array),default:()=>un([])}}),yL="ElTabBar",gve=te({name:yL}),vve=te({...gve,props:mve,setup(t,{expose:e}){const n=t,r=ht(),s=Fe(oy);s||Rn(yL,"<el-tabs><el-tab-bar /></el-tabs>");const o=ke("tabs"),i=D(),a=D(),l=()=>{let u=0,d=0;const f=["top","bottom"].includes(s.props.tabPosition)?"width":"height",p=f==="width"?"x":"y";return n.tabs.every(m=>{var g,v,y,C;const b=(v=(g=r.parent)==null?void 0:g.refs)==null?void 0:v[`tab-${m.uid}`];if(!b)return!1;if(!m.active)return!0;d=b[`client${Ns(f)}`];const w=p==="x"?"left":"top";u=b[`offset${Ns(w)}`]-((C=(y=b.parentElement)==null?void 0:y[`offset${Ns(w)}`])!=null?C:0);const S=b.closest(".is-scrollable");if(S){const A=window.getComputedStyle(S);u+=Number.parseFloat(A[`padding${Ns(w)}`])}const k=window.getComputedStyle(b);return f==="width"&&(n.tabs.length>1&&(d-=Number.parseFloat(k.paddingLeft)+Number.parseFloat(k.paddingRight)),u+=Number.parseFloat(k.paddingLeft)),!1}),{[f]:`${d}px`,transform:`translate${Ns(p)}(${u}px)`}},c=()=>a.value=l();return Ee(()=>n.tabs,async()=>{await ze(),c()},{immediate:!0}),Sr(i,()=>c()),e({ref:i,update:c}),(u,d)=>(E(),F("div",{ref_key:"barRef",ref:i,class:I([h(o).e("active-bar"),h(o).is(h(s).props.tabPosition)]),style:Ge(a.value)},null,6))}});var yve=Re(vve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const bve=Pe({panes:{type:me(Array),default:()=>un([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),wve={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},LI="ElTabNav",Cve=te({name:LI,props:bve,emits:wve,setup(t,{expose:e,emit:n}){const r=ht(),s=Fe(oy);s||Rn(LI,"<el-tabs><tab-nav /></el-tabs>");const o=ke("tabs"),i=B9(),a=G9(),l=D(),c=D(),u=D(),d=D(!1),f=D(0),p=D(!1),m=D(!0),g=T(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),v=T(()=>({transform:`translate${g.value==="width"?"X":"Y"}(-${f.value}px)`})),y=()=>{if(!l.value)return;const x=l.value[`offset${Ns(g.value)}`],N=f.value;if(!N)return;const R=N>x?N-x:0;f.value=R},C=()=>{if(!l.value||!c.value)return;const x=c.value[`offset${Ns(g.value)}`],N=l.value[`offset${Ns(g.value)}`],R=f.value;if(x-R<=N)return;const H=x-R>N*2?R+N:x-N;f.value=H},b=async()=>{const x=c.value;if(!d.value||!u.value||!l.value||!x)return;await ze();const N=u.value.querySelector(".is-active");if(!N)return;const R=l.value,H=["top","bottom"].includes(s.props.tabPosition),P=N.getBoundingClientRect(),B=R.getBoundingClientRect(),V=H?x.offsetWidth-B.width:x.offsetHeight-B.height,z=f.value;let M=z;H?(P.left<B.left&&(M=z-(B.left-P.left)),P.right>B.right&&(M=z+P.right-B.right)):(P.top<B.top&&(M=z-(B.top-P.top)),P.bottom>B.bottom&&(M=z+(P.bottom-B.bottom))),M=Math.max(M,0),f.value=Math.min(M,V)},w=()=>{if(!c.value||!l.value)return;const x=c.value[`offset${Ns(g.value)}`],N=l.value[`offset${Ns(g.value)}`],R=f.value;if(N<x){const H=f.value;d.value=d.value||{},d.value.prev=H,d.value.next=H+N<x,x-H<N&&(f.value=x-N)}else d.value=!1,R>0&&(f.value=0)},S=x=>{const N=x.code,{up:R,down:H,left:P,right:B}=Xe;if(![R,H,P,B].includes(N))return;const V=Array.from(x.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),z=V.indexOf(x.target);let M;N===P||N===R?z===0?M=V.length-1:M=z-1:z<V.length-1?M=z+1:M=0,V[M].focus({preventScroll:!0}),V[M].click(),k()},k=()=>{m.value&&(p.value=!0)},A=()=>p.value=!1;return Ee(i,x=>{x==="hidden"?m.value=!1:x==="visible"&&setTimeout(()=>m.value=!0,50)}),Ee(a,x=>{x?setTimeout(()=>m.value=!0,50):m.value=!1}),Sr(u,w),lt(()=>setTimeout(()=>b(),0)),Ei(()=>w()),e({scrollToActiveTab:b,removeFocus:A}),Ee(()=>t.panes,()=>r.update(),{flush:"post"}),()=>{const x=d.value?[q("span",{class:[o.e("nav-prev"),o.is("disabled",!d.value.prev)],onClick:y},[q(Ue,null,{default:()=>[q(Sa,null,null)]})]),q("span",{class:[o.e("nav-next"),o.is("disabled",!d.value.next)],onClick:C},[q(Ue,null,{default:()=>[q($r,null,null)]})])]:null,N=t.panes.map((R,H)=>{var P,B,V,z;const M=R.uid,_=R.props.disabled,O=(B=(P=R.props.name)!=null?P:R.index)!=null?B:`${H}`,$=!_&&(R.isClosable||t.editable);R.index=`${H}`;const K=$?q(Ue,{class:"is-icon-close",onClick:se=>n("tabRemove",R,se)},{default:()=>[q(fo,null,null)]}):null,J=((z=(V=R.slots).label)==null?void 0:z.call(V))||R.props.label,W=!_&&R.active?0:-1;return q("div",{ref:`tab-${M}`,class:[o.e("item"),o.is(s.props.tabPosition),o.is("active",R.active),o.is("disabled",_),o.is("closable",$),o.is("focus",p.value)],id:`tab-${O}`,key:`tab-${M}`,"aria-controls":`pane-${O}`,role:"tab","aria-selected":R.active,tabindex:W,onFocus:()=>k(),onBlur:()=>A(),onClick:se=>{A(),n("tabClick",R,O,se)},onKeydown:se=>{$&&(se.code===Xe.delete||se.code===Xe.backspace)&&n("tabRemove",R,se)}},[J,K])});return q("div",{ref:u,class:[o.e("nav-wrap"),o.is("scrollable",!!d.value),o.is(s.props.tabPosition)]},[x,q("div",{class:o.e("nav-scroll"),ref:l},[q("div",{class:[o.e("nav"),o.is(s.props.tabPosition),o.is("stretch",t.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:c,style:v.value,role:"tablist",onKeydown:S},[t.type?null:q(yve,{tabs:[...t.panes]},null),N])])])}}}),Sve=Pe({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:me(Function),default:()=>!0},stretch:Boolean}),Zb=t=>rt(t)||it(t),kve={[pt]:t=>Zb(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>Zb(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>Zb(t),tabAdd:()=>!0};var Eve=te({name:"ElTabs",props:Sve,emits:kve,setup(t,{emit:e,slots:n,expose:r}){var s,o;const i=ke("tabs"),{children:a,addChild:l,removeChild:c}=RR(ht(),"ElTabPane"),u=D(),d=D((o=(s=t.modelValue)!=null?s:t.activeName)!=null?o:"0"),f=y=>{d.value=y,e(pt,y),e("tabChange",y)},p=async y=>{var C,b,w;if(!(d.value===y||Un(y)))try{await((C=t.beforeLeave)==null?void 0:C.call(t,y,d.value))!==!1&&(f(y),(w=(b=u.value)==null?void 0:b.removeFocus)==null||w.call(b))}catch{}},m=(y,C,b)=>{y.props.disabled||(p(C),e("tabClick",y,b))},g=(y,C)=>{y.props.disabled||Un(y.props.name)||(C.stopPropagation(),e("edit",y.props.name,"remove"),e("tabRemove",y.props.name))},v=()=>{e("edit",void 0,"add"),e("tabAdd")};return vi({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},T(()=>!!t.activeName)),Ee(()=>t.activeName,y=>p(y)),Ee(()=>t.modelValue,y=>p(y)),Ee(d,async()=>{var y;await ze(),(y=u.value)==null||y.scrollToActiveTab()}),yt(oy,{props:t,currentName:d,registerPane:l,unregisterPane:c}),r({currentName:d}),()=>{const y=t.editable||t.addable?q("span",{class:i.e("new-tab"),tabindex:"0",onClick:v,onKeydown:w=>{w.code===Xe.enter&&v()}},[q(Ue,{class:i.is("icon-plus")},{default:()=>[q(Z$,null,null)]})]):null,C=q("div",{class:[i.e("header"),i.is(t.tabPosition)]},[y,q(Cve,{ref:u,currentName:d.value,editable:t.editable,type:t.type,panes:a.value,stretch:t.stretch,onTabClick:m,onTabRemove:g},null)]),b=q("div",{class:i.e("content")},[Ce(n,"default")]);return q("div",{class:[i.b(),i.m(t.tabPosition),{[i.m("card")]:t.type==="card",[i.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[C,b]:[b,C]])}}});const Tve=Pe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),_ve=["id","aria-hidden","aria-labelledby"],bL="ElTabPane",xve=te({name:bL}),Ive=te({...xve,props:Tve,setup(t){const e=t,n=ht(),r=Qn(),s=Fe(oy);s||Rn(bL,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=ke("tab-pane"),i=D(),a=T(()=>e.closable||s.props.closable),l=q_(()=>{var p;return s.currentName.value===((p=e.name)!=null?p:i.value)}),c=D(l.value),u=T(()=>{var p;return(p=e.name)!=null?p:i.value}),d=q_(()=>!e.lazy||c.value||l.value);Ee(l,p=>{p&&(c.value=!0)});const f=Lt({uid:n.uid,slots:r,props:e,paneName:u,active:l,index:i,isClosable:a});return lt(()=>{s.registerPane(f)}),gc(()=>{s.unregisterPane(f.uid)}),(p,m)=>h(d)?ot((E(),F("div",{key:0,id:`pane-${h(u)}`,class:I(h(o).b()),role:"tabpanel","aria-hidden":!h(l),"aria-labelledby":`tab-${h(u)}`},[Ce(p.$slots,"default")],10,_ve)),[[Dt,h(l)]]):ce("v-if",!0)}});var wL=Re(Ive,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Mve=mt(Eve,{TabPane:wL}),Ave=vn(wL),Ove=Pe({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:ns,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:me([String,Object]),default:()=>Q$},clearIcon:{type:me([String,Object]),default:()=>Da}}),ri=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),s=t.toUpperCase();return s.includes("AM")&&n===12?n=0:s.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},e0=(t,e)=>{const n=ri(t);if(!n)return-1;const r=ri(e);if(!r)return-1;const s=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return s===o?0:s>o?1:-1},BI=t=>`${t}`.padStart(2,"0"),Uc=t=>`${BI(t.hours)}:${BI(t.minutes)}`,Nve=(t,e)=>{const n=ri(t);if(!n)return"";const r=ri(e);if(!r)return"";const s={hours:n.hours,minutes:n.minutes};return s.minutes+=r.minutes,s.hours+=r.hours,s.hours+=Math.floor(s.minutes/60),s.minutes=s.minutes%60,Uc(s)},$ve=te({name:"ElTimeSelect"}),Rve=te({...$ve,props:Ove,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:e}){const n=t;ut.extend(WS);const{Option:r}=Yl,s=ke("input"),o=D(),i=ss(),a=T(()=>n.modelValue),l=T(()=>{const v=ri(n.start);return v?Uc(v):null}),c=T(()=>{const v=ri(n.end);return v?Uc(v):null}),u=T(()=>{const v=ri(n.step);return v?Uc(v):null}),d=T(()=>{const v=ri(n.minTime||"");return v?Uc(v):null}),f=T(()=>{const v=ri(n.maxTime||"");return v?Uc(v):null}),p=T(()=>{const v=[];if(n.start&&n.end&&n.step){let y=l.value,C;for(;y&&c.value&&e0(y,c.value)<=0;)C=ut(y,"HH:mm").format(n.format),v.push({value:C,disabled:e0(y,d.value||"-1:-1")<=0||e0(y,f.value||"100:100")>=0}),y=Nve(y,u.value)}return v});return e({blur:()=>{var v,y;(y=(v=o.value)==null?void 0:v.blur)==null||y.call(v)},focus:()=>{var v,y;(y=(v=o.value)==null?void 0:v.focus)==null||y.call(v)}}),(v,y)=>(E(),he(h(Yl),{ref_key:"select",ref:o,"model-value":h(a),disabled:h(i),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"onUpdate:modelValue":y[0]||(y[0]=C=>v.$emit("update:modelValue",C)),onChange:y[1]||(y[1]=C=>v.$emit("change",C)),onBlur:y[2]||(y[2]=C=>v.$emit("blur",C)),onFocus:y[3]||(y[3]=C=>v.$emit("focus",C))},{prefix:re(()=>[v.prefixIcon?(E(),he(h(Ue),{key:0,class:I(h(s).e("prefix-icon"))},{default:re(()=>[(E(),he(kt(v.prefixIcon)))]),_:1},8,["class"])):ce("v-if",!0)]),default:re(()=>[(E(!0),F(Ye,null,Tt(h(p),C=>(E(),he(h(r),{key:C.value,label:C.value,value:C.value,disabled:C.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var ng=Re(Rve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);ng.install=t=>{t.component(ng.name,ng)};const Dve=ng,Pve=Dve,Lve=te({name:"ElTimeline",setup(t,{slots:e}){const n=ke("timeline");return yt("timeline",e),()=>He("ul",{class:[n.b()]},[Ce(e,"default")])}}),Bve=Pe({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:tn},hollow:{type:Boolean,default:!1}}),Fve=te({name:"ElTimelineItem"}),Vve=te({...Fve,props:Bve,setup(t){const e=ke("timeline-item");return(n,r)=>(E(),F("li",{class:I([h(e).b(),{[h(e).e("center")]:n.center}])},[L("div",{class:I(h(e).e("tail"))},null,2),n.$slots.dot?ce("v-if",!0):(E(),F("div",{key:0,class:I([h(e).e("node"),h(e).em("node",n.size||""),h(e).em("node",n.type||""),h(e).is("hollow",n.hollow)]),style:Ge({backgroundColor:n.color})},[n.icon?(E(),he(h(Ue),{key:0,class:I(h(e).e("icon"))},{default:re(()=>[(E(),he(kt(n.icon)))]),_:1},8,["class"])):ce("v-if",!0)],6)),n.$slots.dot?(E(),F("div",{key:1,class:I(h(e).e("dot"))},[Ce(n.$slots,"dot")],2)):ce("v-if",!0),L("div",{class:I(h(e).e("wrapper"))},[!n.hideTimestamp&&n.placement==="top"?(E(),F("div",{key:0,class:I([h(e).e("timestamp"),h(e).is("top")])},Oe(n.timestamp),3)):ce("v-if",!0),L("div",{class:I(h(e).e("content"))},[Ce(n.$slots,"default")],2),!n.hideTimestamp&&n.placement==="bottom"?(E(),F("div",{key:1,class:I([h(e).e("timestamp"),h(e).is("bottom")])},Oe(n.timestamp),3)):ce("v-if",!0)],2)],2))}});var CL=Re(Vve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const zve=mt(Lve,{TimelineItem:CL}),Hve=vn(CL),SL=Pe({nowrap:Boolean});var kL=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(kL||{});const Kve=Object.values(kL),yk=Pe({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:me(Object),default:null}}),Uve=Pe({side:{type:me(String),values:Kve,required:!0}}),jve=["absolute","fixed"],Wve=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],bk=Pe({ariaLabel:String,arrowPadding:{type:me(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:me(String),values:Wve,default:"bottom"},reference:{type:me(Object),default:null},offset:{type:Number,default:8},strategy:{type:me(String),values:jve,default:"absolute"},showArrow:{type:Boolean,default:!1}}),wk=Pe({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:me(Function)},"onUpdate:open":{type:me(Function)}}),Oc={type:me(Function)},Ck=Pe({onBlur:Oc,onClick:Oc,onFocus:Oc,onMouseDown:Oc,onMouseEnter:Oc,onMouseLeave:Oc}),qve=Pe({...wk,...yk,...Ck,...bk,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:me(Object),default:null},teleported:Boolean,to:{type:me(String),default:"body"}}),Gve=te({name:"ElTooltipV2Root"}),Yve=te({...Gve,props:wk,setup(t,{expose:e}){const n=t,r=D(n.defaultOpen),s=D(null),o=T({get:()=>Q9(n.open)?r.value:n.open,set:v=>{var y;r.value=v,(y=n["onUpdate:open"])==null||y.call(n,v)}}),i=T(()=>it(n.delayDuration)&&n.delayDuration>0),{start:a,stop:l}=ql(()=>{o.value=!0},T(()=>n.delayDuration),{immediate:!1}),c=ke("tooltip-v2"),u=ho(),d=()=>{l(),o.value=!0},f=()=>{h(i)?a():d()},p=d,m=()=>{l(),o.value=!1};return Ee(o,v=>{var y;v&&(document.dispatchEvent(new CustomEvent(Db)),p()),(y=n.onOpenChange)==null||y.call(n,v)}),lt(()=>{document.addEventListener(Db,m)}),ln(()=>{l(),document.removeEventListener(Db,m)}),yt(ay,{contentId:u,triggerRef:s,ns:c,onClose:m,onDelayOpen:f,onOpen:p}),e({onOpen:p,onClose:m}),(v,y)=>Ce(v.$slots,"default",{open:h(o)})}});var Xve=Re(Yve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const Jve=te({name:"ElTooltipV2Arrow"}),Qve=te({...Jve,props:{...yk,...Uve},setup(t){const e=t,{ns:n}=Fe(ay),{arrowRef:r}=Fe(bR),s=T(()=>{const{style:o,width:i,height:a}=e,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${i}px`,[`--${l}-tooltip-v2-arrow-height`]:`${a}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${i/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:i/2-1,...o||{}}});return(o,i)=>(E(),F("span",{ref_key:"arrowRef",ref:r,style:Ge(h(s)),class:I(h(n).e("arrow"))},null,6))}});var FI=Re(Qve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const Zve=Pe({style:{type:me([String,Object,Array]),default:()=>({})}}),eye=te({name:"ElVisuallyHidden"}),tye=te({...eye,props:Zve,setup(t){const e=t,n=T(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,s)=>(E(),F("span",wt(r.$attrs,{style:h(n)}),[Ce(r.$slots,"default")],16))}});var nye=Re(tye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const rye=["data-side"],sye=te({name:"ElTooltipV2Content"}),oye=te({...sye,props:{...bk,...SL},setup(t){const e=t,{triggerRef:n,contentId:r}=Fe(ay),s=D(e.placement),o=D(e.strategy),i=D(null),{referenceRef:a,contentRef:l,middlewareData:c,x:u,y:d,update:f}=xQ({placement:s,strategy:o,middleware:T(()=>{const b=[dQ(e.offset)];return e.showArrow&&b.push(IQ({arrowRef:i})),b})}),p=Mi().nextZIndex(),m=ke("tooltip-v2"),g=T(()=>s.value.split("-")[0]),v=T(()=>({position:h(o),top:`${h(d)||0}px`,left:`${h(u)||0}px`,zIndex:p})),y=T(()=>{if(!e.showArrow)return{};const{arrow:b}=h(c);return{[`--${m.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${m.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),C=T(()=>[m.e("content"),m.is("dark",e.effect==="dark"),m.is(h(o)),e.contentClass]);return Ee(i,()=>f()),Ee(()=>e.placement,b=>s.value=b),lt(()=>{Ee(()=>e.reference||n.value,b=>{a.value=b||void 0},{immediate:!0})}),yt(bR,{arrowRef:i}),(b,w)=>(E(),F("div",{ref_key:"contentRef",ref:l,style:Ge(h(v)),"data-tooltip-v2-root":""},[b.nowrap?ce("v-if",!0):(E(),F("div",{key:0,"data-side":h(g),class:I(h(C))},[Ce(b.$slots,"default",{contentStyle:h(v),contentClass:h(C)}),q(h(nye),{id:h(r),role:"tooltip"},{default:re(()=>[b.ariaLabel?(E(),F(Ye,{key:0},[dt(Oe(b.ariaLabel),1)],64)):Ce(b.$slots,"default",{key:1})]),_:3},8,["id"]),Ce(b.$slots,"arrow",{style:Ge(h(y)),side:h(g)})],10,rye))],4))}});var VI=Re(oye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const iye=Pe({setRef:{type:me(Function),required:!0},onlyChild:Boolean});var aye=te({props:iye,setup(t,{slots:e}){const n=D(),r=ny(n,s=>{s?t.setRef(s.nextElementSibling):t.setRef(null)});return()=>{var s;const[o]=((s=e.default)==null?void 0:s.call(e))||[],i=t.onlyChild?NJ(o.children):o.children;return q(Ye,{ref:r},[i])}}});const lye=te({name:"ElTooltipV2Trigger"}),cye=te({...lye,props:{...SL,...Ck},setup(t){const e=t,{onClose:n,onOpen:r,onDelayOpen:s,triggerRef:o,contentId:i}=Fe(ay);let a=!1;const l=C=>{o.value=C},c=()=>{a=!1},u=gn(e.onMouseEnter,s),d=gn(e.onMouseLeave,n),f=gn(e.onMouseDown,()=>{n(),a=!0,document.addEventListener("mouseup",c,{once:!0})}),p=gn(e.onFocus,()=>{a||r()}),m=gn(e.onBlur,n),g=gn(e.onClick,C=>{C.detail===0&&n()}),v={blur:m,click:g,focus:p,mousedown:f,mouseenter:u,mouseleave:d},y=(C,b,w)=>{C&&Object.entries(b).forEach(([S,k])=>{C[w](S,k)})};return Ee(o,(C,b)=>{y(C,v,"addEventListener"),y(b,v,"removeEventListener"),C&&C.setAttribute("aria-describedby",i.value)}),ln(()=>{y(o.value,v,"removeEventListener"),document.removeEventListener("mouseup",c)}),(C,b)=>C.nowrap?(E(),he(h(aye),{key:0,"set-ref":l,"only-child":""},{default:re(()=>[Ce(C.$slots,"default")]),_:3})):(E(),F("button",wt({key:1,ref_key:"triggerRef",ref:o},C.$attrs),[Ce(C.$slots,"default")],16))}});var uye=Re(cye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const dye=te({name:"ElTooltipV2"}),fye=te({...dye,props:qve,setup(t){const n=$n(t),r=Lt(si(n,Object.keys(yk))),s=Lt(si(n,Object.keys(bk))),o=Lt(si(n,Object.keys(wk))),i=Lt(si(n,Object.keys(Ck)));return(a,l)=>(E(),he(Xve,no(Kv(o)),{default:re(({open:c})=>[q(uye,wt(i,{nowrap:""}),{default:re(()=>[Ce(a.$slots,"trigger")]),_:3},16),(E(),he(hd,{to:a.to,disabled:!a.teleported},[a.fullTransition?(E(),he(Sn,no(wt({key:0},a.transitionProps)),{default:re(()=>[a.alwaysOn||c?(E(),he(VI,no(wt({key:0},s)),{arrow:re(({style:u,side:d})=>[a.showArrow?(E(),he(FI,wt({key:0},r,{style:u,side:d}),null,16,["style","side"])):ce("v-if",!0)]),default:re(()=>[Ce(a.$slots,"default")]),_:3},16)):ce("v-if",!0)]),_:2},1040)):(E(),F(Ye,{key:1},[a.alwaysOn||c?(E(),he(VI,no(wt({key:0},s)),{arrow:re(({style:u,side:d})=>[a.showArrow?(E(),he(FI,wt({key:0},r,{style:u,side:d}),null,16,["style","side"])):ce("v-if",!0)]),default:re(()=>[Ce(a.$slots,"default")]),_:3},16)):ce("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var hye=Re(fye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const pye=mt(hye),EL="left-check-change",TL="right-check-change",jc=Pe({data:{type:me(Array),default:()=>[]},titles:{type:me(Array),default:()=>[]},buttonTexts:{type:me(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:me(Function)},leftDefaultChecked:{type:me(Array),default:()=>[]},rightDefaultChecked:{type:me(Array),default:()=>[]},renderContent:{type:me(Function)},modelValue:{type:me(Array),default:()=>[]},format:{type:me(Object),default:()=>({})},filterable:Boolean,props:{type:me(Object),default:()=>un({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),a1=(t,e)=>[t,e].every(Be)||Be(t)&&jn(e),mye={[an]:(t,e,n)=>[t,n].every(Be)&&["left","right"].includes(e),[pt]:t=>Be(t),[EL]:a1,[TL]:a1},l1="checked-change",gye=Pe({data:jc.data,optionRender:{type:me(Function)},placeholder:String,title:String,filterable:Boolean,format:jc.format,filterMethod:jc.filterMethod,defaultChecked:jc.leftDefaultChecked,props:jc.props}),vye={[l1]:a1},fp=t=>{const e={label:"label",key:"key",disabled:"disabled"};return T(()=>({...e,...t.props}))},yye=(t,e,n)=>{const r=fp(t),s=T(()=>t.data.filter(u=>et(t.filterMethod)?t.filterMethod(e.query,u):String(u[r.value.label]||u[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),o=T(()=>s.value.filter(u=>!u[r.value.disabled])),i=T(()=>{const u=e.checked.length,d=t.data.length,{noChecked:f,hasChecked:p}=t.format;return f&&p?u>0?p.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):`${u}/${d}`}),a=T(()=>{const u=e.checked.length;return u>0&&u<o.value.length}),l=()=>{const u=o.value.map(d=>d[r.value.key]);e.allChecked=u.length>0&&u.every(d=>e.checked.includes(d))},c=u=>{e.checked=u?o.value.map(d=>d[r.value.key]):[]};return Ee(()=>e.checked,(u,d)=>{if(l(),e.checkChangeByUser){const f=u.concat(d).filter(p=>!u.includes(p)||!d.includes(p));n(l1,u,f)}else n(l1,u),e.checkChangeByUser=!0}),Ee(o,()=>{l()}),Ee(()=>t.data,()=>{const u=[],d=s.value.map(f=>f[r.value.key]);e.checked.forEach(f=>{d.includes(f)&&u.push(f)}),e.checkChangeByUser=!1,e.checked=u}),Ee(()=>t.defaultChecked,(u,d)=>{if(d&&u.length===d.length&&u.every(m=>d.includes(m)))return;const f=[],p=o.value.map(m=>m[r.value.key]);u.forEach(m=>{p.includes(m)&&f.push(m)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:s,checkableData:o,checkedSummary:i,isIndeterminate:a,updateAllChecked:l,handleAllCheckedChange:c}},bye=(t,e)=>({onSourceCheckedChange:(s,o)=>{t.leftChecked=s,o&&e(EL,s,o)},onTargetCheckedChange:(s,o)=>{t.rightChecked=s,o&&e(TL,s,o)}}),wye=t=>{const e=fp(t),n=T(()=>t.data.reduce((o,i)=>(o[i[e.value.key]]=i)&&o,{})),r=T(()=>t.data.filter(o=>!t.modelValue.includes(o[e.value.key]))),s=T(()=>t.targetOrder==="original"?t.data.filter(o=>t.modelValue.includes(o[e.value.key])):t.modelValue.reduce((o,i)=>{const a=n.value[i];return a&&o.push(a),o},[]));return{sourceData:r,targetData:s}},Cye=(t,e,n)=>{const r=fp(t),s=(a,l,c)=>{n(pt,a),n(an,a,l,c)};return{addToLeft:()=>{const a=t.modelValue.slice();e.rightChecked.forEach(l=>{const c=a.indexOf(l);c>-1&&a.splice(c,1)}),s(a,"left",e.rightChecked)},addToRight:()=>{let a=t.modelValue.slice();const l=t.data.filter(c=>{const u=c[r.value.key];return e.leftChecked.includes(u)&&!t.modelValue.includes(u)}).map(c=>c[r.value.key]);a=t.targetOrder==="unshift"?l.concat(a):a.concat(l),t.targetOrder==="original"&&(a=t.data.filter(c=>a.includes(c[r.value.key])).map(c=>c[r.value.key])),s(a,"right",e.leftChecked)}}},Sye=te({name:"ElTransferPanel"}),kye=te({...Sye,props:gye,emits:vye,setup(t,{expose:e,emit:n}){const r=t,s=Qn(),o=({option:w})=>w,{t:i}=Ft(),a=ke("transfer"),l=Lt({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),c=fp(r),{filteredData:u,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:p}=yye(r,l,n),m=T(()=>!Os(l.query)&&Os(u.value)),g=T(()=>!Os(s.default()[0].children)),{checked:v,allChecked:y,query:C,inputHover:b}=$n(l);return e({query:C}),(w,S)=>(E(),F("div",{class:I(h(a).b("panel"))},[L("p",{class:I(h(a).be("panel","header"))},[q(h(Ws),{modelValue:h(y),"onUpdate:modelValue":S[0]||(S[0]=k=>Jt(y)?y.value=k:null),indeterminate:h(f),"validate-event":!1,onChange:h(p)},{default:re(()=>[dt(Oe(w.title)+" ",1),L("span",null,Oe(h(d)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),L("div",{class:I([h(a).be("panel","body"),h(a).is("with-footer",h(g))])},[w.filterable?(E(),he(h(vr),{key:0,modelValue:h(C),"onUpdate:modelValue":S[1]||(S[1]=k=>Jt(C)?C.value=k:null),class:I(h(a).be("panel","filter")),size:"default",placeholder:w.placeholder,"prefix-icon":h(xX),clearable:"","validate-event":!1,onMouseenter:S[2]||(S[2]=k=>b.value=!0),onMouseleave:S[3]||(S[3]=k=>b.value=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):ce("v-if",!0),ot(q(h(LD),{modelValue:h(v),"onUpdate:modelValue":S[4]||(S[4]=k=>Jt(v)?v.value=k:null),"validate-event":!1,class:I([h(a).is("filterable",w.filterable),h(a).be("panel","list")])},{default:re(()=>[(E(!0),F(Ye,null,Tt(h(u),k=>(E(),he(h(Ws),{key:k[h(c).key],class:I(h(a).be("panel","item")),label:k[h(c).key],disabled:k[h(c).disabled],"validate-event":!1},{default:re(()=>{var A;return[q(o,{option:(A=w.optionRender)==null?void 0:A.call(w,k)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Dt,!h(m)&&!h(Os)(w.data)]]),ot(L("p",{class:I(h(a).be("panel","empty"))},Oe(h(m)?h(i)("el.transfer.noMatch"):h(i)("el.transfer.noData")),3),[[Dt,h(m)||h(Os)(w.data)]])],2),h(g)?(E(),F("p",{key:0,class:I(h(a).be("panel","footer"))},[Ce(w.$slots,"default")],2)):ce("v-if",!0)],2))}});var zI=Re(kye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Eye={key:0},Tye={key:0},_ye=te({name:"ElTransfer"}),xye=te({..._ye,props:jc,emits:mye,setup(t,{expose:e,emit:n}){const r=t,s=Qn(),{t:o}=Ft(),i=ke("transfer"),{formItem:a}=zr(),l=Lt({leftChecked:[],rightChecked:[]}),c=fp(r),{sourceData:u,targetData:d}=wye(r),{onSourceCheckedChange:f,onTargetCheckedChange:p}=bye(l,n),{addToLeft:m,addToRight:g}=Cye(r,l,n),v=D(),y=D(),C=x=>{switch(x){case"left":v.value.query="";break;case"right":y.value.query="";break}},b=T(()=>r.buttonTexts.length===2),w=T(()=>r.titles[0]||o("el.transfer.titles.0")),S=T(()=>r.titles[1]||o("el.transfer.titles.1")),k=T(()=>r.filterPlaceholder||o("el.transfer.filterPlaceholder"));Ee(()=>r.modelValue,()=>{var x;r.validateEvent&&((x=a==null?void 0:a.validate)==null||x.call(a,"change").catch(N=>void 0))});const A=T(()=>x=>r.renderContent?r.renderContent(He,x):s.default?s.default({option:x}):He("span",x[c.value.label]||x[c.value.key]));return e({clearQuery:C,leftPanel:v,rightPanel:y}),(x,N)=>(E(),F("div",{class:I(h(i).b())},[q(zI,{ref_key:"leftPanel",ref:v,data:h(u),"option-render":h(A),placeholder:h(k),title:h(w),filterable:x.filterable,format:x.format,"filter-method":x.filterMethod,"default-checked":x.leftDefaultChecked,props:r.props,onCheckedChange:h(f)},{default:re(()=>[Ce(x.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),L("div",{class:I(h(i).e("buttons"))},[q(h(ar),{type:"primary",class:I([h(i).e("button"),h(i).is("with-texts",h(b))]),disabled:h(Os)(l.rightChecked),onClick:h(m)},{default:re(()=>[q(h(Ue),null,{default:re(()=>[q(h(Sa))]),_:1}),h(Un)(x.buttonTexts[0])?ce("v-if",!0):(E(),F("span",Eye,Oe(x.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),q(h(ar),{type:"primary",class:I([h(i).e("button"),h(i).is("with-texts",h(b))]),disabled:h(Os)(l.leftChecked),onClick:h(g)},{default:re(()=>[h(Un)(x.buttonTexts[1])?ce("v-if",!0):(E(),F("span",Tye,Oe(x.buttonTexts[1]),1)),q(h(Ue),null,{default:re(()=>[q(h($r))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),q(zI,{ref_key:"rightPanel",ref:y,data:h(d),"option-render":h(A),placeholder:h(k),filterable:x.filterable,format:x.format,"filter-method":x.filterMethod,title:h(S),"default-checked":x.rightDefaultChecked,props:r.props,onCheckedChange:h(p)},{default:re(()=>[Ce(x.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Iye=Re(xye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const Mye=mt(Iye),vu="$treeNodeId",HI=function(t,e){!e||e[vu]||Object.defineProperty(e,vu,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Sk=function(t,e){return t?e[t]:e[vu]},c1=(t,e,n)=>{const r=t.value.currentNode;n();const s=t.value.currentNode;r!==s&&e("current-change",s?s.data:null,s)},u1=t=>{let e=!0,n=!0,r=!0;for(let s=0,o=t.length;s<o;s++){const i=t[s];(i.checked!==!0||i.indeterminate)&&(e=!1,i.disabled||(r=!1)),(i.checked!==!1||i.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n}},rg=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:r}=u1(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const s=t.parent;!s||s.level===0||t.store.checkStrictly||rg(s)},rm=function(t,e){const n=t.store.props,r=t.data||{},s=n[e];if(typeof s=="function")return s(r,t);if(typeof s=="string")return r[s];if(typeof s>"u"){const o=r[e];return o===void 0?"":o}};let Aye=0;class Nl{constructor(e){this.id=Aye++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)Et(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const o=rm(this,"isLeaf");typeof o=="boolean"&&(this.isLeafByUser=o)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||HI(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,s=e.key;s&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),s&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||HI(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=rm(this,"children")||[];for(let r=0,s=n.length;r<s;r++)this.insertChild({data:n[r]})}get label(){return rm(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return rm(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Nl)){if(!r){const s=this.getChildren(!0);s.includes(e.data)||(typeof n>"u"||n<0?s.push(e.data):s.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=Lt(new Nl(e)),e instanceof Nl&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const s=this.childNodes.indexOf(e);s>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(s,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let s=this.parent;for(;s.level>0;)s.expanded=!0,s=s.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(s=>{s.canFocus=!0})};this.shouldLoadData()?this.loadData(s=>{Array.isArray(s)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||rg(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,r,s){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:i,allWithoutDisable:a}=u1(this.childNodes);!this.isLeaf&&!i&&a&&(this.checked=!1,e=!1);const l=()=>{if(n){const c=this.childNodes;for(let f=0,p=c.length;f<p;f++){const m=c[f];s=s||e!==!1;const g=m.disabled?m.checked:s;m.setChecked(g,n,!0,s)}const{half:u,all:d}=u1(c);d||(this.checked=d,this.indeterminate=u)}};if(this.shouldLoadData()){this.loadData(()=>{l(),rg(this)},{checked:e!==!1});return}else l()}const o=this.parent;!o||o.level===0||r||rg(o)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let s="children";return r&&(s=r.children||"children"),n[s]===void 0&&(n[s]=null),e&&!n[s]&&(n[s]=[]),n[s]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},s=[];e.forEach((o,i)=>{const a=o[vu];!!a&&n.findIndex(c=>c[vu]===a)>=0?r[a]={index:i,data:o}:s.push({index:i,data:o})}),this.store.lazy||n.forEach(o=>{r[o[vu]]||this.removeChildByData(o)}),s.forEach(({index:o,data:i})=>{this.insertChild({data:i},o)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=s=>{this.childNodes=[],this.doCreateChildren(s,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,s)};this.store.load(this,r)}else e&&e.call(this)}}class Oye{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)Et(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new Nl({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,s=function(o){const i=o.root?o.root.childNodes:o.childNodes;if(i.forEach(a=>{a.visible=n.call(a,e,a.data,a),s(a)}),!o.visible&&i.length){let a=!0;a=!i.some(l=>l.visible),o.root?o.root.visible=a===!1:o.visible=a===!1}!e||o.visible&&!o.isLeaf&&!r&&o.expand()};s(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Nl)return e;const n=Ct(e)?Sk(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const r=this.getNode(n);r.parent.insertBefore({data:e},r)}insertAfter(e,n){const r=this.getNode(n);r.parent.insertAfter({data:e},r)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=n?this.getNode(n):this.root;r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const s=n[r];s&&s.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],s=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(a=>{(a.checked||n&&a.indeterminate)&&(!e||e&&a.isLeaf)&&r.push(a.data),s(a)})};return s(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),n(o)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)Et(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const s=r.childNodes;for(let o=s.length-1;o>=0;o--){const i=s[o];this.remove(i.data)}for(let o=0,i=n.length;o<i;o++){const a=n[o];this.append(a,r.data)}}_setCheckedKeys(e,n=!1,r){const s=this._getAllNodes().sort((a,l)=>l.level-a.level),o=Object.create(null),i=Object.keys(r);s.forEach(a=>a.setChecked(!1,!1));for(let a=0,l=s.length;a<l;a++){const c=s[a],u=c.data[e].toString();if(!i.includes(u)){c.checked&&!o[u]&&c.setChecked(!1,!1);continue}let f=c.parent;for(;f&&f.level>0;)o[f.data[e]]=!0,f=f.parent;if(c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const p=function(m){m.childNodes.forEach(v=>{v.isLeaf||v.setChecked(!1,!1),p(v)})};p(c)}}}setCheckedNodes(e,n=!1){const r=this.key,s={};e.forEach(o=>{s[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,s)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,s={};e.forEach(o=>{s[o]=!0}),this._setCheckedKeys(r,n,s)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const s=this.getNode(e);s&&s.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const r=e[this.key],s=this.nodesMap[r];this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Nye=te({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=ke("tree"),n=Fe("NodeInstance"),r=Fe("RootTree");return()=>{const s=t.node,{data:o,store:i}=s;return t.renderContent?t.renderContent(He,{_self:n,node:s,data:o,store:i}):r.ctx.slots.default?r.ctx.slots.default({node:s,data:o}):He("span",{class:e.be("node","label")},[s.label])}}});var $ye=Re(Nye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function _L(t){const e=Fe("TreeNodeMap",null),n={treeNodeExpand:r=>{t.node!==r&&t.node.collapse()},children:[]};return e&&e.children.push(n),yt("TreeNodeMap",n),{broadcastExpanded:r=>{if(!!t.accordion)for(const s of n.children)s.treeNodeExpand(r)}}}const xL=Symbol("dragEvents");function Rye({props:t,ctx:e,el$:n,dropIndicator$:r,store:s}){const o=ke("tree"),i=D({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return yt(xL,{treeNodeDragStart:({event:u,treeNode:d})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(d.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}i.value.draggingNode=d,e.emit("node-drag-start",d.node,u)},treeNodeDragOver:({event:u,treeNode:d})=>{const f=d,p=i.value.dropNode;p&&p!==f&&Yr(p.$el,o.is("drop-inner"));const m=i.value.draggingNode;if(!m||!f)return;let g=!0,v=!0,y=!0,C=!0;typeof t.allowDrop=="function"&&(g=t.allowDrop(m.node,f.node,"prev"),C=v=t.allowDrop(m.node,f.node,"inner"),y=t.allowDrop(m.node,f.node,"next")),u.dataTransfer.dropEffect=v||g||y?"move":"none",(g||v||y)&&p!==f&&(p&&e.emit("node-drag-leave",m.node,p.node,u),e.emit("node-drag-enter",m.node,f.node,u)),(g||v||y)&&(i.value.dropNode=f),f.node.nextSibling===m.node&&(y=!1),f.node.previousSibling===m.node&&(g=!1),f.node.contains(m.node,!1)&&(v=!1),(m.node===f.node||m.node.contains(f.node))&&(g=!1,v=!1,y=!1);const b=f.$el.getBoundingClientRect(),w=n.value.getBoundingClientRect();let S;const k=g?v?.25:y?.45:1:-1,A=y?v?.75:g?.55:0:1;let x=-9999;const N=u.clientY-b.top;N<b.height*k?S="before":N>b.height*A?S="after":v?S="inner":S="none";const R=f.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),H=r.value;S==="before"?x=R.top-w.top:S==="after"&&(x=R.bottom-w.top),H.style.top=`${x}px`,H.style.left=`${R.right-w.left}px`,S==="inner"?Mo(f.$el,o.is("drop-inner")):Yr(f.$el,o.is("drop-inner")),i.value.showDropIndicator=S==="before"||S==="after",i.value.allowDrop=i.value.showDropIndicator||C,i.value.dropType=S,e.emit("node-drag-over",m.node,f.node,u)},treeNodeDragEnd:u=>{const{draggingNode:d,dropType:f,dropNode:p}=i.value;if(u.preventDefault(),u.dataTransfer.dropEffect="move",d&&p){const m={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?p.node.parent.insertBefore(m,p.node):f==="after"?p.node.parent.insertAfter(m,p.node):f==="inner"&&p.node.insertChild(m),f!=="none"&&s.value.registerNode(m),Yr(p.$el,o.is("drop-inner")),e.emit("node-drag-end",d.node,p.node,f,u),f!=="none"&&e.emit("node-drop",d.node,p.node,f,u)}d&&!p&&e.emit("node-drag-end",d.node,null,f,u),i.value.showDropIndicator=!1,i.value.draggingNode=null,i.value.dropNode=null,i.value.allowDrop=!0}}),{dragState:i}}const Dye=te({name:"ElTreeNode",components:{ElCollapseTransition:my,ElCheckbox:Ws,NodeContent:$ye,ElIcon:Ue,Loading:Pa},props:{node:{type:Nl,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=ke("tree"),{broadcastExpanded:r}=_L(t),s=Fe("RootTree"),o=D(!1),i=D(!1),a=D(null),l=D(null),c=D(null),u=Fe(xL),d=ht();yt("NodeInstance",d),t.node.expanded&&(o.value=!0,i.value=!0);const f=s.props.children||"children";Ee(()=>{const N=t.node.data[f];return N&&[...N]},()=>{t.node.updateChildren()}),Ee(()=>t.node.indeterminate,N=>{g(t.node.checked,N)}),Ee(()=>t.node.checked,N=>{g(N,t.node.indeterminate)}),Ee(()=>t.node.expanded,N=>{ze(()=>o.value=N),N&&(i.value=!0)});const p=N=>Sk(s.props.nodeKey,N.data),m=N=>{const R=t.props.class;if(!R)return{};let H;if(et(R)){const{data:P}=N;H=R(P,N)}else H=R;return rt(H)?{[H]:!0}:H},g=(N,R)=>{(a.value!==N||l.value!==R)&&s.ctx.emit("check-change",t.node.data,N,R),a.value=N,l.value=R},v=N=>{c1(s.store,s.ctx.emit,()=>s.store.value.setCurrentNode(t.node)),s.currentNode.value=t.node,s.props.expandOnClickNode&&C(),s.props.checkOnClickNode&&!t.node.disabled&&b(null,{target:{checked:!t.node.checked}}),s.ctx.emit("node-click",t.node.data,t.node,d,N)},y=N=>{s.instance.vnode.props.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),s.ctx.emit("node-contextmenu",N,t.node.data,t.node,d)},C=()=>{t.node.isLeaf||(o.value?(s.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,d)))},b=(N,R)=>{t.node.setChecked(R.target.checked,!s.props.checkStrictly),ze(()=>{const H=s.store.value;s.ctx.emit("check",t.node.data,{checkedNodes:H.getCheckedNodes(),checkedKeys:H.getCheckedKeys(),halfCheckedNodes:H.getHalfCheckedNodes(),halfCheckedKeys:H.getHalfCheckedKeys()})})};return{ns:n,node$:c,tree:s,expanded:o,childNodeRendered:i,oldChecked:a,oldIndeterminate:l,getNodeKey:p,getNodeClass:m,handleSelectChange:g,handleClick:v,handleContextMenu:y,handleExpandIconClick:C,handleCheckChange:b,handleChildNodeExpand:(N,R,H)=>{r(R),s.ctx.emit("node-expand",N,R,H)},handleDragStart:N=>{!s.props.draggable||u.treeNodeDragStart({event:N,treeNode:t})},handleDragOver:N=>{N.preventDefault(),s.props.draggable&&u.treeNodeDragOver({event:N,treeNode:{$el:c.value,node:t.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{!s.props.draggable||u.treeNodeDragEnd(N)},CaretRight:J$}}}),Pye=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Lye=["aria-expanded"];function Bye(t,e,n,r,s,o){const i=Je("el-icon"),a=Je("el-checkbox"),l=Je("loading"),c=Je("node-content"),u=Je("el-tree-node"),d=Je("el-collapse-transition");return ot((E(),F("div",{ref:"node$",class:I([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[1]||(e[1]=tt((...f)=>t.handleClick&&t.handleClick(...f),["stop"])),onContextmenu:e[2]||(e[2]=(...f)=>t.handleContextMenu&&t.handleContextMenu(...f)),onDragstart:e[3]||(e[3]=tt((...f)=>t.handleDragStart&&t.handleDragStart(...f),["stop"])),onDragover:e[4]||(e[4]=tt((...f)=>t.handleDragOver&&t.handleDragOver(...f),["stop"])),onDragend:e[5]||(e[5]=tt((...f)=>t.handleDragEnd&&t.handleDragEnd(...f),["stop"])),onDrop:e[6]||(e[6]=tt((...f)=>t.handleDrop&&t.handleDrop(...f),["stop"]))},[L("div",{class:I(t.ns.be("node","content")),style:Ge({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(E(),he(i,{key:0,class:I([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:tt(t.handleExpandIconClick,["stop"])},{default:re(()=>[(E(),he(kt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):ce("v-if",!0),t.showCheckbox?(E(),he(a,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=tt(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):ce("v-if",!0),t.node.loading?(E(),he(i,{key:2,class:I([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:re(()=>[q(l)]),_:1},8,["class"])):ce("v-if",!0),q(c,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),q(d,null,{default:re(()=>[!t.renderAfterExpand||t.childNodeRendered?ot((E(),F("div",{key:0,class:I(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(E(!0),F(Ye,null,Tt(t.node.childNodes,f=>(E(),he(u,{key:t.getNodeKey(f),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:f,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Lye)),[[Dt,t.expanded]]):ce("v-if",!0)]),_:1})],42,Pye)),[[Dt,t.node.visible]])}var Fye=Re(Dye,[["render",Bye],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function Vye({el$:t},e){const n=ke("tree"),r=en([]),s=en([]);lt(()=>{i()}),Ei(()=>{r.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),s.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Ee(s,a=>{a.forEach(l=>{l.setAttribute("tabindex","-1")})}),on(t,"keydown",a=>{const l=a.target;if(!l.className.includes(n.b("node")))return;const c=a.code;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const u=r.value.indexOf(l);let d;if([Xe.up,Xe.down].includes(c)){if(a.preventDefault(),c===Xe.up){d=u===-1?0:u!==0?u-1:r.value.length-1;const p=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d--,d===p){d=-1;break}d<0&&(d=r.value.length-1)}}else{d=u===-1?0:u<r.value.length-1?u+1:0;const p=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d++,d===p){d=-1;break}d>=r.value.length&&(d=0)}}d!==-1&&r.value[d].focus()}[Xe.left,Xe.right].includes(c)&&(a.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[Xe.enter,Xe.space].includes(c)&&f&&(a.preventDefault(),f.click())});const i=()=>{var a;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),s.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(a=r.value[0])==null||a.setAttribute("tabindex","0")}}const zye=te({name:"ElTree",components:{ElTreeNode:Fye},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:tn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=Ft(),r=ke("tree"),s=D(new Oye({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));s.value.initialize();const o=D(s.value.root),i=D(null),a=D(null),l=D(null),{broadcastExpanded:c}=_L(t),{dragState:u}=Rye({props:t,ctx:e,el$:a,dropIndicator$:l,store:s});Vye({el$:a},s);const d=T(()=>{const{childNodes:_}=o.value;return!_||_.length===0||_.every(({visible:O})=>!O)});Ee(()=>t.currentNodeKey,_=>{s.value.setCurrentNodeKey(_)}),Ee(()=>t.defaultCheckedKeys,_=>{s.value.setDefaultCheckedKey(_)}),Ee(()=>t.defaultExpandedKeys,_=>{s.value.setDefaultExpandedKeys(_)}),Ee(()=>t.data,_=>{s.value.setData(_)},{deep:!0}),Ee(()=>t.checkStrictly,_=>{s.value.checkStrictly=_});const f=_=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(_)},p=_=>Sk(t.nodeKey,_.data),m=_=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const O=s.value.getNode(_);if(!O)return[];const $=[O.data];let K=O.parent;for(;K&&K!==o.value;)$.push(K.data),K=K.parent;return $.reverse()},g=(_,O)=>s.value.getCheckedNodes(_,O),v=_=>s.value.getCheckedKeys(_),y=()=>{const _=s.value.getCurrentNode();return _?_.data:null},C=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const _=y();return _?_[t.nodeKey]:null},b=(_,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes(_,O)},w=(_,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys(_,O)},S=(_,O,$)=>{s.value.setChecked(_,O,$)},k=()=>s.value.getHalfCheckedNodes(),A=()=>s.value.getHalfCheckedKeys(),x=(_,O=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");c1(s,e.emit,()=>s.value.setUserCurrentNode(_,O))},N=(_,O=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");c1(s,e.emit,()=>s.value.setCurrentNodeKey(_,O))},R=_=>s.value.getNode(_),H=_=>{s.value.remove(_)},P=(_,O)=>{s.value.append(_,O)},B=(_,O)=>{s.value.insertBefore(_,O)},V=(_,O)=>{s.value.insertAfter(_,O)},z=(_,O,$)=>{c(O),e.emit("node-expand",_,O,$)},M=(_,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren(_,O)};return yt("RootTree",{ctx:e,props:t,store:s,root:o,currentNode:i,instance:ht()}),yt(Ho,void 0),{ns:r,store:s,root:o,currentNode:i,dragState:u,el$:a,dropIndicator$:l,isEmpty:d,filter:f,getNodeKey:p,getNodePath:m,getCheckedNodes:g,getCheckedKeys:v,getCurrentNode:y,getCurrentKey:C,setCheckedNodes:b,setCheckedKeys:w,setChecked:S,getHalfCheckedNodes:k,getHalfCheckedKeys:A,setCurrentNode:x,setCurrentKey:N,t:n,getNode:R,remove:H,append:P,insertBefore:B,insertAfter:V,handleNodeExpand:z,updateKeyChildren:M}}});function Hye(t,e,n,r,s,o){var i;const a=Je("el-tree-node");return E(),F("div",{ref:"el$",class:I([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(E(!0),F(Ye,null,Tt(t.root.childNodes,l=>(E(),he(a,{key:t.getNodeKey(l),node:l,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(E(),F("div",{key:0,class:I(t.ns.e("empty-block"))},[L("span",{class:I(t.ns.e("empty-text"))},Oe((i=t.emptyText)!=null?i:t.t("el.tree.emptyText")),3)],2)):ce("v-if",!0),ot(L("div",{ref:"dropIndicator$",class:I(t.ns.e("drop-indicator"))},null,2),[[Dt,t.dragState.showDropIndicator]])],2)}var sg=Re(zye,[["render",Hye],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);sg.install=t=>{t.component(sg.name,sg)};const Kg=sg,Kye=Kg,Uye=(t,{attrs:e},{tree:n,key:r})=>{const s=ke("tree-select"),o={...si($n(t),Object.keys(Yl.props)),...e,valueKey:r,popperClass:T(()=>{const i=[s.e("popper")];return t.popperClass&&i.push(t.popperClass),i.join(" ")}),filterMethod:(i="")=>{t.filterMethod&&t.filterMethod(i),ze(()=>{var a;(a=n.value)==null||a.filter(i)})},onVisibleChange:i=>{var a;(a=e.onVisibleChange)==null||a.call(e,i),t.filterable&&i&&o.filterMethod()}};return o},jye=te({extends:Dg,setup(t,e){const n=Dg.setup(t,e);delete n.selectOptionClick;const r=ht().proxy;return ze(()=>{n.select.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function d1(t){return t||t===0}function kk(t){return Array.isArray(t)&&t.length}function t0(t){return Array.isArray(t)?t:d1(t)?[t]:[]}function og(t,e,n,r,s){for(let o=0;o<t.length;o++){const i=t[o];if(e(i,o,t,s))return r?r(i,o,t,s):i;{const a=n(i);if(kk(a)){const l=og(a,e,n,r,i);if(l)return l}}}}function IL(t,e,n,r){for(let s=0;s<t.length;s++){const o=t[s];e(o,s,t,r);const i=n(o);kk(i)&&IL(i,e,n,o)}}const Wye=(t,{attrs:e,slots:n,emit:r},{select:s,tree:o,key:i})=>{Ee(()=>t.modelValue,()=>{t.showCheckbox&&ze(()=>{const d=o.value;d&&!bs(d.getCheckedKeys(),t0(t.modelValue))&&d.setCheckedKeys(t0(t.modelValue))})},{immediate:!0,deep:!0});const a=T(()=>({value:i.value,...t.props})),l=(d,f)=>{var p;const m=a.value[d];return et(m)?m(f,(p=o.value)==null?void 0:p.getNode(l("value",f))):f[m]},c=t0(t.modelValue).map(d=>og(t.data||[],f=>l("value",f)===d,f=>l("children",f),(f,p,m,g)=>g&&l("value",g))).filter(d=>d1(d)),u=T(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const d=[];return IL(t.data.concat(t.cacheData),f=>{const p=l("value",f);d.push({value:p,currentLabel:l("label",f),isDisabled:l("disabled",f)})},f=>l("children",f)),d});return{...si($n(t),Object.keys(Kg.props)),...e,nodeKey:i,expandOnClickNode:T(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:T(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(c):c),renderContent:(d,{node:f,data:p,store:m})=>d(jye,{value:l("value",p),label:l("label",p),disabled:l("disabled",p)},t.renderContent?()=>t.renderContent(d,{node:f,data:p,store:m}):n.default?()=>n.default({node:f,data:p,store:m}):void 0),filterNodeMethod:(d,f,p)=>{var m;return t.filterNodeMethod?t.filterNodeMethod(d,f,p):d?(m=l("label",f))==null?void 0:m.includes(d):!0},onNodeClick:(d,f,p)=>{var m,g,v;if((m=e.onNodeClick)==null||m.call(e,d,f,p),!(t.showCheckbox&&t.checkOnClickNode))if(!t.showCheckbox&&(t.checkStrictly||f.isLeaf)){if(!l("disabled",d)){const y=(g=s.value)==null?void 0:g.options.get(l("value",d));(v=s.value)==null||v.handleOptionSelect(y,!0)}}else t.expandOnClickNode&&p.proxy.handleExpandIconClick()},onCheck:(d,f)=>{var p;(p=e.onCheck)==null||p.call(e,d,f);const m=l("value",d);if(t.checkStrictly)r(pt,t.multiple?f.checkedKeys:f.checkedKeys.includes(m)?m:void 0);else if(t.multiple)r(pt,o.value.getCheckedKeys(!0));else{const g=og([d],C=>!kk(l("children",C))&&!l("disabled",C),C=>l("children",C)),v=g?l("value",g):void 0,y=d1(t.modelValue)&&!!og([d],C=>l("value",C)===t.modelValue,C=>l("children",C));r(pt,v===t.modelValue||y?void 0:v)}},cacheOptions:u}};var qye=te({props:{data:{type:Array,default:()=>[]}},setup(t){const e=Fe(up);return t.data.forEach(n=>e.cachedOptions.set(n.value,n)),()=>{}}});const Gye=te({name:"ElTreeSelect",inheritAttrs:!1,props:{...Yl.props,...Kg.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:r}=e,s=D(),o=D(),i=T(()=>t.nodeKey||t.valueKey||"value"),a=Uye(t,e,{select:s,tree:o,key:i}),{cacheOptions:l,...c}=Wye(t,e,{select:s,tree:o,key:i}),u=Lt({});return r(u),lt(()=>{Object.assign(u,{...si(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...si(s.value,["focus","blur"])})}),()=>He(Yl,Lt({...a,ref:d=>s.value=d}),{...n,default:()=>[He(qye,{data:l.value}),He(Kg,Lt({...c,ref:d=>o.value=d}))]})}});var ig=Re(Gye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);ig.install=t=>{t.component(ig.name,ig)};const Yye=ig,Xye=Yye,Ek=Symbol(),Jye={key:-1,level:-1,data:{}};var ef=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(ef||{}),f1=(t=>(t.ADD="add",t.DELETE="delete",t))(f1||{});const Qye=Pe({data:{type:me(Array),default:()=>un([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:me(Object),default:()=>un({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:me(Array),default:()=>un([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:me(Array),default:()=>un([])},indent:{type:Number,default:16},icon:{type:tn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:me([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:me(Function)},perfMode:{type:Boolean,default:!0}}),Zye=Pe({node:{type:me(Object),default:()=>un(Jye)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),ebe=Pe({node:{type:me(Object),required:!0}}),ML="node-click",AL="node-expand",OL="node-collapse",NL="current-change",$L="check",RL="check-change",DL="node-contextmenu",tbe={[ML]:(t,e,n)=>t&&e&&n,[AL]:(t,e)=>t&&e,[OL]:(t,e)=>t&&e,[NL]:(t,e)=>t&&e,[$L]:(t,e)=>t&&e,[RL]:(t,e)=>t&&typeof e=="boolean",[DL]:(t,e,n)=>t&&e&&n},nbe={click:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function rbe(t,e){const n=D(new Set),r=D(new Set),{emit:s}=ht();Ee([()=>e.value,()=>t.defaultCheckedKeys],()=>ze(()=>{C(t.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:w}=e.value,S=n.value,k=new Set;for(let A=w-1;A>=1;--A){const x=b.get(A);!x||x.forEach(N=>{const R=N.children;if(R){let H=!0,P=!1;for(const B of R){const V=B.key;if(S.has(V))P=!0;else if(k.has(V)){H=!1,P=!0;break}else H=!1}H?S.add(N.key):P?(k.add(N.key),S.delete(N.key)):(S.delete(N.key),k.delete(N.key))}})}r.value=k},i=b=>n.value.has(b.key),a=b=>r.value.has(b.key),l=(b,w,S=!0)=>{const k=n.value,A=(x,N)=>{k[N?f1.ADD:f1.DELETE](x.key);const R=x.children;!t.checkStrictly&&R&&R.forEach(H=>{H.disabled||A(H,N)})};A(b,w),o(),S&&c(b,w)},c=(b,w)=>{const{checkedNodes:S,checkedKeys:k}=m(),{halfCheckedNodes:A,halfCheckedKeys:x}=g();s($L,b.data,{checkedKeys:k,checkedNodes:S,halfCheckedKeys:x,halfCheckedNodes:A}),s(RL,b.data,w)};function u(b=!1){return m(b).checkedKeys}function d(b=!1){return m(b).checkedNodes}function f(){return g().halfCheckedKeys}function p(){return g().halfCheckedNodes}function m(b=!1){const w=[],S=[];if((e==null?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:k}=e.value;n.value.forEach(A=>{const x=k.get(A);x&&(!b||b&&x.isLeaf)&&(S.push(A),w.push(x.data))})}return{checkedKeys:S,checkedNodes:w}}function g(){const b=[],w=[];if((e==null?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:S}=e.value;r.value.forEach(k=>{const A=S.get(k);A&&(w.push(k),b.push(A.data))})}return{halfCheckedNodes:b,halfCheckedKeys:w}}function v(b){n.value.clear(),r.value.clear(),C(b)}function y(b,w){if((e==null?void 0:e.value)&&t.showCheckbox){const S=e.value.treeNodeMap.get(b);S&&l(S,w,!1)}}function C(b){if(e!=null&&e.value){const{treeNodeMap:w}=e.value;if(t.showCheckbox&&w&&b)for(const S of b){const k=w.get(S);k&&!i(k)&&l(k,!0,!1)}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:i,isIndeterminate:a,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:p,setChecked:y,setCheckedKeys:v}}function sbe(t,e){const n=D(new Set([])),r=D(new Set([])),s=T(()=>et(t.filterMethod));function o(a){var l;if(!s.value)return;const c=new Set,u=r.value,d=n.value,f=[],p=((l=e.value)==null?void 0:l.treeNodes)||[],m=t.filterMethod;d.clear();function g(v){v.forEach(y=>{f.push(y),m!=null&&m(a,y.data)?f.forEach(b=>{c.add(b.key)}):y.isLeaf&&d.add(y.key);const C=y.children;if(C&&g(C),!y.isLeaf){if(!c.has(y.key))d.add(y.key);else if(C){let b=!0;for(const w of C)if(!d.has(w.key)){b=!1;break}b?u.add(y.key):u.delete(y.key)}}f.pop()})}return g(p),c}function i(a){return r.value.has(a.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:i}}function obe(t,e){const n=D(new Set(t.defaultExpandedKeys)),r=D(),s=en();Ee(()=>t.currentNodeKey,G=>{r.value=G},{immediate:!0}),Ee(()=>t.data,G=>{fe(G)},{immediate:!0});const{isIndeterminate:o,isChecked:i,toggleCheckbox:a,getCheckedKeys:l,getCheckedNodes:c,getHalfCheckedKeys:u,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:p}=rbe(t,s),{doFilter:m,hiddenNodeKeySet:g,isForceHiddenExpandIcon:v}=sbe(t,s),y=T(()=>{var G;return((G=t.props)==null?void 0:G.value)||ef.KEY}),C=T(()=>{var G;return((G=t.props)==null?void 0:G.children)||ef.CHILDREN}),b=T(()=>{var G;return((G=t.props)==null?void 0:G.disabled)||ef.DISABLED}),w=T(()=>{var G;return((G=t.props)==null?void 0:G.label)||ef.LABEL}),S=T(()=>{const G=n.value,ue=g.value,ye=[],Ae=s.value&&s.value.treeNodes||[];function j(){const ne=[];for(let ge=Ae.length-1;ge>=0;--ge)ne.push(Ae[ge]);for(;ne.length;){const ge=ne.pop();if(!!ge&&(ue.has(ge.key)||ye.push(ge),G.has(ge.key))){const Se=ge.children;if(Se){const _e=Se.length;for(let Q=_e-1;Q>=0;--Q)ne.push(Se[Q])}}}}return j(),ye}),k=T(()=>S.value.length>0);function A(G){const ue=new Map,ye=new Map;let Ae=1;function j(ge,Se=1,_e=void 0){var Q;const Me=[];for(const pe of ge){const ee=R(pe),de={level:Se,key:ee,data:pe};de.label=P(pe),de.parent=_e;const le=N(pe);de.disabled=H(pe),de.isLeaf=!le||le.length===0,le&&le.length&&(de.children=j(le,Se+1,de)),Me.push(de),ue.set(ee,de),ye.has(Se)||ye.set(Se,[]),(Q=ye.get(Se))==null||Q.push(de)}return Se>Ae&&(Ae=Se),Me}const ne=j(G);return{treeNodeMap:ue,levelTreeNodeMap:ye,maxLevel:Ae,treeNodes:ne}}function x(G){const ue=m(G);ue&&(n.value=ue)}function N(G){return G[C.value]}function R(G){return G?G[y.value]:""}function H(G){return G[b.value]}function P(G){return G[w.value]}function B(G){n.value.has(G.key)?$(G):O(G)}function V(G){n.value=new Set(G)}function z(G,ue){e(ML,G.data,G,ue),M(G),t.expandOnClickNode&&B(G),t.showCheckbox&&t.checkOnClickNode&&!G.disabled&&a(G,!i(G),!0)}function M(G){W(G)||(r.value=G.key,e(NL,G.data,G))}function _(G,ue){a(G,ue)}function O(G){const ue=n.value;if(s.value&&t.accordion){const{treeNodeMap:ye}=s.value;ue.forEach(Ae=>{const j=ye.get(Ae);G&&G.level===(j==null?void 0:j.level)&&ue.delete(Ae)})}ue.add(G.key),e(AL,G.data,G)}function $(G){n.value.delete(G.key),e(OL,G.data,G)}function K(G){return n.value.has(G.key)}function J(G){return!!G.disabled}function W(G){const ue=r.value;return!!ue&&ue===G.key}function se(){var G,ue;if(!!r.value)return(ue=(G=s.value)==null?void 0:G.treeNodeMap.get(r.value))==null?void 0:ue.data}function ve(){return r.value}function Y(G){r.value=G}function fe(G){ze(()=>s.value=A(G))}function X(G){var ue;const ye=Ct(G)?R(G):G;return(ue=s.value)==null?void 0:ue.treeNodeMap.get(ye)}return{tree:s,flattenTree:S,isNotEmpty:k,getKey:R,getChildren:N,toggleExpand:B,toggleCheckbox:a,isExpanded:K,isChecked:i,isIndeterminate:o,isDisabled:J,isCurrent:W,isForceHiddenExpandIcon:v,handleNodeClick:z,handleNodeCheck:_,getCurrentNode:se,getCurrentKey:ve,setCurrentKey:Y,getCheckedKeys:l,getCheckedNodes:c,getHalfCheckedKeys:u,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:p,filter:x,setData:fe,getNode:X,expandNode:O,collapseNode:$,setExpandedKeys:V}}var ibe=te({name:"ElTreeNodeContent",props:ebe,setup(t){const e=Fe(Ek),n=ke("tree");return()=>{const r=t.node,{data:s}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:s}):He("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const abe=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],lbe=te({name:"ElTreeNode"}),cbe=te({...lbe,props:Zye,emits:nbe,setup(t,{emit:e}){const n=t,r=Fe(Ek),s=ke("tree"),o=T(()=>{var d;return(d=r==null?void 0:r.props.indent)!=null?d:16}),i=T(()=>{var d;return(d=r==null?void 0:r.props.icon)!=null?d:J$}),a=d=>{e("click",n.node,d)},l=()=>{e("toggle",n.node)},c=d=>{e("check",n.node,d)},u=d=>{var f,p,m,g;(m=(p=(f=r==null?void 0:r.instance)==null?void 0:f.vnode)==null?void 0:p.props)!=null&&m.onNodeContextmenu&&(d.stopPropagation(),d.preventDefault()),r==null||r.ctx.emit(DL,d,(g=n.node)==null?void 0:g.data,n.node)};return(d,f)=>{var p,m,g;return E(),F("div",{ref:"node$",class:I([h(s).b("node"),h(s).is("expanded",d.expanded),h(s).is("current",d.current),h(s).is("focusable",!d.disabled),h(s).is("checked",!d.disabled&&d.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":d.expanded,"aria-disabled":d.disabled,"aria-checked":d.checked,"data-key":(p=d.node)==null?void 0:p.key,onClick:tt(a,["stop"]),onContextmenu:u},[L("div",{class:I(h(s).be("node","content")),style:Ge({paddingLeft:`${(d.node.level-1)*h(o)}px`})},[h(i)?(E(),he(h(Ue),{key:0,class:I([h(s).is("leaf",!!((m=d.node)!=null&&m.isLeaf)),h(s).is("hidden",d.hiddenExpandIcon),{expanded:!((g=d.node)!=null&&g.isLeaf)&&d.expanded},h(s).be("node","expand-icon")]),onClick:tt(l,["stop"])},{default:re(()=>[(E(),he(kt(h(i))))]),_:1},8,["class","onClick"])):ce("v-if",!0),d.showCheckbox?(E(),he(h(Ws),{key:1,"model-value":d.checked,indeterminate:d.indeterminate,disabled:d.disabled,onChange:c,onClick:f[0]||(f[0]=tt(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):ce("v-if",!0),q(h(ibe),{node:d.node},null,8,["node"])],6)],42,abe)}}});var ube=Re(cbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const dbe=26,fbe=te({name:"ElTreeV2"}),hbe=te({...fbe,props:Qye,emits:tbe,setup(t,{expose:e,emit:n}){const r=t,s=Qn();yt(Ek,{ctx:{emit:n,slots:s},props:r,instance:ht()}),yt(Ho,void 0);const{t:o}=Ft(),i=ke("tree"),{flattenTree:a,isNotEmpty:l,toggleExpand:c,isExpanded:u,isIndeterminate:d,isChecked:f,isDisabled:p,isCurrent:m,isForceHiddenExpandIcon:g,handleNodeClick:v,handleNodeCheck:y,toggleCheckbox:C,getCurrentNode:b,getCurrentKey:w,setCurrentKey:S,getCheckedKeys:k,getCheckedNodes:A,getHalfCheckedKeys:x,getHalfCheckedNodes:N,setChecked:R,setCheckedKeys:H,filter:P,setData:B,getNode:V,expandNode:z,collapseNode:M,setExpandedKeys:_}=obe(r,n);return e({toggleCheckbox:C,getCurrentNode:b,getCurrentKey:w,setCurrentKey:S,getCheckedKeys:k,getCheckedNodes:A,getHalfCheckedKeys:x,getHalfCheckedNodes:N,setChecked:R,setCheckedKeys:H,filter:P,setData:B,getNode:V,expandNode:z,collapseNode:M,setExpandedKeys:_}),(O,$)=>{var K;return E(),F("div",{class:I([h(i).b(),{[h(i).m("highlight-current")]:O.highlightCurrent}]),role:"tree"},[h(l)?(E(),he(h(UP),{key:0,"class-name":h(i).b("virtual-list"),data:h(a),total:h(a).length,height:O.height,"item-size":dbe,"perf-mode":O.perfMode},{default:re(({data:J,index:W,style:se})=>[(E(),he(ube,{key:J[W].key,style:Ge(se),node:J[W],expanded:h(u)(J[W]),"show-checkbox":O.showCheckbox,checked:h(f)(J[W]),indeterminate:h(d)(J[W]),disabled:h(p)(J[W]),current:h(m)(J[W]),"hidden-expand-icon":h(g)(J[W]),onClick:h(v),onToggle:h(c),onCheck:h(y)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","perf-mode"])):(E(),F("div",{key:1,class:I(h(i).e("empty-block"))},[L("span",{class:I(h(i).e("empty-text"))},Oe((K=O.emptyText)!=null?K:h(o)("el.tree.emptyText")),3)],2))],2)}}});var pbe=Re(hbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const mbe=mt(pbe),gbe="ElUpload";class vbe extends Error{constructor(e,n,r,s){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=s}}function KI(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new vbe(r,n.status,e.method,t)}function ybe(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const bbe=t=>{typeof XMLHttpRequest>"u"&&Rn(gbe,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",o=>{const i=o;i.percent=o.total>0?o.loaded/o.total*100:0,t.onProgress(i)});const r=new FormData;if(t.data)for(const[o,i]of Object.entries(t.data))Array.isArray(i)?r.append(o,...i):r.append(o,i);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(KI(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(KI(n,t,e));t.onSuccess(ybe(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const s=t.headers||{};if(s instanceof Headers)s.forEach((o,i)=>e.setRequestHeader(i,o));else for(const[o,i]of Object.entries(s))jn(i)||e.setRequestHeader(o,String(i));return e.send(r),e},PL=["text","picture","picture-card"];let wbe=1;const h1=()=>Date.now()+wbe++,LL=Pe({action:{type:String,default:"#"},headers:{type:me(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>un({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:me(Array),default:()=>un([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:PL,default:"text"},httpRequest:{type:me(Function),default:bbe},disabled:Boolean,limit:Number}),Cbe=Pe({...LL,beforeUpload:{type:me(Function),default:Wt},beforeRemove:{type:me(Function)},onRemove:{type:me(Function),default:Wt},onChange:{type:me(Function),default:Wt},onPreview:{type:me(Function),default:Wt},onSuccess:{type:me(Function),default:Wt},onProgress:{type:me(Function),default:Wt},onError:{type:me(Function),default:Wt},onExceed:{type:me(Function),default:Wt}}),Sbe=Pe({files:{type:me(Array),default:()=>un([])},disabled:{type:Boolean,default:!1},handlePreview:{type:me(Function),default:Wt},listType:{type:String,values:PL,default:"text"}}),kbe={remove:t=>!!t},Ebe=["onKeydown"],Tbe=["src"],_be=["onClick"],xbe=["onClick"],Ibe=["onClick"],Mbe=te({name:"ElUploadList"}),Abe=te({...Mbe,props:Sbe,emits:kbe,setup(t,{emit:e}){const{t:n}=Ft(),r=ke("upload"),s=ke("icon"),o=ke("list"),i=ss(),a=D(!1),l=c=>{e("remove",c)};return(c,u)=>(E(),he(i5,{tag:"ul",class:I([h(r).b("list"),h(r).bm("list",c.listType),h(r).is("disabled",h(i))]),name:h(o).b()},{default:re(()=>[(E(!0),F(Ye,null,Tt(c.files,d=>(E(),F("li",{key:d.uid||d.name,class:I([h(r).be("list","item"),h(r).is(d.status),{focusing:a.value}]),tabindex:"0",onKeydown:Ot(f=>!h(i)&&l(d),["delete"]),onFocus:u[0]||(u[0]=f=>a.value=!0),onBlur:u[1]||(u[1]=f=>a.value=!1),onClick:u[2]||(u[2]=f=>a.value=!1)},[Ce(c.$slots,"default",{file:d},()=>[c.listType==="picture"||d.status!=="uploading"&&c.listType==="picture-card"?(E(),F("img",{key:0,class:I(h(r).be("list","item-thumbnail")),src:d.url,alt:""},null,10,Tbe)):ce("v-if",!0),d.status==="uploading"||c.listType!=="picture-card"?(E(),F("div",{key:1,class:I(h(r).be("list","item-info"))},[L("a",{class:I(h(r).be("list","item-name")),onClick:tt(f=>c.handlePreview(d),["prevent"])},[q(h(Ue),{class:I(h(s).m("document"))},{default:re(()=>[q(h(eY))]),_:1},8,["class"]),L("span",{class:I(h(r).be("list","item-file-name"))},Oe(d.name),3)],10,_be),d.status==="uploading"?(E(),he(h(DP),{key:0,type:c.listType==="picture-card"?"circle":"line","stroke-width":c.listType==="picture-card"?6:2,percentage:Number(d.percentage),style:Ge(c.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ce("v-if",!0)],2)):ce("v-if",!0),L("label",{class:I(h(r).be("list","item-status-label"))},[c.listType==="text"?(E(),he(h(Ue),{key:0,class:I([h(s).m("upload-success"),h(s).m("circle-check")])},{default:re(()=>[q(h(bS))]),_:1},8,["class"])):["picture-card","picture"].includes(c.listType)?(E(),he(h(Ue),{key:1,class:I([h(s).m("upload-success"),h(s).m("check")])},{default:re(()=>[q(h(ip))]),_:1},8,["class"])):ce("v-if",!0)],2),h(i)?ce("v-if",!0):(E(),he(h(Ue),{key:2,class:I(h(s).m("close")),onClick:f=>l(d)},{default:re(()=>[q(h(fo))]),_:2},1032,["class","onClick"])),ce(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ce(" This is a bug which needs to be fixed "),ce(" TODO: Fix the incorrect navigation interaction "),h(i)?ce("v-if",!0):(E(),F("i",{key:3,class:I(h(s).m("close-tip"))},Oe(h(n)("el.upload.deleteTip")),3)),c.listType==="picture-card"?(E(),F("span",{key:4,class:I(h(r).be("list","item-actions"))},[L("span",{class:I(h(r).be("list","item-preview")),onClick:f=>c.handlePreview(d)},[q(h(Ue),{class:I(h(s).m("zoom-in"))},{default:re(()=>[q(h(tR))]),_:1},8,["class"])],10,xbe),h(i)?ce("v-if",!0):(E(),F("span",{key:0,class:I(h(r).be("list","item-delete")),onClick:f=>l(d)},[q(h(Ue),{class:I(h(s).m("delete"))},{default:re(()=>[q(h(GG))]),_:1},8,["class"])],10,Ibe))],2)):ce("v-if",!0)])],42,Ebe))),128)),Ce(c.$slots,"append")]),_:3},8,["class","name"]))}});var UI=Re(Abe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Obe=Pe({disabled:{type:Boolean,default:!1}}),Nbe={file:t=>Be(t)},$be=["onDrop","onDragover"],BL="ElUploadDrag",Rbe=te({name:BL}),Dbe=te({...Rbe,props:Obe,emits:Nbe,setup(t,{emit:e}){const n=Fe(vR);n||Rn(BL,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=ke("upload"),s=D(!1),o=ss(),i=l=>{if(o.value)return;s.value=!1;const c=Array.from(l.dataTransfer.files),u=n.accept.value;if(!u){e("file",c);return}const d=c.filter(f=>{const{type:p,name:m}=f,g=m.includes(".")?`.${m.split(".").pop()}`:"",v=p.replace(/\/.*$/,"");return u.split(",").map(y=>y.trim()).filter(y=>y).some(y=>y.startsWith(".")?g===y:/\/\*$/.test(y)?v===y.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(y)?p===y:!1)});e("file",d)},a=()=>{o.value||(s.value=!0)};return(l,c)=>(E(),F("div",{class:I([h(r).b("dragger"),h(r).is("dragover",s.value)]),onDrop:tt(i,["prevent"]),onDragover:tt(a,["prevent"]),onDragleave:c[0]||(c[0]=tt(u=>s.value=!1,["prevent"]))},[Ce(l.$slots,"default")],42,$be))}});var Pbe=Re(Dbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const Lbe=Pe({...LL,beforeUpload:{type:me(Function),default:Wt},onRemove:{type:me(Function),default:Wt},onStart:{type:me(Function),default:Wt},onSuccess:{type:me(Function),default:Wt},onProgress:{type:me(Function),default:Wt},onError:{type:me(Function),default:Wt},onExceed:{type:me(Function),default:Wt}}),Bbe=["onKeydown"],Fbe=["name","multiple","accept"],Vbe=te({name:"ElUploadContent",inheritAttrs:!1}),zbe=te({...Vbe,props:Lbe,setup(t,{expose:e}){const n=t,r=ke("upload"),s=ss(),o=en({}),i=en(),a=m=>{if(m.length===0)return;const{autoUpload:g,limit:v,fileList:y,multiple:C,onStart:b,onExceed:w}=n;if(v&&y.length+m.length>v){w(m,y);return}C||(m=m.slice(0,1));for(const S of m){const k=S;k.uid=h1(),b(k),g&&l(k)}},l=async m=>{if(i.value.value="",!n.beforeUpload)return c(m);let g;try{g=await n.beforeUpload(m)}catch{g=!1}if(g===!1){n.onRemove(m);return}let v=m;g instanceof Blob&&(g instanceof File?v=g:v=new File([g],m.name,{type:m.type})),c(Object.assign(v,{uid:m.uid}))},c=m=>{const{headers:g,data:v,method:y,withCredentials:C,name:b,action:w,onProgress:S,onSuccess:k,onError:A,httpRequest:x}=n,{uid:N}=m,R={headers:g||{},withCredentials:C,file:m,data:v,method:y,filename:b,action:w,onProgress:P=>{S(P,m)},onSuccess:P=>{k(P,m),delete o.value[N]},onError:P=>{A(P,m),delete o.value[N]}},H=x(R);o.value[N]=H,H instanceof Promise&&H.then(R.onSuccess,R.onError)},u=m=>{const g=m.target.files;!g||a(Array.from(g))},d=()=>{s.value||(i.value.value="",i.value.click())},f=()=>{d()};return e({abort:m=>{e7(o.value).filter(m?([v])=>String(m.uid)===v:()=>!0).forEach(([v,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete o.value[v]})},upload:l}),(m,g)=>(E(),F("div",{class:I([h(r).b(),h(r).m(m.listType),h(r).is("drag",m.drag)]),tabindex:"0",onClick:d,onKeydown:Ot(tt(f,["self"]),["enter","space"])},[m.drag?(E(),he(Pbe,{key:0,disabled:h(s),onFile:a},{default:re(()=>[Ce(m.$slots,"default")]),_:3},8,["disabled"])):Ce(m.$slots,"default",{key:1}),L("input",{ref_key:"inputRef",ref:i,class:I(h(r).e("input")),name:m.name,multiple:m.multiple,accept:m.accept,type:"file",onChange:u,onClick:g[0]||(g[0]=tt(()=>{},["stop"]))},null,42,Fbe)],42,Bbe))}});var jI=Re(zbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const WI="ElUpload",Hbe=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Kbe=(t,e)=>{const n=q9(t,"fileList",void 0,{passive:!0}),r=f=>n.value.find(p=>p.uid===f.uid);function s(f){var p;(p=e.value)==null||p.abort(f)}function o(f=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!f.includes(p.status))}const i=(f,p)=>{const m=r(p);!m||(console.error(f),m.status="fail",n.value.splice(n.value.indexOf(m),1),t.onError(f,m,n.value),t.onChange(m,n.value))},a=(f,p)=>{const m=r(p);!m||(t.onProgress(f,m,n.value),m.status="uploading",m.percentage=Math.round(f.percent))},l=(f,p)=>{const m=r(p);!m||(m.status="success",m.response=f,t.onSuccess(f,m,n.value),t.onChange(m,n.value))},c=f=>{jn(f.uid)&&(f.uid=h1());const p={name:f.name,percentage:0,status:"ready",size:f.size,raw:f,uid:f.uid};if(t.listType==="picture-card"||t.listType==="picture")try{p.url=URL.createObjectURL(f)}catch(m){m.message,t.onError(m,p,n.value)}n.value=[...n.value,p],t.onChange(p,n.value)},u=async f=>{const p=f instanceof File?r(f):f;p||Rn(WI,"file to be removed not found");const m=g=>{s(g);const v=n.value;v.splice(v.indexOf(g),1),t.onRemove(g,v),Hbe(g)};t.beforeRemove?await t.beforeRemove(p,n.value)!==!1&&m(p):m(p)};function d(){n.value.filter(({status:f})=>f==="ready").forEach(({raw:f})=>{var p;return f&&((p=e.value)==null?void 0:p.upload(f))})}return Ee(()=>t.listType,f=>{f!=="picture-card"&&f!=="picture"||(n.value=n.value.map(p=>{const{raw:m,url:g}=p;if(!g&&m)try{p.url=URL.createObjectURL(m)}catch(v){t.onError(v,p,n.value)}return p}))}),Ee(n,f=>{for(const p of f)p.uid||(p.uid=h1()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:o,handleError:i,handleProgress:a,handleStart:c,handleSuccess:l,handleRemove:u,submit:d}},Ube=te({name:"ElUpload"}),jbe=te({...Ube,props:Cbe,setup(t,{expose:e}){const n=t,r=Qn(),s=ss(),o=en(),{abort:i,submit:a,clearFiles:l,uploadFiles:c,handleStart:u,handleError:d,handleRemove:f,handleSuccess:p,handleProgress:m}=Kbe(n,o),g=T(()=>n.listType==="picture-card"),v=T(()=>({...n,fileList:c.value,onStart:u,onProgress:m,onSuccess:p,onError:d,onRemove:f}));return ln(()=>{c.value.forEach(({url:y})=>{y!=null&&y.startsWith("blob:")&&URL.revokeObjectURL(y)})}),yt(vR,{accept:pn(n,"accept")}),e({abort:i,submit:a,clearFiles:l,handleStart:u,handleRemove:f}),(y,C)=>(E(),F("div",null,[h(g)&&y.showFileList?(E(),he(UI,{key:0,disabled:h(s),"list-type":y.listType,files:h(c),"handle-preview":y.onPreview,onRemove:h(f)},Ca({append:re(()=>[q(jI,wt({ref_key:"uploadRef",ref:o},h(v)),{default:re(()=>[h(r).trigger?Ce(y.$slots,"trigger",{key:0}):ce("v-if",!0),!h(r).trigger&&h(r).default?Ce(y.$slots,"default",{key:1}):ce("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:re(({file:b})=>[Ce(y.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ce("v-if",!0),!h(g)||h(g)&&!y.showFileList?(E(),he(jI,wt({key:1,ref_key:"uploadRef",ref:o},h(v)),{default:re(()=>[h(r).trigger?Ce(y.$slots,"trigger",{key:0}):ce("v-if",!0),!h(r).trigger&&h(r).default?Ce(y.$slots,"default",{key:1}):ce("v-if",!0)]),_:3},16)):ce("v-if",!0),y.$slots.trigger?Ce(y.$slots,"default",{key:2}):ce("v-if",!0),Ce(y.$slots,"tip"),!h(g)&&y.showFileList?(E(),he(UI,{key:3,disabled:h(s),"list-type":y.listType,files:h(c),"handle-preview":y.onPreview,onRemove:h(f)},Ca({_:2},[y.$slots.file?{name:"default",fn:re(({file:b})=>[Ce(y.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ce("v-if",!0)]))}});var Wbe=Re(jbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const qbe=mt(Wbe);var Gbe=[BQ,YQ,Tte,pve,Nte,Fte,oD,Qte,Zte,ar,uD,gre,Cre,Dre,Pre,Yse,Pse,toe,Ws,nse,LD,ioe,Toe,_oe,goe,Joe,eie,fie,hie,pie,mie,gie,kae,$ae,Rae,Gae,pP,lle,Zle,ece,tce,kP,_ue,xue,Ue,zue,_P,vr,xP,tde,Cde,Sde,kde,Ade,$fe,Bfe,qfe,nD,DP,KD,yse,vse,uhe,mhe,She,Oi,Yl,Dg,ofe,fpe,wpe,Cpe,Jpe,nme,dme,fme,kme,Mge,Age,hve,Mve,Ave,py,Yne,Pve,zve,Hve,is,pye,Mye,Kye,Xye,mbe,qbe];const Zs="ElInfiniteScroll",Ybe=50,Xbe=200,Jbe=0,Qbe={delay:{type:Number,default:Xbe},distance:{type:Number,default:Jbe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Tk=(t,e)=>Object.entries(Qbe).reduce((n,[r,s])=>{var o,i;const{type:a,default:l}=s,c=t.getAttribute(`infinite-scroll-${r}`);let u=(i=(o=e[c])!=null?o:c)!=null?i:l;return u=u==="false"?!1:u,u=a(u),n[r]=Number.isNaN(u)?l:u,n},{}),FL=t=>{const{observer:e}=t[Zs];e&&(e.disconnect(),delete t[Zs].observer)},Zbe=(t,e)=>{const{container:n,containerEl:r,instance:s,observer:o,lastScrollTop:i}=t[Zs],{disabled:a,distance:l}=Tk(t,s),{clientHeight:c,scrollHeight:u,scrollTop:d}=r,f=d-i;if(t[Zs].lastScrollTop=d,o||a||f<0)return;let p=!1;if(n===t)p=u-(c+d)<=l;else{const{clientTop:m,scrollHeight:g}=t,v=J9(t,r);p=d+c>=v+m+g-l}p&&e.call(s)};function n0(t,e){const{containerEl:n,instance:r}=t[Zs],{disabled:s}=Tk(t,r);s||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):FL(t))}const e0e={async mounted(t,e){const{instance:n,value:r}=e;et(r)||Rn(Zs,"'v-infinite-scroll' binding value must be a function"),await ze();const{delay:s,immediate:o}=Tk(t,n),i=yS(t,!0),a=i===window?document.documentElement:i,l=Ml(Zbe.bind(null,t,r),s);if(!!i){if(t[Zs]={instance:n,container:i,containerEl:a,delay:s,cb:r,onScroll:l,lastScrollTop:a.scrollTop},o){const c=new MutationObserver(Ml(n0.bind(null,t,r),Ybe));t[Zs].observer=c,c.observe(t,{childList:!0,subtree:!0}),n0(t,r)}i.addEventListener("scroll",l)}},unmounted(t){const{container:e,onScroll:n}=t[Zs];e==null||e.removeEventListener("scroll",n),FL(t)},async updated(t){t[Zs]||await ze();const{containerEl:e,cb:n,observer:r}=t[Zs];e.clientHeight&&r&&n0(t,n)}},p1=e0e;p1.install=t=>{t.directive("InfiniteScroll",p1)};const t0e=p1;function n0e(t){let e;const n=ke("loading"),r=D(!1),s=Lt({...t,originalPosition:"",originalOverflow:"",visible:!1});function o(p){s.text=p}function i(){const p=s.parent;if(!p.vLoadingAddClassList){let m=p.getAttribute("loading-number");m=Number.parseInt(m)-1,m?p.setAttribute("loading-number",m.toString()):(Yr(p,n.bm("parent","relative")),p.removeAttribute("loading-number")),Yr(p,n.bm("parent","hidden"))}a(),d.unmount()}function a(){var p,m;(m=(p=f.$el)==null?void 0:p.parentNode)==null||m.removeChild(f.$el)}function l(){var p;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(e),e=window.setTimeout(c,400),s.visible=!1,(p=t.closed)==null||p.call(t))}function c(){if(!r.value)return;const p=s.parent;r.value=!1,p.vLoadingAddClassList=void 0,i()}const d=d$({name:"ElLoading",setup(){return()=>{const p=s.spinner||s.svg,m=He("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...p?{innerHTML:p}:{}},[He("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),g=s.text?He("p",{class:n.b("text")},[s.text]):void 0;return He(Sn,{name:n.b("fade"),onAfterLeave:c},{default:re(()=>[ot(q("div",{style:{backgroundColor:s.background||""},class:[n.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[He("div",{class:n.b("spinner")},[m,g])]),[[Dt,s.visible]])])})}}}),f=d.mount(document.createElement("div"));return{...$n(s),setText:o,removeElLoadingChild:a,close:l,handleAfterLeave:c,vm:f,get $el(){return f.$el}}}let sm;const m1=function(t={}){if(!It)return;const e=r0e(t);if(e.fullscreen&&sm)return sm;const n=n0e({...e,closed:()=>{var s;(s=e.closed)==null||s.call(e),e.fullscreen&&(sm=void 0)}});s0e(e,e.parent,n),qI(e,e.parent,n),e.parent.vLoadingAddClassList=()=>qI(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),ze(()=>n.visible.value=e.visible),e.fullscreen&&(sm=n),n},r0e=t=>{var e,n,r,s;let o;return rt(t.target)?o=(e=document.querySelector(t.target))!=null?e:document.body:o=t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(s=t.visible)!=null?s:!0,target:o}},s0e=async(t,e,n)=>{const{nextZIndex:r}=Mi(),s={};if(t.fullscreen)n.originalPosition.value=ni(document.body,"position"),n.originalOverflow.value=ni(document.body,"overflow"),s.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=ni(document.body,"position"),await ze();for(const o of["top","left"]){const i=o==="top"?"scrollTop":"scrollLeft";s[o]=`${t.target.getBoundingClientRect()[o]+document.body[i]+document.documentElement[i]-Number.parseInt(ni(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])s[o]=`${t.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=ni(e,"position");for(const[o,i]of Object.entries(s))n.$el.style[o]=i},qI=(t,e,n)=>{const r=ke("loading");["absolute","fixed","sticky"].includes(n.originalPosition.value)?Yr(e,r.bm("parent","relative")):Mo(e,r.bm("parent","relative")),t.fullscreen&&t.lock?Mo(e,r.bm("parent","hidden")):Yr(e,r.bm("parent","hidden"))},g1=Symbol("ElLoading"),GI=(t,e)=>{var n,r,s,o;const i=e.instance,a=f=>Ct(e.value)?e.value[f]:void 0,l=f=>{const p=rt(f)&&(i==null?void 0:i[f])||f;return p&&D(p)},c=f=>l(a(f)||t.getAttribute(`element-loading-${$a(f)}`)),u=(n=a("fullscreen"))!=null?n:e.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(r=a("target"))!=null?r:u?void 0:t,body:(s=a("body"))!=null?s:e.modifiers.body,lock:(o=a("lock"))!=null?o:e.modifiers.lock};t[g1]={options:d,instance:m1(d)}},o0e=(t,e)=>{for(const n of Object.keys(e))Jt(e[n])&&(e[n].value=t[n])},YI={mounted(t,e){e.value&&GI(t,e)},updated(t,e){const n=t[g1];e.oldValue!==e.value&&(e.value&&!e.oldValue?GI(t,e):e.value&&e.oldValue?Ct(e.value)&&o0e(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[g1])==null||e.instance.close()}},i0e={install(t){t.directive("loading",YI),t.config.globalProperties.$loading=m1},directive:YI,service:m1},VL=["success","info","warning","error"],Kr=un({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:It?document.body:void 0}),a0e=Pe({customClass:{type:String,default:Kr.customClass},center:{type:Boolean,default:Kr.center},dangerouslyUseHTMLString:{type:Boolean,default:Kr.dangerouslyUseHTMLString},duration:{type:Number,default:Kr.duration},icon:{type:tn,default:Kr.icon},id:{type:String,default:Kr.id},message:{type:me([String,Object,Function]),default:Kr.message},onClose:{type:me(Function),required:!1},showClose:{type:Boolean,default:Kr.showClose},type:{type:String,values:VL,default:Kr.type},offset:{type:Number,default:Kr.offset},zIndex:{type:Number,default:Kr.zIndex},grouping:{type:Boolean,default:Kr.grouping},repeatNum:{type:Number,default:Kr.repeatNum}}),l0e={destroy:()=>!0},Oo=v2([]),c0e=t=>{const e=Oo.findIndex(s=>s.id===t),n=Oo[e];let r;return e>0&&(r=Oo[e-1]),{current:n,prev:r}},u0e=t=>{const{prev:e}=c0e(t);return e?e.vm.exposed.bottom.value:0},d0e=["id"],f0e=["innerHTML"],h0e=te({name:"ElMessage"}),p0e=te({...h0e,props:a0e,emits:l0e,setup(t,{expose:e}){const n=t,{Close:r}=SS,s=ke("message"),o=D(),i=D(!1),a=D(0);let l;const c=T(()=>n.type?n.type==="error"?"danger":n.type:"info"),u=T(()=>{const w=n.type;return{[s.bm("icon",w)]:w&&ka[w]}}),d=T(()=>n.icon||ka[n.type]||""),f=T(()=>u0e(n.id)),p=T(()=>n.offset+f.value),m=T(()=>a.value+p.value),g=T(()=>({top:`${p.value}px`,zIndex:n.zIndex}));function v(){n.duration!==0&&({stop:l}=ql(()=>{C()},n.duration))}function y(){l==null||l()}function C(){i.value=!1}function b({code:w}){w===Xe.esc&&C()}return lt(()=>{v(),i.value=!0}),Ee(()=>n.repeatNum,()=>{y(),v()}),on(document,"keydown",b),Sr(o,()=>{a.value=o.value.getBoundingClientRect().height}),e({visible:i,bottom:m,close:C}),(w,S)=>(E(),he(Sn,{name:h(s).b("fade"),onBeforeLeave:w.onClose,onAfterLeave:S[0]||(S[0]=k=>w.$emit("destroy")),persisted:""},{default:re(()=>[ot(L("div",{id:w.id,ref_key:"messageRef",ref:o,class:I([h(s).b(),{[h(s).m(w.type)]:w.type&&!w.icon},h(s).is("center",w.center),h(s).is("closable",w.showClose),w.customClass]),style:Ge(h(g)),role:"alert",onMouseenter:y,onMouseleave:v},[w.repeatNum>1?(E(),he(h(oD),{key:0,value:w.repeatNum,type:h(c),class:I(h(s).e("badge"))},null,8,["value","type","class"])):ce("v-if",!0),h(d)?(E(),he(h(Ue),{key:1,class:I([h(s).e("icon"),h(u)])},{default:re(()=>[(E(),he(kt(h(d))))]),_:1},8,["class"])):ce("v-if",!0),Ce(w.$slots,"default",{},()=>[w.dangerouslyUseHTMLString?(E(),F(Ye,{key:1},[ce(" Caution here, message could've been compromised, never use user's input as message "),L("p",{class:I(h(s).e("content")),innerHTML:w.message},null,10,f0e)],2112)):(E(),F("p",{key:0,class:I(h(s).e("content"))},Oe(w.message),3))]),w.showClose?(E(),he(h(Ue),{key:2,class:I(h(s).e("closeBtn")),onClick:tt(C,["stop"])},{default:re(()=>[q(h(r))]),_:1},8,["class","onClick"])):ce("v-if",!0)],46,d0e),[[Dt,i.value]])]),_:3},8,["name","onBeforeLeave"]))}});var m0e=Re(p0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let g0e=1;const zL=t=>{const e=!t||rt(t)||fn(t)||et(t)?{message:t}:t,n={...Kr,...e};if(!n.appendTo)n.appendTo=document.body;else if(rt(n.appendTo)){let r=document.querySelector(n.appendTo);uo(r)||(r=document.body),n.appendTo=r}return n},v0e=t=>{const e=Oo.indexOf(t);if(e===-1)return;Oo.splice(e,1);const{handler:n}=t;n.close()},y0e=({appendTo:t,...e},n)=>{const{nextZIndex:r}=Mi(),s=`message_${g0e++}`,o=e.onClose,i=document.createElement("div"),a={...e,zIndex:r()+e.zIndex,id:s,onClose:()=>{o==null||o(),v0e(d)},onDestroy:()=>{Mu(null,i)}},l=q(m0e,a,et(a.message)||fn(a.message)?{default:et(a.message)?a.message:()=>a.message}:null);l.appContext=n||Ku._context,Mu(l,i),t.appendChild(i.firstElementChild);const c=l.component,d={id:s,vnode:l,vm:c,handler:{close:()=>{c.exposed.visible.value=!1}},props:l.component.props};return d},Ku=(t={},e)=>{if(!It)return{close:()=>{}};if(it(Vw.max)&&Oo.length>=Vw.max)return{close:()=>{}};const n=zL(t);if(n.grouping&&Oo.length){const s=Oo.find(({vnode:o})=>{var i;return((i=o.props)==null?void 0:i.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const r=y0e(n,e);return Oo.push(r),r.handler};VL.forEach(t=>{Ku[t]=(e={},n)=>{const r=zL(e);return Ku({...r,type:t},n)}});function b0e(t){for(const e of Oo)(!t||t===e.props.type)&&e.handler.close()}Ku.closeAll=b0e;Ku._context=null;const w0e=oR(Ku,"$message"),C0e=te({name:"ElMessageBox",directives:{TrapFocus:One},components:{ElButton:ar,ElFocusTrap:hy,ElInput:vr,ElOverlay:QS,ElIcon:Ue,...SS},inheritAttrs:!1,props:{buttonSize:{type:String,validator:gd},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{t:n}=Ft(),r=ke("message-box"),s=D(!1),{nextZIndex:o}=Mi(),i=Lt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),a=T(()=>{const B=i.type;return{[r.bm("icon",B)]:B&&ka[B]}}),l=ho(),c=ho(),u=In(T(()=>t.buttonSize),{prop:!0,form:!0,formItem:!0}),d=T(()=>i.icon||ka[i.type]||""),f=T(()=>!!i.message),p=D(),m=D(),g=D(),v=D(),y=D(),C=T(()=>i.confirmButtonClass);Ee(()=>i.inputValue,async B=>{await ze(),t.boxType==="prompt"&&B!==null&&N()},{immediate:!0}),Ee(()=>s.value,B=>{var V,z;B&&(t.boxType!=="prompt"&&(i.autofocus?g.value=(z=(V=y.value)==null?void 0:V.$el)!=null?z:p.value:g.value=p.value),i.zIndex=o()),t.boxType==="prompt"&&(B?ze().then(()=>{var M;v.value&&v.value.$el&&(i.autofocus?g.value=(M=R())!=null?M:p.value:g.value=p.value)}):(i.editorErrorMessage="",i.validateError=!1))});const b=T(()=>t.draggable);SR(p,m,b),lt(async()=>{await ze(),t.closeOnHashChange&&window.addEventListener("hashchange",w)}),ln(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",w)});function w(){!s.value||(s.value=!1,ze(()=>{i.action&&e("action",i.action)}))}const S=()=>{t.closeOnClickModal&&x(i.distinguishCancelAndClose?"close":"cancel")},k=MS(S),A=B=>{if(i.inputType!=="textarea")return B.preventDefault(),x("confirm")},x=B=>{var V;t.boxType==="prompt"&&B==="confirm"&&!N()||(i.action=B,i.beforeClose?(V=i.beforeClose)==null||V.call(i,B,i,w):w())},N=()=>{if(t.boxType==="prompt"){const B=i.inputPattern;if(B&&!B.test(i.inputValue||""))return i.editorErrorMessage=i.inputErrorMessage||n("el.messagebox.error"),i.validateError=!0,!1;const V=i.inputValidator;if(typeof V=="function"){const z=V(i.inputValue);if(z===!1)return i.editorErrorMessage=i.inputErrorMessage||n("el.messagebox.error"),i.validateError=!0,!1;if(typeof z=="string")return i.editorErrorMessage=z,i.validateError=!0,!1}}return i.editorErrorMessage="",i.validateError=!1,!0},R=()=>{const B=v.value.$refs;return B.input||B.textarea},H=()=>{x("close")},P=()=>{t.closeOnPressEscape&&H()};return t.lockScroll&&ER(s),qJ(s),{...$n(i),ns:r,overlayEvent:k,visible:s,hasMessage:f,typeClass:a,contentId:l,inputId:c,btnSize:u,iconComponent:d,confirmButtonClasses:C,rootRef:p,focusStartRef:g,headerRef:m,inputRef:v,confirmRef:y,doClose:w,handleClose:H,onCloseRequested:P,handleWrapperClick:S,handleInputEnter:A,handleAction:x,t:n}}}),S0e=["aria-label","aria-describedby"],k0e=["aria-label"],E0e=["id"];function T0e(t,e,n,r,s,o){const i=Je("el-icon"),a=Je("close"),l=Je("el-input"),c=Je("el-button"),u=Je("el-focus-trap"),d=Je("el-overlay");return E(),he(Sn,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=f=>t.$emit("vanish")),persisted:""},{default:re(()=>[ot(q(d,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:re(()=>[L("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:I(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...f)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...f)),onMousedown:e[9]||(e[9]=(...f)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...f)),onMouseup:e[10]||(e[10]=(...f)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...f))},[q(u,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:re(()=>[L("div",{ref:"rootRef",class:I([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:Ge(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=tt(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(E(),F("div",{key:0,ref:"headerRef",class:I(t.ns.e("header"))},[L("div",{class:I(t.ns.e("title"))},[t.iconComponent&&t.center?(E(),he(i,{key:0,class:I([t.ns.e("status"),t.typeClass])},{default:re(()=>[(E(),he(kt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),L("span",null,Oe(t.title),1)],2),t.showClose?(E(),F("button",{key:0,type:"button",class:I(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Ot(tt(f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[q(i,{class:I(t.ns.e("close"))},{default:re(()=>[q(a)]),_:1},8,["class"])],42,k0e)):ce("v-if",!0)],2)):ce("v-if",!0),L("div",{id:t.contentId,class:I(t.ns.e("content"))},[L("div",{class:I(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(E(),he(i,{key:0,class:I([t.ns.e("status"),t.typeClass])},{default:re(()=>[(E(),he(kt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),t.hasMessage?(E(),F("div",{key:1,class:I(t.ns.e("message"))},[Ce(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(E(),he(kt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(E(),he(kt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:re(()=>[dt(Oe(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):ce("v-if",!0)],2),ot(L("div",{class:I(t.ns.e("input"))},[q(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=f=>t.inputValue=f),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:I({invalid:t.validateError}),onKeydown:Ot(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),L("div",{class:I(t.ns.e("errormsg")),style:Ge({visibility:t.editorErrorMessage?"visible":"hidden"})},Oe(t.editorErrorMessage),7)],2),[[Dt,t.showInput]])],10,E0e),L("div",{class:I(t.ns.e("btns"))},[t.showCancelButton?(E(),he(c,{key:0,loading:t.cancelButtonLoading,class:I([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=f=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=Ot(tt(f=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:re(()=>[dt(Oe(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):ce("v-if",!0),ot(q(c,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:I([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=f=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=Ot(tt(f=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:re(()=>[dt(Oe(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Dt,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,S0e)]),_:3},8,["z-index","overlay-class","mask"]),[[Dt,t.visible]])]),_:3})}var _0e=Re(C0e,[["render",T0e],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const gh=new Map,x0e=t=>{let e=document.body;return t.appendTo&&(rt(t.appendTo)&&(e=document.querySelector(t.appendTo)),uo(t.appendTo)&&(e=t.appendTo),uo(e)||(e=document.body)),e},I0e=(t,e,n=null)=>{const r=q(_0e,t,et(t.message)||fn(t.message)?{default:et(t.message)?t.message:()=>t.message}:null);return r.appContext=n,Mu(r,e),x0e(t).appendChild(e.firstElementChild),r.component},M0e=()=>document.createElement("div"),A0e=(t,e)=>{const n=M0e();t.onVanish=()=>{Mu(null,n),gh.delete(s)},t.onAction=o=>{const i=gh.get(s);let a;t.showInput?a={value:s.inputValue,action:o}:a=o,t.callback?t.callback(a,r.proxy):o==="cancel"||o==="close"?t.distinguishCancelAndClose&&o!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(a)};const r=I0e(t,n,e),s=r.proxy;for(const o in t)Et(t,o)&&!Et(s.$props,o)&&(s[o]=t[o]);return s.visible=!0,s};function yd(t,e=null){if(!It)return Promise.reject();let n;return rt(t)||fn(t)?t={message:t}:n=t.callback,new Promise((r,s)=>{const o=A0e(t,e!=null?e:yd._context);gh.set(o,{options:t,callback:n,resolve:r,reject:s})})}const O0e=["alert","confirm","prompt"],N0e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};O0e.forEach(t=>{yd[t]=$0e(t)});function $0e(t){return(e,n,r,s)=>{let o="";return Ct(n)?(r=n,o=""):Un(n)?o="":o=n,yd(Object.assign({title:o,message:e,type:"",...N0e[t]},r,{boxType:t}),s)}}yd.close=()=>{gh.forEach((t,e)=>{e.doClose()}),gh.clear()};yd._context=null;const ji=yd;ji.install=t=>{ji._context=t._context,t.config.globalProperties.$msgbox=ji,t.config.globalProperties.$messageBox=ji,t.config.globalProperties.$alert=ji.alert,t.config.globalProperties.$confirm=ji.confirm,t.config.globalProperties.$prompt=ji.prompt};const R0e=ji,HL=["success","info","warning","error"],D0e=Pe({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:tn},id:{type:String,default:""},message:{type:me([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:me(Function),default:()=>{}},onClose:{type:me(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...HL,""],default:""},zIndex:{type:Number,default:0}}),P0e={destroy:()=>!0},L0e=["id"],B0e=["textContent"],F0e={key:0},V0e=["innerHTML"],z0e=te({name:"ElNotification"}),H0e=te({...z0e,props:D0e,emits:P0e,setup(t,{expose:e}){const n=t,r=ke("notification"),{Close:s}=rR,o=D(!1);let i;const a=T(()=>{const v=n.type;return v&&ka[n.type]?r.m(v):""}),l=T(()=>n.type&&ka[n.type]||n.icon),c=T(()=>n.position.endsWith("right")?"right":"left"),u=T(()=>n.position.startsWith("top")?"top":"bottom"),d=T(()=>({[u.value]:`${n.offset}px`,zIndex:n.zIndex}));function f(){n.duration>0&&({stop:i}=ql(()=>{o.value&&m()},n.duration))}function p(){i==null||i()}function m(){o.value=!1}function g({code:v}){v===Xe.delete||v===Xe.backspace?p():v===Xe.esc?o.value&&m():f()}return lt(()=>{f(),o.value=!0}),on(document,"keydown",g),e({visible:o,close:m}),(v,y)=>(E(),he(Sn,{name:h(r).b("fade"),onBeforeLeave:v.onClose,onAfterLeave:y[1]||(y[1]=C=>v.$emit("destroy")),persisted:""},{default:re(()=>[ot(L("div",{id:v.id,class:I([h(r).b(),v.customClass,h(c)]),style:Ge(h(d)),role:"alert",onMouseenter:p,onMouseleave:f,onClick:y[0]||(y[0]=(...C)=>v.onClick&&v.onClick(...C))},[h(l)?(E(),he(h(Ue),{key:0,class:I([h(r).e("icon"),h(a)])},{default:re(()=>[(E(),he(kt(h(l))))]),_:1},8,["class"])):ce("v-if",!0),L("div",{class:I(h(r).e("group"))},[L("h2",{class:I(h(r).e("title")),textContent:Oe(v.title)},null,10,B0e),ot(L("div",{class:I(h(r).e("content")),style:Ge(v.title?void 0:{margin:0})},[Ce(v.$slots,"default",{},()=>[v.dangerouslyUseHTMLString?(E(),F(Ye,{key:1},[ce(" Caution here, message could've been compromised, never use user's input as message "),L("p",{innerHTML:v.message},null,8,V0e)],2112)):(E(),F("p",F0e,Oe(v.message),1))])],6),[[Dt,v.message]]),v.showClose?(E(),he(h(Ue),{key:0,class:I(h(r).e("closeBtn")),onClick:tt(m,["stop"])},{default:re(()=>[q(h(s))]),_:1},8,["class","onClick"])):ce("v-if",!0)],2)],46,L0e),[[Dt,o.value]])]),_:3},8,["name","onBeforeLeave"]))}});var K0e=Re(H0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Ug={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},v1=16;let U0e=1;const Uu=function(t={},e=null){if(!It)return{close:()=>{}};(typeof t=="string"||fn(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;Ug[n].forEach(({vm:d})=>{var f;r+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+v1}),r+=v1;const{nextZIndex:s}=Mi(),o=`notification_${U0e++}`,i=t.onClose,a={...t,zIndex:s(),offset:r,id:o,onClose:()=>{j0e(o,n,i)}};let l=document.body;uo(t.appendTo)?l=t.appendTo:rt(t.appendTo)&&(l=document.querySelector(t.appendTo)),uo(l)||(l=document.body);const c=document.createElement("div"),u=q(K0e,a,fn(a.message)?{default:()=>a.message}:null);return u.appContext=e!=null?e:Uu._context,u.props.onDestroy=()=>{Mu(null,c)},Mu(u,c),Ug[n].push({vm:u}),l.appendChild(c.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};HL.forEach(t=>{Uu[t]=(e={})=>((typeof e=="string"||fn(e))&&(e={message:e}),Uu({...e,type:t}))});function j0e(t,e,n){const r=Ug[e],s=r.findIndex(({vm:c})=>{var u;return((u=c.component)==null?void 0:u.props.id)===t});if(s===-1)return;const{vm:o}=r[s];if(!o)return;n==null||n(o);const i=o.el.offsetHeight,a=e.split("-")[0];r.splice(s,1);const l=r.length;if(!(l<1))for(let c=s;c<l;c++){const{el:u,component:d}=r[c].vm,f=Number.parseInt(u.style[a],10)-i-v1;d.props.offset=f}}function W0e(){for(const t of Object.values(Ug))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Uu.closeAll=W0e;Uu._context=null;const q0e=oR(Uu,"$notify");var G0e=[t0e,i0e,w0e,R0e,q0e,RP],Y0e=NQ([...Gbe,...G0e]);const hp=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},X0e={name:"app",data(){return{Logged:!1,bannerTitle:""}},methods:{Login(){}}};function J0e(t,e,n,r,s,o){const i=Je("router-view");return E(),F("div",null,[q(i)])}const Q0e=hp(X0e,[["render",J0e]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Wc=typeof window<"u";function Z0e(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const rn=Object.assign;function r0(t,e){const n={};for(const r in e){const s=e[r];n[r]=po(s)?s.map(t):t(s)}return n}const Ef=()=>{},po=Array.isArray,ewe=/\/$/,twe=t=>t.replace(ewe,"");function s0(t,e,n="/"){let r,s={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),s=t(o)),a>-1&&(r=r||e.slice(0,a),i=e.slice(a,e.length)),r=owe(r!=null?r:e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:i}}function nwe(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function XI(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function rwe(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ju(e.matched[r],n.matched[s])&&KL(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ju(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function KL(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!swe(t[n],e[n]))return!1;return!0}function swe(t,e){return po(t)?JI(t,e):po(e)?JI(e,t):t===e}function JI(t,e){return po(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function owe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let s=n.length-1,o,i;for(o=0;o<r.length;o++)if(i=r[o],i!==".")if(i==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var vh;(function(t){t.pop="pop",t.push="push"})(vh||(vh={}));var Tf;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tf||(Tf={}));function iwe(t){if(!t)if(Wc){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),twe(t)}const awe=/^[^#]+#/;function lwe(t,e){return t.replace(awe,"#")+e}function cwe(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const yy=()=>({left:window.pageXOffset,top:window.pageYOffset});function uwe(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=cwe(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function QI(t,e){return(history.state?history.state.position-e:-1)+t}const y1=new Map;function dwe(t,e){y1.set(t,e)}function fwe(t){const e=y1.get(t);return y1.delete(t),e}let hwe=()=>location.protocol+"//"+location.host;function UL(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let a=s.includes(t.slice(o))?t.slice(o).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),XI(l,"")}return XI(n,t)+r+s}function pwe(t,e,n,r){let s=[],o=[],i=null;const a=({state:f})=>{const p=UL(t,location),m=n.value,g=e.value;let v=0;if(f){if(n.value=p,e.value=f,i&&i===m){i=null;return}v=g?f.position-g.position:0}else r(p);s.forEach(y=>{y(n.value,m,{delta:v,type:vh.pop,direction:v?v>0?Tf.forward:Tf.back:Tf.unknown})})};function l(){i=n.value}function c(f){s.push(f);const p=()=>{const m=s.indexOf(f);m>-1&&s.splice(m,1)};return o.push(p),p}function u(){const{history:f}=window;!f.state||f.replaceState(rn({},f.state,{scroll:yy()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function ZI(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?yy():null}}function mwe(t){const{history:e,location:n}=window,r={value:UL(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:hwe()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function i(l,c){const u=rn({},e.state,ZI(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});o(l,u,!0),r.value=l}function a(l,c){const u=rn({},s.value,e.state,{forward:l,scroll:yy()});o(u.current,u,!0);const d=rn({},ZI(r.value,l,null),{position:u.position+1},c);o(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:i}}function gwe(t){t=iwe(t);const e=mwe(t),n=pwe(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=rn({location:"",base:t,go:r,createHref:lwe.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function vwe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),gwe(t)}function ywe(t){return typeof t=="string"||t&&typeof t=="object"}function jL(t){return typeof t=="string"||typeof t=="symbol"}const Fi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},WL=Symbol("");var eM;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(eM||(eM={}));function Wu(t,e){return rn(new Error,{type:t,[WL]:!0},e)}function Xo(t,e){return t instanceof Error&&WL in t&&(e==null||!!(t.type&e))}const tM="[^/]+?",bwe={sensitive:!1,strict:!1,start:!0,end:!0},wwe=/[.+*?^${}()[\]/\\]/g;function Cwe(t,e){const n=rn({},bwe,e),r=[];let s=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let p=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(wwe,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:g,optional:v,regexp:y}=f;o.push({name:m,repeatable:g,optional:v});const C=y||tM;if(C!==tM){p+=10;try{new RegExp(`(${C})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+w.message)}}let b=g?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(b=v&&c.length<2?`(?:/${b})`:"/"+b),v&&(b+="?"),s+=b,p+=20,v&&(p+=-8),g&&(p+=-20),C===".*"&&(p+=-50)}u.push(p)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(i),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=o[f-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:v}=p,y=m in c?c[m]:"";if(po(y)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=po(y)?y.join("/"):y;if(!C)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=C}}return u||"/"}return{re:i,score:r,keys:o,parse:a,stringify:l}}function Swe(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function kwe(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=Swe(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(nM(r))return 1;if(nM(s))return-1}return s.length-r.length}function nM(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ewe={type:0,value:""},Twe=/[a-zA-Z0-9_]/;function _we(t){if(!t)return[[]];if(t==="/")return[[Ewe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let a=0,l,c="",u="";function d(){!c||(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),i()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Twe.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),i(),s}function xwe(t,e,n){const r=Cwe(_we(t.path),n),s=rn(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Iwe(t,e){const n=[],r=new Map;e=oM({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function o(u,d,f){const p=!f,m=Mwe(u);m.aliasOf=f&&f.record;const g=oM(e,u),v=[m];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of b)v.push(rn({},m,{components:f?f.record.components:m.components,path:w,aliasOf:f?f.record:m}))}let y,C;for(const b of v){const{path:w}=b;if(d&&w[0]!=="/"){const S=d.record.path,k=S[S.length-1]==="/"?"":"/";b.path=d.record.path+(w&&k+w)}if(y=xwe(b,d,g),f?f.alias.push(y):(C=C||y,C!==y&&C.alias.push(y),p&&u.name&&!sM(y)&&i(u.name)),m.children){const S=m.children;for(let k=0;k<S.length;k++)o(S[k],y,f&&f.children[k])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return C?()=>{i(C)}:Ef}function i(u){if(jL(u)){const d=r.get(u);d&&(r.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(i),d.alias.forEach(i))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&r.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&kwe(u,n[d])>=0&&(u.record.path!==n[d].record.path||!qL(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!sM(u)&&r.set(u.record.name,u)}function c(u,d){let f,p={},m,g;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw Wu(1,{location:u});g=f.record.name,p=rn(rM(d.params,f.keys.filter(C=>!C.optional).map(C=>C.name)),u.params&&rM(u.params,f.keys.map(C=>C.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=n.find(C=>C.re.test(m)),f&&(p=f.parse(m),g=f.record.name);else{if(f=d.name?r.get(d.name):n.find(C=>C.re.test(d.path)),!f)throw Wu(1,{location:u,currentLocation:d});g=f.record.name,p=rn({},d.params,u.params),m=f.stringify(p)}const v=[];let y=f;for(;y;)v.unshift(y.record),y=y.parent;return{name:g,path:m,params:p,matched:v,meta:Owe(v)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:i,getRoutes:a,getRecordMatcher:s}}function rM(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Mwe(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Awe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Awe(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function sM(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Owe(t){return t.reduce((e,n)=>rn(e,n.meta),{})}function oM(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function qL(t,e){return e.children.some(n=>n===t||qL(t,n))}const GL=/#/g,Nwe=/&/g,$we=/\//g,Rwe=/=/g,Dwe=/\?/g,YL=/\+/g,Pwe=/%5B/g,Lwe=/%5D/g,XL=/%5E/g,Bwe=/%60/g,JL=/%7B/g,Fwe=/%7C/g,QL=/%7D/g,Vwe=/%20/g;function _k(t){return encodeURI(""+t).replace(Fwe,"|").replace(Pwe,"[").replace(Lwe,"]")}function zwe(t){return _k(t).replace(JL,"{").replace(QL,"}").replace(XL,"^")}function b1(t){return _k(t).replace(YL,"%2B").replace(Vwe,"+").replace(GL,"%23").replace(Nwe,"%26").replace(Bwe,"`").replace(JL,"{").replace(QL,"}").replace(XL,"^")}function Hwe(t){return b1(t).replace(Rwe,"%3D")}function Kwe(t){return _k(t).replace(GL,"%23").replace(Dwe,"%3F")}function Uwe(t){return t==null?"":Kwe(t).replace($we,"%2F")}function jg(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function jwe(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(YL," "),i=o.indexOf("="),a=jg(i<0?o:o.slice(0,i)),l=i<0?null:jg(o.slice(i+1));if(a in e){let c=e[a];po(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function iM(t){let e="";for(let n in t){const r=t[n];if(n=Hwe(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(po(r)?r.map(o=>o&&b1(o)):[r&&b1(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Wwe(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=po(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const qwe=Symbol(""),aM=Symbol(""),xk=Symbol(""),ZL=Symbol(""),w1=Symbol("");function Fd(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Yi(t,e,n,r,s){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((i,a)=>{const l=d=>{d===!1?a(Wu(4,{from:n,to:e})):d instanceof Error?a(d):ywe(d)?a(Wu(2,{from:e,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),i())},c=t.call(r&&r.instances[s],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function o0(t,e,n,r){const s=[];for(const o of t)for(const i in o.components){let a=o.components[i];if(!(e!=="beforeRouteEnter"&&!o.instances[i]))if(Gwe(a)){const c=(a.__vccOpts||a)[e];c&&s.push(Yi(c,n,r,o,i))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=Z0e(c)?c.default:c;o.components[i]=u;const f=(u.__vccOpts||u)[e];return f&&Yi(f,n,r,o,i)()}))}}return s}function Gwe(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function lM(t){const e=Fe(xk),n=Fe(ZL),r=T(()=>e.resolve(h(t.to))),s=T(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(ju.bind(null,u));if(f>-1)return f;const p=cM(l[c-2]);return c>1&&cM(u)===p&&d[d.length-1].path!==p?d.findIndex(ju.bind(null,l[c-2])):f}),o=T(()=>s.value>-1&&Qwe(n.params,r.value.params)),i=T(()=>s.value>-1&&s.value===n.matched.length-1&&KL(n.params,r.value.params));function a(l={}){return Jwe(l)?e[h(t.replace)?"replace":"push"](h(t.to)).catch(Ef):Promise.resolve()}return{route:r,href:T(()=>r.value.href),isActive:o,isExactActive:i,navigate:a}}const Ywe=te({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lM,setup(t,{slots:e}){const n=Lt(lM(t)),{options:r}=Fe(xk),s=T(()=>({[uM(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[uM(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:He("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Xwe=Ywe;function Jwe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Qwe(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!po(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function cM(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const uM=(t,e,n)=>t!=null?t:e!=null?e:n,Zwe=te({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Fe(w1),s=T(()=>t.route||r.value),o=Fe(aM,0),i=T(()=>{let c=h(o);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=T(()=>s.value.matched[i.value]);yt(aM,T(()=>i.value+1)),yt(qwe,a),yt(w1,s);const l=D();return Ee(()=>[l.value,a.value,t.name],([c,u,d],[f,p,m])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!ju(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return dM(n.default,{Component:f,route:c});const p=d.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,v=He(f,rn({},m,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return dM(n.default,{Component:v,route:c})||v}}});function dM(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const e1e=Zwe;function t1e(t){const e=Iwe(t.routes,t),n=t.parseQuery||jwe,r=t.stringifyQuery||iM,s=t.history,o=Fd(),i=Fd(),a=Fd(),l=en(Fi);let c=Fi;Wc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=r0.bind(null,Y=>""+Y),d=r0.bind(null,Uwe),f=r0.bind(null,jg);function p(Y,fe){let X,G;return jL(Y)?(X=e.getRecordMatcher(Y),G=fe):G=Y,e.addRoute(G,X)}function m(Y){const fe=e.getRecordMatcher(Y);fe&&e.removeRoute(fe)}function g(){return e.getRoutes().map(Y=>Y.record)}function v(Y){return!!e.getRecordMatcher(Y)}function y(Y,fe){if(fe=rn({},fe||l.value),typeof Y=="string"){const j=s0(n,Y,fe.path),ne=e.resolve({path:j.path},fe),ge=s.createHref(j.fullPath);return rn(j,ne,{params:f(ne.params),hash:jg(j.hash),redirectedFrom:void 0,href:ge})}let X;if("path"in Y)X=rn({},Y,{path:s0(n,Y.path,fe.path).path});else{const j=rn({},Y.params);for(const ne in j)j[ne]==null&&delete j[ne];X=rn({},Y,{params:d(Y.params)}),fe.params=d(fe.params)}const G=e.resolve(X,fe),ue=Y.hash||"";G.params=u(f(G.params));const ye=nwe(r,rn({},Y,{hash:zwe(ue),path:G.path})),Ae=s.createHref(ye);return rn({fullPath:ye,hash:ue,query:r===iM?Wwe(Y.query):Y.query||{}},G,{redirectedFrom:void 0,href:Ae})}function C(Y){return typeof Y=="string"?s0(n,Y,l.value.path):rn({},Y)}function b(Y,fe){if(c!==Y)return Wu(8,{from:fe,to:Y})}function w(Y){return A(Y)}function S(Y){return w(rn(C(Y),{replace:!0}))}function k(Y){const fe=Y.matched[Y.matched.length-1];if(fe&&fe.redirect){const{redirect:X}=fe;let G=typeof X=="function"?X(Y):X;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=C(G):{path:G},G.params={}),rn({query:Y.query,hash:Y.hash,params:"path"in G?{}:Y.params},G)}}function A(Y,fe){const X=c=y(Y),G=l.value,ue=Y.state,ye=Y.force,Ae=Y.replace===!0,j=k(X);if(j)return A(rn(C(j),{state:typeof j=="object"?rn({},ue,j.state):ue,force:ye,replace:Ae}),fe||X);const ne=X;ne.redirectedFrom=fe;let ge;return!ye&&rwe(r,G,X)&&(ge=Wu(16,{to:ne,from:G}),K(G,G,!0,!1)),(ge?Promise.resolve(ge):N(ne,G)).catch(Se=>Xo(Se)?Xo(Se,2)?Se:$(Se):_(Se,ne,G)).then(Se=>{if(Se){if(Xo(Se,2))return A(rn({replace:Ae},C(Se.to),{state:typeof Se.to=="object"?rn({},ue,Se.to.state):ue,force:ye}),fe||ne)}else Se=H(ne,G,!0,Ae,ue);return R(ne,G,Se),Se})}function x(Y,fe){const X=b(Y,fe);return X?Promise.reject(X):Promise.resolve()}function N(Y,fe){let X;const[G,ue,ye]=n1e(Y,fe);X=o0(G.reverse(),"beforeRouteLeave",Y,fe);for(const j of G)j.leaveGuards.forEach(ne=>{X.push(Yi(ne,Y,fe))});const Ae=x.bind(null,Y,fe);return X.push(Ae),Nc(X).then(()=>{X=[];for(const j of o.list())X.push(Yi(j,Y,fe));return X.push(Ae),Nc(X)}).then(()=>{X=o0(ue,"beforeRouteUpdate",Y,fe);for(const j of ue)j.updateGuards.forEach(ne=>{X.push(Yi(ne,Y,fe))});return X.push(Ae),Nc(X)}).then(()=>{X=[];for(const j of Y.matched)if(j.beforeEnter&&!fe.matched.includes(j))if(po(j.beforeEnter))for(const ne of j.beforeEnter)X.push(Yi(ne,Y,fe));else X.push(Yi(j.beforeEnter,Y,fe));return X.push(Ae),Nc(X)}).then(()=>(Y.matched.forEach(j=>j.enterCallbacks={}),X=o0(ye,"beforeRouteEnter",Y,fe),X.push(Ae),Nc(X))).then(()=>{X=[];for(const j of i.list())X.push(Yi(j,Y,fe));return X.push(Ae),Nc(X)}).catch(j=>Xo(j,8)?j:Promise.reject(j))}function R(Y,fe,X){for(const G of a.list())G(Y,fe,X)}function H(Y,fe,X,G,ue){const ye=b(Y,fe);if(ye)return ye;const Ae=fe===Fi,j=Wc?history.state:{};X&&(G||Ae?s.replace(Y.fullPath,rn({scroll:Ae&&j&&j.scroll},ue)):s.push(Y.fullPath,ue)),l.value=Y,K(Y,fe,X,Ae),$()}let P;function B(){P||(P=s.listen((Y,fe,X)=>{if(!ve.listening)return;const G=y(Y),ue=k(G);if(ue){A(rn(ue,{replace:!0}),G).catch(Ef);return}c=G;const ye=l.value;Wc&&dwe(QI(ye.fullPath,X.delta),yy()),N(G,ye).catch(Ae=>Xo(Ae,12)?Ae:Xo(Ae,2)?(A(Ae.to,G).then(j=>{Xo(j,20)&&!X.delta&&X.type===vh.pop&&s.go(-1,!1)}).catch(Ef),Promise.reject()):(X.delta&&s.go(-X.delta,!1),_(Ae,G,ye))).then(Ae=>{Ae=Ae||H(G,ye,!1),Ae&&(X.delta&&!Xo(Ae,8)?s.go(-X.delta,!1):X.type===vh.pop&&Xo(Ae,20)&&s.go(-1,!1)),R(G,ye,Ae)}).catch(Ef)}))}let V=Fd(),z=Fd(),M;function _(Y,fe,X){$(Y);const G=z.list();return G.length?G.forEach(ue=>ue(Y,fe,X)):console.error(Y),Promise.reject(Y)}function O(){return M&&l.value!==Fi?Promise.resolve():new Promise((Y,fe)=>{V.add([Y,fe])})}function $(Y){return M||(M=!Y,B(),V.list().forEach(([fe,X])=>Y?X(Y):fe()),V.reset()),Y}function K(Y,fe,X,G){const{scrollBehavior:ue}=t;if(!Wc||!ue)return Promise.resolve();const ye=!X&&fwe(QI(Y.fullPath,0))||(G||!X)&&history.state&&history.state.scroll||null;return ze().then(()=>ue(Y,fe,ye)).then(Ae=>Ae&&uwe(Ae)).catch(Ae=>_(Ae,Y,fe))}const J=Y=>s.go(Y);let W;const se=new Set,ve={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:v,getRoutes:g,resolve:y,options:t,push:w,replace:S,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:z.add,isReady:O,install(Y){const fe=this;Y.component("RouterLink",Xwe),Y.component("RouterView",e1e),Y.config.globalProperties.$router=fe,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>h(l)}),Wc&&!W&&l.value===Fi&&(W=!0,w(s.location).catch(ue=>{}));const X={};for(const ue in Fi)X[ue]=T(()=>l.value[ue]);Y.provide(xk,fe),Y.provide(ZL,Lt(X)),Y.provide(w1,l);const G=Y.unmount;se.add(Y),Y.unmount=function(){se.delete(Y),se.size<1&&(c=Fi,P&&P(),P=null,l.value=Fi,W=!1,M=!1),G()}}};return ve}function Nc(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function n1e(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(c=>ju(c,a))?r.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(c=>ju(c,l))||s.push(l))}return[n,r,s]}const r1e={name:"uaHeader",props:{bannerTitle:String}},s1e={class:"header",id:"top"},o1e={class:"h-logo"},i1e=L("i",{class:"fa fa-rocket"},null,-1),a1e={class:"h-title"},l1e={class:"h-search"},c1e={class:"h-menu"},u1e=L("i",{class:"fa fa-align-justify"},null,-1),d1e=[u1e],f1e={class:"h-profile"},h1e=L("i",{class:"fa fa-user"},null,-1),p1e=[h1e];function m1e(t,e,n,r,s,o){const i=Je("router-link");return E(),F("div",s1e,[L("div",o1e,[q(i,{to:"/"},{default:re(()=>[i1e]),_:1})]),L("div",a1e," Sap Docs "+Oe(this.bannerTitle),1),L("div",l1e,[L("input",{type:"text",name:"Search",placeholder:"Search..",class:"h-search",onClick:e[0]||(e[0]=a=>t.tbd())})]),L("div",c1e,[L("button",{class:"bt-h-m",onClick:e[1]||(e[1]=a=>t.tbd())},d1e)]),L("div",f1e,[L("button",{class:"bt-h-p",onClick:e[2]||(e[2]=a=>t.$emit("changelogin"))},p1e)])])}const Ik=hp(r1e,[["render",m1e]]),g1e={name:"uaHome",components:{uaHeader:Ik}},v1e=L("div",{class:"hero"},[L("p",null,"Welcome to the SAP Docs"),L("p",null,"Find SAP product documentation, Learning Journeys, and more.")],-1),y1e={class:"areas",id:"section1"},b1e={class:"area-item"},w1e=L("p",null,[L("strong",null,"User Assistant")],-1),C1e=L("p",null,"All products, items, prototypres linked to SAP user assistant",-1),S1e=L("li",null,"link 3",-1),k1e=L("li",null,"link ...",-1),E1e=QC('<div class="area-item"><p><strong>Area 2</strong></p><p>Description of the area 2</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="area-item"><p><strong>Area 3</strong></p><p>Description of the area 3</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="area-item"><p><strong>Area ...</strong></p><p>Description of the area ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="area-item"><p><strong>Area ...</strong></p><p>Description of the area ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="area-item"><p><strong>Area ...</strong></p><p>Description of the area ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="area-item"><p><strong>Area ...</strong></p><p>Description of the area ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="area-item"><p><strong>Area ...</strong></p><p>Description of the area ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="area-item"><p><strong>Latest Area ...</strong></p><p>Description of the area ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div>',8);function T1e(t,e,n,r,s,o){const i=Je("uaHeader"),a=Je("router-link");return E(),F(Ye,null,[q(i,{bannerTitle:""}),v1e,L("div",y1e,[L("div",b1e,[w1e,C1e,L("ul",null,[L("li",null,[q(a,{to:"/thing"},{default:re(()=>[dt("Lite Editing for Business Users")]),_:1})]),L("li",null,[q(a,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt(" UA Vision")]),_:1})]),L("li",null,[q(a,{to:"/tree"},{default:re(()=>[dt("test page for the tree")]),_:1})]),S1e,k1e])]),E1e])],64)}const _1e=hp(g1e,[["render",T1e]]),x1e={name:"uaThing",components:{uacpHeader:Ik}},I1e={class:"things"},M1e={class:"thing-item"},A1e=L("p",null,[L("strong",null,"Most trending pages")],-1),O1e=L("p",null,"Here are the trending pages for UA Lite Editing:",-1),N1e=L("li",null,"link 2",-1),$1e=L("li",null,"link 3",-1),R1e=L("li",null,"link ...",-1),D1e=QC('<div class="thing-item"><p><strong>collection 2</strong></p><p>Description of the collection 2</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>collection 3</strong></p><p>Description of the collection 3</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>collection ...</strong></p><p>Description of the collection ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>collection ...</strong></p><p>Description of the collection ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>collection ...</strong></p><p>Description of the collection ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>collection ...</strong></p><p>Description of the collection ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>thing ...</strong></p><p>Description of the thing ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>collection ...</strong></p><p>Description of the collection ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>collection ...</strong></p><p>Description of the collection ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div><div class="thing-item"><p><strong>collection ...</strong></p><p>Description of the collection ...</p><ul><li>link 1</li><li>link 2</li><li>link 3</li><li>link ...</li></ul></div>',10);function P1e(t,e,n,r,s,o){const i=Je("uacpHeader"),a=Je("router-link");return E(),F(Ye,null,[q(i,{bannerTitle:"- UA Lite Editing"}),L("div",I1e,[L("div",M1e,[A1e,O1e,L("ul",null,[L("li",null,[q(a,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt("Vision")]),_:1})]),N1e,$1e,R1e])]),D1e])],64)}const L1e=hp(x1e,[["render",P1e]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},B1e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},Mk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,i||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B1e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||c==null||d==null)throw Error();const f=o<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},F1e=function(t){const e=eB(t);return Mk.encodeByteArray(e,!0)},Wg=function(t){return F1e(t).replace(/\./g,"")},V1e=function(t){try{return Mk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z1e(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H1e(){return!z1e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function by(){return typeof indexedDB=="object"}function K1e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function tB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1e=()=>tB().__FIREBASE_DEFAULTS__,j1e=()=>{if(typeof process>"u")return;const t=process.env.__FIREBASE_DEFAULTS__,e=process.env.__FIREBASE_DEFAULTS_PATH__;if(t)return e&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(t);if(e&&typeof require<"u")try{return require(e)}catch{console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${e}`)}},W1e=()=>{if(typeof document>"u")return;const t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),e=t&&V1e(t[1]);return e&&JSON.parse(e)},nB=()=>U1e()||j1e()||W1e(),rB=t=>{var e,n;return(n=(e=nB())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},q1e=()=>{var t;return(t=nB())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Wg(JSON.stringify(n)),Wg(JSON.stringify(i)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1e="FirebaseError";class Cc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G1e,Object.setPrototypeOf(this,Cc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ak.prototype.create)}}class Ak{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?Y1e(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Cc(s,a,r)}}function Y1e(t,e){return t.replace(X1e,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const X1e=/\{\$([^}]+)}/g;function S1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(fM(o)&&fM(i)){if(!S1(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function fM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1e=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1e=1e3,Z1e=2,eCe=4*60*60*1e3,tCe=.5;function nCe(t,e=Q1e,n=Z1e){const r=e*Math.pow(n,t),s=Math.round(tCe*r*(Math.random()-.5)*2);return Math.min(eCe,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){return t&&t._delegate?t._delegate:t}class _a{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rCe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oCe(e))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sl){return this.instances.has(e)}getOptions(e=sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sCe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sl){return this.component?this.component.multipleInstances?e:sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sCe(t){return t===sl?void 0:t}function oCe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iCe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rCe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Zt||(Zt={}));const aCe={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},lCe=Zt.INFO,cCe={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},uCe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cCe[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ok{constructor(e){this.name=e,this._logLevel=lCe,this._logHandler=uCe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aCe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}const dCe=(t,e)=>e.some(n=>t instanceof n);let hM,pM;function fCe(){return hM||(hM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hCe(){return pM||(pM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oB=new WeakMap,k1=new WeakMap,iB=new WeakMap,i0=new WeakMap,Nk=new WeakMap;function pCe(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(ha(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&oB.set(n,t)}).catch(()=>{}),Nk.set(e,t),e}function mCe(t){if(k1.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});k1.set(t,e)}let E1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gCe(t){E1=t(E1)}function vCe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(a0(this),e,...n);return iB.set(r,e.sort?e.sort():[e]),ha(r)}:hCe().includes(t)?function(...e){return t.apply(a0(this),e),ha(oB.get(this))}:function(...e){return ha(t.apply(a0(this),e))}}function yCe(t){return typeof t=="function"?vCe(t):(t instanceof IDBTransaction&&mCe(t),dCe(t,fCe())?new Proxy(t,E1):t)}function ha(t){if(t instanceof IDBRequest)return pCe(t);if(i0.has(t))return i0.get(t);const e=yCe(t);return e!==t&&(i0.set(t,e),Nk.set(e,t)),e}const a0=t=>Nk.get(t);function bCe(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=ha(i);return r&&i.addEventListener("upgradeneeded",l=>{r(ha(i.result),l.oldVersion,l.newVersion,ha(i.transaction))}),n&&i.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const wCe=["get","getKey","getAll","getAllKeys","count"],CCe=["put","add","delete","clear"],l0=new Map;function mM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(l0.get(e))return l0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CCe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wCe.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return l0.set(e,o),o}gCe(t=>({...t,get:(e,n,r)=>mM(e,n)||t.get(e,n,r),has:(e,n)=>!!mM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SCe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kCe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kCe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const T1="@firebase/app",gM="0.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Ok("@firebase/app"),ECe="@firebase/app-compat",TCe="@firebase/analytics-compat",_Ce="@firebase/analytics",xCe="@firebase/app-check-compat",ICe="@firebase/app-check",MCe="@firebase/auth",ACe="@firebase/auth-compat",OCe="@firebase/database",NCe="@firebase/database-compat",$Ce="@firebase/functions",RCe="@firebase/functions-compat",DCe="@firebase/installations",PCe="@firebase/installations-compat",LCe="@firebase/messaging",BCe="@firebase/messaging-compat",FCe="@firebase/performance",VCe="@firebase/performance-compat",zCe="@firebase/remote-config",HCe="@firebase/remote-config-compat",KCe="@firebase/storage",UCe="@firebase/storage-compat",jCe="@firebase/firestore",WCe="@firebase/firestore-compat",qCe="firebase",GCe="9.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="[DEFAULT]",YCe={[T1]:"fire-core",[ECe]:"fire-core-compat",[_Ce]:"fire-analytics",[TCe]:"fire-analytics-compat",[ICe]:"fire-app-check",[xCe]:"fire-app-check-compat",[MCe]:"fire-auth",[ACe]:"fire-auth-compat",[OCe]:"fire-rtdb",[NCe]:"fire-rtdb-compat",[$Ce]:"fire-fn",[RCe]:"fire-fn-compat",[DCe]:"fire-iid",[PCe]:"fire-iid-compat",[LCe]:"fire-fcm",[BCe]:"fire-fcm-compat",[FCe]:"fire-perf",[VCe]:"fire-perf-compat",[zCe]:"fire-rc",[HCe]:"fire-rc-compat",[KCe]:"fire-gcs",[UCe]:"fire-gcs-compat",[jCe]:"fire-fst",[WCe]:"fire-fst-compat","fire-js":"fire-js",[qCe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=new Map,x1=new Map;function XCe(t,e){try{t.container.addComponent(e)}catch(n){Jl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ql(t){const e=t.name;if(x1.has(e))return Jl.debug(`There were multiple attempts to register component ${e}.`),!1;x1.set(e,t);for(const n of qg.values())XCe(n,t);return!0}function wy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JCe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pa=new Ak("app","Firebase",JCe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QCe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=GCe;function lB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_1,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw pa.create("bad-app-name",{appName:String(s)});if(n||(n=q1e()),!n)throw pa.create("no-options");const o=qg.get(s);if(o){if(S1(n,o.options)&&S1(r,o.config))return o;throw pa.create("duplicate-app",{appName:s})}const i=new iCe(s);for(const l of x1.values())i.addComponent(l);const a=new QCe(n,r,i);return qg.set(s,a),a}function $k(t=_1){const e=qg.get(t);if(!e&&t===_1)return lB();if(!e)throw pa.create("no-app",{appName:t});return e}function ui(t,e,n){var r;let s=(r=YCe[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jl.warn(a.join(" "));return}Ql(new _a(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZCe="firebase-heartbeat-database",eSe=1,bh="firebase-heartbeat-store";let c0=null;function cB(){return c0||(c0=bCe(ZCe,eSe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bh)}}}).catch(t=>{throw pa.create("idb-open",{originalErrorMessage:t.message})})),c0}async function tSe(t){var e;try{return(await cB()).transaction(bh).objectStore(bh).get(uB(t))}catch(n){if(n instanceof Cc)Jl.warn(n.message);else{const r=pa.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Jl.warn(r.message)}}}async function vM(t,e){var n;try{const s=(await cB()).transaction(bh,"readwrite");return await s.objectStore(bh).put(e,uB(t)),s.done}catch(r){if(r instanceof Cc)Jl.warn(r.message);else{const s=pa.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Jl.warn(s.message)}}}function uB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nSe=1024,rSe=30*24*60*60*1e3;class sSe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iSe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yM();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=rSe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yM(),{heartbeatsToSend:n,unsentEntries:r}=oSe(this._heartbeatsCache.heartbeats),s=Wg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function yM(){return new Date().toISOString().substring(0,10)}function oSe(t,e=nSe){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),bM(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iSe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return by()?K1e().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await tSe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bM(t){return Wg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aSe(t){Ql(new _a("platform-logger",e=>new SCe(e),"PRIVATE")),Ql(new _a("heartbeat",e=>new sSe(e),"PRIVATE")),ui(T1,gM,t),ui(T1,gM,"esm2017"),ui("fire-js","")}aSe("");var lSe="firebase",cSe="9.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(lSe,cSe,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new Map,uSe={activated:!1,tokenObservers:[]},dSe={initialized:!1,enabled:!1};function kr(t){return dB.get(t)||uSe}function Fo(t,e){dB.set(t,e)}function Cy(){return dSe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB="https://content-firebaseappcheck.googleapis.com/v1",fSe="exchangeRecaptchaV3Token",hSe="exchangeDebugToken",wM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},pSe=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mSe{constructor(e,n,r,s,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=s,s>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new yh,await gSe(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new yh,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function gSe(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vSe={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ps=new Ak("appCheck","AppCheck",vSe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function hB(t){if(!kr(t).activated)throw ps.create("use-before-activation",{appName:t.name})}function pB(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),s=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-s*60;let i="";return n&&(i+=om(n)+"d:"),r&&(i+=om(r)+"h:"),i+=om(s)+"m:"+om(o)+"s",i}function om(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB({url:t,body:e},n){var r,s;const o={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const p=await i.getHeartbeatsHeader();p&&(o["X-Firebase-Client"]=p)}const a={method:"POST",body:JSON.stringify(e),headers:o};let l;try{l=await fetch(t,a)}catch(p){throw ps.create("fetch-network-error",{originalErrorMessage:(r=p)===null||r===void 0?void 0:r.message})}if(l.status!==200)throw ps.create("fetch-status-error",{httpStatus:l.status});let c;try{c=await l.json()}catch(p){throw ps.create("fetch-parse-error",{originalErrorMessage:(s=p)===null||s===void 0?void 0:s.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ps.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}}function ySe(t,e){const{projectId:n,appId:r,apiKey:s}=t.options;return{url:`${fB}/projects/${n}/apps/${r}:${fSe}?key=${s}`,body:{recaptcha_v3_token:e}}}function bSe(t,e){const{projectId:n,appId:r,apiKey:s}=t.options;return{url:`${fB}/projects/${n}/apps/${r}:${hSe}?key=${s}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wSe="firebase-app-check-database",CSe=1,wh="firebase-app-check-store",gB="debug-token";let im=null;function vB(){return im||(im=new Promise((t,e)=>{var n;try{const r=indexedDB.open(wSe,CSe);r.onsuccess=s=>{t(s.target.result)},r.onerror=s=>{var o;e(ps.create("storage-open",{originalErrorMessage:(o=s.target.error)===null||o===void 0?void 0:o.message}))},r.onupgradeneeded=s=>{const o=s.target.result;switch(s.oldVersion){case 0:o.createObjectStore(wh,{keyPath:"compositeKey"})}}}catch(r){e(ps.create("storage-open",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message}))}}),im)}function SSe(t){return bB(wB(t))}function kSe(t,e){return yB(wB(t),e)}function ESe(t){return yB(gB,t)}function TSe(){return bB(gB)}async function yB(t,e){const r=(await vB()).transaction(wh,"readwrite"),o=r.objectStore(wh).put({compositeKey:t,value:e});return new Promise((i,a)=>{o.onsuccess=l=>{i()},r.onerror=l=>{var c;a(ps.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})}async function bB(t){const n=(await vB()).transaction(wh,"readonly"),s=n.objectStore(wh).get(t);return new Promise((o,i)=>{s.onsuccess=a=>{const l=a.target.result;o(l?l.value:void 0)},n.onerror=a=>{var l;i(ps.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function wB(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Ok("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Se(t){if(by()){let e;try{e=await SSe(t)}catch(n){Ch.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function u0(t,e){return by()?kSe(t,e).catch(n=>{Ch.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function xSe(){let t;try{t=await TSe()}catch{}if(t)return t;{const e=J1e();return ESe(e).catch(n=>Ch.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(){return Cy().enabled}async function SB(){const t=Cy();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function ISe(){const t=tB(),e=Cy();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new yh;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(xSe())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MSe={error:"UNKNOWN_ERROR"};function ASe(t){return Mk.encodeString(JSON.stringify(t),!1)}async function I1(t,e=!1){const n=t.app;hB(n);const r=kr(n);let s=r.token,o;if(s&&!nu(s)&&(Fo(n,Object.assign(Object.assign({},r),{token:void 0})),s=void 0),!s){const l=await r.cachedTokenPromise;l&&(nu(l)?s=l:await u0(n,void 0))}if(!e&&s&&nu(s))return{token:s.token};let i=!1;if(CB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mB(bSe(n,await SB()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),i=!0);const l=await r.exchangeTokenPromise;return await u0(n,l),Fo(n,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),i=!0),s=await r.exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Ch.warn(l.message):Ch.error(l),o=l}let a;return s?o?nu(s)?a={token:s.token,internalError:o}:a=kM(o):(a={token:s.token},Fo(n,Object.assign(Object.assign({},r),{token:s})),await u0(n,s)):a=kM(o),i&&TB(n,a),a}function kB(t,e,n,r){const{app:s}=t,o=kr(s),i={next:n,error:r,type:e};if(Fo(s,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,i]})),o.token&&nu(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),SM(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>SM(t))}function EB(t,e){const n=kr(t),r=n.tokenObservers.filter(s=>s.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Fo(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function SM(t){const{app:e}=t,n=kr(e);let r=n.tokenRefresher;r||(r=OSe(t),Fo(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function OSe(t){const{app:e}=t;return new mSe(async()=>{const n=kr(e);let r;if(n.token?r=await I1(t,!0):r=await I1(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=kr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,s),Math.max(0,r-Date.now())}else return 0},wM.RETRIAL_MIN_WAIT,wM.RETRIAL_MAX_WAIT)}function TB(t,e){const n=kr(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function nu(t){return t.expireTimeMillis-Date.now()>0}function kM(t){return{token:ASe(MSe),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NSe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=kr(this.app);for(const n of e)EB(this.app,n.next);return Promise.resolve()}}function $Se(t,e){return new NSe(t,e)}function RSe(t){return{getToken:e=>I1(t,e),addTokenListener:e=>kB(t,"INTERNAL",e),removeTokenListener:e=>EB(t.app,e)}}const DSe="@firebase/app-check",PSe="0.5.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LSe="https://www.google.com/recaptcha/api.js";function BSe(t,e){const n=kr(t),r=new yh;Fo(t,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));const s=FSe(t),o=CM(!1);return o?EM(t,e,o,s,r):HSe(()=>{const i=CM(!1);if(!i)throw new Error("no recaptcha");EM(t,e,i,s,r)}),r.promise}function EM(t,e,n,r,s){n.ready(()=>{zSe(t,e,n,r),s.resolve(n)})}function FSe(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function VSe(t){hB(t);const n=await kr(t).reCAPTCHAState.initialized.promise;return new Promise((r,s)=>{const o=kr(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function zSe(t,e,n,r){const s=n.render(r,{sitekey:e,size:"invisible"}),o=kr(t);Fo(t,Object.assign(Object.assign({},o),{reCAPTCHAState:Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:s})}))}function HSe(t){const e=document.createElement("script");e.src=LSe,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n;USe(this._throttleData);const r=await VSe(this._app).catch(o=>{throw ps.create("recaptcha-error")});let s;try{s=await mB(ySe(this._app,r),this._heartbeatServiceProvider)}catch(o){throw!((e=o.code)===null||e===void 0)&&e.includes("fetch-status-error")?(this._throttleData=KSe(Number((n=o.customData)===null||n===void 0?void 0:n.httpStatus),this._throttleData),ps.create("throttled",{time:pB(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=wy(e,"heartbeat"),BSe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Rk?this._siteKey===e._siteKey:!1}}function KSe(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+pSe,httpStatus:t};{const n=e?e.backoffCount:0,r=nCe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function USe(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw ps.create("throttled",{time:pB(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jSe(t=$k(),e){t=Es(t);const n=wy(t,"app-check");if(Cy().initialized||ISe(),CB()&&SB().then(s=>console.log(`App Check debug token: ${s}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return s;throw ps.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return WSe(t,e.provider,e.isTokenAutoRefreshEnabled),kr(t).isTokenAutoRefreshEnabled&&kB(r,"INTERNAL",()=>{}),r}function WSe(t,e,n){const r=kr(t),s=Object.assign(Object.assign({},r),{activated:!0});s.provider=e,s.cachedTokenPromise=_Se(t).then(o=>(o&&nu(o)&&(Fo(t,Object.assign(Object.assign({},kr(t)),{token:o})),TB(t,{token:o.token})),o)),s.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,Fo(t,s),s.provider.initialize(t)}const qSe="app-check",TM="app-check-internal";function GSe(){Ql(new _a(qSe,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return $Se(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(TM).initialize()})),Ql(new _a(TM,t=>{const e=t.getProvider("app-check").getImmediate();return RSe(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ui(DSe,PSe)}GSe();var YSe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gt,Dk=Dk||{},Rt=YSe||self;function Gg(){}function Sy(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function pp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function XSe(t){return Object.prototype.hasOwnProperty.call(t,d0)&&t[d0]||(t[d0]=++JSe)}var d0="closure_uid_"+(1e9*Math.random()>>>0),JSe=0;function QSe(t,e,n){return t.call.apply(t.bind,arguments)}function ZSe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function wr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wr=QSe:wr=ZSe,wr.apply(null,arguments)}function am(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ur(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,s,o){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[s].apply(r,i)}}function Va(){this.s=this.s,this.o=this.o}var eke=0;Va.prototype.s=!1;Va.prototype.na=function(){!this.s&&(this.s=!0,this.M(),eke!=0)&&XSe(this)};Va.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pk(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _M(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Sy(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let i=0;i<o;i++)t[s+i]=r[i]}else t.push(r)}}function Cr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Cr.prototype.h=function(){this.defaultPrevented=!0};var tke=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Rt.addEventListener("test",Gg,e),Rt.removeEventListener("test",Gg,e)}catch{}return t}();function Yg(t){return/^[\s\xa0]*$/.test(t)}var xM=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function f0(t,e){return t<e?-1:t>e?1:0}function ky(){var t=Rt.navigator;return t&&(t=t.userAgent)?t:""}function _o(t){return ky().indexOf(t)!=-1}function Lk(t){return Lk[" "](t),t}Lk[" "]=Gg;function nke(t){var e=oke;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var rke=_o("Opera"),qu=_o("Trident")||_o("MSIE"),xB=_o("Edge"),M1=xB||qu,IB=_o("Gecko")&&!(ky().toLowerCase().indexOf("webkit")!=-1&&!_o("Edge"))&&!(_o("Trident")||_o("MSIE"))&&!_o("Edge"),ske=ky().toLowerCase().indexOf("webkit")!=-1&&!_o("Edge");function MB(){var t=Rt.document;return t?t.documentMode:void 0}var Xg;e:{var h0="",p0=function(){var t=ky();if(IB)return/rv:([^\);]+)(\)|;)/.exec(t);if(xB)return/Edge\/([\d\.]+)/.exec(t);if(qu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ske)return/WebKit\/(\S+)/.exec(t);if(rke)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(p0&&(h0=p0?p0[1]:""),qu){var m0=MB();if(m0!=null&&m0>parseFloat(h0)){Xg=String(m0);break e}}Xg=h0}var oke={};function ike(){return nke(function(){let t=0;const e=xM(String(Xg)).split("."),n=xM("9").split("."),r=Math.max(e.length,n.length);for(let i=0;t==0&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s[0].length==0&&o[0].length==0)break;t=f0(s[1].length==0?0:parseInt(s[1],10),o[1].length==0?0:parseInt(o[1],10))||f0(s[2].length==0,o[2].length==0)||f0(s[2],o[2]),s=s[3],o=o[3]}while(t==0)}return 0<=t})}var A1;if(Rt.document&&qu){var IM=MB();A1=IM||parseInt(Xg,10)||void 0}else A1=void 0;var ake=A1;function Sh(t,e){if(Cr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(IB){e:{try{Lk(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:lke[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sh.X.h.call(this)}}ur(Sh,Cr);var lke={2:"touch",3:"pen",4:"mouse"};Sh.prototype.h=function(){Sh.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var mp="closure_listenable_"+(1e6*Math.random()|0),cke=0;function uke(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=s,this.key=++cke,this.ba=this.ea=!1}function Ey(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Bk(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function AB(t){const e={};for(const n in t)e[n]=t[n];return e}const MM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OB(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<MM.length;o++)n=MM[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ty(t){this.src=t,this.g={},this.h=0}Ty.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var i=N1(t,e,r,s);return-1<i?(e=t[i],n||(e.ea=!1)):(e=new uke(e,this.src,o,!!r,s),e.ea=n,t.push(e)),e};function O1(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=_B(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(Ey(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function N1(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return s}return-1}var Fk="closure_lm_"+(1e6*Math.random()|0),g0={};function NB(t,e,n,r,s){if(r&&r.once)return RB(t,e,n,r,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)NB(t,e[o],n,r,s);return null}return n=Hk(n),t&&t[mp]?t.N(e,n,pp(r)?!!r.capture:!!r,s):$B(t,e,n,!1,r,s)}function $B(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var i=pp(s)?!!s.capture:!!s,a=zk(t);if(a||(t[Fk]=a=new Ty(t)),n=a.add(e,n,r,i,o),n.proxy)return n;if(r=dke(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tke||(s=i),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(PB(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function dke(){function t(n){return e.call(t.src,t.listener,n)}const e=fke;return t}function RB(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)RB(t,e[o],n,r,s);return null}return n=Hk(n),t&&t[mp]?t.O(e,n,pp(r)?!!r.capture:!!r,s):$B(t,e,n,!0,r,s)}function DB(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)DB(t,e[o],n,r,s);else r=pp(r)?!!r.capture:!!r,n=Hk(n),t&&t[mp]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=N1(o,n,r,s),-1<n&&(Ey(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=zk(t))&&(e=t.g[e.toString()],t=-1,e&&(t=N1(e,n,r,s)),(n=-1<t?e[t]:null)&&Vk(n))}function Vk(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[mp])O1(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(PB(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zk(e))?(O1(n,t),n.h==0&&(n.src=null,e[Fk]=null)):Ey(t)}}}function PB(t){return t in g0?g0[t]:g0[t]="on"+t}function fke(t,e){if(t.ba)t=!0;else{e=new Sh(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Vk(t),t=n.call(r,e)}return t}function zk(t){return t=t[Fk],t instanceof Ty?t:null}var v0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hk(t){return typeof t=="function"?t:(t[v0]||(t[v0]=function(e){return t.handleEvent(e)}),t[v0])}function Yn(){Va.call(this),this.i=new Ty(this),this.P=this,this.I=null}ur(Yn,Va);Yn.prototype[mp]=!0;Yn.prototype.removeEventListener=function(t,e,n,r){DB(this,t,e,n,r)};function lr(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Cr(e,t);else if(e instanceof Cr)e.target=e.target||t;else{var s=e;e=new Cr(r,t),OB(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var i=e.g=n[o];s=lm(i,r,!0,e)&&s}if(i=e.g=t,s=lm(i,r,!0,e)&&s,s=lm(i,r,!1,e)&&s,n)for(o=0;o<n.length;o++)i=e.g=n[o],s=lm(i,r,!1,e)&&s}Yn.prototype.M=function(){if(Yn.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ey(n[r]);delete t.g[e],t.h--}}this.I=null};Yn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Yn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function lm(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var i=e[o];if(i&&!i.ba&&i.capture==n){var a=i.listener,l=i.ha||i.src;i.ea&&O1(t.i,i),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Kk=Rt.JSON.stringify;function hke(){var t=FB;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pke{constructor(){this.h=this.g=null}add(e,n){const r=LB.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var LB=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new mke,t=>t.reset());class mke{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gke(t){Rt.setTimeout(()=>{throw t},0)}function BB(t,e){$1||vke(),R1||($1(),R1=!0),FB.add(t,e)}var $1;function vke(){var t=Rt.Promise.resolve(void 0);$1=function(){t.then(yke)}}var R1=!1,FB=new pke;function yke(){for(var t;t=hke();){try{t.h.call(t.g)}catch(n){gke(n)}var e=LB;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}R1=!1}function _y(t,e){Yn.call(this),this.h=t||1,this.g=e||Rt,this.j=wr(this.kb,this),this.l=Date.now()}ur(_y,Yn);gt=_y.prototype;gt.ca=!1;gt.R=null;gt.kb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lr(this,"tick"),this.ca&&(Uk(this),this.start()))}};gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uk(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}gt.M=function(){_y.X.M.call(this),Uk(this),delete this.g};function jk(t,e,n){if(typeof t=="function")n&&(t=wr(t,n));else if(t&&typeof t.handleEvent=="function")t=wr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Rt.setTimeout(t,e||0)}function VB(t){t.g=jk(()=>{t.g=null,t.i&&(t.i=!1,VB(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class bke extends Va{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VB(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kh(t){Va.call(this),this.h=t,this.g={}}ur(kh,Va);var AM=[];function zB(t,e,n,r){Array.isArray(n)||(n&&(AM[0]=n.toString()),n=AM);for(var s=0;s<n.length;s++){var o=NB(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function HB(t){Bk(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vk(e)},t),t.g={}}kh.prototype.M=function(){kh.X.M.call(this),HB(this)};kh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xy(){this.g=!0}xy.prototype.Aa=function(){this.g=!1};function wke(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var i="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&d[1]=="type"?i+(u+"="+c+"&"):i+(u+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+i})}function Cke(t,e,n,r,s,o,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+i})}function ru(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+kke(t,n)+(r?" "+r:"")})}function Ske(t,e){t.info(function(){return"TIMEOUT: "+e})}xy.prototype.info=function(){};function kke(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var i=1;i<s.length;i++)s[i]=""}}}}return Kk(n)}catch{return e}}var Sc={},OM=null;function Iy(){return OM=OM||new Yn}Sc.Oa="serverreachability";function KB(t){Cr.call(this,Sc.Oa,t)}ur(KB,Cr);function Eh(t){const e=Iy();lr(e,new KB(e))}Sc.STAT_EVENT="statevent";function UB(t,e){Cr.call(this,Sc.STAT_EVENT,t),this.stat=e}ur(UB,Cr);function Ar(t){const e=Iy();lr(e,new UB(e,t))}Sc.Pa="timingevent";function jB(t,e){Cr.call(this,Sc.Pa,t),this.size=e}ur(jB,Cr);function gp(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){t()},e)}var My={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},WB={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wk(){}Wk.prototype.h=null;function NM(t){return t.h||(t.h=t.i())}function qB(){}var vp={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function qk(){Cr.call(this,"d")}ur(qk,Cr);function Gk(){Cr.call(this,"c")}ur(Gk,Cr);var D1;function Ay(){}ur(Ay,Wk);Ay.prototype.g=function(){return new XMLHttpRequest};Ay.prototype.i=function(){return{}};D1=new Ay;function yp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new kh(this),this.O=Eke,t=M1?125:void 0,this.T=new _y(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new GB}function GB(){this.i=null,this.g="",this.h=!1}var Eke=45e3,P1={},Jg={};gt=yp.prototype;gt.setTimeout=function(t){this.O=t};function L1(t,e,n){t.K=1,t.v=Ny(Ci(e)),t.s=n,t.P=!0,YB(t,null)}function YB(t,e){t.F=Date.now(),bp(t),t.A=Ci(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),r3(n.i,"t",r),t.C=0,n=t.l.H,t.h=new GB,t.g=E3(t.l,n?e:null,!t.s),0<t.N&&(t.L=new bke(wr(t.Ka,t,t.g),t.N)),zB(t.S,t.g,"readystatechange",t.hb),e=t.H?AB(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Eh(),wke(t.j,t.u,t.A,t.m,t.U,t.s)}gt.hb=function(t){t=t.target;const e=this.L;e&&oi(t)==3?e.l():this.Ka(t)};gt.Ka=function(t){try{if(t==this.g)e:{const u=oi(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>u)&&(u!=3||M1||this.g&&(this.h.h||this.g.fa()||PM(this.g)))){this.I||u!=4||e==7||(e==8||0>=d?Eh(3):Eh(2)),Oy(this);var n=this.g.aa();this.Y=n;t:if(XB(this)){var r=PM(this.g);t="";var s=r.length,o=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){El(this),_f(this);var i="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,i=this.h.g}else i=this.g.fa();if(this.i=n==200,Cke(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yg(a)){var c=a;break t}}c=null}if(n=c)ru(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,B1(this,n);else{this.i=!1,this.o=3,Ar(12),El(this),_f(this);break e}}this.P?(JB(this,u,i),M1&&this.i&&u==3&&(zB(this.S,this.T,"tick",this.gb),this.T.start())):(ru(this.j,this.m,i,null),B1(this,i)),u==4&&El(this),this.i&&!this.I&&(u==4?w3(this.l,this):(this.i=!1,bp(this)))}else n==400&&0<i.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),El(this),_f(this)}}}catch{}finally{}};function XB(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function JB(t,e,n){let r=!0,s;for(;!t.I&&t.C<n.length;)if(s=Tke(t,n),s==Jg){e==4&&(t.o=4,Ar(14),r=!1),ru(t.j,t.m,null,"[Incomplete Response]");break}else if(s==P1){t.o=4,Ar(15),ru(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ru(t.j,t.m,s,null),B1(t,s);XB(t)&&s!=Jg&&s!=P1&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ar(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tE(e),e.K=!0,Ar(11))):(ru(t.j,t.m,n,"[Invalid Chunked Response]"),El(t),_f(t))}gt.gb=function(){if(this.g){var t=oi(this.g),e=this.g.fa();this.C<e.length&&(Oy(this),JB(this,t,e),this.i&&t!=4&&bp(this))}};function Tke(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Jg:(n=Number(e.substring(n,r)),isNaN(n)?P1:(r+=1,r+n>e.length?Jg:(e=e.substr(r,n),t.C=r+n,e)))}gt.cancel=function(){this.I=!0,El(this)};function bp(t){t.V=Date.now()+t.O,QB(t,t.O)}function QB(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=gp(wr(t.fb,t),e)}function Oy(t){t.B&&(Rt.clearTimeout(t.B),t.B=null)}gt.fb=function(){this.B=null;const t=Date.now();0<=t-this.V?(Ske(this.j,this.A),this.K!=2&&(Eh(),Ar(17)),El(this),this.o=2,_f(this)):QB(this,this.V-t)};function _f(t){t.l.G==0||t.I||w3(t.l,t)}function El(t){Oy(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Uk(t.T),HB(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function B1(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||F1(n.h,t))){if(!t.J&&F1(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ev(n),Dy(n);else break e;eE(n),Ar(18)}}else n.Ba=s[1],0<n.Ba-n.T&&37500>s[2]&&n.L&&n.A==0&&!n.v&&(n.v=gp(wr(n.bb,n),6e3));if(1>=i3(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Tl(n,11)}else if((t.J||n.g==t)&&ev(n),!Yg(e))for(s=n.Fa.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const u=c[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const d=c[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.h;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Yk(o,o.h),o.h=null))}if(r.D){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,bn(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var i=t;if(r.sa=k3(r,r.H?r.ka:null,r.V),i.J){a3(r.h,i);var a=i,l=r.J;l&&a.setTimeout(l),a.B&&(Oy(a),bp(a)),r.g=i}else y3(r);0<n.i.length&&Py(n)}else c[0]!="stop"&&c[0]!="close"||Tl(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Tl(n,7):Zk(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}Eh(4)}catch{}}function _ke(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Sy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function xke(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sy(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ZB(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sy(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=xke(t),r=_ke(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var e3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ike(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function $l(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $l){this.h=e!==void 0?e:t.h,Qg(this,t.j),this.s=t.s,this.g=t.g,Zg(this,t.m),this.l=t.l,e=t.i;var n=new Th;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$M(this,n),this.o=t.o}else t&&(n=String(t).match(e3))?(this.h=!!e,Qg(this,n[1]||"",!0),this.s=tf(n[2]||""),this.g=tf(n[3]||"",!0),Zg(this,n[4]),this.l=tf(n[5]||"",!0),$M(this,n[6]||"",!0),this.o=tf(n[7]||"")):(this.h=!!e,this.i=new Th(null,this.h))}$l.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nf(e,RM,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(nf(e,RM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(nf(n,n.charAt(0)=="/"?Oke:Ake,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nf(n,$ke)),t.join("")};function Ci(t){return new $l(t)}function Qg(t,e,n){t.j=n?tf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $M(t,e,n){e instanceof Th?(t.i=e,Rke(t.i,t.h)):(n||(e=nf(e,Nke)),t.i=new Th(e,t.h))}function bn(t,e,n){t.i.set(e,n)}function Ny(t){return bn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nf(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Mke),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mke(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var RM=/[#\/\?@]/g,Ake=/[#\?:]/g,Oke=/[#\?]/g,Nke=/[#\?@]/g,$ke=/#/g;function Th(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function za(t){t.g||(t.g=new Map,t.h=0,t.i&&Ike(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}gt=Th.prototype;gt.add=function(t,e){za(this),this.i=null,t=bd(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function t3(t,e){za(t),e=bd(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function n3(t,e){return za(t),e=bd(t,e),t.g.has(e)}gt.forEach=function(t,e){za(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};gt.oa=function(){za(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};gt.W=function(t){za(this);let e=[];if(typeof t=="string")n3(this,t)&&(e=e.concat(this.g.get(bd(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};gt.set=function(t,e){return za(this),this.i=null,t=bd(this,t),n3(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};gt.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function r3(t,e,n){t3(t,e),0<n.length&&(t.i=null,t.g.set(bd(t,e),Pk(n)),t.h+=n.length)}gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),i=this.W(r);for(r=0;r<i.length;r++){var s=o;i[r]!==""&&(s+="="+encodeURIComponent(String(i[r]))),t.push(s)}}return this.i=t.join("&")};function bd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Rke(t,e){e&&!t.j&&(za(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(t3(this,r),r3(this,s,n))},t)),t.j=e}var Dke=class{constructor(t,e){this.h=t,this.g=e}};function s3(t){this.l=t||Pke,Rt.PerformanceNavigationTiming?(t=Rt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pke=10;function o3(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function i3(t){return t.h?1:t.g?t.g.size:0}function F1(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yk(t,e){t.g?t.g.add(e):t.h=e}function a3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}s3.prototype.cancel=function(){if(this.i=l3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function l3(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Pk(t.i)}function Xk(){}Xk.prototype.stringify=function(t){return Rt.JSON.stringify(t,void 0)};Xk.prototype.parse=function(t){return Rt.JSON.parse(t,void 0)};function Lke(){this.g=new Xk}function Bke(t,e,n){const r=n||"";try{ZB(t,function(s,o){let i=s;pp(s)&&(i=Kk(s)),e.push(r+o+"="+encodeURIComponent(i))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Fke(t,e){const n=new xy;if(Rt.Image){const r=new Image;r.onload=am(cm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=am(cm,n,r,"TestLoadImage: error",!1,e),r.onabort=am(cm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=am(cm,n,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function cm(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function wp(t){this.l=t.$b||null,this.j=t.ib||!1}ur(wp,Wk);wp.prototype.g=function(){return new $y(this.l,this.j)};wp.prototype.i=function(t){return function(){return t}}({});function $y(t,e){Yn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Jk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ur($y,Yn);var Jk=0;gt=$y.prototype;gt.open=function(t,e){if(this.readyState!=Jk)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_h(this)};gt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))};gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cp(this)),this.readyState=Jk};gt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_h(this)),this.g&&(this.readyState=3,_h(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;c3(this)}else t.text().then(this.Ua.bind(this),this.ga.bind(this))};function c3(t){t.j.read().then(t.Sa.bind(t)).catch(t.ga.bind(t))}gt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cp(this):_h(this),this.readyState==3&&c3(this)}};gt.Ua=function(t){this.g&&(this.response=this.responseText=t,Cp(this))};gt.Ta=function(t){this.g&&(this.response=t,Cp(this))};gt.ga=function(){this.g&&Cp(this)};function Cp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_h(t)}gt.setRequestHeader=function(t,e){this.v.append(t,e)};gt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};gt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _h(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($y.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Vke=Rt.JSON.parse;function Dn(t){Yn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=u3,this.K=this.L=!1}ur(Dn,Yn);var u3="",zke=/^https?$/i,Hke=["POST","PUT"];gt=Dn.prototype;gt.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():D1.g(),this.C=this.u?NM(this.u):NM(D1),this.g.onreadystatechange=wr(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){DM(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=Rt.FormData&&t instanceof Rt.FormData,!(0<=_B(Hke,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,i]of n)this.g.setRequestHeader(o,i);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{h3(this),0<this.B&&((this.K=Kke(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.qa,this)):this.A=jk(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){DM(this,o)}};function Kke(t){return qu&&ike()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}gt.qa=function(){typeof Dk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))};function DM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,d3(t),Ry(t)}function d3(t){t.D||(t.D=!0,lr(t,"complete"),lr(t,"error"))}gt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lr(this,"complete"),lr(this,"abort"),Ry(this))};gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ry(this,!0)),Dn.X.M.call(this)};gt.Ha=function(){this.s||(this.F||this.v||this.l?f3(this):this.eb())};gt.eb=function(){f3(this)};function f3(t){if(t.h&&typeof Dk<"u"&&(!t.C[1]||oi(t)!=4||t.aa()!=2)){if(t.v&&oi(t)==4)jk(t.Ha,0,t);else if(lr(t,"readystatechange"),oi(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var s=String(t.H).match(e3)[1]||null;if(!s&&Rt.self&&Rt.self.location){var o=Rt.self.location.protocol;s=o.substr(0,o.length-1)}r=!zke.test(s?s.toLowerCase():"")}n=r}if(n)lr(t,"complete"),lr(t,"success");else{t.m=6;try{var i=2<oi(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.aa()+"]",d3(t)}}finally{Ry(t)}}}}function Ry(t,e){if(t.g){h3(t);const n=t.g,r=t.C[0]?Gg:null;t.g=null,t.C=null,e||lr(t,"ready");try{n.onreadystatechange=r}catch{}}}function h3(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Rt.clearTimeout(t.A),t.A=null)}function oi(t){return t.g?t.g.readyState:0}gt.aa=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}};gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};gt.Ra=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Vke(e)}};function PM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case u3:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}gt.Ea=function(){return this.m};gt.Na=function(){return typeof this.j=="string"?this.j:String(this.j)};function p3(t){let e="";return Bk(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Qk(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=p3(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):bn(t,e,n))}function Vd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function m3(t){this.Ca=0,this.i=[],this.j=new xy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Vd("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Vd("baseRetryDelayMs",5e3,t),this.ab=Vd("retryDelaySeedMs",1e4,t),this.Za=Vd("forwardChannelMaxRetries",2,t),this.ta=Vd("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Yb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new s3(t&&t.concurrentRequestLimit),this.Fa=new Lke,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=t&&t.Wb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}gt=m3.prototype;gt.ma=8;gt.G=1;function Zk(t){if(g3(t),t.G==3){var e=t.U++,n=Ci(t.F);bn(n,"SID",t.I),bn(n,"RID",e),bn(n,"TYPE","terminate"),Sp(t,n),e=new yp(t,t.j,e,void 0),e.K=2,e.v=Ny(Ci(n)),n=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(n=Rt.navigator.sendBeacon(e.v.toString(),"")),!n&&Rt.Image&&(new Image().src=e.v,n=!0),n||(e.g=E3(e.l,null),e.g.da(e.v)),e.F=Date.now(),bp(e)}S3(t)}function Dy(t){t.g&&(tE(t),t.g.cancel(),t.g=null)}function g3(t){Dy(t),t.u&&(Rt.clearTimeout(t.u),t.u=null),ev(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Rt.clearTimeout(t.m),t.m=null)}function Py(t){o3(t.h)||t.m||(t.m=!0,BB(t.Ja,t),t.C=0)}function Uke(t,e){return i3(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Ya?0:t.Za)?!1:(t.m=gp(wr(t.Ja,t,e),C3(t,t.C)),t.C++,!0)}gt.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new yp(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=AB(o),OB(o,this.S)):o=this.S),this.o!==null||this.N||(s.H=o,o=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=v3(this,s,e),n=Ci(this.F),bn(n,"RID",t),bn(n,"CVER",22),this.D&&bn(n,"X-HTTP-Session-Id",this.D),Sp(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(p3(o)))+"&"+e:this.o&&Qk(n,this.o,o)),Yk(this.h,s),this.Xa&&bn(n,"TYPE","init"),this.O?(bn(n,"$req",e),bn(n,"SID","null"),s.Z=!0,L1(s,n,null)):L1(s,n,e),this.G=2}}else this.G==3&&(t?LM(this,t):this.i.length==0||o3(this.h)||LM(this))};function LM(t,e){var n;e?n=e.m:n=t.U++;const r=Ci(t.F);bn(r,"SID",t.I),bn(r,"RID",n),bn(r,"AID",t.T),Sp(t,r),t.o&&t.s&&Qk(r,t.o,t.s),n=new yp(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=v3(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Yk(t.h,n),L1(n,r,e)}function Sp(t,e){t.ia&&Bk(t.ia,function(n,r){bn(e,r,n)}),t.l&&ZB({},function(n,r){bn(e,r,n)})}function v3(t,e,n){n=Math.min(t.i.length,n);var r=t.l?wr(t.l.Qa,t.l,t):null;e:{var s=t.i;let o=-1;for(;;){const i=["count="+n];o==-1?0<n?(o=s[0].h,i.push("ofs="+o)):o=0:i.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let c=s[l].h;const u=s[l].g;if(c-=o,0>c)o=Math.max(0,s[l].h-100),a=!1;else try{Bke(u,i,"req"+c+"_")}catch{r&&r(u)}}if(a){r=i.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function y3(t){t.g||t.u||(t.Z=1,BB(t.Ia,t),t.A=0)}function eE(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=gp(wr(t.Ia,t),C3(t,t.A)),t.A++,!0)}gt.Ia=function(){if(this.u=null,b3(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=gp(wr(this.cb,this),t)}};gt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ar(10),Dy(this),b3(this))};function tE(t){t.B!=null&&(Rt.clearTimeout(t.B),t.B=null)}function b3(t){t.g=new yp(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Ci(t.sa);bn(e,"RID","rpc"),bn(e,"SID",t.I),bn(e,"CI",t.L?"0":"1"),bn(e,"AID",t.T),bn(e,"TYPE","xmlhttp"),Sp(t,e),t.o&&t.s&&Qk(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ny(Ci(e)),n.s=null,n.P=!0,YB(n,t)}gt.bb=function(){this.v!=null&&(this.v=null,Dy(this),eE(this),Ar(19))};function ev(t){t.v!=null&&(Rt.clearTimeout(t.v),t.v=null)}function w3(t,e){var n=null;if(t.g==e){ev(t),tE(t),t.g=null;var r=2}else if(F1(t.h,e))n=e.D,a3(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;r=Iy(),lr(r,new jB(r,n)),Py(t)}else y3(t);else if(s=e.o,s==3||s==0&&0<t.pa||!(r==1&&Uke(t,e)||r==2&&eE(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),s){case 1:Tl(t,5);break;case 4:Tl(t,10);break;case 3:Tl(t,6);break;default:Tl(t,2)}}}function C3(t,e){let n=t.Wa+Math.floor(Math.random()*t.ab);return t.l||(n*=2),n*e}function Tl(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=wr(t.jb,t);n||(n=new $l("//www.google.com/images/cleardot.gif"),Rt.location&&Rt.location.protocol=="http"||Qg(n,"https"),Ny(n)),Fke(n.toString(),r)}else Ar(2);t.G=0,t.l&&t.l.va(e),S3(t),g3(t)}gt.jb=function(t){t?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))};function S3(t){if(t.G=0,t.la=[],t.l){const e=l3(t.h);(e.length!=0||t.i.length!=0)&&(_M(t.la,e),_M(t.la,t.i),t.h.i.length=0,Pk(t.i),t.i.length=0),t.l.ua()}}function k3(t,e,n){var r=n instanceof $l?Ci(n):new $l(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Zg(r,r.m);else{var s=Rt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new $l(null,void 0);r&&Qg(o,r),e&&(o.g=e),s&&Zg(o,s),n&&(o.l=n),r=o}return n=t.D,e=t.za,n&&e&&bn(r,n,e),bn(r,"VER",t.ma),Sp(t,r),r}function E3(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Dn(new wp({ib:!0})):new Dn(t.ra),e.L=t.H,e}function T3(){}gt=T3.prototype;gt.xa=function(){};gt.wa=function(){};gt.va=function(){};gt.ua=function(){};gt.Qa=function(){};function tv(){if(qu&&!(10<=Number(ake)))throw Error("Environmental error: no available transport.")}tv.prototype.g=function(t,e){return new Ts(t,e)};function Ts(t,e){Yn.call(this),this.g=new m3(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Xb)&&!Yg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yg(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wd(this)}ur(Ts,Yn);Ts.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ar(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=k3(t,null,t.V),Py(t)};Ts.prototype.close=function(){Zk(this.g)};Ts.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Kk(t),t=n);e.i.push(new Dke(e.$a++,t)),e.G==3&&Py(e)};Ts.prototype.M=function(){this.g.l=null,delete this.j,Zk(this.g),delete this.g,Ts.X.M.call(this)};function _3(t){qk.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ur(_3,qk);function x3(){Gk.call(this),this.status=1}ur(x3,Gk);function wd(t){this.g=t}ur(wd,T3);wd.prototype.xa=function(){lr(this.g,"a")};wd.prototype.wa=function(t){lr(this.g,new _3(t))};wd.prototype.va=function(t){lr(this.g,new x3)};wd.prototype.ua=function(){lr(this.g,"b")};tv.prototype.createWebChannel=tv.prototype.g;Ts.prototype.send=Ts.prototype.u;Ts.prototype.open=Ts.prototype.m;Ts.prototype.close=Ts.prototype.close;My.NO_ERROR=0;My.TIMEOUT=8;My.HTTP_ERROR=6;WB.COMPLETE="complete";qB.EventType=vp;vp.OPEN="a";vp.CLOSE="b";vp.ERROR="c";vp.MESSAGE="d";Yn.prototype.listen=Yn.prototype.N;Dn.prototype.listenOnce=Dn.prototype.O;Dn.prototype.getLastError=Dn.prototype.Na;Dn.prototype.getLastErrorCode=Dn.prototype.Ea;Dn.prototype.getStatus=Dn.prototype.aa;Dn.prototype.getResponseJson=Dn.prototype.Ra;Dn.prototype.getResponseText=Dn.prototype.fa;Dn.prototype.send=Dn.prototype.da;var jke=function(){return new tv},Wke=function(){return Iy()},y0=My,qke=WB,Gke=Sc,BM={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yke=wp,um=qB,Xke=Dn;const FM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd="9.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Ok("@firebase/firestore");function V1(){return Zl.logLevel}function Ze(t,...e){if(Zl.logLevel<=Zt.DEBUG){const n=e.map(nE);Zl.debug(`Firestore (${Cd}): ${t}`,...n)}}function Mr(t,...e){if(Zl.logLevel<=Zt.ERROR){const n=e.map(nE);Zl.error(`Firestore (${Cd}): ${t}`,...n)}}function nv(t,...e){if(Zl.logLevel<=Zt.WARN){const n=e.map(nE);Zl.warn(`Firestore (${Cd}): ${t}`,...n)}}function nE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t="Unexpected state"){const e=`FIRESTORE (${Cd}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function Pt(t,e){t||vt()}function Bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Cc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jke{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nr.UNAUTHENTICATED))}shutdown(){}}class Qke{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zke{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ao,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ao)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string"),new I3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string"),new nr(e)}}class eEe{constructor(e,n,r,s){this.h=e,this.l=n,this.m=r,this.g=s,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Pt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class tEe{constructor(e,n,r,s){this.h=e,this.l=n,this.m=r,this.g=s}getToken(){return Promise.resolve(new eEe(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nEe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rEe{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=o=>{o.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.A;return this.A=o.token,Ze("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?s(o):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pt(typeof n.token=="string"),this.A=n.token,new nEe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sEe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=sEe(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Kt(t,e){return t<e?-1:t>e?1:0}function Gu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function A3(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ft(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ft(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $t(e)}static min(){return new $t(new Cn(0,0))}static max(){return new $t(new Cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r){n===void 0?n=0:n>e.length&&vt(),r===void 0?r=e.length-n:r>e.length-n&&vt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class sn extends xh{construct(e,n,r){return new sn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ft(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new sn(n)}static emptyPath(){return new sn([])}}const oEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends xh{construct(e,n,r){return new On(e,n,r)}static isValidIdentifier(e){return oEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new On(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ft(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ft(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ft(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new ft(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(n)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.path=e}static fromPath(e){return new st(sn.fromString(e))}static fromName(e){return new st(sn.fromString(e).popFirst(5))}static empty(){return new st(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new sn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function z1(t){return t.fields.find(e=>e.kind===2)}function ol(t){return t.fields.filter(e=>e.kind!==2)}O3.UNKNOWN_ID=-1;class iEe{constructor(e,n){this.fieldPath=e,this.kind=n}}class rv{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new rv(0,_s.min())}}function aEe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$t.fromTimestamp(r===1e9?new Cn(n+1,0):new Cn(n,r));return new _s(s,st.empty(),e)}function N3(t){return new _s(t.readTime,t.key,-1)}class _s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _s($t.min(),st.empty(),-1)}static max(){return new _s($t.max(),st.empty(),-1)}}function rE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=st.comparator(t.documentKey,e.documentKey),n!==0?n:Kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t){if(t.code!==We.FAILED_PRECONDITION||t.message!==$3)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.reject(n)}static resolve(e){return new Ne((n,r)=>{n(e)})}static reject(e){return new Ne((n,r)=>{r(e)})}static waitFor(e){return new Ne((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=Ne.resolve(!1);for(const r of e)n=n.next(s=>s?Ne.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new Ne((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{i[c]=u,++a,a===o&&r(i)},u=>s(u))}})}static doWhile(e,n){return new Ne((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new ao,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new xf(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const s=sE(r.target.error);this.P.reject(new xf(e,s))}}static open(e,n,r,s){try{return new Ly(n,e.transaction(s,r))}catch(o){throw new xf(n,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new cEe(n)}}class ii{constructor(e,n,r){this.name=e,this.version=n,this.S=r,ii.D(C1())===12.2&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),fl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!by())return!1;if(ii.N())return!0;const e=C1(),n=ii.D(e),r=0<n&&n<10,s=ii.k(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||(Ze("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const i=o.target.result;n(i)},s.onblocked=()=>{r(new xf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const i=o.target.error;i.name==="VersionError"?r(new ft(We.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i.name==="InvalidStateError"?r(new ft(We.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):r(new xf(e,i))},s.onupgradeneeded=o=>{Ze("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const i=o.target.result;this.S.$(i,s.transaction,o.oldVersion,this.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const o=n==="readonly";let i=0;for(;;){++i;try{this.db=await this.F(e);const a=Ly.open(this.db,e,o?"readonly":"readwrite",r),l=s(a).next(c=>(a.V(),c)).catch(c=>(a.abort(c),Ne.reject(c))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&i<3;if(Ze("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class lEe{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return fl(this.U.delete())}}class xf extends ft{constructor(e,n){super(We.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ha(t){return t.name==="IndexedDbTransactionError"}class cEe{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Ze("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fl(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),fl(this.store.add(e))}get(e){return fl(this.store.get(e)).next(n=>(n===void 0&&(n=null),Ze("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),fl(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),fl(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const s=this.cursor(r),o=[];return this.H(s,(i,a)=>{o.push(a)}).next(()=>o)}{const s=this.store.getAll(r.range);return new Ne((o,i)=>{s.onerror=a=>{i(a.target.error)},s.onsuccess=a=>{o(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ne((s,o)=>{r.onerror=i=>{o(i.target.error)},r.onsuccess=i=>{s(i.target.result)}})}Y(e,n){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,(o,i,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}tt(e){const n=this.cursor({});return new Ne((r,s)=>{n.onerror=o=>{const i=sE(o.target.error);s(i)},n.onsuccess=o=>{const i=o.target.result;i?e(i.primaryKey,i.value).next(a=>{a?i.continue():r()}):r()}})}H(e,n){const r=[];return new Ne((s,o)=>{e.onerror=i=>{o(i.target.error)},e.onsuccess=i=>{const a=i.target.result;if(!a)return void s();const l=new lEe(a),c=n(a.primaryKey,a.value,l);if(c instanceof Ne){const u=c.catch(d=>(l.done(),Ne.reject(d)));r.push(u)}l.isDone?s():l.G===null?a.continue():a.continue(l.G)}}).next(()=>Ne.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function fl(t){return new Ne((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=sE(r.target.error);n(s)}})}let VM=!1;function sE(t){const e=ii.D(C1());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ft("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VM||(VM=!0,setTimeout(()=>{throw r},0)),r}}return t}class uEe{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){Ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Ze("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){Ha(n)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await kc(n)}await this.nt(6e4)})}}class dEe{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let s=n,o=!0;return Ne.doWhile(()=>o===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(i=>{if(i!==null&&!r.has(i))return Ze("IndexBackiller",`Processing collection: ${i}`),this.rt(e,i,s).next(a=>{s-=a,r.add(i)});o=!1})).next(()=>n-s)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(o=>{const i=o.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.ot(s,o)).next(a=>(Ze("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>i.size)}))}ot(e,n){let r=e;return n.changes.forEach((s,o)=>{const i=N3(o);rE(i,r)>0&&(r=i)}),new _s(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ec(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function D3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps.at=-1;class Pn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new Pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new Pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dm(this.root,e,this.comparator,!0)}}class dm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r!=null?r:rr.RED,this.left=s!=null?s:rr.EMPTY,this.right=o!=null?o:rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new rr(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,e,n,r,s){return this}insert(t,e,n){return new rr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HM(this.data.getIterator())}getIteratorFrom(e){return new HM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class HM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $c(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new ws([])}unionWith(e){let n=new dn(On.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ws(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Xn(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const fEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(t){if(Pt(!!t),typeof t=="string"){let e=0;const n=fEe.exec(t);if(Pt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(t.seconds),nanos:kn(t.nanos)}}function kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ec(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function L3(t){const e=t.mapValue.fields.__previous_value__;return P3(e)?L3(e):e}function Ih(t){const e=xa(t.mapValue.fields.__local_write_time__.timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hEe{constructor(e,n,r,s,o,i,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}function By(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function pEe(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ag={nullValue:"NULL_VALUE"};function nc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P3(t)?4:B3(t)?9007199254740991:10:vt()}function Uo(t,e){if(t===e)return!0;const n=nc(t);if(n!==nc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ih(t).isEqual(Ih(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=xa(r.timestampValue),i=xa(s.timestampValue);return o.seconds===i.seconds&&o.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ec(r.bytesValue).isEqual(ec(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return kn(r.geoPointValue.latitude)===kn(s.geoPointValue.latitude)&&kn(r.geoPointValue.longitude)===kn(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return kn(r.integerValue)===kn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=kn(r.doubleValue),i=kn(s.doubleValue);return o===i?Mh(o)===Mh(i):isNaN(o)&&isNaN(i)}return!1}(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],Uo);case 10:return function(r,s){const o=r.mapValue.fields||{},i=s.mapValue.fields||{};if(zM(o)!==zM(i))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(i[a]===void 0||!Uo(o[a],i[a])))return!1;return!0}(t,e);default:return vt()}}function Ah(t,e){return(t.values||[]).find(n=>Uo(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;const n=nc(t),r=nc(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const i=kn(s.integerValue||s.doubleValue),a=kn(o.integerValue||o.doubleValue);return i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1}(t,e);case 3:return KM(t.timestampValue,e.timestampValue);case 4:return KM(Ih(t),Ih(e));case 5:return Kt(t.stringValue,e.stringValue);case 6:return function(s,o){const i=ec(s),a=ec(o);return i.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const i=s.split("/"),a=o.split("/");for(let l=0;l<i.length&&l<a.length;l++){const c=Kt(i[l],a[l]);if(c!==0)return c}return Kt(i.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const i=Kt(kn(s.latitude),kn(o.latitude));return i!==0?i:Kt(kn(s.longitude),kn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const i=s.values||[],a=o.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ia(i[l],a[l]);if(c)return c}return Kt(i.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===sa.mapValue&&o===sa.mapValue)return 0;if(s===sa.mapValue)return 1;if(o===sa.mapValue)return-1;const i=s.fields||{},a=Object.keys(i),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=Kt(a[u],c[u]);if(d!==0)return d;const f=Ia(i[a[u]],l[c[u]]);if(f!==0)return f}return Kt(a.length,c.length)}(t.mapValue,e.mapValue);default:throw vt()}}function KM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Kt(t,e);const n=xa(t),r=xa(e),s=Kt(n.seconds,r.seconds);return s!==0?s:Kt(n.nanos,r.nanos)}function yu(t){return H1(t)}function H1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=xa(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ec(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,st.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",o=!0;for(const i of r.values||[])o?o=!1:s+=",",s+=H1(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",i=!0;for(const a of s)i?i=!1:o+=",",o+=`${a}:${H1(r.fields[a])}`;return o+"}"}(t.mapValue):vt();var e,n}function oE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function K1(t){return!!t&&"integerValue"in t}function Oh(t){return!!t&&"arrayValue"in t}function UM(t){return!!t&&"nullValue"in t}function jM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lg(t){return!!t&&"mapValue"in t}function If(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ec(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=If(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=If(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function mEe(t){return"nullValue"in t?ag:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?oE(tc.empty(),st.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:vt()}function gEe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?oE(tc.empty(),st.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?sa:vt()}function WM(t,e){const n=Ia(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function qM(t,e){const n=Ia(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=If(n)}setAll(e){let n=On.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=If(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Uo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ec(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new mr(If(this.value))}}function F3(t){const e=[];return Ec(t.fields,(n,r)=>{const s=new On([n]);if(lg(r)){const o=F3(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new ws(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,s,o,i){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.data=o,this.documentState=i}static newInvalidDocument(e){return new wn(e,0,$t.min(),$t.min(),mr.empty(),0)}static newFoundDocument(e,n,r){return new wn(e,1,n,$t.min(),r,0)}static newNoDocument(e,n){return new wn(e,2,n,$t.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,$t.min(),mr.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vEe{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.ht=null}}function GM(t,e=null,n=[],r=[],s=null,o=null,i=null){return new vEe(t,e,n,r,s,o,i)}function rc(t){const e=Bt(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+yu(s.value);var s}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),By(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yu(r)).join(",")),e.ht=n}return e.ht}function yEe(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${yu(r.value)}`;var r}).join(", ")}]`),By(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>yu(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>yu(n)).join(",")),`Target(${e})`}function kp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!_Ee(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],r=e.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!Uo(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QM(t.startAt,e.startAt)&&QM(t.endAt,e.endAt)}function sv(t){return st.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ov(t,e){return t.filters.filter(n=>n instanceof yr&&n.field.isEqual(e))}function YM(t,e,n){let r=ag,s=!0;for(const o of ov(t,e)){let i=ag,a=!0;switch(o.op){case"<":case"<=":i=mEe(o.value);break;case"==":case"in":case">=":i=o.value;break;case">":i=o.value,a=!1;break;case"!=":case"not-in":i=ag}WM({value:r,inclusive:s},{value:i,inclusive:a})<0&&(r=i,s=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const i=n.position[o];WM({value:r,inclusive:s},{value:i,inclusive:n.inclusive})<0&&(r=i,s=n.inclusive);break}}return{value:r,inclusive:s}}function XM(t,e,n){let r=sa,s=!0;for(const o of ov(t,e)){let i=sa,a=!0;switch(o.op){case">=":case">":i=gEe(o.value),a=!1;break;case"==":case"in":case"<=":i=o.value;break;case"<":i=o.value,a=!1;break;case"!=":case"not-in":i=sa}qM({value:r,inclusive:s},{value:i,inclusive:a})>0&&(r=i,s=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const i=n.position[o];qM({value:r,inclusive:s},{value:i,inclusive:n.inclusive})>0&&(r=i,s=n.inclusive);break}}return{value:r,inclusive:s}}class yr extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new bEe(e,n,r):n==="array-contains"?new SEe(e,r):n==="in"?new kEe(e,r):n==="not-in"?new EEe(e,r):n==="array-contains-any"?new TEe(e,r):new yr(e,n,r)}static lt(e,n,r){return n==="in"?new wEe(e,r):new CEe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Ia(n,this.value)):n!==null&&nc(this.value)===nc(n)&&this.ft(Ia(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bEe extends yr{constructor(e,n,r){super(e,n,r),this.key=st.fromName(r.referenceValue)}matches(e){const n=st.comparator(e.key,this.key);return this.ft(n)}}class wEe extends yr{constructor(e,n){super(e,"in",n),this.keys=V3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CEe extends yr{constructor(e,n){super(e,"not-in",n),this.keys=V3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>st.fromName(r.referenceValue))}class SEe extends yr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Oh(n)&&Ah(n.arrayValue,this.value)}}class kEe extends yr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ah(this.value.arrayValue,n)}}class EEe extends yr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ah(this.value.arrayValue,n)}}class TEe extends yr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ah(this.value.arrayValue,r))}}class Yu{constructor(e,n){this.position=e,this.inclusive=n}}class Mf{constructor(e,n="asc"){this.field=e,this.dir=n}}function _Ee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function JM(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=st.comparator(st.fromName(i.referenceValue),n.key):r=Ia(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Uo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function xEe(t,e,n,r,s,o,i,a){return new Fy(t,e,n,r,s,o,i,a)}function Vy(t){return new Fy(t)}function ZM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IEe(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function MEe(t){for(const e of t.filters)if(e.dt())return e.field;return null}function AEe(t){return t.collectionGroup!==null}function Nh(t){const e=Bt(t);if(e._t===null){e._t=[];const n=MEe(e),r=IEe(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new Mf(n)),e._t.push(new Mf(On.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e._t.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Mf(On.keyField(),o))}}}return e._t}function mo(t){const e=Bt(t);if(!e.wt)if(e.limitType==="F")e.wt=GM(e.path,e.collectionGroup,Nh(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Nh(e)){const i=o.dir==="desc"?"asc":"desc";n.push(new Mf(o.field,i))}const r=e.endAt?new Yu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Yu(e.startAt.position,e.startAt.inclusive):null;e.wt=GM(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e.wt}function U1(t,e,n){return new Fy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zy(t,e){return kp(mo(t),mo(e))&&t.limitType===e.limitType}function z3(t){return`${rc(mo(t))}|lt:${t.limitType}`}function j1(t){return`Query(target=${yEe(mo(t))}; limitType=${t.limitType})`}function iE(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):st.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,o,i){const a=JM(s,o,i);return s.inclusive?a<=0:a<0}(n.startAt,Nh(n),r)||n.endAt&&!function(s,o,i){const a=JM(s,o,i);return s.inclusive?a>=0:a>0}(n.endAt,Nh(n),r))}(t,e)}function OEe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H3(t){return(e,n)=>{let r=!1;for(const s of Nh(t)){const o=NEe(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function NEe(t,e,n){const r=t.field.isKeyField()?st.comparator(e.key,n.key):function(s,o,i){const a=o.data.field(s),l=i.data.field(s);return a!==null&&l!==null?Ia(a,l):vt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function U3(t){return{integerValue:""+t}}function $Ee(t,e){return pEe(e)?U3(e):K3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this._=void 0}}function REe(t,e,n){return t instanceof $h?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Xu?W3(t,e):t instanceof Ju?q3(t,e):function(r,s){const o=j3(r,s),i=eA(o)+eA(r.yt);return K1(o)&&K1(r.yt)?U3(i):K3(r.It,i)}(t,e)}function DEe(t,e,n){return t instanceof Xu?W3(t,e):t instanceof Ju?q3(t,e):n}function j3(t,e){return t instanceof Rh?K1(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class $h extends Hy{}class Xu extends Hy{constructor(e){super(),this.elements=e}}function W3(t,e){const n=G3(e);for(const r of t.elements)n.some(s=>Uo(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ju extends Hy{constructor(e){super(),this.elements=e}}function q3(t,e){let n=G3(e);for(const r of t.elements)n=n.filter(s=>!Uo(s,r));return{arrayValue:{values:n}}}class Rh extends Hy{constructor(e,n){super(),this.It=e,this.yt=n}}function eA(t){return kn(t.integerValue||t.doubleValue)}function G3(t){return Oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PEe{constructor(e,n){this.field=e,this.transform=n}}function LEe(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Xu&&r instanceof Xu||n instanceof Ju&&r instanceof Ju?Gu(n.elements,r.elements,Uo):n instanceof Rh&&r instanceof Rh?Uo(n.yt,r.yt):n instanceof $h&&r instanceof $h}(t.transform,e.transform)}class BEe{constructor(e,n){this.version=e,this.transformResults=n}}class br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ky{}function Y3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uy(t.key,br.none()):new Sd(t.key,t.data,br.none());{const n=t.data,r=mr.empty();let s=new dn(On.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new $i(t.key,r,new ws(s.toArray()),br.none())}}function FEe(t,e,n){t instanceof Sd?function(r,s,o){const i=r.value.clone(),a=nA(r.fieldTransforms,s,o.transformResults);i.setAll(a),s.convertToFoundDocument(o.version,i).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(r,s,o){if(!cg(r.precondition,s))return void s.convertToUnknownDocument(o.version);const i=nA(r.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(X3(r)),a.setAll(i),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Af(t,e,n,r){return t instanceof Sd?function(s,o,i,a){if(!cg(s.precondition,o))return i;const l=s.value.clone(),c=rA(s.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof $i?function(s,o,i,a){if(!cg(s.precondition,o))return i;const l=rA(s.fieldTransforms,a,o),c=o.data;return c.setAll(X3(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),i===null?null:i.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(s,o,i){return cg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):i}(t,e,n)}function VEe(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=j3(r.transform,s||null);o!=null&&(n===null&&(n=mr.empty()),n.set(r.field,o))}return n||null}function tA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Gu(n,r,(s,o)=>LEe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends Ky{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $i extends Ky{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function X3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nA(t,e,n){const r=new Map;Pt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,DEe(i,a,n[s]))}return r}function rA(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,REe(o,i,e))}return r}class Uy extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J3 extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zEe{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,Xt;function HEe(t){switch(t){default:return vt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function Q3(t){if(t===void 0)return Mr("GRPC error has no .code"),We.UNKNOWN;switch(t){case Mn.OK:return We.OK;case Mn.CANCELLED:return We.CANCELLED;case Mn.UNKNOWN:return We.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return We.INTERNAL;case Mn.UNAVAILABLE:return We.UNAVAILABLE;case Mn.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Mn.NOT_FOUND:return We.NOT_FOUND;case Mn.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Mn.ABORTED:return We.ABORTED;case Mn.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Mn.DATA_LOSS:return We.DATA_LOSS;default:return vt()}}(Xt=Mn||(Mn={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ec(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return D3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KEe=new Pn(st.comparator);function ms(){return KEe}const Z3=new Pn(st.comparator);function rf(...t){let e=Z3;for(const n of t)e=e.insert(n.key,n);return e}function eF(t){let e=Z3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function No(){return Of()}function tF(){return Of()}function Of(){return new Ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const UEe=new Pn(st.comparator),jEe=new dn(st.comparator);function jt(...t){let e=jEe;for(const n of t)e=e.add(n);return e}const WEe=new dn(Kt);function nF(){return WEe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Ep.createSynthesizedTargetChangeForCurrentChange(e,n)),new jy($t.min(),r,nF(),ms(),jt())}}class Ep{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Ep(Xn.EMPTY_BYTE_STRING,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,s){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=s}}class rF{constructor(e,n){this.targetId=e,this.At=n}}class sF{constructor(e,n,r=Xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sA{constructor(){this.Rt=0,this.bt=iA(),this.Pt=Xn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=jt(),n=jt(),r=jt();return this.bt.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:vt()}}),new Ep(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=iA()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class qEe{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ms(),this.qt=oA(),this.Kt=new dn(Kt)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:vt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,s)=>{this.Ht(s)&&n(s)})}Yt(e){const n=e.targetId,r=e.At.count,s=this.Xt(n);if(s){const o=s.target;if(sv(o))if(r===0){const i=new st(o.path);this.jt(n,i,wn.newNoDocument(i,$t.min()))}else Pt(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((o,i)=>{const a=this.Xt(i);if(a){if(o.current&&sv(a.target)){const l=new st(a.target.path);this.Ut.get(l)!==null||this.ee(i,l)||this.jt(i,l,wn.newNoDocument(l,e))}o.Dt&&(n.set(i,o.xt()),o.Nt())}});let r=jt();this.qt.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Xt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ut.forEach((o,i)=>i.setReadTime(e));const s=new jy(e,n,this.Kt,this.Ut,r);return this.Ut=ms(),this.qt=oA(),this.Kt=new dn(Kt),s}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const s=this.zt(e);this.ee(e,n)?s.kt(n,1):s.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new sA,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new dn(Kt),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new sA),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function oA(){return new Pn(st.comparator)}function iA(){return new Pn(st.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GEe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YEe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class XEe{constructor(e,n){this.databaseId=e,this.gt=n}}function Dh(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oF(t,e){return t.gt?e.toBase64():e.toUint8Array()}function JEe(t,e){return Dh(t,e.toTimestamp())}function Cs(t){return Pt(!!t),$t.fromTimestamp(function(e){const n=xa(e);return new Cn(n.seconds,n.nanos)}(t))}function aE(t,e){return function(n){return new sn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function iF(t){const e=sn.fromString(t);return Pt(hF(e)),e}function iv(t,e){return aE(t.databaseId,e.path)}function Rl(t,e){const n=iF(e);if(n.get(1)!==t.databaseId.projectId)throw new ft(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ft(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new st(lF(n))}function W1(t,e){return aE(t.databaseId,e)}function aF(t){const e=iF(t);return e.length===4?sn.emptyPath():lF(e)}function q1(t){return new sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lF(t){return Pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aA(t,e,n){return{name:iv(t,e),fields:n.value.mapValue.fields}}function QEe(t,e,n){const r=Rl(t,e.name),s=Cs(e.updateTime),o=new mr({mapValue:{fields:e.fields}}),i=wn.newFoundDocument(r,s,o);return n&&i.setHasCommittedMutations(),n?i.setHasCommittedMutations():i}function ZEe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(l,c){return l.gt?(Pt(c===void 0||typeof c=="string"),Xn.fromBase64String(c||"")):(Pt(c===void 0||c instanceof Uint8Array),Xn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(l){const c=l.code===void 0?We.UNKNOWN:Q3(l.code);return new ft(c,l.message||"")}(i);n=new sF(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Rl(t,r.document.name),o=Cs(r.document.updateTime),i=new mr({mapValue:{fields:r.document.fields}}),a=wn.newFoundDocument(s,o,i),l=r.targetIds||[],c=r.removedTargetIds||[];n=new ug(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Rl(t,r.document),o=r.readTime?Cs(r.readTime):$t.min(),i=wn.newNoDocument(s,o),a=r.removedTargetIds||[];n=new ug([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Rl(t,r.document),o=r.removedTargetIds||[];n=new ug([],o,s,null)}else{if(!("filter"in e))return vt();{e.filter;const r=e.filter;r.targetId;const s=r.count||0,o=new zEe(s),i=r.targetId;n=new rF(i,o)}}return n}function av(t,e){let n;if(e instanceof Sd)n={update:aA(t,e.key,e.value)};else if(e instanceof Uy)n={delete:iv(t,e.key)};else if(e instanceof $i)n={update:aA(t,e.key,e.data),updateMask:iTe(e.fieldMask)};else{if(!(e instanceof J3))return vt();n={verify:iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const i=o.transform;if(i instanceof $h)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof Xu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof Ju)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Rh)return{fieldPath:o.field.canonicalString(),increment:i.yt};throw vt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:JEe(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:vt()}(t,e.precondition)),n}function G1(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?br.updateTime(Cs(s.updateTime)):s.exists!==void 0?br.exists(s.exists):br.none()}(e.currentDocument):br.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,i){let a=null;if("setToServerValue"in i)Pt(i.setToServerValue==="REQUEST_TIME"),a=new $h;else if("appendMissingElements"in i){const c=i.appendMissingElements.values||[];a=new Xu(c)}else if("removeAllFromArray"in i){const c=i.removeAllFromArray.values||[];a=new Ju(c)}else"increment"in i?a=new Rh(o,i.increment):vt();const l=On.fromServerFormat(i.fieldPath);return new PEe(l,a)}(t,s)):[];if(e.update){e.update.name;const s=Rl(t,e.update.name),o=new mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const i=function(a){const l=a.fieldPaths||[];return new ws(l.map(c=>On.fromServerFormat(c)))}(e.updateMask);return new $i(s,o,i,n,r)}return new Sd(s,o,n,r)}if(e.delete){const s=Rl(t,e.delete);return new Uy(s,n)}if(e.verify){const s=Rl(t,e.verify);return new J3(s,n)}return vt()}function eTe(t,e){return t&&t.length>0?(Pt(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Cs(r.updateTime):Cs(s);return o.isEqual($t.min())&&(o=Cs(s)),new BEe(o,r.transformResults||[])}(n,e))):[]}function cF(t,e){return{documents:[W1(t,e.path)]}}function uF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=W1(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=W1(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length===0)return;const c=l.map(u=>function(d){if(d.op==="=="){if(jM(d.value))return{unaryFilter:{field:Rc(d.field),op:"IS_NAN"}};if(UM(d.value))return{unaryFilter:{field:Rc(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(jM(d.value))return{unaryFilter:{field:Rc(d.field),op:"IS_NOT_NAN"}};if(UM(d.value))return{unaryFilter:{field:Rc(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(d.field),op:rTe(d.op),value:d.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Rc(u.field),direction:nTe(u.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const i=function(l,c){return l.gt||By(c)?c:{value:c}}(t,e.limit);var a;return i!==null&&(n.structuredQuery.limit=i),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function dF(t){let e=aF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=fF(n.where));let i=[];n.orderBy&&(i=n.orderBy.map(u=>function(d){return new Mf(su(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,By(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,f=u.values||[];return new Yu(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,f=u.values||[];return new Yu(f,d)}(n.endAt)),xEe(e,s,i,o,a,"F",l,c)}function tTe(t,e){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vt()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function fF(t){return t?t.unaryFilter!==void 0?[oTe(t)]:t.fieldFilter!==void 0?[sTe(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>fF(e)).reduce((e,n)=>e.concat(n)):vt():[]}function nTe(t){return GEe[t]}function rTe(t){return YEe[t]}function Rc(t){return{fieldPath:t.canonicalString()}}function su(t){return On.fromServerFormat(t.fieldPath)}function sTe(t){return yr.create(su(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(t.fieldFilter.op),t.fieldFilter.value)}function oTe(t){switch(t.unaryFilter.op){case"IS_NAN":const e=su(t.unaryFilter.field);return yr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=su(t.unaryFilter.field);return yr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=su(t.unaryFilter.field);return yr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=su(t.unaryFilter.field);return yr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}function iTe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lA(e)),e=aTe(t.get(n),e);return lA(e)}function aTe(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function lA(t){return t+""}function $o(t){const e=t.length;if(Pt(e>=2),e===2)return Pt(t.charAt(0)===""&&t.charAt(1)===""),sn.emptyPath();const n=e-2,r=[];let s="";for(let o=0;o<e;){const i=t.indexOf("",o);switch((i<0||i>n)&&vt(),t.charAt(i+1)){case"":const a=t.substring(o,i);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(o,i),s+="\0";break;case"":s+=t.substring(o,i+1);break;default:vt()}o=i+2}return new sn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){return[t,Dr(e)]}function pF(t,e,n){return[t,Dr(e),n]}const lTe={},cTe=["prefixPath","collectionGroup","readTime","documentId"],uTe=["prefixPath","collectionGroup","documentId"],dTe=["collectionGroup","readTime","prefixPath","documentId"],fTe=["canonicalId","targetId"],hTe=["targetId","path"],pTe=["path","targetId"],mTe=["collectionId","parent"],gTe=["indexId","uid"],vTe=["uid","sequenceNumber"],yTe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bTe=["indexId","uid","orderedDocumentKey"],wTe=["userId","collectionPath","documentId"],CTe=["userId","collectionPath","largestBatchId"],STe=["userId","collectionGroup","largestBatchId"],mF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kTe=[...mF,"documentOverlays"],gF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vF=gF,ETe=[...vF,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends R3{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function Zn(t,e){const n=Bt(t);return ii.M(n.ie,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&FEe(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Af(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Af(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tF();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=Y3(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),jt())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,(n,r)=>tA(n,r))&&Gu(this.baseMutations,e.baseMutations,(n,r)=>tA(n,r))}}class cE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pt(e.mutations.length===r.length);let s=UEe;const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new cE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,r,s,o=$t.min(),i=$t.min(),a=Xn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.re=e}}function TTe(t,e){let n;if(e.document)n=QEe(t.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=st.fromSegments(e.noDocument.path),s=oc(e.noDocument.readTime);n=wn.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt();{const r=st.fromSegments(e.unknownDocument.path),s=oc(e.unknownDocument.version);n=wn.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(r){const s=new Cn(r[0],r[1]);return $t.fromTimestamp(s)}(e.readTime)),n}function uA(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:iv(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Dh(s,o.version.toTimestamp())}}(t.re,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sc(e.version)};else{if(!e.isUnknownDocument())return vt();r.unknownDocument={path:n.path.toArray(),version:sc(e.version)}}return r}function lv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function sc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function oc(t){const e=new Cn(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)}function hl(t,e){const n=(e.baseMutations||[]).map(o=>G1(t.re,o));for(let o=0;o<e.mutations.length-1;++o){const i=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];i.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>G1(t.re,o)),s=Cn.fromMillis(e.localWriteTimeMs);return new lE(e.batchId,s,n,r)}function sf(t){const e=oc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?oc(t.lastLimboFreeSnapshotVersion):$t.min();let r;var s;return t.query.documents!==void 0?(Pt((s=t.query).documents.length===1),r=mo(Vy(aF(s.documents[0])))):r=function(o){return mo(dF(o))}(t.query),new ma(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Xn.fromBase64String(t.resumeToken))}function bF(t,e){const n=sc(e.snapshotVersion),r=sc(e.lastLimboFreeSnapshotVersion);let s;s=sv(e.target)?cF(t.re,e.target):uF(t.re,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rc(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function wF(t){const e=dF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U1(e,e.limit,"L"):e}function b0(t,e){return new uE(e.largestBatchId,G1(t.re,e.overlayMutation))}function dA(t,e){const n=e.path.lastSegment();return[t,Dr(e.path.popLast()),n]}function fA(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:sc(r.readTime),documentKey:Dr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Te{getBundleMetadata(e,n){return hA(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:oc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return hA(e).put({bundleId:(r=n).id,createTime:sc(Cs(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return pA(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:wF(s.bundledQuery),readTime:oc(s.readTime)};var s})}saveNamedQuery(e,n){return pA(e).put(function(r){return{name:r.name,readTime:sc(Cs(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function hA(t){return Zn(t,"bundles")}function pA(t){return Zn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){const r=n.uid||"";return new Wy(e,r)}getOverlay(e,n){return zd(e).get(dA(this.userId,n)).next(r=>r?b0(this.It,r):null)}getOverlays(e,n){const r=No();return Ne.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((o,i)=>{const a=new uE(n,i);s.push(this.ue(e,a))}),Ne.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(i=>s.add(Dr(i.getCollectionPath())));const o=[];return s.forEach(i=>{const a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,r+1],!1,!0);o.push(zd(e).Y("collectionPathOverlayIndex",a))}),Ne.waitFor(o)}getOverlaysForCollection(e,n,r){const s=No(),o=Dr(n),i=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return zd(e).W("collectionPathOverlayIndex",i).next(a=>{for(const l of a){const c=b0(this.It,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const o=No();let i;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return zd(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=b0(this.It,c);o.size()<s||d.largestBatchId===i?(o.set(d.getKey(),d),i=d.largestBatchId):u.done()}).next(()=>o)}ue(e,n){return zd(e).put(function(r,s,o){const[i,a,l]=dA(s,o.mutation.key);return{userId:s,collectionPath:a,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:av(r.re,o.mutation)}}(this.It,this.userId,n))}}function zd(t){return Zn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(kn(e.integerValue));else if("doubleValue"in e){const r=kn(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),Mh(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),typeof r=="string"?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(ec(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?B3(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):vt()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const s of Object.keys(r))this._e(s,n),this.ae(r[s],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const s of r)this.ae(s,n)}ge(e,n){this.le(n,37),st.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}pl.Te=new pl;function xTe(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function mA(t){const e=64-function(n){let r=0;for(let s=0;s<8;++s){const o=xTe(255&n[s]);if(r+=o,o!==8)break}return r}(t);return Math.ceil(e/8)}class ITe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ae(r.value),r=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Pe(r.value),r=n.next();this.ve()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const s=n.codePointAt(0);this.Ae(240|s>>>18),this.Ae(128|63&s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s)}}this.Re()}Se(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const s=n.codePointAt(0);this.Pe(240|s>>>18),this.Pe(128|63&s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s)}}this.ve()}De(e){const n=this.Ce(e),r=mA(n);this.xe(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Ne(e){const n=this.Ce(e),r=mA(n);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Ae(e){const n=255&e;n===0?(this.Oe(0),this.Oe(255)):n===255?(this.Oe(255),this.Oe(0)):this.Oe(n)}Pe(e){const n=255&e;n===0?(this.Fe(0),this.Fe(255)):n===255?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class MTe{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class ATe{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Hd{constructor(){this.Be=new ITe,this.Le=new MTe(this.Be),this.Ue=new ATe(this.Be)}seed(e){this.Be.seed(e)}qe(e){return e===0?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Ke(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ml(this.indexId,this.documentKey,this.arrayValue,r)}}function Za(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=gA(t.arrayValue,e.arrayValue),n!==0?n:(n=gA(t.directionalValue,e.directionalValue),n!==0?n:st.comparator(t.documentKey,e.documentKey)))}function gA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OTe{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const r=n;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const n=z1(e);if(n!==void 0&&!this.ze(n))return!1;const r=ol(e);let s=0,o=0;for(;s<r.length&&this.ze(r[s]);++s);if(s===r.length)return!0;if(this.je!==void 0){const i=r[s];if(!this.He(this.je,i)||!this.Je(this.Ge[o++],i))return!1;++s}for(;s<r.length;++s){const i=r[s];if(o>=this.Ge.length||!this.Je(this.Ge[o++],i))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NTe{constructor(){this.Ye=new dE}addToCollectionParentIndex(e,n){return this.Ye.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(_s.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class dE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new dn(sn.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dn(sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new Uint8Array(0);class $Te{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new dE,this.Ze=new Ka(r=>rc(r),(r,s)=>kp(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const o={collectionId:r,parent:Dr(s)};return vA(e).put(o)}return Ne.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[A3(n),""],!1,!0);return vA(e).W(s).next(o=>{for(const i of o){if(i.collectionId!==n)break;r.push($o(i.parent))}return r})}addFieldIndex(e,n){const r=hm(e),s=function(i){return{indexId:i.indexId,collectionGroup:i.collectionGroup,fields:i.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete s.indexId;const o=r.add(s);if(n.indexState){const i=Ud(e);return o.next(a=>{i.put(fA(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=hm(e),s=Ud(e),o=Kd(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Kd(e);let s=!0;const o=new Map;return Ne.forEach(this.tn(n),i=>this.en(e,i).next(a=>{s&&(s=!!a),o.set(i,a)})).next(()=>{if(s){let i=jt();const a=[];return Ne.forEach(o,(l,c)=>{var u;Ze("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(b=>`${b.fieldPath}:${b.kind}`).join(",")}`} to execute ${rc(n)}`);const d=function(b,w){const S=z1(w);if(S===void 0)return null;for(const k of ov(b,S.fieldPath))switch(k.op){case"array-contains-any":return k.value.arrayValue.values||[];case"array-contains":return[k.value]}return null}(c,l),f=function(b,w){const S=new Map;for(const k of ol(w))for(const A of ov(b,k.fieldPath))switch(A.op){case"==":case"in":S.set(k.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return S.set(k.fieldPath.canonicalString(),A.value),Array.from(S.values())}return null}(c,l),p=function(b,w){const S=[];let k=!0;for(const A of ol(w)){const x=A.kind===0?YM(b,A.fieldPath,b.startAt):XM(b,A.fieldPath,b.startAt);S.push(x.value),k&&(k=x.inclusive)}return new Yu(S,k)}(c,l),m=function(b,w){const S=[];let k=!0;for(const A of ol(w)){const x=A.kind===0?XM(b,A.fieldPath,b.endAt):YM(b,A.fieldPath,b.endAt);S.push(x.value),k&&(k=x.inclusive)}return new Yu(S,k)}(c,l),g=this.nn(l,c,p),v=this.nn(l,c,m),y=this.sn(l,c,f),C=this.rn(l.indexId,d,g,p.inclusive,v,m.inclusive,y);return Ne.forEach(C,b=>r.J(b,n.limit).next(w=>{w.forEach(S=>{const k=st.fromSegments(S.documentKey);i.has(k)||(i=i.add(k),a.push(k))})}))}).next(()=>a)}return Ne.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,r,s,o,i,a){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.on(n[d/c]):fm,p=this.un(e,f,r[d%c],s),m=this.cn(e,f,o[d%c],i),g=a.map(v=>this.un(e,f,v,!0));u.push(...this.createRange(p,m,g))}return u}un(e,n,r,s){const o=new ml(e,st.empty(),n,r);return s?o:o.Ke()}cn(e,n,r,s){const o=new ml(e,st.empty(),n,r);return s?o.Ke():o}en(e,n){const r=new OTe(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(o=>{let i=null;for(const a of o)r.We(a)&&(!i||a.fields.length>i.fields.length)&&(i=a);return i})}getIndexType(e,n){let r=2;return Ne.forEach(this.tn(n),s=>this.en(e,s).next(o=>{o?r!==0&&o.fields.length<function(i){let a=new dn(On.comparator),l=!1;for(const c of i.filters){const u=c;u.field.isKeyField()||(u.op==="array-contains"||u.op==="array-contains-any"?l=!0:a=a.add(u.field))}for(const c of i.orderBy)c.field.isKeyField()||(a=a.add(c.field));return a.size+(l?1:0)}(s)&&(r=1):r=0})).next(()=>r)}an(e,n){const r=new Hd;for(const s of ol(e)){const o=n.data.field(s.fieldPath);if(o==null)return null;const i=r.qe(s.kind);pl.Te.ce(o,i)}return r.$e()}on(e){const n=new Hd;return pl.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const r=new Hd;return pl.Te.ce(oE(this.databaseId,n),r.qe(function(s){const o=ol(s);return o.length===0?0:o[o.length-1].kind}(e))),r.$e()}sn(e,n,r){if(r===null)return[];let s=[];s.push(new Hd);let o=0;for(const i of ol(e)){const a=r[o++];for(const l of s)if(this.ln(n,i.fieldPath)&&Oh(a))s=this.fn(s,i,a);else{const c=l.qe(i.kind);pl.Te.ce(a,c)}}return this.dn(s)}nn(e,n,r){return this.sn(e,n,r.position)}dn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].$e();return n}fn(e,n,r){const s=[...e],o=[];for(const i of r.arrayValue.values||[])for(const a of s){const l=new Hd;l.seed(a.$e()),pl.Te.ce(i,l.qe(n.kind)),o.push(l)}return o}ln(e,n){return!!e.filters.find(r=>r instanceof yr&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=hm(e),s=Ud(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const i=[];return Ne.forEach(o,a=>s.get([a.indexId,this.uid]).next(l=>{i.push(function(c,u){const d=u?new rv(u.sequenceNumber,new _s(oc(u.readTime),new st($o(u.documentKey)),u.largestBatchId)):rv.empty(),f=c.fields.map(([p,m])=>new iEe(On.fromServerFormat(p),m));return new O3(c.indexId,c.collectionGroup,f,d)}(a,l))})).next(()=>i)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:Kt(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=hm(e),o=Ud(e);return this._n(e).next(i=>s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Ne.forEach(a,l=>o.put(fA(l.indexId,this.user,i,r)))))}updateIndexEntries(e,n){const r=new Map;return Ne.forEach(n,(s,o)=>{const i=r.get(s.collectionGroup);return(i?Ne.resolve(i):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),Ne.forEach(a,l=>this.wn(e,s,l).next(c=>{const u=this.mn(o,l);return c.isEqual(u)?Ne.resolve():this.gn(e,o,l,c,u)}))))})}yn(e,n,r,s){return Kd(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.hn(r,n.key),documentKey:n.key.path.toArray()})}pn(e,n,r,s){return Kd(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.hn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const s=Kd(e);let o=new dn(Za);return s.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,n)])},(i,a)=>{o=o.add(new ml(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}mn(e,n){let r=new dn(Za);const s=this.an(n,e);if(s==null)return r;const o=z1(n);if(o!=null){const i=e.data.field(o.fieldPath);if(Oh(i))for(const a of i.arrayValue.values||[])r=r.add(new ml(n.indexId,e.key,this.on(a),s))}else r=r.add(new ml(n.indexId,e.key,fm,s));return r}gn(e,n,r,s,o){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const i=[];return function(a,l,c,u,d){const f=a.getIterator(),p=l.getIterator();let m=$c(f),g=$c(p);for(;m||g;){let v=!1,y=!1;if(m&&g){const C=c(m,g);C<0?y=!0:C>0&&(v=!0)}else m!=null?y=!0:v=!0;v?(u(g),g=$c(p)):y?(d(m),m=$c(f)):(m=$c(f),g=$c(p))}}(s,o,Za,a=>{i.push(this.yn(e,n,r,a))},a=>{i.push(this.pn(e,n,r,a))}),Ne.waitFor(i)}_n(e){let n=1;return Ud(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,o)=>{o.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((i,a)=>Za(i,a)).filter((i,a,l)=>!a||Za(i,l[a-1])!==0);const s=[];s.push(e);for(const i of r){const a=Za(i,e),l=Za(i,n);if(a===0)s[0]=e.Ke();else if(a>0&&l<0)s.push(i),s.push(i.Ke());else if(l>0)break}s.push(n);const o=[];for(let i=0;i<s.length;i+=2)o.push(IDBKeyRange.bound([s[i].indexId,this.uid,s[i].arrayValue,s[i].directionalValue,fm,[]],[s[i+1].indexId,this.uid,s[i+1].arrayValue,s[i+1].directionalValue,fm,[]]));return o}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(yA)}getMinOffset(e,n){return Ne.mapArray(this.tn(n),r=>this.en(e,r).next(s=>s||vt())).next(yA)}}function vA(t){return Zn(t,"collectionParents")}function Kd(t){return Zn(t,"indexEntries")}function hm(t){return Zn(t,"indexConfiguration")}function Ud(t){return Zn(t,"indexState")}function yA(t){Pt(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;rE(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new _s(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jr(e,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),o=[],i=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:i},(u,d,f)=>(a++,f.delete()));o.push(l.next(()=>{Pt(a===1)}));const c=[];for(const u of n.mutations){const d=pF(e,u.key.path,n.batchId);o.push(s.delete(d)),c.push(u.key)}return Ne.waitFor(o).next(()=>c)}function cv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw vt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);class qy{constructor(e,n,r,s){this.userId=e,this.It=n,this.indexManager=r,this.referenceDelegate=s,this.In={}}static oe(e,n,r,s){Pt(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new qy(o,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).Z({index:"userMutationsIndex",range:r},(s,o,i)=>{n=!1,i.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const o=qc(e),i=Vi(e);return i.add({}).next(a=>{Pt(typeof a=="number");const l=new lE(a,n,r,s),c=function(f,p,m){const g=m.baseMutations.map(y=>av(f.re,y)),v=m.mutations.map(y=>av(f.re,y));return{userId:p,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:g,mutations:v}}(this.It,this.userId,l),u=[];let d=new dn((f,p)=>Kt(f.canonicalString(),p.canonicalString()));for(const f of s){const p=pF(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(i.put(c)),u.push(o.put(p,lTe))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.In[a]=l.keys()}),Ne.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Vi(e).get(n).next(r=>r?(Pt(r.userId===this.userId),hl(this.It,r)):null)}Tn(e,n){return this.In[n]?Ne.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.In[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Vi(e).Z({index:"userMutationsIndex",range:s},(i,a,l)=>{a.userId===this.userId&&(Pt(a.batchId>=r),o=hl(this.It,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vi(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(s,o,i)=>{r=o.batchId,i.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).W("userMutationsIndex",n).next(r=>r.map(s=>hl(this.It,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=dg(this.userId,n.path),s=IDBKeyRange.lowerBound(r),o=[];return qc(e).Z({range:s},(i,a,l)=>{const[c,u,d]=i,f=$o(u);if(c===this.userId&&n.path.isEqual(f))return Vi(e).get(d).next(p=>{if(!p)throw vt();Pt(p.userId===this.userId),o.push(hl(this.It,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Kt);const s=[];return n.forEach(o=>{const i=dg(this.userId,o.path),a=IDBKeyRange.lowerBound(i),l=qc(e).Z({range:a},(c,u,d)=>{const[f,p,m]=c,g=$o(p);f===this.userId&&o.path.isEqual(g)?r=r.add(m):d.done()});s.push(l)}),Ne.waitFor(s).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,o=dg(this.userId,r),i=IDBKeyRange.lowerBound(o);let a=new dn(Kt);return qc(e).Z({range:i},(l,c,u)=>{const[d,f,p]=l,m=$o(f);d===this.userId&&r.isPrefixOf(m)?m.length===s&&(a=a.add(p)):u.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],s=[];return n.forEach(o=>{s.push(Vi(e).get(o).next(i=>{if(i===null)throw vt();Pt(i.userId===this.userId),r.push(hl(this.It,i))}))}),Ne.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return CF(e.ie,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),Ne.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ne.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return qc(e).Z({range:r},(o,i,a)=>{if(o[0]===this.userId){const l=$o(o[1]);s.push(l)}else a.done()}).next(()=>{Pt(s.length===0)})})}containsKey(e,n){return SF(e,this.userId,n)}Rn(e){return kF(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function SF(t,e,n){const r=dg(e,n.path),s=r[1],o=IDBKeyRange.lowerBound(r);let i=!1;return qc(t).Z({range:o,X:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===s&&(i=!0),c.done()}).next(()=>i)}function Vi(t){return Zn(t,"mutations")}function qc(t){return Zn(t,"documentMutations")}function kF(t){return Zn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ic(0)}static vn(){return new ic(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RTe{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new ic(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>$t.fromTimestamp(new Cn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.Sn(e,s)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Dc(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(Pt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let s=0;const o=[];return Dc(e).Z((i,a)=>{const l=sf(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,o.push(this.removeTargetData(e,l)))}).next(()=>Ne.waitFor(o)).next(()=>s)}forEachTarget(e,n){return Dc(e).Z((r,s)=>{const o=sf(s);n(o)})}Vn(e){return wA(e).get("targetGlobalKey").next(n=>(Pt(n!==null),n))}Sn(e,n){return wA(e).put("targetGlobalKey",n)}Dn(e,n){return Dc(e).put(bF(this.It,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=rc(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Dc(e).Z({range:s,index:"queryTargetsIndex"},(i,a,l)=>{const c=sf(a);kp(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const s=[],o=Qi(e);return n.forEach(i=>{const a=Dr(i.path);s.push(o.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,i))}),Ne.waitFor(s)}removeMatchingKeys(e,n,r){const s=Qi(e);return Ne.forEach(n,o=>{const i=Dr(o.path);return Ne.waitFor([s.delete([r,i]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Qi(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Qi(e);let o=jt();return s.Z({range:r,X:!0},(i,a,l)=>{const c=$o(i[1]),u=new st(c);o=o.add(u)}).next(()=>o)}containsKey(e,n){const r=Dr(n.path),s=IDBKeyRange.bound([r],[A3(r)],!1,!0);let o=0;return Qi(e).Z({index:"documentTargetsIndex",X:!0,range:s},([i,a],l,c)=>{i!==0&&(o++,c.done())}).next(()=>o>0)}se(e,n){return Dc(e).get(n).next(r=>r?sf(r):null)}}function Dc(t){return Zn(t,"targets")}function wA(t){return Zn(t,"targetGlobal")}function Qi(t){return Zn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA([t,e],[n,r]){const s=Kt(t,n);return s===0?Kt(e,r):s}class DTe{constructor(e){this.xn=e,this.buffer=new dn(CA),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PTe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ha(n)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await kc(n)}await this.Fn(3e5)})}}class LTe{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ne.resolve(Ps.at);const r=new DTe(n);return this.$n.forEachTarget(e,s=>r.On(s.sequenceNumber)).next(()=>this.$n.Ln(e,s=>r.On(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(bA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bA):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let r,s,o,i,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,i=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),V1()<=Zt.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-u}ms
	Determined least recently used ${s} in `+(a-i)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:d})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BTe{constructor(e,n){this.db=e,this.garbageCollector=function(r,s){return new LTe(r,s)}(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}qn(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,s)=>n(s))}addReference(e,n,r){return pm(e,r)}removeReference(e,n,r){return pm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return pm(e,n)}Gn(e,n){return function(r,s){let o=!1;return kF(r).tt(i=>SF(r,i,s).next(a=>(a&&(o=!0),Ne.resolve(!a)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Kn(e,(i,a)=>{if(a<=n){const l=this.Gn(e,i).next(c=>{if(!c)return o++,r.getEntry(e,i).next(()=>(r.removeEntry(i,$t.min()),Qi(e).delete([0,Dr(i.path)])))});s.push(l)}}).next(()=>Ne.waitFor(s)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return pm(e,n)}Kn(e,n){const r=Qi(e);let s,o=Ps.at;return r.Z({index:"documentTargetsIndex"},([i,a],{path:l,sequenceNumber:c})=>{i===0?(o!==Ps.at&&n(new st($o(s)),o),o=c,s=l):o=Ps.at}).next(()=>{o!==Ps.at&&n(new st($o(s)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pm(t,e){return Qi(t).put(function(n,r){return{targetId:0,path:Dr(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.changes=new Ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FTe{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return el(e).put(r)}removeEntry(e,n,r){return el(e).delete(function(s,o){const i=s.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],lv(o),i[i.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=wn.newInvalidDocument(n);return el(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jd(n))},(s,o)=>{r=this.jn(n,o)}).next(()=>r)}Wn(e,n){let r={size:0,document:wn.newInvalidDocument(n)};return el(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jd(n))},(s,o)=>{r={document:this.jn(n,o),size:cv(o)}}).next(()=>r)}getEntries(e,n){let r=ms();return this.zn(e,n,(s,o)=>{const i=this.jn(s,o);r=r.insert(s,i)}).next(()=>r)}Hn(e,n){let r=ms(),s=new Pn(st.comparator);return this.zn(e,n,(o,i)=>{const a=this.jn(o,i);r=r.insert(o,a),s=s.insert(o,cv(i))}).next(()=>({documents:r,Jn:s}))}zn(e,n,r){if(n.isEmpty())return Ne.resolve();let s=new dn(EA);n.forEach(l=>s=s.add(l));const o=IDBKeyRange.bound(jd(s.first()),jd(s.last())),i=s.getIterator();let a=i.getNext();return el(e).Z({index:"documentKeyIndex",range:o},(l,c,u)=>{const d=st.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&EA(a,d)<0;)r(a,null),a=i.getNext();a&&a.isEqual(d)&&(r(a,c),a=i.hasNext()?i.getNext():null),a?u.j(jd(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=i.hasNext()?i.getNext():null})}getAllFromCollection(e,n,r){const s=[n.popLast().toArray(),n.lastSegment(),lv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(e).W(IDBKeyRange.bound(s,o,!0)).next(i=>{let a=ms();for(const l of i){const c=this.jn(st.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);a=a.insert(c.key,c)}return a})}getAllFromCollectionGroup(e,n,r,s){let o=ms();const i=kA(n,r),a=kA(n,_s.max());return el(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(i,a,!0)},(l,c,u)=>{const d=this.jn(st.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===s&&u.done()}).next(()=>o)}newChangeBuffer(e){return new VTe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return SA(e).get("remoteDocumentGlobalKey").next(n=>(Pt(!!n),n))}Qn(e,n){return SA(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=TTe(this.It,n);if(!(r.isNoDocument()&&r.version.isEqual($t.min())))return r}return wn.newInvalidDocument(e)}}function TF(t){return new FTe(t)}class VTe extends EF{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Ka(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new dn((o,i)=>Kt(o.canonicalString(),i.canonicalString()));return this.changes.forEach((o,i)=>{const a=this.Xn.get(o);if(n.push(this.Yn.removeEntry(e,o,a.readTime)),i.isValidDocument()){const l=uA(this.Yn.It,i);s=s.add(o.path.popLast()),r+=cv(l)-a.size,n.push(this.Yn.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=uA(this.Yn.It,i.convertToNoDocument($t.min()));n.push(this.Yn.addEntry(e,o,l))}}),s.forEach(o=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.Yn.updateMetadata(e,r)),Ne.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:s})=>(s.forEach((o,i)=>{this.Xn.set(o,{size:i,readTime:r.get(o).readTime})}),r))}}function SA(t){return Zn(t,"remoteDocumentGlobal")}function el(t){return Zn(t,"remoteDocumentsV14")}function jd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kA(t,e){const n=e.documentKey.path.toArray();return[t,lv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function EA(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(s=Kt(n[o],r[o]),s)return s;return s=Kt(n.length,r.length),s||(s=Kt(n[n.length-2],r[r.length-2]),s||Kt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zTe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.getBaseDocument(e,n,r))).next(s=>(r!==null&&Af(r.mutation,s,ws.empty(),Cn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=jt()){const s=No();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=rf();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,jt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=ms();const i=Of(),a=Of();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof $i)?o=o.insert(c.key,c):u!==void 0&&(i.set(c.key,u.mutation.getFieldMask()),Af(u.mutation,c,u.mutation.getFieldMask(),Cn.now()))}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>i.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new zTe(u,(d=i.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Of();let s=new Pn((i,a)=>i-a),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ws.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||jt()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=tF();u.forEach(f=>{if(!o.has(f)){const p=Y3(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Ne.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return st.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AEe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):Ne.resolve(No());let a=-1,l=o;return i.next(c=>Ne.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?Ne.resolve():this.getBaseDocument(e,u,d).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,jt())).next(u=>({batchId:a,changes:eF(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new st(n)).next(r=>{let s=rf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let o=rf();return this.indexManager.getCollectionParents(e,s).next(i=>Ne.forEach(i,a=>{const l=function(c,u){return new Fy(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(o=>(s=o,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(o=>{o.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,wn.newInvalidDocument(c)))});let i=rf();return s.forEach((a,l)=>{const c=o.get(a);c!==void 0&&Af(c.mutation,l,ws.empty(),Cn.now()),iE(n,l)&&(i=i.insert(a,l))}),i})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):Ne.resolve(wn.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HTe{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return Ne.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Cs(r.createTime)}),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:wF(r.bundledQuery),readTime:Cs(r.readTime)}}(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KTe{constructor(){this.overlays=new Pn(st.comparator),this.es=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=No();return Ne.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ue(e,n,o)}),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.es.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const s=No(),o=n.length+1,i=new st(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Pn((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=No(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=No(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Ne.resolve(a)}ue(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.es.get(s.largestBatchId).delete(r.key);this.es.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new uE(n,r));let o=this.es.get(n);o===void 0&&(o=jt(),this.es.set(n,o)),this.es.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.ns=new dn(zn.ss),this.rs=new dn(zn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new zn(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new zn(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new st(new sn([])),r=new zn(n,e),s=new zn(n,e+1),o=[];return this.rs.forEachInRange([r,s],i=>{this.cs(i),o.push(i.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new st(new sn([])),r=new zn(n,e),s=new zn(n,e+1);let o=jt();return this.rs.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new zn(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return st.comparator(e.key,n.key)||Kt(e._s,n._s)}static os(e,n){return Kt(e._s,n._s)||st.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UTe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new dn(zn.ss)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new lE(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.gs=this.gs.add(new zn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(i)}lookupMutationBatch(e,n){return Ne.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ps(r),o=s<0?0:s;return Ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),s=new zn(n,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,s],i=>{const a=this.ys(i._s);o.push(a)}),Ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Kt);return n.forEach(s=>{const o=new zn(s,0),i=new zn(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,i],a=>{r=r.add(a._s)})}),Ne.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;st.isDocumentKey(o)||(o=o.child(""));const i=new zn(new st(o),0);let a=new dn(Kt);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l._s)),!0)},i),Ne.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const s=this.ys(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return Ne.forEach(n.mutations,s=>{const o=new zn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new zn(n,0),s=this.gs.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jTe{constructor(e){this.Es=e,this.docs=new Pn(st.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():wn.newInvalidDocument(s))}),Ne.resolve(r)}getAllFromCollection(e,n,r){let s=ms();const o=new st(n.child("")),i=this.docs.getIteratorFrom(o);for(;i.hasNext();){const{key:a,value:{document:l}}=i.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||rE(N3(l),r)<=0||(s=s.insert(l.key,l.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,n,r,s){vt()}As(e,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WTe(this)}getSize(e){return Ne.resolve(this.size)}}class WTe extends EF{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(r)}),Ne.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qTe{constructor(e){this.persistence=e,this.Rs=new Ka(n=>rc(n),kp),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.bs=0,this.Ps=new fE,this.targetCount=0,this.vs=ic.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,s)=>n(s)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),Ne.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Dn(n),Ne.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Rs.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Ne.waitFor(o).next(()=>s)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),Ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Ps(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qTe(this),this.indexManager=new NTe,this.remoteDocumentCache=function(r){return new jTe(r)}(r=>this.referenceDelegate.xs(r)),this.It=new yF(n),this.Ns=new HTe(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new UTe(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const s=new GTe(this.Ss.next());return this.referenceDelegate.ks(),r(s).next(o=>this.referenceDelegate.Os(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ms(e,n){return Ne.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class GTe extends R3{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.Fs=new fE,this.$s=null}static Bs(e){return new Gy(e)}get Ls(){if(this.$s)return this.$s;throw vt()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(s=>this.Ls.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Ls,r=>{const s=st.fromPath(r);return this.Us(e,s).next(o=>{o||n.removeEntry(s,$t.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return Ne.or([()=>Ne.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YTe{constructor(e){this.It=e}$(e,n,r,s){const o=new Ly("createOrUpgrade",n);r<1&&s>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cA,{unique:!0}),a.createObjectStore("documentMutations")}(e),TA(e),function(a){a.createObjectStore("remoteDocuments")}(e));let i=Ne.resolve();return r<3&&s>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),TA(e)),i=i.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(o))),r<4&&s>=4&&(r!==0&&(i=i.next(()=>function(a,l){return l.store("mutations").W().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cA,{unique:!0});const u=l.store("mutations"),d=c.map(f=>u.put(f));return Ne.waitFor(d)})}(e,o))),i=i.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(i=i.next(()=>this.qs(o))),r<6&&s>=6&&(i=i.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),r<7&&s>=7&&(i=i.next(()=>this.Gs(o))),r<8&&s>=8&&(i=i.next(()=>this.Qs(e,o))),r<9&&s>=9&&(i=i.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(i=i.next(()=>this.js(o))),r<11&&s>=11&&(i=i.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(i=i.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:wTe});l.createIndex("collectionPathOverlayIndex",CTe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",STe,{unique:!1})})(e)})),r<13&&s>=13&&(i=i.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:cTe});l.createIndex("documentKeyIndex",uTe),l.createIndex("collectionGroupIndex",dTe)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(i=i.next(()=>this.zs(e,o))),r<15&&s>=15&&(i=i.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:gTe}).createIndex("sequenceNumberIndex",vTe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:yTe}).createIndex("documentKeyIndex",bTe,{unique:!1})}(e))),i}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,s)=>{n+=cv(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(s=>Ne.forEach(s,o=>{const i=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next(a=>Ne.forEach(a,l=>{Pt(l.userId===o.userId);const c=hl(this.It,l);return CF(e,o.userId,c).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const o=[];return r.Z((i,a)=>{const l=new sn(i),c=function(u){return[0,Dr(u)]}(l);o.push(n.get(c).next(u=>u?Ne.resolve():(d=>n.put({targetId:0,path:Dr(d),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>Ne.waitFor(o))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:mTe});const r=n.store("collectionParents"),s=new dE,o=i=>{if(s.add(i)){const a=i.lastSegment(),l=i.popLast();return r.put({collectionId:a,parent:Dr(l)})}};return n.store("remoteDocuments").Z({X:!0},(i,a)=>{const l=new sn(i);return o(l.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([i,a,l],c)=>{const u=$o(a);return o(u.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,s)=>{const o=sf(s),i=bF(this.It,o);return n.put(i)})}Ws(e,n){const r=n.store("remoteDocuments"),s=[];return r.Z((o,i)=>{const a=n.store("remoteDocumentsV14"),l=(c=i,c.document?new st(sn.fromString(c.document.name).popFirst(5)):c.noDocument?st.fromSegments(c.noDocument.path):c.unknownDocument?st.fromSegments(c.unknownDocument.path):vt()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:i.readTime||[0,0],unknownDocument:i.unknownDocument,noDocument:i.noDocument,document:i.document,hasCommittedMutations:!!i.hasCommittedMutations};s.push(a.put(u))}).next(()=>Ne.waitFor(s))}zs(e,n){const r=n.store("mutations"),s=TF(this.It),o=new xF(Gy.Bs,this.It.re);return r.W().next(i=>{const a=new Map;return i.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:jt();hl(this.It,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),Ne.forEach(a,(l,c)=>{const u=new nr(c),d=Wy.oe(this.It,u),f=o.getIndexManager(u),p=qy.oe(u,this.It,f,o.referenceDelegate);return new _F(s,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new Y1(n,Ps.at),l).next()})})}}function TA(t){t.createObjectStore("targetDocuments",{keyPath:hTe}).createIndex("documentTargetsIndex",pTe,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fTe,{unique:!0}),t.createObjectStore("targetGlobal")}const w0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hE{constructor(e,n,r,s,o,i,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=o,this.window=i,this.document=a,this.Js=c,this.Ys=u,this.Xs=d,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=f=>Promise.resolve(),!hE.C())throw new ft(We.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BTe(this,s),this.ii=n+"main",this.It=new yF(l),this.ri=new ii(this.ii,this.Xs,new YTe(this.It)),this.Cs=new RTe(this.referenceDelegate,this.It),this.remoteDocumentCache=TF(this.It),this.Ns=new _Te,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,u===!1&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ft(We.FAILED_PRECONDITION,w0);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ps(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Ha(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Wd(e).get("owner").next(n=>Ne.resolve(this.mi(n)))}gi(e){return mm(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Zn(n,"clientMetadata");return r.W().next(s=>{const o=this.Ii(s,18e5),i=s.filter(a=>o.indexOf(a)===-1);return Ne.forEach(i,a=>r.delete(a.clientId)).next(()=>i)})}).catch(()=>[]);if(this.oi)for(const n of e)this.oi.removeItem(this.Ti(n.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ne.resolve(!0):Wd(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new ft(We.FAILED_PRECONDITION,w0);return!1}}return!(!this.networkEnabled||!this.inForeground)||mm(e).W().next(r=>this.Ii(r,5e3).find(s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,i=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(o||i&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Ze("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Y1(e,Ps.at);return this._i(n).next(()=>this.gi(n))}),this.ri.close(),this.Pi()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>mm(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return qy.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $Te(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Wy.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){Ze("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",o=(i=this.Xs)===15?ETe:i===14?vF:i===13?gF:i===12?kTe:i===11?mF:void vt();var i;let a;return this.ri.runTransaction(e,s,o,l=>(a=new Y1(l,this.Ss?this.Ss.next():Ps.at),n==="readwrite-primary"?this.fi(a).next(c=>!!c||this.di(a)).next(c=>{if(!c)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ft(We.FAILED_PRECONDITION,$3);return r(a)}).next(c=>this.wi(a).next(()=>c)):this.Vi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Vi(e){return Wd(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ft(We.FAILED_PRECONDITION,w0)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wd(e).put("owner",n)}static C(){return ii.C()}_i(e){const n=Wd(e);return n.get("owner").next(r=>this.mi(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ne.resolve())}pi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Mr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),H1e()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=((n=this.oi)===null||n===void 0?void 0:n.getItem(this.Ti(e)))!==null;return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wd(t){return Zn(t,"owner")}function mm(t){return Zn(t,"clientMetadata")}function XTe(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=s}static Ci(e,n){let r=jt(),s=jt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new pE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.ki(e,n).next(o=>o||this.Oi(e,n,s,r)).next(o=>o||this.Mi(e,n))}ki(e,n){if(ZM(n))return Ne.resolve(null);let r=mo(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=U1(n,null,"F"),r=mo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=jt(...o);return this.Ni.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(n,a);return this.$i(n,c,i,l.readTime)?this.ki(e,U1(n,null,"F")):this.Bi(e,c,n,l)}))})))}Oi(e,n,r,s){return ZM(n)||s.isEqual($t.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(o=>{const i=this.Fi(n,o);return this.$i(n,i,r,s)?this.Mi(e,n):(V1()<=Zt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),j1(n)),this.Bi(e,i,n,aEe(s,-1)))})}Fi(e,n){let r=new dn(H3(e));return n.forEach((s,o)=>{iE(e,o)&&(r=r.add(o))}),r}$i(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Mi(e,n){return V1()<=Zt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",j1(n)),this.Ni.getDocumentsMatchingQuery(e,n,_s.min())}Bi(e,n,r,s){return this.Ni.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JTe{constructor(e,n,r,s){this.persistence=e,this.Li=n,this.It=s,this.Ui=new Pn(Kt),this.qi=new Ka(o=>rc(o),kp),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _F(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function MF(t,e,n,r){return new JTe(t,e,n,r)}async function AF(t,e){const n=Bt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=jt();for(const c of s){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:i,addedBatchIds:a}))})})}function QTe(t,e){const n=Bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Gi.newChangeBuffer({trackRemovals:!0});return function(i,a,l,c){const u=l.batch,d=u.keys();let f=Ne.resolve();return d.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(m=>{const g=l.docVersions.get(p);Pt(g!==null),m.version.compareTo(g)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>i.mutationQueue.removeMutationBatch(a,u))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(i){let a=jt();for(let l=0;l<i.mutationResults.length;++l)i.mutationResults[l].transformResults.length>0&&(a=a.add(i.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function OF(t){const e=Bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function ZTe(t,e){const n=Bt(t),r=e.snapshotVersion;let s=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Gi.newChangeBuffer({trackRemovals:!0});s=n.Ui;const a=[];e.targetChanges.forEach((u,d)=>{const f=s.get(d);if(!f)return;a.push(n.Cs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(o,u.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(Xn.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(m,g,v){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,u)&&a.push(n.Cs.updateTargetData(o,p))});let l=ms(),c=jt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(e_e(o,i,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual($t.min())){const u=n.Cs.getLastRemoteSnapshotVersion(o).next(d=>n.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return Ne.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ui=s,o))}function e_e(t,e,n){let r=jt(),s=jt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=ms();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual($t.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):Ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:i,zi:s}})}function t_e(t,e){const n=Bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n_e(t,e){const n=Bt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Cs.getTargetData(r,e).next(o=>o?(s=o,Ne.resolve(s)):n.Cs.allocateTargetId(r).next(i=>(s=new ma(e,i,0,r.currentSequenceNumber),n.Cs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ui.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function X1(t,e,n){const r=Bt(t),s=r.Ui.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Ha(i))throw i;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ui=r.Ui.remove(e),r.qi.delete(s.target)}function _A(t,e,n){const r=Bt(t);let s=$t.min(),o=jt();return r.persistence.runTransaction("Execute query","readonly",i=>function(a,l,c){const u=Bt(a),d=u.qi.get(c);return d!==void 0?Ne.resolve(u.Ui.get(d)):u.Cs.getTargetData(l,c)}(r,i,mo(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.Li.getDocumentsMatchingQuery(i,e,n?s:$t.min(),n?o:jt())).next(a=>(r_e(r,OEe(e),a),{documents:a,Hi:o})))}function r_e(t,e,n){let r=t.Ki.get(e)||$t.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ki.set(e,r)}class xA{constructor(){this.activeTargetIds=nF()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NF{constructor(){this.Lr=new xA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new xA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_e{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_e{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,s,o){const i=this.ho(e,n);Ze("RestConnection","Sending: ",i,r);const a={};return this.lo(a,s,o),this.fo(e,i,a,r).then(l=>(Ze("RestConnection","Received: ",l),l),l=>{throw nv("RestConnection",`${e} failed with error: `,l,"url: ",i,"request:",r),l})}_o(e,n,r,s,o,i){return this.ao(e,n,r,s,o)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}ho(e,n){const r=o_e[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,s){return new Promise((o,i)=>{const a=new Xke;a.listenOnce(qke.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case y0.NO_ERROR:const c=a.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(c)),o(c);break;case y0.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),i(new ft(We.DEADLINE_EXCEEDED,"Request time out"));break;case y0.HTTP_ERROR:const u=a.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(m)>=0?m:We.UNKNOWN}(d.status);i(new ft(f,d.message))}else i(new ft(We.UNKNOWN,"Server responded with status "+a.getStatus()))}else i(new ft(We.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(s);a.send(n,"POST",l,r,15)})}wo(e,n,r){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jke(),i=Wke(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Yke({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=s.join("");Ze("Connection","Creating WebChannel: "+l,a);const c=o.createWebChannel(l,a);let u=!1,d=!1;const f=new i_e({Hr:m=>{d?Ze("Connection","Not sending because WebChannel is closed:",m):(u||(Ze("Connection","Opening WebChannel transport."),c.open(),u=!0),Ze("Connection","WebChannel sending:",m),c.send(m))},Jr:()=>c.close()}),p=(m,g,v)=>{m.listen(g,y=>{try{v(y)}catch(C){setTimeout(()=>{throw C},0)}})};return p(c,um.EventType.OPEN,()=>{d||Ze("Connection","WebChannel transport opened.")}),p(c,um.EventType.CLOSE,()=>{d||(d=!0,Ze("Connection","WebChannel transport closed"),f.io())}),p(c,um.EventType.ERROR,m=>{d||(d=!0,nv("Connection","WebChannel transport errored:",m),f.io(new ft(We.UNAVAILABLE,"The operation could not be completed")))}),p(c,um.EventType.MESSAGE,m=>{var g;if(!d){const v=m.data[0];Pt(!!v);const y=v,C=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(C){Ze("Connection","WebChannel received error:",C);const b=C.status;let w=function(k){const A=Mn[k];if(A!==void 0)return Q3(A)}(b),S=C.message;w===void 0&&(w=We.INTERNAL,S="Unknown error status: "+b+" with message "+C.message),d=!0,f.io(new ft(w,S)),c.close()}else Ze("Connection","WebChannel received:",v),f.ro(v)}}),p(i,Gke.STAT_EVENT,m=>{m.stat===BM.PROXY?Ze("Connection","Detected buffering proxy"):m.stat===BM.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_e(){return typeof window<"u"?window:null}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){return new XEe(t,!0)}class $F{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=s,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,n-r);s>0&&Ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n,r,s,o,i,a,l){this.Hs=e,this.vo=r,this.Vo=s,this.So=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new $F(e,n)}ko(){return this.state===1||this.state===5||this.Oo()}Oo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&this.Co===null&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Oo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,n){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():n&&n.code===We.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Do===n&&this.Qo(r,s)},r=>{e(()=>{const s=new ft(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(s)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{r(()=>this.jo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Mo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c_e extends RF{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.It=o}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=ZEe(this.It,e),r=function(s){if(!("targetChange"in s))return $t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?$t.min():o.readTime?Cs(o.readTime):$t.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=q1(this.It),n.addTarget=function(s,o){let i;const a=o.target;return i=sv(a)?{documents:cF(s,a)}:{query:uF(s,a)},i.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?i.resumeToken=oF(s,o.resumeToken):o.snapshotVersion.compareTo($t.min())>0&&(i.readTime=Dh(s,o.snapshotVersion.toTimestamp())),i}(this.It,e);const r=tTe(this.It,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=q1(this.It),n.removeTarget=e,this.Lo(n)}}class u_e extends RF{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.It=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=eTe(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.tu(r,n)}return Pt(!e.writeResults||e.writeResults.length===0),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=q1(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>av(this.It,r))};this.Lo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_e extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.It=s,this.su=!1}iu(){if(this.su)throw new ft(We.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.So.ao(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ft(We.UNKNOWN,s.toString())})}_o(e,n,r,s){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.So._o(e,n,r,o,i,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(We.UNKNOWN,o.toString())})}terminate(){this.su=!0}}class f_e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){this.ru===0&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Mr(n),this.uu=!1):Ze("OnlineStateTracker",n)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_e{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.qr(i=>{r.enqueueAndForget(async()=>{Tc(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Bt(a);l.wu.add(4),await Tp(l),l.yu.set("Unknown"),l.wu.delete(4),await Xy(l)}(this))})}),this.yu=new f_e(r,s)}}async function Xy(t){if(Tc(t))for(const e of t.mu)await e(!0)}async function Tp(t){for(const e of t.mu)await e(!1)}function DF(t,e){const n=Bt(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),vE(n)?gE(n):kd(n).Oo()&&mE(n,e))}function PF(t,e){const n=Bt(t),r=kd(n);n._u.delete(e),r.Oo()&&LF(n,e),n._u.size===0&&(r.Oo()?r.$o():Tc(n)&&n.yu.set("Unknown"))}function mE(t,e){t.pu.Mt(e.targetId),kd(t).Ho(e)}function LF(t,e){t.pu.Mt(e),kd(t).Jo(e)}function gE(t){t.pu=new qEe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t._u.get(e)||null}),kd(t).start(),t.yu.cu()}function vE(t){return Tc(t)&&!kd(t).ko()&&t._u.size>0}function Tc(t){return Bt(t).wu.size===0}function BF(t){t.pu=void 0}async function p_e(t){t._u.forEach((e,n)=>{mE(t,e)})}async function m_e(t,e){BF(t),vE(t)?(t.yu.lu(e),gE(t)):t.yu.set("Unknown")}async function g_e(t,e,n){if(t.yu.set("Online"),e instanceof sF&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const i of s.targetIds)r._u.has(i)&&(await r.remoteSyncer.rejectListen(i,o),r._u.delete(i),r.pu.removeTarget(i))}(t,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uv(t,r)}else if(e instanceof ug?t.pu.Gt(e):e instanceof rF?t.pu.Yt(e):t.pu.Wt(e),!n.isEqual($t.min()))try{const r=await OF(t.localStore);n.compareTo(r)>=0&&await function(s,o){const i=s.pu.te(o);return i.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s._u.get(l);c&&s._u.set(l,c.withResumeToken(a.resumeToken,o))}}),i.targetMismatches.forEach(a=>{const l=s._u.get(a);if(!l)return;s._u.set(a,l.withResumeToken(Xn.EMPTY_BYTE_STRING,l.snapshotVersion)),LF(s,a);const c=new ma(l.target,a,1,l.sequenceNumber);mE(s,c)}),s.remoteSyncer.applyRemoteEvent(i)}(t,n)}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),await uv(t,r)}}async function uv(t,e,n){if(!Ha(e))throw e;t.wu.add(1),await Tp(t),t.yu.set("Offline"),n||(n=()=>OF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),t.wu.delete(1),await Xy(t)})}function FF(t,e){return e().catch(n=>uv(t,n,e))}async function _p(t){const e=Bt(t),n=Ma(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;v_e(e);)try{const s=await t_e(e.localStore,r);if(s===null){e.du.length===0&&n.$o();break}r=s.batchId,y_e(e,s)}catch(s){await uv(e,s)}VF(e)&&zF(e)}function v_e(t){return Tc(t)&&t.du.length<10}function y_e(t,e){t.du.push(e);const n=Ma(t);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function VF(t){return Tc(t)&&!Ma(t).ko()&&t.du.length>0}function zF(t){Ma(t).start()}async function b_e(t){Ma(t).nu()}async function w_e(t){const e=Ma(t);for(const n of t.du)e.Zo(n.mutations)}async function C_e(t,e,n){const r=t.du.shift(),s=cE.from(r,e,n);await FF(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await _p(t)}async function S_e(t,e){e&&Ma(t).Xo&&await async function(n,r){if(s=r.code,HEe(s)&&s!==We.ABORTED){const o=n.du.shift();Ma(n).Fo(),await FF(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await _p(n)}var s}(t,e),VF(t)&&zF(t)}async function MA(t,e){const n=Bt(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Tc(n);n.wu.add(3),await Tp(n),r&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),await Xy(n)}async function k_e(t,e){const n=Bt(t);e?(n.wu.delete(2),await Xy(n)):e||(n.wu.add(2),await Tp(n),n.yu.set("Unknown"))}function kd(t){return t.Iu||(t.Iu=function(e,n,r){const s=Bt(e);return s.iu(),new c_e(n,s.So,s.authCredentials,s.appCheckCredentials,s.It,r)}(t.datastore,t.asyncQueue,{Yr:p_e.bind(null,t),Zr:m_e.bind(null,t),zo:g_e.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),vE(t)?gE(t):t.yu.set("Unknown")):(await t.Iu.stop(),BF(t))})),t.Iu}function Ma(t){return t.Tu||(t.Tu=function(e,n,r){const s=Bt(e);return s.iu(),new u_e(n,s.So,s.authCredentials,s.appCheckCredentials,s.It,r)}(t.datastore,t.asyncQueue,{Yr:b_e.bind(null,t),Zr:S_e.bind(null,t),eu:w_e.bind(null,t),tu:C_e.bind(null,t)}),t.mu.push(async e=>{e?(t.Tu.Fo(),await _p(t)):(await t.Tu.stop(),t.du.length>0&&(Ze("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))})),t.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new yE(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bE(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Ha(t))return new ft(We.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=rf(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.Eu=new Pn(st.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?e.type!==0&&r.type===3?this.Eu=this.Eu.insert(n,e):e.type===3&&r.type!==1?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Eu=this.Eu.remove(n):e.type===1&&r.type===2?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):vt():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qu{constructor(e,n,r,s,o,i,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,s){const o=[];return n.forEach(i=>{o.push({type:0,doc:i})}),new Qu(e,n,bu.emptySet(n),o,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_e{constructor(){this.Ru=void 0,this.listeners=[]}}class T_e{constructor(){this.queries=new Ka(e=>z3(e),zy),this.onlineState="Unknown",this.bu=new Set}}async function HF(t,e){const n=Bt(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new E_e),s)try{o.Ru=await n.onListen(r)}catch(i){const a=bE(i,`Initialization of query '${j1(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Pu(n.onlineState),o.Ru&&e.vu(o.Ru)&&wE(n)}async function KF(t,e){const n=Bt(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const i=o.listeners.indexOf(e);i>=0&&(o.listeners.splice(i,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function __e(t,e){const n=Bt(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.listeners)a.vu(s)&&(r=!0);i.Ru=s}}r&&wE(n)}function x_e(t,e,n){const r=Bt(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function wE(t){t.bu.forEach(e=>{e.next()})}class UF{constructor(e,n,r){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.ku||!r)&&(!e.docs.isEmpty()||n==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const n=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Nu(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.key=e}}class WF{constructor(e){this.key=e}}class I_e{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=jt(),this.mutatedKeys=jt(),this.Gu=H3(e),this.Qu=new bu(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new AA,s=n?n.Qu:this.Qu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const f=s.get(u),p=iE(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),v=!0):this.Hu(f,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Gu(p,l)>0||c&&this.Gu(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(p?(i=i.add(p),o=g?o.add(u):o.delete(u)):(i=i.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Qu:i,zu:r,$i:a,mutatedKeys:o}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Au();o.sort((c,u)=>function(d,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return p(d)-p(f)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const i=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,o.length!==0||l?{snapshot:new Qu(this.query,e.Qu,s,o,e.mutatedKeys,a===0,l,!1),Xu:i}:{Xu:i}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new AA,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=jt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new WF(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new jF(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=jt();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Qu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0)}}class M_e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A_e{constructor(e){this.key=e,this.nc=!1}}class O_e{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.sc={},this.ic=new Ka(a=>z3(a),zy),this.rc=new Map,this.oc=new Set,this.uc=new Pn(st.comparator),this.cc=new Map,this.ac=new fE,this.hc={},this.lc=new Map,this.fc=ic.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function N_e(t,e){const n=H_e(t);let r,s;const o=n.ic.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.ec();else{const i=await n_e(n.localStore,mo(e));n.isPrimaryClient&&DF(n.remoteStore,i);const a=n.sharedClientState.addLocalQueryTarget(i.targetId);r=i.targetId,s=await $_e(n,e,r,a==="current")}return s}async function $_e(t,e,n,r){t._c=(u,d,f)=>async function(p,m,g,v){let y=m.view.Wu(g);y.$i&&(y=await _A(p.localStore,m.query,!1).then(({documents:w})=>m.view.Wu(w,y)));const C=v&&v.targetChanges.get(m.targetId),b=m.view.applyChanges(y,p.isPrimaryClient,C);return NA(p,m.targetId,b.Xu),b.snapshot}(t,u,d,f);const s=await _A(t.localStore,e,!0),o=new I_e(e,s.Hi),i=o.Wu(s.documents),a=Ep.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=o.applyChanges(i,t.isPrimaryClient,a);NA(t,n,l.Xu);const c=new M_e(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),l.snapshot}async function R_e(t,e){const n=Bt(t),r=n.ic.get(e),s=n.rc.get(r.targetId);if(s.length>1)return n.rc.set(r.targetId,s.filter(o=>!zy(o,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await X1(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),PF(n.remoteStore,r.targetId),J1(n,r.targetId)}).catch(kc)):(J1(n,r.targetId),await X1(n.localStore,r.targetId,!0))}async function D_e(t,e,n){const r=JF(t);try{const s=await function(o,i){const a=Bt(o),l=Cn.now(),c=i.reduce((f,p)=>f.add(p.key),jt());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=ms(),m=jt();return a.Gi.getEntries(f,c).next(g=>{p=g,p.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(g=>{u=g;const v=[];for(const y of i){const C=VEe(y,u.get(y.key).overlayedDocument);C!=null&&v.push(new $i(y.key,C,F3(C.value.mapValue),br.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,v,i)}).next(g=>{d=g;const v=g.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:d.batchId,changes:eF(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,i,a){let l=o.hc[o.currentUser.toKey()];l||(l=new Pn(Kt)),l=l.insert(i,a),o.hc[o.currentUser.toKey()]=l}(r,s.batchId,n),await xp(r,s.changes),await _p(r.remoteStore)}catch(s){const o=bE(s,"Failed to persist write");n.reject(o)}}async function qF(t,e){const n=Bt(t);try{const r=await ZTe(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.cc.get(o);i&&(Pt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.nc=!0:s.modifiedDocuments.size>0?Pt(i.nc):s.removedDocuments.size>0&&(Pt(i.nc),i.nc=!1))}),await xp(n,r,e)}catch(r){await kc(r)}}function OA(t,e,n){const r=Bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ic.forEach((o,i)=>{const a=i.view.Pu(e);a.snapshot&&s.push(a.snapshot)}),function(o,i){const a=Bt(o);a.onlineState=i;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Pu(i)&&(l=!0)}),l&&wE(a)}(r.eventManager,e),s.length&&r.sc.zo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P_e(t,e,n){const r=Bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.cc.get(e),o=s&&s.key;if(o){let i=new Pn(st.comparator);i=i.insert(o,wn.newNoDocument(o,$t.min()));const a=jt().add(o),l=new jy($t.min(),new Map,new dn(Kt),i,a);await qF(r,l),r.uc=r.uc.remove(o),r.cc.delete(e),CE(r)}else await X1(r.localStore,e,!1).then(()=>J1(r,e,n)).catch(kc)}async function L_e(t,e){const n=Bt(t),r=e.batch.batchId;try{const s=await QTe(n.localStore,e);YF(n,r,null),GF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xp(n,s)}catch(s){await kc(s)}}async function B_e(t,e,n){const r=Bt(t);try{const s=await function(o,i){const a=Bt(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,i).next(u=>(Pt(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,i)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);YF(r,e,n),GF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xp(r,s)}catch(s){await kc(s)}}function GF(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function YF(t,e,n){const r=Bt(t);let s=r.hc[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.hc[r.currentUser.toKey()]=s}}function J1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||XF(t,r)})}function XF(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(PF(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),CE(t))}function NA(t,e,n){for(const r of n)r instanceof jF?(t.ac.addReference(r.key,e),F_e(t,r)):r instanceof WF?(Ze("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||XF(t,r.key)):vt()}function F_e(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(Ze("SyncEngine","New document in limbo: "+n),t.oc.add(r),CE(t))}function CE(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new st(sn.fromString(e)),r=t.fc.next();t.cc.set(r,new A_e(n)),t.uc=t.uc.insert(n,r),DF(t.remoteStore,new ma(mo(Vy(n.path)),r,2,Ps.at))}}async function xp(t,e,n){const r=Bt(t),s=[],o=[],i=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{i.push(r._c(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=pE.Ci(l.targetId,c);o.push(u)}}))}),await Promise.all(i),r.sc.zo(s),await async function(a,l){const c=Bt(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>Ne.forEach(l,d=>Ne.forEach(d.Si,f=>c.persistence.referenceDelegate.addReference(u,d.targetId,f)).next(()=>Ne.forEach(d.Di,f=>c.persistence.referenceDelegate.removeReference(u,d.targetId,f)))))}catch(u){if(!Ha(u))throw u;Ze("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const f=c.Ui.get(d),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ui=c.Ui.insert(d,m)}}}(r.localStore,o))}async function V_e(t,e){const n=Bt(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=await AF(n.localStore,e);n.currentUser=e,function(s,o){s.lc.forEach(i=>{i.forEach(a=>{a.reject(new ft(We.CANCELLED,o))})}),s.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xp(n,r.ji)}}function z_e(t,e){const n=Bt(t),r=n.cc.get(e);if(r&&r.nc)return jt().add(r.key);{let s=jt();const o=n.rc.get(e);if(!o)return s;for(const i of o){const a=n.ic.get(i);s=s.unionWith(a.view.ju)}return s}}function H_e(t){const e=Bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z_e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P_e.bind(null,e),e.sc.zo=__e.bind(null,e.eventManager),e.sc.wc=x_e.bind(null,e.eventManager),e}function JF(t){const e=Bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L_e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B_e.bind(null,e),e}class QF{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Yy(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return MF(this.persistence,new IF,e.initialUser,this.It)}yc(e){return new xF(Gy.Bs,this.It)}gc(e){return new NF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class K_e extends QF{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await JF(this.Ac.syncEngine),await _p(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return MF(this.persistence,new IF,e.initialUser,this.It)}Tc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new PTe(r,e.asyncQueue,n)}Ec(e,n){const r=new dEe(n,this.persistence);return new uEe(e.asyncQueue,r)}yc(e){const n=XTe(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new hE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,l_e(),fg(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new NF}}class ZF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V_e.bind(null,this.syncEngine),await k_e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new T_e}createDatastore(e){const n=Yy(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new a_e(s));var s;return function(o,i,a,l){return new d_e(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,o=a=>OA(this.syncEngine,a,0),i=IA.C()?new IA:new s_e,new h_e(n,r,s,o,i);var n,r,s,o,i}createSyncEngine(e,n){return function(r,s,o,i,a,l,c){const u=new O_e(r,s,o,i,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Bt(e);Ze("RemoteStore","RemoteStore shutting down."),n.wu.add(5),await Tp(n),n.gu.shutdown(),n.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t,e,n){if(!n)throw new ft(We.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U_e(t,e,n,r){if(e===!0&&r===!0)throw new ft(We.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $A(t){if(!st.isDocumentKey(t))throw new ft(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RA(t){if(st.isDocumentKey(t))throw new ft(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vt()}function qs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ft(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=SE(t);throw new ft(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Map;class PA{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ft(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,U_e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ft(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ft(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PA(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Jke;switch(n.type){case"gapi":const r=n.client;return new tEe(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ft(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=DA.get(e);n&&(Ze("ComponentProvider","Removing Datastore"),DA.delete(e),n.terminate())}(this),Promise.resolve()}}function j_e(t,e,n,r={}){var s;const o=(t=qs(t,Jy))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&nv("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let i,a;if(typeof r.mockUserToken=="string")i=r.mockUserToken,a=nr.MOCK_USER;else{i=sB(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ft(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new nr(l)}t._authCredentials=new Qke(new I3(i,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}}class Qy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qy(this.firestore,e,this._query)}}class ga extends Qy{constructor(e,n,r){super(e,n,Vy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new st(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function Pc(t,e,...n){if(t=Es(t),e4("collection","path",e),t instanceof Jy){const r=sn.fromString(e,...n);return RA(r),new ga(t,null,r)}{if(!(t instanceof Qr||t instanceof ga))throw new ft(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sn.fromString(e,...n));return RA(r),new ga(t.firestore,null,r)}}function Wi(t,e,...n){if(t=Es(t),arguments.length===1&&(e=M3.R()),e4("doc","path",e),t instanceof Jy){const r=sn.fromString(e,...n);return $A(r),new Qr(t,null,new st(r))}{if(!(t instanceof Qr||t instanceof ga))throw new ft(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sn.fromString(e,...n));return $A(r),new Qr(t.firestore,t instanceof ga?t.converter:null,new st(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_e{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=nr.UNAUTHENTICATED,this.clientId=M3.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Ze("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ze("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ft(We.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function n4(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await AF(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function r4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q_e(t);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>MA(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>MA(e.remoteStore,o)),t.onlineComponents=e}async function q_e(t){return t.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),await n4(t,new QF)),t.offlineComponents}async function s4(t){return t.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),await r4(t,new ZF)),t.onlineComponents}function G_e(t){return s4(t).then(e=>e.syncEngine)}async function o4(t){const e=await s4(t),n=e.eventManager;return n.onListen=N_e.bind(null,e.syncEngine),n.onUnlisten=R_e.bind(null,e.syncEngine),n}function Y_e(t,e,n={}){const r=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const c=new t4({next:d=>{o.enqueueAndForget(()=>KF(s,u));const f=d.docs.has(i);!f&&d.fromCache?l.reject(new ft(We.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new ft(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new UF(Vy(i.path),c,{includeMetadataChanges:!0,ku:!0});return HF(s,u)}(await o4(t),t.asyncQueue,e,n,r)),r.promise}function X_e(t,e,n={}){const r=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const c=new t4({next:d=>{o.enqueueAndForget(()=>KF(s,u)),d.fromCache&&a.source==="server"?l.reject(new ft(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new UF(i,c,{includeMetadataChanges:!0,ku:!0});return HF(s,u)}(await o4(t),t.asyncQueue,e,n,r)),r.promise}class J_e{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new $F(this,"async_queue_retry"),this.Wc=()=>{const n=fg();n&&Ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=fg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new ao;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.No.reset()}catch(e){if(!Ha(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.No.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const s=function(o){let i=o.message||"";return o.stack&&(i=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),i}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const s=yE.createAndSchedule(this,e,n,r,o=>this.Yc(o));return this.qc.push(s),s}zc(){this.Kc&&vt()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}class Ua extends Jy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new J_e,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||i4(this),this._firestoreClient.terminate()}}function Q_e(t,e){const n=typeof t=="object"?t:$k(),r=typeof t=="string"?t:e||"(default)",s=wy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=rB("firestore");if(o){const[i,a]=o.split(":");j_e(s,i,parseInt(a,10))}}return s}function Zy(t){return t._firestoreClient||i4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function i4(t){var e;const n=t._freezeSettings(),r=function(s,o,i,a){return new hEe(s,o,i,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new W_e(t._authCredentials,t._appCheckCredentials,t._queue,r)}function Z_e(t,e){txe(t=qs(t,Ua));const n=Zy(t),r=t._freezeSettings(),s=new ZF;return exe(n,s,new K_e(s,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function exe(t,e,n){const r=new ao;return t.asyncQueue.enqueue(async()=>{try{await n4(t,n),await r4(t,e),r.resolve()}catch(s){const o=s;if(!function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:typeof DOMException<"u"&&i instanceof DOMException?i.code===22||i.code===20||i.code===11:!0}(o))throw o;nv("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}}).then(()=>r.promise)}function txe(t){if(t._initialized||t._terminated)throw new ft(We.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zu(Xn.fromBase64String(e))}catch(n){throw new ft(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zu(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ft(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ft(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ft(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nxe=/^__.*__$/;class rxe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sd(e,this.data,n,this.fieldTransforms)}}class a4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function l4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class TE{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=s,o===void 0&&this.na(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new TE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ia({path:r,oa:!1});return s.ua(e),s}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ia({path:r,oa:!1});return s.na(),s}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return dv(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(l4(this.sa)&&nxe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class sxe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Yy(e)}da(e,n,r,s=!1){return new TE({sa:e,methodName:n,fa:r,path:On.emptyPath(),oa:!1,la:s},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function _E(t){const e=t._freezeSettings(),n=Yy(t._databaseId);return new sxe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c4(t,e,n,r,s,o={}){const i=t.da(o.merge||o.mergeFields?2:0,e,n,s);xE("Data must be an object, but it was:",i,r);const a=u4(r,i);let l,c;if(o.merge)l=new ws(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const f=Q1(e,d,n);if(!i.contains(f))throw new ft(We.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);f4(u,f)||u.push(f)}l=new ws(u),c=i.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=i.fieldTransforms;return new rxe(new mr(a),l,c)}class tb extends kE{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tb}}function oxe(t,e,n,r){const s=t.da(1,e,n);xE("Data must be an object, but it was:",s,r);const o=[],i=mr.empty();Ec(r,(l,c)=>{const u=IE(e,l,n);c=Es(c);const d=s.ca(u);if(c instanceof tb)o.push(u);else{const f=nb(c,d);f!=null&&(o.push(u),i.set(u,f))}});const a=new ws(o);return new a4(i,a,s.fieldTransforms)}function ixe(t,e,n,r,s,o){const i=t.da(1,e,n),a=[Q1(e,r,n)],l=[s];if(o.length%2!=0)throw new ft(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Q1(e,o[f])),l.push(o[f+1]);const c=[],u=mr.empty();for(let f=a.length-1;f>=0;--f)if(!f4(c,a[f])){const p=a[f];let m=l[f];m=Es(m);const g=i.ca(p);if(m instanceof tb)c.push(p);else{const v=nb(m,g);v!=null&&(c.push(p),u.set(p,v))}}const d=new ws(c);return new a4(u,d,i.fieldTransforms)}function nb(t,e){if(d4(t=Es(t)))return xE("Unsupported field value:",e,t),u4(t,e);if(t instanceof kE)return function(n,r){if(!l4(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const i of n){let a=nb(i,r.aa(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Es(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $Ee(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Cn.fromDate(n);return{timestampValue:Dh(r.It,s)}}if(n instanceof Cn){const s=new Cn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Dh(r.It,s)}}if(n instanceof EE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zu)return{bytesValue:oF(r.It,n._byteString)};if(n instanceof Qr){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${SE(n)}`)}(t,e)}function u4(t,e){const n={};return D3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ec(t,(r,s)=>{const o=nb(s,e.ra(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function d4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Cn||t instanceof EE||t instanceof Zu||t instanceof Qr||t instanceof kE)}function xE(t,e,n){if(!d4(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=SE(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Q1(t,e,n){if((e=Es(e))instanceof eb)return e._internalPath;if(typeof e=="string")return IE(t,e);throw dv("Field path arguments must be of type string or ",t,!1,void 0,n)}const axe=new RegExp("[~\\*/\\[\\]]");function IE(t,e,n){if(e.search(axe)>=0)throw dv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eb(...e.split("."))._internalPath}catch{throw dv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dv(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new ft(We.INVALID_ARGUMENT,a+t+l)}function f4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lxe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(p4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lxe extends h4{data(){return super.data()}}function p4(t,e){return typeof e=="string"?IE(t,e):e instanceof eb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cxe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ft(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uxe{convertValue(e,n="none"){switch(nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ec(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw vt()}}convertObject(e,n){const r={};return Ec(e.fields,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new EE(kn(e.latitude),kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=L3(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ih(e));default:return null}}convertTimestamp(e){const n=xa(e);return new Cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=sn.fromString(e);Pt(hF(r));const s=new tc(r.get(1),r.get(3)),o=new st(r.popFirst(5));return s.isEqual(n)||Mr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g4 extends h4{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(p4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hg extends g4{data(e={}){return super.data(e)}}class dxe{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new of(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hg(this._firestore,this._userDataWriter,r.key,r,new of(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(i=>({type:"added",doc:new hg(r._firestore,r._userDataWriter,i.doc.key,i.doc,new of(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(i=>s||i.type!==3).map(i=>{const a=new hg(r._firestore,r._userDataWriter,i.doc.key,i.doc,new of(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return i.type!==0&&(l=o.indexOf(i.doc.key),o=o.delete(i.doc.key)),i.type!==1&&(o=o.add(i.doc),c=o.indexOf(i.doc.key)),{type:fxe(i.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fxe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){t=qs(t,Qr);const e=qs(t.firestore,Ua);return Y_e(Zy(e),t._key).then(n=>gxe(e,t,n))}class v4 extends uxe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,n)}}function hxe(t){t=qs(t,Qy);const e=qs(t.firestore,Ua),n=Zy(e),r=new v4(e);return cxe(t._query),X_e(n,t._query).then(s=>new dxe(e,r,t,s))}function pxe(t,e,n){t=qs(t,Qr);const r=qs(t.firestore,Ua),s=m4(t.converter,e,n);return rb(r,[c4(_E(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,br.none())])}function S0(t,e,n,...r){t=qs(t,Qr);const s=qs(t.firestore,Ua),o=_E(s);let i;return i=typeof(e=Es(e))=="string"||e instanceof eb?ixe(o,"updateDoc",t._key,e,n,r):oxe(o,"updateDoc",t._key,e),rb(s,[i.toMutation(t._key,br.exists(!0))])}function mxe(t){return rb(qs(t.firestore,Ua),[new Uy(t._key,br.none())])}function qd(t,e){const n=qs(t.firestore,Ua),r=Wi(t),s=m4(t.converter,e);return rb(n,[c4(_E(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}function rb(t,e){return function(n,r){const s=new ao;return n.asyncQueue.enqueueAndForget(async()=>D_e(await G_e(n),r,s)),s.promise}(Zy(t),e)}function gxe(t,e,n){const r=n.docs.get(e._key),s=new v4(t);return new g4(t,s,e._key,r,new of(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Cd=n})(aB),Ql(new _a("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),i=new Ua(new Zke(n.getProvider("auth-internal")),new rEe(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ft(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(a.options.projectId,l)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),ui(FM,"3.6.0",t),ui(FM,"3.6.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebasestorage.googleapis.com",b4="storageBucket",vxe=2*60*1e3,yxe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends Cc{constructor(e,n){super(k0(e),`Firebase Storage: ${n} (${k0(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}_codeEquals(e){return k0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function k0(t){return"storage/"+t}function ME(){const t="An unknown error occurred, please check the error payload for server response.";return new _n("unknown",t)}function bxe(t){return new _n("object-not-found","Object '"+t+"' does not exist.")}function wxe(t){return new _n("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cxe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n("unauthenticated",t)}function Sxe(){return new _n("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function kxe(t){return new _n("unauthorized","User does not have permission to access '"+t+"'.")}function Exe(){return new _n("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function w4(){return new _n("canceled","User canceled the upload/download.")}function Txe(t){return new _n("invalid-url","Invalid URL '"+t+"'.")}function _xe(t){return new _n("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function xxe(){return new _n("no-default-bucket","No default bucket found. Did you set the '"+b4+"' property when initializing the app?")}function C4(){return new _n("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ixe(){return new _n("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Mxe(){return new _n("no-download-url","The given file does not have any download URLs.")}function Z1(t){return new _n("invalid-argument",t)}function S4(){return new _n("app-deleted","The Firebase app was deleted.")}function Axe(t){return new _n("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nf(t,e){return new _n("invalid-format","String does not match format '"+t+"': "+e)}function Gd(t){throw new _n("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gs.makeFromUrl(e,n)}catch{return new gs(e,"")}if(r.path==="")return r;throw _xe(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),l={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},g=n===y4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${g}/${s}/${v}`,"i"),b=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<b.length;w++){const S=b[w],k=S.regex.exec(e);if(k){const A=k[S.indices.bucket];let x=k[S.indices.path];x||(x=""),r=new gs(A,x),S.postModify(r);break}}if(r==null)throw Txe(e);return r}}class Oxe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nxe(t,e,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){s=setTimeout(()=>{s=null,t(p,l())},v)}function f(){o&&clearTimeout(o)}function p(v,...y){if(c){f();return}if(v){f(),u.call(null,v,...y);return}if(l()||i){f(),u.call(null,v,...y);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let m=!1;function g(v){m||(m=!0,f(),!c&&(s!==null?(v||(a=2),clearTimeout(s),d(0)):v||(a=1)))}return d(0),o=setTimeout(()=>{i=!0,g(!0)},n),g}function $xe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rxe(t){return t!==void 0}function Dxe(t){return typeof t=="function"}function Pxe(t){return typeof t=="object"&&!Array.isArray(t)}function sb(t){return typeof t=="string"||t instanceof String}function LA(t){return AE()&&t instanceof Blob}function AE(){return typeof Blob<"u"}function BA(t,e,n,r){if(r<e)throw Z1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Z1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function k4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dl||(Dl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lxe{constructor(e,n,r,s,o,i,a,l,c,u,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new gm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===Dl.NO_ERROR,l=o.getStatus();if(!a||this.isRetryStatusCode_(l)){const u=o.getErrorCode()===Dl.ABORT;r(!1,new gm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new gm(c,o))})},n=(r,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Rxe(l)?o(l):o()}catch(l){i(l)}else if(a!==null){const l=ME();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(s.canceled){const l=this.appDelete_?S4():w4();i(l)}else{const l=Exe();i(l)}};this.canceled_?n(!1,new gm(!1,null,!0)):this.backoffId_=Nxe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$xe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||s||o}}class gm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Bxe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Fxe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Vxe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zxe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Hxe(t,e,n,r,s,o){const i=k4(t.urlParams),a=t.url+i,l=Object.assign({},t.headers);return Vxe(l,e),Bxe(l,n),Fxe(l,o),zxe(l,r),new Lxe(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kxe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Uxe(...t){const e=Kxe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(AE())return new Blob(t);throw new _n("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function jxe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wxe(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class E0{constructor(e,n){this.data=e,this.contentType=n||null}}function qxe(t,e){switch(t){case Ro.RAW:return new E0(E4(e));case Ro.BASE64:case Ro.BASE64URL:return new E0(T4(t,e));case Ro.DATA_URL:return new E0(Yxe(e),Xxe(e))}throw ME()}function E4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,i=t.charCodeAt(++n);r=65536|(o&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Gxe(t){let e;try{e=decodeURIComponent(t)}catch{throw Nf(Ro.DATA_URL,"Malformed data URL.")}return E4(e)}function T4(t,e){switch(t){case Ro.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Nf(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ro.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Nf(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Wxe(e)}catch{throw Nf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class _4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nf(Ro.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Jxe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Yxe(t){const e=new _4(t);return e.base64?T4(Ro.BASE64,e.rest):Gxe(e.rest)}function Xxe(t){return new _4(t).contentType}function Jxe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){let r=0,s="";LA(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(LA(this.data_)){const r=this.data_,s=jxe(r,e,n);return s===null?null:new Zi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zi(r,!0)}}static getBlob(...e){if(AE()){const n=e.map(r=>r instanceof Zi?r.data_:r);return new Zi(Uxe.apply(null,n))}else{const n=e.map(i=>sb(i)?qxe(Ro.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)s[o++]=i[a]}),new Zi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){let e;try{e=JSON.parse(t)}catch{return null}return Pxe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qxe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Zxe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function I4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eIe(t,e){return e}class _r{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||eIe}}let vm=null;function tIe(t){return!sb(t)||t.length<2?t:I4(t)}function M4(){if(vm)return vm;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(o,i){return tIe(i)}const n=new _r("name");n.xform=e,t.push(n);function r(o,i){return i!==void 0?Number(i):i}const s=new _r("size");return s.xform=r,t.push(s),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),vm=t,vm}function nIe(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new gs(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function rIe(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const i=n[o];r[i.local]=i.xform(r,e[i.server])}return nIe(r,t),r}function A4(t,e,n){const r=x4(e);return r===null?null:rIe(t,r,n)}function sIe(t,e,n,r){const s=x4(e);if(s===null||!sb(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+i(u)+"/o/"+i(d),p=Ip(f,n,r),m=k4({alt:"media",token:c});return p+m})[0]}function O4(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Ed{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){if(!t)throw ME()}function OE(t,e){function n(r,s){const o=A4(t,s,e);return di(o!==null),o}return n}function oIe(t,e){function n(r,s){const o=A4(t,s,e);return di(o!==null),sIe(o,s,t.host,t._protocol)}return n}function Mp(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Sxe():s=Cxe():n.getStatus()===402?s=wxe(t.bucket):n.getStatus()===403?s=kxe(t.path):s=r,s.serverResponse=r.serverResponse,s}return e}function N4(t){const e=Mp(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=bxe(t.path)),o.serverResponse=s.serverResponse,o}return n}function iIe(t,e,n){const r=e.fullServerUrl(),s=Ip(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new Ed(s,o,OE(t,n),i);return a.errorHandler=N4(e),a}function aIe(t,e,n){const r=e.fullServerUrl(),s=Ip(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new Ed(s,o,oIe(t,n),i);return a.errorHandler=N4(e),a}function lIe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lIe(null,e)),r}function cIe(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let w=0;w<2;w++)b=b+Math.random().toString().slice(2);return b}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const c=$4(e,r,s),u=O4(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Zi.getBlob(d,r,f);if(p===null)throw C4();const m={name:c.fullPath},g=Ip(o,t.host,t._protocol),v="POST",y=t.maxUploadRetryTime,C=new Ed(g,v,OE(t,n),y);return C.urlParams=m,C.headers=i,C.body=p.uploadData(),C.errorHandler=Mp(e),C}class fv{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function NE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{di(!1)}return di(!!n&&(e||["active"]).indexOf(n)!==-1),n}function uIe(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i=$4(e,r,s),a={name:i.fullPath},l=Ip(o,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},d=O4(i,n),f=t.maxUploadRetryTime;function p(g){NE(g);let v;try{v=g.getResponseHeader("X-Goog-Upload-URL")}catch{di(!1)}return di(sb(v)),v}const m=new Ed(l,c,p,f);return m.urlParams=a,m.headers=u,m.body=d,m.errorHandler=Mp(e),m}function dIe(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function o(c){const u=NE(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{di(!1)}d||di(!1);const f=Number(d);return di(!isNaN(f)),new fv(f,r.size(),u==="final")}const i="POST",a=t.maxUploadRetryTime,l=new Ed(n,i,o,a);return l.headers=s,l.errorHandler=Mp(e),l}const FA=256*1024;function fIe(t,e,n,r,s,o,i,a){const l=new fv(0,0);if(i?(l.current=i.current,l.total=i.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Ixe();const c=l.total-l.current;let u=c;s>0&&(u=Math.min(u,s));const d=l.current,f=d+u,m={"X-Goog-Upload-Command":u===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,f);if(g===null)throw C4();function v(w,S){const k=NE(w,["active","final"]),A=l.current+u,x=r.size();let N;return k==="final"?N=OE(e,o)(w,S):N=null,new fv(A,x,k==="final",N)}const y="POST",C=e.maxUploadRetryTime,b=new Ed(n,y,v,C);return b.headers=m,b.body=g.uploadData(),b.progressCallback=a||null,b.errorHandler=Mp(t),b}const Wr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function T0(t){switch(t){case"running":case"pausing":case"canceling":return Wr.RUNNING;case"paused":return Wr.PAUSED;case"success":return Wr.SUCCESS;case"canceled":return Wr.CANCELED;case"error":return Wr.ERROR;default:return Wr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hIe{constructor(e,n,r){if(Dxe(e)||n!=null||r!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=r!=null?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class pIe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Gd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mIe extends pIe{initXhr(){this.xhr_.responseType="text"}}function Gc(){return new mIe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gIe{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=M4(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=uIe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Gc,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=dIe(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,Gc,n,r);this._request=o,o.getPromise().then(i=>{i=i,this._request=void 0,this._updateProgress(i.current),this._needToFetchStatus=!1,i.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=FA*this._chunkMultiplier,n=new fv(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,o)=>{let i;try{i=fIe(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(i,Gc,s,o);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){FA*this._chunkMultiplier<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=iIe(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Gc,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=cIe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Gc,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=w4(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=T0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const o=new hIe(n||void 0,r||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(T0(this._state)){case Wr.SUCCESS:Lc(this._resolve.bind(null,this.snapshot))();break;case Wr.CANCELED:case Wr.ERROR:const n=this._reject;Lc(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(T0(this._state)){case Wr.RUNNING:case Wr.PAUSED:e.next&&Lc(e.next.bind(e,this.snapshot))();break;case Wr.SUCCESS:e.complete&&Lc(e.complete.bind(e))();break;case Wr.CANCELED:case Wr.ERROR:e.error&&Lc(e.error.bind(e,this._error))();break;default:e.error&&Lc(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this._service=e,n instanceof gs?this._location=n:this._location=gs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ac(e,n)}get root(){const e=new gs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I4(this._location.path)}get storage(){return this._service}get parent(){const e=Qxe(this._location.path);if(e===null)return null;const n=new gs(this._location.bucket,e);return new ac(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Axe(e)}}function vIe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new gIe(t,new Zi(e),n)}function yIe(t){t._throwIfRoot("getDownloadURL");const e=aIe(t.storage,t._location,M4());return t.storage.makeRequestWithTokens(e,Gc).then(n=>{if(n===null)throw Mxe();return n})}function bIe(t,e){const n=Zxe(t._location.path,e),r=new gs(t._location.bucket,n);return new ac(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wIe(t){return/^[A-Za-z]+:\/\//.test(t)}function CIe(t,e){return new ac(t,e)}function R4(t,e){if(t instanceof $E){const n=t;if(n._bucket==null)throw xxe();const r=new ac(n,n._bucket);return e!=null?R4(r,e):r}else return e!==void 0?bIe(t,e):t}function SIe(t,e){if(e&&wIe(e)){if(t instanceof $E)return CIe(t,e);throw Z1("To use ref(service, url), the first argument must be a Storage instance.")}else return R4(t,e)}function VA(t,e){const n=e==null?void 0:e[b4];return n==null?null:gs.makeFromBucketSpec(n,t)}function kIe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:sB(s,t.app.options.projectId))}class $E{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=y4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vxe,this._maxUploadRetryTime=yxe,this._requests=new Set,s!=null?this._bucket=gs.makeFromBucketSpec(s,this._host):this._bucket=VA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gs.makeFromBucketSpec(this._url,e):this._bucket=VA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ac(this,e)}_makeRequest(e,n,r,s){if(this._deleted)return new Oxe(S4());{const o=Hxe(e,this._appId,r,s,n,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const zA="@firebase/storage",HA="0.9.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="storage";function EIe(t,e,n){return t=Es(t),vIe(t,e,n)}function TIe(t){return t=Es(t),yIe(t)}function _Ie(t,e){return t=Es(t),SIe(t,e)}function xIe(t=$k(),e){t=Es(t);const r=wy(t,D4).getImmediate({identifier:e}),s=rB("storage");if(s){const[o,i]=s.split(":");IIe(r,o,parseInt(i,10))}return r}function IIe(t,e,n,r={}){kIe(t,e,n,r)}function MIe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new $E(n,r,s,e,aB)}function AIe(){Ql(new _a(D4,MIe,"PUBLIC").setMultipleInstances(!0)),ui(zA,HA,""),ui(zA,HA,"esm2017")}AIe();function P4(t,e){return function(){return t.apply(e,arguments)}}const{toString:L4}=Object.prototype,{getPrototypeOf:RE}=Object,DE=(t=>e=>{const n=L4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ri=t=>(t=t.toLowerCase(),e=>DE(e)===t),ob=t=>e=>typeof e===t,{isArray:Ap}=Array,eC=ob("undefined");function OIe(t){return t!==null&&!eC(t)&&t.constructor!==null&&!eC(t.constructor)&&Td(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const B4=Ri("ArrayBuffer");function NIe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&B4(t.buffer),e}const $Ie=ob("string"),Td=ob("function"),F4=ob("number"),V4=t=>t!==null&&typeof t=="object",RIe=t=>t===!0||t===!1,pg=t=>{if(DE(t)!=="object")return!1;const e=RE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},DIe=Ri("Date"),PIe=Ri("File"),LIe=Ri("Blob"),BIe=Ri("FileList"),FIe=t=>V4(t)&&Td(t.pipe),VIe=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||L4.call(t)===e||Td(t.toString)&&t.toString()===e)},zIe=Ri("URLSearchParams"),HIe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ib(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ap(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function tC(){const t={},e=(n,r)=>{pg(t[r])&&pg(n)?t[r]=tC(t[r],n):pg(n)?t[r]=tC({},n):Ap(n)?t[r]=n.slice():t[r]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&ib(arguments[n],e);return t}const KIe=(t,e,n,{allOwnKeys:r}={})=>(ib(e,(s,o)=>{n&&Td(s)?t[o]=P4(s,n):t[o]=s},{allOwnKeys:r}),t),UIe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jIe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},WIe=(t,e,n,r)=>{let s,o,i;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&RE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},qIe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},GIe=t=>{if(!t)return null;if(Ap(t))return t;let e=t.length;if(!F4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},YIe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&RE(Uint8Array)),XIe=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},JIe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},QIe=Ri("HTMLFormElement"),ZIe=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),KA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),eMe=Ri("RegExp"),z4=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ib(n,(s,o)=>{e(s,o,t)!==!1&&(r[o]=s)}),Object.defineProperties(t,r)},tMe=t=>{z4(t,(e,n)=>{const r=t[n];if(!!Td(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},nMe=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Ap(t)?r(t):r(String(t).split(e)),n},rMe=()=>{},sMe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Ve={isArray:Ap,isArrayBuffer:B4,isBuffer:OIe,isFormData:VIe,isArrayBufferView:NIe,isString:$Ie,isNumber:F4,isBoolean:RIe,isObject:V4,isPlainObject:pg,isUndefined:eC,isDate:DIe,isFile:PIe,isBlob:LIe,isRegExp:eMe,isFunction:Td,isStream:FIe,isURLSearchParams:zIe,isTypedArray:YIe,isFileList:BIe,forEach:ib,merge:tC,extend:KIe,trim:HIe,stripBOM:UIe,inherits:jIe,toFlatObject:WIe,kindOf:DE,kindOfTest:Ri,endsWith:qIe,toArray:GIe,forEachEntry:XIe,matchAll:JIe,isHTMLForm:QIe,hasOwnProperty:KA,hasOwnProp:KA,reduceDescriptors:z4,freezeMethods:tMe,toObjectSet:nMe,toCamelCase:ZIe,noop:rMe,toFiniteNumber:sMe};function Qt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}Ve.inherits(Qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const H4=Qt.prototype,K4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{K4[t]={value:t}});Object.defineProperties(Qt,K4);Object.defineProperty(H4,"isAxiosError",{value:!0});Qt.from=(t,e,n,r,s,o)=>{const i=Object.create(H4);return Ve.toFlatObject(t,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Qt.call(i,t.message,e,n,r,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};var oMe=typeof self=="object"?self.FormData:window.FormData;function nC(t){return Ve.isPlainObject(t)||Ve.isArray(t)}function U4(t){return Ve.endsWith(t,"[]")?t.slice(0,-2):t}function UA(t,e,n){return t?t.concat(e).map(function(s,o){return s=U4(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function iMe(t){return Ve.isArray(t)&&!t.some(nC)}const aMe=Ve.toFlatObject(Ve,{},null,function(e){return/^is[A-Z]/.test(e)});function lMe(t){return t&&Ve.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function ab(t,e,n){if(!Ve.isObject(t))throw new TypeError("target must be an object");e=e||new(oMe||FormData),n=Ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!Ve.isUndefined(v[g])});const r=n.metaTokens,s=n.visitor||u,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&lMe(e);if(!Ve.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Ve.isDate(m))return m.toISOString();if(!l&&Ve.isBlob(m))throw new Qt("Blob is not supported. Use a Buffer instead.");return Ve.isArrayBuffer(m)||Ve.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,v){let y=m;if(m&&!v&&typeof m=="object"){if(Ve.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(Ve.isArray(m)&&iMe(m)||Ve.isFileList(m)||Ve.endsWith(g,"[]")&&(y=Ve.toArray(m)))return g=U4(g),y.forEach(function(b,w){!Ve.isUndefined(b)&&e.append(i===!0?UA([g],w,o):i===null?g:g+"[]",c(b))}),!1}return nC(m)?!0:(e.append(UA(v,g,o),c(m)),!1)}const d=[],f=Object.assign(aMe,{defaultVisitor:u,convertValue:c,isVisitable:nC});function p(m,g){if(!Ve.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),Ve.forEach(m,function(y,C){(!Ve.isUndefined(y)&&s.call(e,y,Ve.isString(C)?C.trim():C,g,f))===!0&&p(y,g?g.concat(C):[C])}),d.pop()}}if(!Ve.isObject(t))throw new TypeError("data must be an object");return p(t),e}function jA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function PE(t,e){this._pairs=[],t&&ab(t,this,e)}const j4=PE.prototype;j4.append=function(e,n){this._pairs.push([e,n])};j4.toString=function(e){const n=e?function(r){return e.call(this,r,jA)}:jA;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function cMe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function W4(t,e,n){if(!e)return t;const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r));const s=n&&n.encode||cMe,o=Ve.isURLSearchParams(e)?e.toString():new PE(e,n).toString(s);return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}class WA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ve.forEach(this.handlers,function(r){r!==null&&e(r)})}}const q4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uMe=typeof URLSearchParams<"u"?URLSearchParams:PE,dMe=FormData,fMe=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),fi={isBrowser:!0,classes:{URLSearchParams:uMe,FormData:dMe,Blob},isStandardBrowserEnv:fMe,protocols:["http","https","file","blob","url","data"]};function hMe(t,e){return ab(t,new fi.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return fi.isNode&&Ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function pMe(t){return Ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mMe(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function G4(t){function e(n,r,s,o){let i=n[o++];const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&Ve.isArray(s)?s.length:i,l?(Ve.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!Ve.isObject(s[i]))&&(s[i]=[]),e(n,r,s[i],o)&&Ve.isArray(s[i])&&(s[i]=mMe(s[i])),!a)}if(Ve.isFormData(t)&&Ve.isFunction(t.entries)){const n={};return Ve.forEachEntry(t,(r,s)=>{e(pMe(r),s,n,0)}),n}return null}function gMe(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Qt("Request failed with status code "+n.status,[Qt.ERR_BAD_REQUEST,Qt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const vMe=fi.isStandardBrowserEnv?function(){return{write:function(n,r,s,o,i,a){const l=[];l.push(n+"="+encodeURIComponent(r)),Ve.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),Ve.isString(o)&&l.push("path="+o),Ve.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function yMe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function bMe(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Y4(t,e){return t&&!yMe(e)?bMe(t,e):e}const wMe=fi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(o){let i=o;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(i){const a=Ve.isString(i)?s(i):i;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Op(t,e,n){Qt.call(this,t==null?"canceled":t,Qt.ERR_CANCELED,e,n),this.name="CanceledError"}Ve.inherits(Op,Qt,{__CANCEL__:!0});function CMe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}const SMe=Ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kMe=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||e[n]&&SMe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},qA=Symbol("internals"),X4=Symbol("defaults");function af(t){return t&&String(t).trim().toLowerCase()}function ym(t){return t===!1||t==null?t:String(t)}function EMe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function GA(t,e,n,r){if(Ve.isFunction(r))return r.call(this,e,n);if(!!Ve.isString(e)){if(Ve.isString(r))return e.indexOf(r)!==-1;if(Ve.isRegExp(r))return r.test(e)}}function TMe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function _Me(t,e){const n=Ve.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,i){return this[r].call(this,e,s,o,i)},configurable:!0})})}function Yd(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}function Fs(t,e){t&&this.set(t),this[X4]=e||null}Object.assign(Fs.prototype,{set:function(t,e,n){const r=this;function s(o,i,a){const l=af(i);if(!l)throw new Error("header name must be a non-empty string");const c=Yd(r,l);c&&a!==!0&&(r[c]===!1||a===!1)||(Ve.isArray(o)?o=o.map(ym):o=ym(o),r[c||i]=o)}return Ve.isPlainObject(t)?Ve.forEach(t,(o,i)=>{s(o,i,e)}):s(e,t,n),this},get:function(t,e){if(t=af(t),!t)return;const n=Yd(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return EMe(r);if(Ve.isFunction(e))return e.call(this,r,n);if(Ve.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}},has:function(t,e){if(t=af(t),t){const n=Yd(this,t);return!!(n&&(!e||GA(this,this[n],n,e)))}return!1},delete:function(t,e){const n=this;let r=!1;function s(o){if(o=af(o),o){const i=Yd(n,o);i&&(!e||GA(n,n[i],i,e))&&(delete n[i],r=!0)}}return Ve.isArray(t)?t.forEach(s):s(t),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(t){const e=this,n={};return Ve.forEach(this,(r,s)=>{const o=Yd(n,s);if(o){e[o]=ym(r),delete e[s];return}const i=t?TMe(s):String(s).trim();i!==s&&delete e[s],e[i]=ym(r),n[i]=!0}),this},toJSON:function(){const t=Object.create(null);return Ve.forEach(Object.assign({},this[X4]||null,this),(e,n)=>{e==null||e===!1||(t[n]=Ve.isArray(e)?e.join(", "):e)}),t}});Object.assign(Fs,{from:function(t){return Ve.isString(t)?new this(kMe(t)):t instanceof this?t:new this(t)},accessor:function(t){const n=(this[qA]=this[qA]={accessors:{}}).accessors,r=this.prototype;function s(o){const i=af(o);n[i]||(_Me(r,o),n[i]=!0)}return Ve.isArray(t)?t.forEach(s):s(t),this}});Fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Ve.freezeMethods(Fs.prototype);Ve.freezeMethods(Fs);function xMe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];i||(i=c),n[s]=l,r[s]=c;let d=o,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),c-i<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function YA(t,e){let n=0;const r=xMe(50,250);return s=>{const o=s.loaded,i=s.lengthComputable?s.total:void 0,a=o-n,l=r(a),c=o<=i;n=o;const u={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&c?(i-o)/l:void 0};u[e?"download":"upload"]=!0,t(u)}}function XA(t){return new Promise(function(n,r){let s=t.data;const o=Fs.from(t.headers).normalize(),i=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}Ve.isFormData(s)&&fi.isStandardBrowserEnv&&o.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(p+":"+m))}const u=Y4(t.baseURL,t.url);c.open(t.method.toUpperCase(),W4(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const p=Fs.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!i||i==="text"||i==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};gMe(function(y){n(y),l()},function(y){r(y),l()},g),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){!c||(r(new Qt("Request aborted",Qt.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Qt("Network Error",Qt.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||q4;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Qt(m,g.clarifyTimeoutError?Qt.ETIMEDOUT:Qt.ECONNABORTED,t,c)),c=null},fi.isStandardBrowserEnv){const p=(t.withCredentials||wMe(u))&&t.xsrfCookieName&&vMe.read(t.xsrfCookieName);p&&o.set(t.xsrfHeaderName,p)}s===void 0&&o.setContentType(null),"setRequestHeader"in c&&Ve.forEach(o.toJSON(),function(m,g){c.setRequestHeader(g,m)}),Ve.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),i&&i!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",YA(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",YA(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{!c||(r(!p||p.type?new Op(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=CMe(u);if(f&&fi.protocols.indexOf(f)===-1){r(new Qt("Unsupported protocol "+f+":",Qt.ERR_BAD_REQUEST,t));return}c.send(s||null)})}const JA={http:XA,xhr:XA},QA={getAdapter:t=>{if(Ve.isString(t)){const e=JA[t];if(!t)throw Error(Ve.hasOwnProp(t)?`Adapter '${t}' is not available in the build`:`Can not resolve adapter '${t}'`);return e}if(!Ve.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:JA},IMe={"Content-Type":"application/x-www-form-urlencoded"};function MMe(){let t;return typeof XMLHttpRequest<"u"?t=QA.getAdapter("xhr"):typeof process<"u"&&Ve.kindOf(process)==="process"&&(t=QA.getAdapter("http")),t}function AMe(t,e,n){if(Ve.isString(t))try{return(e||JSON.parse)(t),Ve.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const _d={transitional:q4,adapter:MMe(),transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=Ve.isObject(e);if(o&&Ve.isHTMLForm(e)&&(e=new FormData(e)),Ve.isFormData(e))return s&&s?JSON.stringify(G4(e)):e;if(Ve.isArrayBuffer(e)||Ve.isBuffer(e)||Ve.isStream(e)||Ve.isFile(e)||Ve.isBlob(e))return e;if(Ve.isArrayBufferView(e))return e.buffer;if(Ve.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hMe(e,this.formSerializer).toString();if((a=Ve.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ab(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),AMe(e)):e}],transformResponse:[function(e){const n=this.transitional||_d.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&Ve.isString(e)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Qt.from(a,Qt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fi.classes.FormData,Blob:fi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ve.forEach(["delete","get","head"],function(e){_d.headers[e]={}});Ve.forEach(["post","put","patch"],function(e){_d.headers[e]=Ve.merge(IMe)});function _0(t,e){const n=this||_d,r=e||n,s=Fs.from(r.headers);let o=r.data;return Ve.forEach(t,function(a){o=a.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function J4(t){return!!(t&&t.__CANCEL__)}function x0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Op}function ZA(t){return x0(t),t.headers=Fs.from(t.headers),t.data=_0.call(t,t.transformRequest),(t.adapter||_d.adapter)(t).then(function(r){return x0(t),r.data=_0.call(t,t.transformResponse,r),r.headers=Fs.from(r.headers),r},function(r){return J4(r)||(x0(t),r&&r.response&&(r.response.data=_0.call(t,t.transformResponse,r.response),r.response.headers=Fs.from(r.response.headers))),Promise.reject(r)})}function Ph(t,e){e=e||{};const n={};function r(c,u){return Ve.isPlainObject(c)&&Ve.isPlainObject(u)?Ve.merge(c,u):Ve.isPlainObject(u)?Ve.merge({},u):Ve.isArray(u)?u.slice():u}function s(c){if(Ve.isUndefined(e[c])){if(!Ve.isUndefined(t[c]))return r(void 0,t[c])}else return r(t[c],e[c])}function o(c){if(!Ve.isUndefined(e[c]))return r(void 0,e[c])}function i(c){if(Ve.isUndefined(e[c])){if(!Ve.isUndefined(t[c]))return r(void 0,t[c])}else return r(void 0,e[c])}function a(c){if(c in e)return r(t[c],e[c]);if(c in t)return r(void 0,t[c])}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a};return Ve.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const d=l[u]||s,f=d(u);Ve.isUndefined(f)&&d!==a||(n[u]=f)}),n}const Q4="1.1.2",LE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{LE[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const eO={};LE.transitional=function(e,n,r){function s(o,i){return"[Axios v"+Q4+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(e===!1)throw new Qt(s(i," has been removed"+(n?" in "+n:"")),Qt.ERR_DEPRECATED);return n&&!eO[i]&&(eO[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};function OMe(t,e,n){if(typeof t!="object")throw new Qt("options must be an object",Qt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],i=e[o];if(i){const a=t[o],l=a===void 0||i(a,o,t);if(l!==!0)throw new Qt("option "+o+" must be "+l,Qt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qt("Unknown option "+o,Qt.ERR_BAD_OPTION)}}const Z4={assertOptions:OMe,validators:LE},Bc=Z4.validators;class Pl{constructor(e){this.defaults=e,this.interceptors={request:new WA,response:new WA}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ph(this.defaults,n);const r=n.transitional;r!==void 0&&Z4.assertOptions(r,{silentJSONParsing:Bc.transitional(Bc.boolean),forcedJSONParsing:Bc.transitional(Bc.boolean),clarifyTimeoutError:Bc.transitional(Bc.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const s=n.headers&&Ve.merge(n.headers.common,n.headers[n.method]);s&&Ve.forEach(["delete","get","head","post","put","patch","common"],function(p){delete n.headers[p]}),n.headers=new Fs(n.headers,s);const o=[];let i=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(i=i&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const a=[];this.interceptors.response.forEach(function(p){a.push(p.fulfilled,p.rejected)});let l,c=0,u;if(!i){const f=[ZA.bind(this),void 0];for(f.unshift.apply(f,o),f.push.apply(f,a),u=f.length,l=Promise.resolve(n);c<u;)l=l.then(f[c++],f[c++]);return l}u=o.length;let d=n;for(c=0;c<u;){const f=o[c++],p=o[c++];try{d=f(d)}catch(m){p.call(this,m);break}}try{l=ZA.call(this,d)}catch(f){return Promise.reject(f)}for(c=0,u=a.length;c<u;)l=l.then(a[c++],a[c++]);return l}getUri(e){e=Ph(this.defaults,e);const n=Y4(e.baseURL,e.url);return W4(n,e.params,e.paramsSerializer)}}Ve.forEach(["delete","get","head","options"],function(e){Pl.prototype[e]=function(n,r){return this.request(Ph(r||{},{method:e,url:n,data:(r||{}).data}))}});Ve.forEach(["post","put","patch"],function(e){function n(r){return function(o,i,a){return this.request(Ph(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Pl.prototype[e]=n(),Pl.prototype[e+"Form"]=n(!0)});class BE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,a){r.reason||(r.reason=new Op(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new BE(function(s){e=s}),cancel:e}}}function NMe(t){return function(n){return t.apply(null,n)}}function $Me(t){return Ve.isObject(t)&&t.isAxiosError===!0}function eV(t){const e=new Pl(t),n=P4(Pl.prototype.request,e);return Ve.extend(n,Pl.prototype,e,{allOwnKeys:!0}),Ve.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return eV(Ph(t,s))},n}const rs=eV(_d);rs.Axios=Pl;rs.CanceledError=Op;rs.CancelToken=BE;rs.isCancel=J4;rs.VERSION=Q4;rs.toFormData=ab;rs.AxiosError=Qt;rs.Cancel=rs.CanceledError;rs.all=function(e){return Promise.all(e)};rs.spread=NMe;rs.isAxiosError=$Me;rs.formToJSON=t=>G4(Ve.isHTMLForm(t)?new FormData(t):t);function tr(t){this.content=t}tr.prototype={constructor:tr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),o=r.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new tr(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new tr(n)},addToStart:function(t,e){return new tr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new tr(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),o=r.find(t);return s.splice(o==-1?s.length:o,0,e,n),new tr(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=tr.from(t),t.size?new tr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=tr.from(t),t.size?new tr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=tr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};tr.from=function(t){if(t instanceof tr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new tr(e)};function tV(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),o=e.child(r);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let i=0;s.text[i]==o.text[i];i++)n++;return n}if(s.content.size||o.content.size){let i=tV(s.content,o.content,n+1);if(i!=null)return i}n+=s.nodeSize}}function nV(t,e,n,r){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:r};let i=t.child(--s),a=e.child(--o),l=i.nodeSize;if(i==a){n-=l,r-=l;continue}if(!i.sameMarkup(a))return{a:n,b:r};if(i.isText&&i.text!=a.text){let c=0,u=Math.min(i.text.length,a.text.length);for(;c<u&&i.text[i.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(i.content.size||a.content.size){let c=nV(i.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class qe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,o){for(let i=0,a=0;a<n;i++){let l=this.content[i],c=a+l.nodeSize;if(c>e&&r(l,s+a,o||null,i)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let o="",i=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,n-l),i=!r):a.isLeaf?(s?o+=typeof s=="function"?s(a):s:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),i=!r):!i&&a.isBlock&&(o+=r,i=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new qe(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let o=0,i=0;i<n;o++){let a=this.content[o],l=i+a.nodeSize;l>e&&((i<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-i),Math.min(a.text.length,n-i)):a=a.cut(Math.max(0,e-i-1),Math.min(a.content.size,n-i-1))),r.push(a),s+=a.nodeSize),i=l}return new qe(r,s)}cutByIndex(e,n){return e==n?qe.empty:e==0&&n==this.content.length?this:new qe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new qe(s,o)}addToStart(e){return new qe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new qe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return tV(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return nV(this,e,n,r)}findIndex(e,n=-1){if(e==0)return bm(0,e);if(e==this.size)return bm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let o=this.child(r),i=s+o.nodeSize;if(i>=e)return i==e||n>0?bm(r+1,i):bm(r,s);s=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return qe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new qe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return qe.empty;let n,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new qe(n||e,r)}static from(e){if(!e)return qe.empty;if(e instanceof qe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new qe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}qe.empty=new qe([],0);const I0={index:0,offset:0};function bm(t,e){return I0.index=t,I0.offset=e,I0}function hv(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!hv(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!hv(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class nn{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hv(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return nn.none;if(e instanceof nn)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}}nn.none=[];class Lh extends Error{}class nt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=sV(this.content,e+this.openStart,n);return r&&new nt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new nt(rV(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return nt.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new nt(qe.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new nt(e,r,s)}}nt.empty=new nt(qe.empty,0,0);function rV(t,e,n){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r),{index:i,offset:a}=t.findIndex(n);if(s==e||o.isText){if(a!=n&&!t.child(i).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=i)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(rV(o.content,e-s-1,n-s-1)))}function sV(t,e,n,r){let{index:s,offset:o}=t.findIndex(e),i=t.maybeChild(s);if(o==e||i.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=sV(i.content,e-o-1,n);return a&&t.replaceChild(s,i.copy(a))}function RMe(t,e,n){if(n.openStart>t.depth)throw new Lh("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Lh("Inconsistent open depths");return oV(t,e,n,0)}function oV(t,e,n,r){let s=t.index(r),o=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let i=oV(t,e,n,r+1);return o.copy(o.content.replaceChild(s,i))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let i=t.parent,a=i.content;return Bl(i,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:i,end:a}=DMe(n,t);return Bl(o,aV(t,i,a,e,r))}else return Bl(o,pv(t,e,r))}function iV(t,e){if(!e.type.compatibleContent(t.type))throw new Lh("Cannot join "+e.type.name+" onto "+t.type.name)}function rC(t,e,n){let r=t.node(n);return iV(r,e.node(n)),r}function Ll(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function $f(t,e,n,r){let s=(e||t).node(n),o=0,i=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Ll(t.nodeAfter,r),o++));for(let a=o;a<i;a++)Ll(s.child(a),r);e&&e.depth==n&&e.textOffset&&Ll(e.nodeBefore,r)}function Bl(t,e){if(!t.type.validContent(e))throw new Lh("Invalid content for node "+t.type.name);return t.copy(e)}function aV(t,e,n,r,s){let o=t.depth>s&&rC(t,e,s+1),i=r.depth>s&&rC(n,r,s+1),a=[];return $f(null,t,s,a),o&&i&&e.index(s)==n.index(s)?(iV(o,i),Ll(Bl(o,aV(t,e,n,r,s+1)),a)):(o&&Ll(Bl(o,pv(t,e,s+1)),a),$f(e,n,s,a),i&&Ll(Bl(i,pv(n,r,s+1)),a)),$f(r,null,s,a),new qe(a)}function pv(t,e,n){let r=[];if($f(null,t,n,r),t.depth>n){let s=rC(t,e,n+1);Ll(Bl(s,pv(t,e,n+1)),r)}return $f(e,null,n,r),new qe(r)}function DMe(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(qe.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Bh{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return nn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let a=r;r=s,s=a}let o=r.marks;for(var i=0;i<o.length;i++)o[i].type.spec.inclusive===!1&&(!s||!o[i].isInSet(s.marks))&&(o=o[i--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new mv(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,o=n;for(let i=e;;){let{index:a,offset:l}=i.content.findIndex(o),c=o-l;if(r.push(i,a,s+l),!c||(i=i.child(a),i.isText))break;o=c-1,s+=l+1}return new Bh(n,r,o)}static resolveCached(e,n){for(let s=0;s<M0.length;s++){let o=M0[s];if(o.pos==n&&o.doc==e)return o}let r=M0[A0]=Bh.resolve(e,n);return A0=(A0+1)%PMe,r}}let M0=[],A0=0,PMe=12;class mv{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const LMe=Object.create(null);class Vo{constructor(e,n,r,s=nn.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||qe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&hv(this.attrs,n||e.defaultAttrs||LMe)&&nn.sameSet(this.marks,r||nn.none)}copy(e=null){return e==this.content?this:new Vo(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Vo(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return nt.empty;let s=this.resolve(e),o=this.resolve(n),i=r?0:s.sharedDepth(n),a=s.start(i),c=s.node(i).content.cut(s.pos-a,o.pos-a);return new nt(c,s.depth-i,o.depth-i)}replace(e,n,r){return RMe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Bh.resolveCached(this,e)}resolveNoCache(e){return Bh.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),lV(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=qe.empty,s=0,o=r.childCount){let i=this.contentMatchAt(e).matchFragment(r,s,o),a=i&&i.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),i=o&&o.matchFragment(this.content,n);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=nn.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!nn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=qe.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,s,r)}}Vo.prototype.text=void 0;class gv extends Vo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):lV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new gv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new gv(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function lV(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class lc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new BMe(e,n);if(r.next==null)return lc.empty;let s=cV(r);r.next&&r.err("Unexpected trailing text");let o=jMe(UMe(s));return WMe(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let o=n;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function o(i,a){let l=i.matchFragment(e,r);if(l&&(!n||l.validEnd))return qe.from(a.map(c=>c.createAndFill()));for(let c=0;c<i.next.length;c++){let{type:u,next:d}=i.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let i=[];for(let a=s;a.type;a=a.via)i.push(a.type);return i.reverse()}for(let i=0;i<o.next.length;i++){let{type:a,next:l}=o.next[i];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let i=0;i<r.next.length;i++)o+=(i?", ":"")+r.next[i].type.name+"->"+e.indexOf(r.next[i].next);return o}).join(`
`)}}lc.empty=new lc(!0);class BMe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function cV(t){let e=[];do e.push(FMe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function FMe(t){let e=[];do e.push(VMe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function VMe(t){let e=KMe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=zMe(t,e);else break;return e}function tO(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function zMe(t,e){let n=tO(t),r=n;return t.eat(",")&&(t.next!="}"?r=tO(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function HMe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let o in n){let i=n[o];i.groups.indexOf(e)>-1&&s.push(i)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function KMe(t){if(t.eat("(")){let e=cV(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=HMe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function UMe(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function r(i,a,l){let c={term:l,to:a};return e[i].push(c),c}function s(i,a){i.forEach(l=>l.to=a)}function o(i,a){if(i.type=="choice")return i.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(i.type=="seq")for(let l=0;;l++){let c=o(i.exprs[l],a);if(l==i.exprs.length-1)return c;s(c,a=n())}else if(i.type=="star"){let l=n();return r(a,l),s(o(i.expr,l),l),[r(l)]}else if(i.type=="plus"){let l=n();return s(o(i.expr,a),l),s(o(i.expr,l),l),[r(l)]}else{if(i.type=="opt")return[r(a)].concat(o(i.expr,a));if(i.type=="range"){let l=a;for(let c=0;c<i.min;c++){let u=n();s(o(i.expr,l),u),l=u}if(i.max==-1)s(o(i.expr,l),l);else for(let c=i.min;c<i.max;c++){let u=n();r(l,u),s(o(i.expr,l),u),l=u}return[r(l)]}else{if(i.type=="name")return[r(a,void 0,i.value)];throw new Error("Unknown expr type")}}}}function uV(t,e){return e-t}function nO(t,e){let n=[];return r(e),n.sort(uV);function r(s){let o=t[s];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(s);for(let i=0;i<o.length;i++){let{term:a,to:l}=o[i];!a&&n.indexOf(l)==-1&&r(l)}}}function jMe(t){let e=Object.create(null);return n(nO(t,0));function n(r){let s=[];r.forEach(i=>{t[i].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);nO(t,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new lc(r.indexOf(t.length-1)>-1);for(let i=0;i<s.length;i++){let a=s[i][1].sort(uV);o.next.push({type:s[i][0],next:e[a.join(",")]||n(a)})}return o}}function WMe(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],o=!s.validEnd,i=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];i.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function dV(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function fV(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let o=t[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function hV(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new qMe(t[n]);return e}class vv{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=hV(r.attrs),this.defaultAttrs=dV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==lc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:fV(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Vo(this,this.computeAttrs(e),qe.from(n),nn.setFrom(r))}createChecked(e=null,n,r){if(n=qe.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Vo(this,this.computeAttrs(e),n,nn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=qe.from(n),n.size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(qe.empty,!0);return o?new Vo(this,e,n.append(o),nn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:nn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,i)=>r[o]=new vv(o,n,i));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class qMe{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class lb{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=hV(s.attrs),this.excluded=null;let o=dV(this.attrs);this.instance=o?new nn(this,o):null}create(e=null){return!e&&this.instance?this.instance:new nn(this,fV(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((o,i)=>r[o]=new lb(o,s++,n,i)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class GMe{constructor(e){this.cached=Object.create(null),this.spec={nodes:tr.from(e.nodes),marks:tr.from(e.marks||{}),topNode:e.topNode},this.nodes=vv.compile(this.spec.nodes,this),this.marks=lb.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],o=s.spec.content||"",i=s.spec.marks;s.contentMatch=n[o]||(n[o]=lc.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=i=="_"?null:i?rO(this,i.split(" ")):i==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:rO(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof vv){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new gv(r,r.defaultAttrs,e,nn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Vo.fromJSON(this,e)}markFromJSON(e){return nn.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function rO(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],o=t.marks[s],i=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(i=l)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class ed{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new oO(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new oO(this,n,!0);return r.addAll(e,n.from,n.to),nt.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(JMe(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let i=o.getAttrs(e);if(i===!1)continue;o.attrs=i||void 0}return o}}}matchStyle(e,n,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let i=this.styles[o],a=i.style;if(!(a.indexOf(e)!=0||i.context&&!r.matchesContext(i.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(i.getAttrs){let l=i.getAttrs(n);if(l===!1)continue;i.attrs=l||void 0}return i}}}static schemaRules(e){let n=[];function r(s){let o=s.priority==null?50:s.priority,i=0;for(;i<n.length;i++){let a=n[i];if((a.priority==null?50:a.priority)<o)break}n.splice(i,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(i=>{r(i=iO(i)),i.mark=s})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(i=>{r(i=iO(i)),i.node=s})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ed(e,ed.schemaRules(e)))}}const pV={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},YMe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mV={ol:!0,ul:!0},yv=1,bv=2,Rf=4;function sO(t,e,n){return e!=null?(e?yv:0)|(e==="full"?bv:0):t&&t.whitespace=="pre"?yv|bv:n&~Rf}class wm{constructor(e,n,r,s,o,i,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=o,this.options=a,this.content=[],this.activeMarks=nn.none,this.stashMarks=[],this.match=i||(a&Rf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(qe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&yv)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=qe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(qe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):ZMe(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!pV.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class oO{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,o,i=sO(null,n.preserveWhitespace,0)|(r?Rf:0);s?o=new wm(s.type,s.attrs,nn.none,nn.none,!0,n.topMatch||s.type.contentMatch,i):r?o=new wm(null,null,nn.none,nn.none,!0,null,i):o=new wm(e.schema.topNodeType,null,nn.none,nn.none,!0,null,i),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),r=n?this.readStyles(QMe(n)):null,s=this.top;if(r!=null)for(let o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(e),r!=null)for(let o=0;o<r.length;o++)this.removePendingMark(r[o],s)}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&bv||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&yv)r.options&bv?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),s;mV.hasOwnProperty(r)&&this.parser.normalizeLists&&XMe(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(o?o.ignore:YMe.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let i,a=this.top,l=this.needsBlock;if(pV.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),i&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?s:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=nn.none;e:for(let r=0;r<e.length;r+=2)for(let s=void 0;;){let o=this.parser.matchStyle(e[r],e[r+1],this,s);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)s=o;else break}return n}addElementByRule(e,n,r){let s,o,i;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):s=this.enter(o,n.attrs||null,n.preserveWhitespace)):(i=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(i));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}s&&this.sync(a)&&this.open--,i&&this.removePendingMark(i,a)}addAll(e,n,r){let s=n||0;for(let o=n?e.childNodes[n]:e.firstChild,i=r==null?null:e.childNodes[r];o!=i;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o);this.findAtPoint(e,s)}findPlace(e){let n,r;for(let s=this.open;s>=0;s--){let o=this.nodes[s],i=o.findWrapping(e);if(i&&(!n||n.length>i.length)&&(n=i,r=o,!i.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let s=0;s<e.marks.length;s++)(!n.type||n.type.allowsMarkType(e.marks[s].type))&&(r=e.marks[s].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let s=this.findPlace(e.create(n));return s&&this.enterInner(e,n,!0,r),s}enterInner(e,n=null,r=!1,s){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let i=sO(e,s,o.options);o.options&Rf&&o.content.length==0&&(i|=Rf),this.nodes.push(new wm(e,n,o.activeMarks,o.pendingMarks,r,null,i)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),i=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(i(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return i(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=eAe(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let i=s.popFromStashMark(e);i&&s.type&&s.type.allowsMarkType(i.type)&&(s.activeMarks=i.addToSet(s.activeMarks))}if(s==n)break}}}function XMe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&mV.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function JMe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function QMe(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function iO(t){let e={};for(let n in t)e[n]=t[n];return e}function ZMe(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let o=[],i=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&i(u))return!0}};if(i(s.contentMatch))return!0}}function eAe(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Do{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=O0(n).createDocumentFragment());let s=r,o=[];return e.forEach(i=>{if(o.length||i.marks.length){let a=0,l=0;for(;a<o.length&&l<i.marks.length;){let c=i.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)s=o.pop()[1];for(;l<i.marks.length;){let c=i.marks[l++],u=this.serializeMark(c,i.isInline,n);u&&(o.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(i,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Do.renderSpec(O0(n),this.nodes[e.type.name](e));if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Do.renderSpec(O0(r),s(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let s=n[0],o=s.indexOf(" ");o>0&&(r=s.slice(0,o),s=s.slice(o+1));let i,a=r?e.createElementNS(r,s):e.createElement(s),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let u in l)if(l[u]!=null){let d=u.indexOf(" ");d>0?a.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<n.length;u++){let d=n[u];if(d===0){if(u<n.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:p}=Do.renderSpec(e,d,r);if(a.appendChild(f),p){if(i)throw new RangeError("Multiple content holes");i=p}}}return{dom:a,contentDOM:i}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Do(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=aO(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return aO(e.marks)}}function aO(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function O0(t){return t.document||window.document}const gV=65535,vV=Math.pow(2,16);function tAe(t,e){return t+e*vV}function lO(t){return t&gV}function nAe(t){return(t-(t&gV))/vV}const yV=1,bV=2,mg=4,wV=8;class sC{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&wV)>0}get deletedBefore(){return(this.delInfo&(yV|mg))>0}get deletedAfter(){return(this.delInfo&(bV|mg))>0}get deletedAcross(){return(this.delInfo&mg)>0}}class $s{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&$s.empty)return $s.empty}recover(e){let n=0,r=lO(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+nAe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+i],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,p=l+s+(f<0?0:u);if(r)return p;let m=e==(n<0?l:d)?null:tAe(a/3,e-l),g=e==l?bV:e==d?yV:mg;return(n<0?e!=l:e!=d)&&(g|=wV),new sC(p,g,m)}s+=u-c}return r?e+s:new sC(e+s,0,null)}touches(e,n){let r=0,s=lO(n),o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==s*3)return!0;r+=this.ranges[a+i]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let i=this.ranges[s],a=i-(this.inverted?o:0),l=i+(this.inverted?0:o),c=this.ranges[s+n],u=this.ranges[s+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new $s(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$s.empty:new $s(e<0?[0,-e,0]:[0,0,e])}}$s.empty=new $s([]);class wu{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new wu(this.maps,this.mirror,e,n)}copy(){return new wu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new wu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let o=this.from;o<this.to;o++){let i=this.maps[o],a=i.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return r?e:new sC(e,s,null)}}const N0=Object.create(null);class as{getMap(){return $s.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=N0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in N0)throw new RangeError("Duplicate use of step JSON ID "+e);return N0[e]=n,n.prototype.jsonID=e,n}}class Bn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Bn(e,null)}static fail(e){return new Bn(null,e)}static fromReplace(e,n,r,s){try{return Bn.ok(e.replace(n,r,s))}catch(o){if(o instanceof Lh)return Bn.fail(o.message);throw o}}}function FE(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(FE(o.content,e,o))),o.isInline&&(o=e(o,n,s)),r.push(o)}return qe.fromArray(r)}class oa extends as{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new nt(FE(n.content,(i,a)=>!i.isAtom||!a.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),s),n.openStart,n.openEnd);return Bn.fromReplace(e,this.from,this.to,o)}invert(){return new Po(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new oa(n.pos,r.pos,this.mark)}merge(e){return e instanceof oa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new oa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new oa(n.from,n.to,e.markFromJSON(n.mark))}}as.jsonID("addMark",oa);class Po extends as{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new nt(FE(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Bn.fromReplace(e,this.from,this.to,r)}invert(){return new oa(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Po(n.pos,r.pos,this.mark)}merge(e){return e instanceof Po&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Po(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Po(n.from,n.to,e.markFromJSON(n.mark))}}as.jsonID("removeMark",Po);class ia extends as{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Bn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Bn.fromReplace(e,this.pos,this.pos+1,new nt(qe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new ia(this.pos,n.marks[s]);return new ia(this.pos,this.mark)}}return new td(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ia(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ia(n.pos,e.markFromJSON(n.mark))}}as.jsonID("addNodeMark",ia);class td extends as{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Bn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Bn.fromReplace(e,this.pos,this.pos+1,new nt(qe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ia(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new td(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new td(n.pos,e.markFromJSON(n.mark))}}as.jsonID("removeNodeMark",td);class hr extends as{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&oC(e,this.from,this.to)?Bn.fail("Structure replace would overwrite content"):Bn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $s([this.from,this.to-this.from,this.slice.size])}invert(e){return new hr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new hr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof hr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?nt.empty:new nt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new hr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?nt.empty:new nt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new hr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new hr(n.from,n.to,nt.fromJSON(e,n.slice),!!n.structure)}}as.jsonID("replace",hr);class Wn extends as{constructor(e,n,r,s,o,i,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=i,this.structure=a}apply(e){if(this.structure&&(oC(e,this.from,this.gapFrom)||oC(e,this.gapTo,this.to)))return Bn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Bn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Bn.fromReplace(e,this.from,this.to,r):Bn.fail("Content does not fit in gap")}getMap(){return new $s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Wn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||o>r.pos?null:new Wn(n.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Wn(n.from,n.to,n.gapFrom,n.gapTo,nt.fromJSON(e,n.slice),n.insert,!!n.structure)}}as.jsonID("replaceAround",Wn);function oC(t,e,n){let r=t.resolve(e),s=n-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let i=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,s--}}return!1}function rAe(t,e,n,r){let s=[],o=[],i,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(i&&i.to==f&&i.mark.eq(d[g])?i.to=p:s.push(i=new Po(f,p,d[g])));a&&a.to==f?a.to=p:o.push(a=new oa(f,p,r))}}),s.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function sAe(t,e,n,r){let s=[],o=0;t.doc.nodesBetween(e,n,(i,a)=>{if(!i.isInline)return;o++;let l=null;if(r instanceof lb){let c=i.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(i.marks)&&(l=[r]):l=i.marks;if(l&&l.length){let c=Math.min(a+i.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<s.length;p++){let m=s[p];m.step==o-1&&d.eq(s[p].style)&&(f=m)}f?(f.to=c,f.step=o):s.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),s.forEach(i=>t.step(new Po(i.from,i.to,i.style)))}function oAe(t,e,n,r=n.contentMatch){let s=t.doc.nodeAt(e),o=[],i=e+1;for(let a=0;a<s.childCount;a++){let l=s.child(a),c=i+l.nodeSize,u=r.matchType(l.type);if(!u)o.push(new hr(i,c,nt.empty));else{r=u;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||t.step(new Po(i,c,l.marks[d]))}i=c}if(!r.validEnd){let a=r.fillBefore(qe.empty,!0);t.replace(i,i,new nt(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function iAe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function xd(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),o=t.$from.index(r),i=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(o,i,n))return r;if(r==0||s.type.spec.isolating||!iAe(s,o,i))break}return null}function aAe(t,e,n){let{$from:r,$to:s,depth:o}=e,i=r.before(o+1),a=s.after(o+1),l=i,c=a,u=qe.empty,d=0;for(let m=o,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=qe.from(r.node(m).copy(u)),d++):l--;let f=qe.empty,p=0;for(let m=o,g=!1;m>n;m--)g||s.after(m+1)<s.end(m)?(g=!0,f=qe.from(s.node(m).copy(f)),p++):c++;t.step(new Wn(l,c,i,a,new nt(u.append(f),d,p),u.size-d,!0))}function VE(t,e,n=null,r=t){let s=lAe(t,e),o=s&&cAe(r,e);return o?s.map(cO).concat({type:e,attrs:n}).concat(o.map(cO)):null}function cO(t){return{type:t,attrs:null}}function lAe(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let i=o.length?o[0]:e;return n.canReplaceWith(r,s,i)?o:null}function cAe(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.child(r),i=e.contentMatch.findWrapping(o.type);if(!i)return null;let l=(i.length?i[i.length-1]:e).contentMatch;for(let c=r;l&&c<s;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:i}function uAe(t,e,n){let r=qe.empty;for(let i=n.length-1;i>=0;i--){if(r.size){let a=n[i].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=qe.from(n[i].type.create(n[i].attrs,r))}let s=e.start,o=e.end;t.step(new Wn(s,o,s,o,new nt(r,0,0),n.length,!0))}function dAe(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(i,a)=>{if(i.isTextblock&&!i.hasMarkup(r,s)&&fAe(t.doc,t.mapping.slice(o).map(a),r)){t.clearIncompatible(t.mapping.slice(o).map(a,1),r);let l=t.mapping.slice(o),c=l.map(a,1),u=l.map(a+i.nodeSize,1);return t.step(new Wn(c,u,c+1,u-1,new nt(qe.from(r.create(s,null,i.marks)),0,0),1,!0)),!1}})}function fAe(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function hAe(t,e,n,r,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let i=n.create(r,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,i);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Wn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new nt(qe.from(i),0,0),1,!0))}function Cu(t,e,n=1,r){let s=t.resolve(e),o=s.depth-n,i=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!i.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=n-2;c>o;c--,u--){let d=s.node(c),f=s.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),m=r&&r[u]||d;if(m!=d&&(p=p.replaceChild(0,m.type.create(m.attrs))),!d.canReplace(f+1,d.childCount)||!m.type.validContent(p))return!1}let a=s.indexAfter(o),l=r&&r[0];return s.node(o).canReplaceWith(a,a,l?l.type:s.node(o+1).type)}function pAe(t,e,n=1,r){let s=t.doc.resolve(e),o=qe.empty,i=qe.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){o=qe.from(s.node(a).copy(o));let u=r&&r[c];i=qe.from(u?u.type.create(u.attrs,i):s.node(a).copy(i))}t.step(new hr(e,e,new nt(o.append(i),n,n),!0))}function Id(t,e){let n=t.resolve(e),r=n.index();return mAe(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function mAe(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function gAe(t,e,n){let r=new hr(e-n,e+n,nt.empty,!0);t.step(r)}function vAe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,n))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,n))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function CV(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let i=r.depth;i>=0;i--){let a=i==r.depth?0:r.pos<=(r.start(i+1)+r.end(i+1))/2?-1:1,l=r.index(i)+(a>0?1:0),c=r.node(i),u=!1;if(o==1)u=c.canReplace(l,l,s);else{let d=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(i+1):r.after(i+1)}return null}function zE(t,e,n=e,r=nt.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),o=t.resolve(n);return SV(s,o,r)?new hr(e,n,r):new yAe(s,o,r).fit()}function SV(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class yAe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=qe.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=qe.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,i=r.depth,a=s.depth;for(;i&&a&&o.childCount==1;)o=o.firstChild.content,i--,a--;let l=new nt(o,i,a);return e>-1?new Wn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new hr(r.pos,s.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let r,s=null;n?(s=$0(this.unplaced.content,n-1).firstChild,r=s.content):r=this.unplaced.content;let o=r.firstChild;for(let i=this.depth;i>=0;i--){let{type:a,match:l}=this.frontier[i],c,u=null;if(e==1&&(o?l.matchType(o.type)||(u=l.fillBefore(qe.from(o),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:i,parent:s,inject:u};if(e==2&&o&&(c=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:i,parent:s,wrap:c};if(s&&l.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=$0(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new nt(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=$0(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new nt(lf(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new nt(lf(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let i=this.unplaced,a=r?r.content:i.content,l=i.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(s){for(let g=0;g<s.childCount;g++)u.push(s.child(g));d=d.matchFragment(s)}let p=a.size+e-(i.content.size-i.openEnd);for(;c<a.childCount;){let g=a.child(c),v=d.matchType(g.type);if(!v)break;c++,(c>1||l==0||g.content.size)&&(d=v,u.push(kV(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=cf(this.placed,n,qe.from(u)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=a;g<p;g++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=m?e==0?nt.empty:new nt(lf(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new nt(lf(i.content,e,c),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!R0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),i=R0(e,n,s,r,o);if(!!i){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=R0(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:i,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=cf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=cf(this.placed,this.depth,qe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(qe.empty,!0);n.childCount&&(this.placed=cf(this.placed,this.frontier.length,n))}}function lf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(lf(t.firstChild.content,e-1,n)))}function cf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(cf(t.lastChild.content,e-1,n)))}function $0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function kV(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,kV(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(qe.empty,!0)))),t.copy(r)}function R0(t,e,n,r,s){let o=t.node(e),i=s?t.indexAfter(e):t.index(e);if(i==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,i);return a&&!bAe(n,o.content,i)?a:null}function bAe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function wAe(t){return t.spec.defining||t.spec.definingForContent}function CAe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(SV(s,o,r))return t.step(new hr(e,n,r));let i=TV(s,t.doc.resolve(n));i[i.length-1]==0&&i.pop();let a=-(s.depth+1);i.unshift(a);for(let f=s.depth,p=s.pos-1;f>0;f--,p--){let m=s.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;i.indexOf(f)>-1?a=f:s.before(f)==p&&i.splice(1,0,-f)}let l=i.indexOf(a),c=[],u=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(c.push(m),p==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let p=c[f].type,m=wAe(p);if(m&&s.node(l).type!=p)u=f;else if(m||!p.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+u+1)%(r.openStart+1),m=c[p];if(!!m)for(let g=0;g<i.length;g++){let v=i[(g+l)%i.length],y=!0;v<0&&(y=!1,v=-v);let C=s.node(v-1),b=s.index(v-1);if(C.canReplaceWith(b,b,m.type,m.marks))return t.replace(s.before(v),y?o.after(v):n,new nt(EV(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=i.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=i[f];p<0||(e=s.before(p),n=o.after(p))}}function EV(t,e,n,r,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(EV(o.content,e+1,n,r,o)))}if(e>r){let o=s.contentMatchAt(0),i=o.fillBefore(t).append(t);t=i.append(o.matchFragment(i).fillBefore(qe.empty,!0))}return t}function SAe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=vAe(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new nt(qe.from(r),0,0))}function kAe(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),o=TV(r,s);for(let i=0;i<o.length;i++){let a=o[i],l=i==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),s.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return t.delete(r.before(a),s.after(a))}for(let i=1;i<=r.depth&&i<=s.depth;i++)if(e-r.start(i)==r.depth-i&&n>r.end(i)&&s.end(i)-n!=s.depth-i)return t.delete(r.before(i),n);t.delete(e,n)}function TV(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class Su extends as{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Bn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Bn.fromReplace(e,this.pos,this.pos+1,new nt(qe.from(s),0,n.isLeaf?0:1))}getMap(){return $s.empty}invert(e){return new Su(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Su(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Su(n.pos,n.attr,n.value)}}as.jsonID("attr",Su);let nd=class extends Error{};nd=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};nd.prototype=Object.create(Error.prototype);nd.prototype.constructor=nd;nd.prototype.name="TransformError";class _V{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new wu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new nd(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=nt.empty){let s=zE(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new nt(qe.from(r),0,0))}delete(e,n){return this.replace(e,n,nt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return CAe(this,e,n,r),this}replaceRangeWith(e,n,r){return SAe(this,e,n,r),this}deleteRange(e,n){return kAe(this,e,n),this}lift(e,n){return aAe(this,e,n),this}join(e,n=1){return gAe(this,e,n),this}wrap(e,n){return uAe(this,e,n),this}setBlockType(e,n=e,r,s=null){return dAe(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s=[]){return hAe(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Su(e,n,r)),this}addNodeMark(e,n){return this.step(new ia(e,n)),this}removeNodeMark(e,n){if(!(n instanceof nn)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new td(e,n)),this}split(e,n=1,r){return pAe(this,e,n,r),this}addMark(e,n,r){return rAe(this,e,n,r),this}removeMark(e,n,r){return sAe(this,e,n,r),this}clearIncompatible(e,n,r){return oAe(this,e,n,r),this}}const D0=Object.create(null);class xt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new xV(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=nt.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let o=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:c}=i[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?nt.empty:n),a==0&&fO(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:i,$to:a}=s[o],l=e.mapping.slice(r),c=l.map(i.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),fO(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Nt(e):Yc(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let i=n<0?Yc(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Yc(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(i)return i}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new lo(e.node(0))}static atStart(e){return Yc(e,e,0,0,1)||new lo(e)}static atEnd(e){return Yc(e,e,e.content.size,e.childCount,-1)||new lo(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=D0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in D0)throw new RangeError("Duplicate use of selection JSON ID "+e);return D0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Nt.between(this.$anchor,this.$head).getBookmark()}}xt.prototype.visible=!0;class xV{constructor(e,n){this.$from=e,this.$to=n}}let uO=!1;function dO(t){!uO&&!t.parent.inlineContent&&(uO=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Nt extends xt{constructor(e,n=e){dO(e),dO(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return xt.near(r);let s=e.resolve(n.map(this.anchor));return new Nt(s.parent.inlineContent?s:r,r)}replace(e,n=nt.empty){if(super.replace(e,n),n==nt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Nt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new cb(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Nt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let o=xt.findFrom(n,r,!0)||xt.findFrom(n,-r,!0);if(o)n=o.$head;else return xt.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(xt.findFrom(e,-r,!0)||xt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Nt(e,n)}}xt.jsonID("text",Nt);class cb{constructor(e,n){this.anchor=e,this.head=n}map(e){return new cb(e.map(this.anchor),e.map(this.head))}resolve(e){return Nt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Mt extends xt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return r?xt.near(o):new Mt(o)}content(){return new nt(qe.from(this.node),0,0)}eq(e){return e instanceof Mt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new HE(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Mt(e.resolve(n.anchor))}static create(e,n){return new Mt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Mt.prototype.visible=!1;xt.jsonID("node",Mt);class HE{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new cb(r,r):new HE(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Mt.isSelectable(r)?new Mt(n):xt.near(n)}}class lo extends xt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=nt.empty){if(n==nt.empty){e.delete(0,e.doc.content.size);let r=xt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new lo(e)}map(e){return new lo(e)}eq(e){return e instanceof lo}getBookmark(){return EAe}}xt.jsonID("all",lo);const EAe={map(){return this},resolve(t){return new lo(t)}};function Yc(t,e,n,r,s,o=!1){if(e.inlineContent)return Nt.create(t,n);for(let i=r-(s>0?0:1);s>0?i<e.childCount:i>=0;i+=s){let a=e.child(i);if(a.isAtom){if(!o&&Mt.isSelectable(a))return Mt.create(t,n-(s<0?a.nodeSize:0))}else{let l=Yc(t,a,n+s,s<0?a.childCount:0,s,o);if(l)return l}n+=a.nodeSize*s}return null}function fO(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof hr||s instanceof Wn))return;let o=t.mapping.maps[r],i;o.forEach((a,l,c,u)=>{i==null&&(i=u)}),t.setSelection(xt.near(t.doc.resolve(i),n))}const hO=1,Cm=2,pO=4;class TAe extends _V{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|hO)&~Cm,this.storedMarks=null,this}get selectionSet(){return(this.updated&hO)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Cm,this}ensureMarks(e){return nn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Cm)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Cm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||nn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let i=this.doc.resolve(n);o=r==n?i.marks():i.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,o)),this.selection.empty||this.setSelection(xt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=pO,this}get scrolledIntoView(){return(this.updated&pO)>0}}function mO(t,e){return!e||!t?t:t.bind(e)}class uf{constructor(e,n,r){this.name=e,this.init=mO(n.init,r),this.apply=mO(n.apply,r)}}const _Ae=[new uf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new uf("selection",{init(t,e){return t.selection||xt.atStart(e.doc)},apply(t){return t.selection}}),new uf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new uf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class P0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_Ae.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new uf(r.key,r.spec.state,r))})}}class ou{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let l=s?s[i].n:0,c=s?s[i].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<i?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}s&&(s[i]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ou(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new TAe(this)}static create(e){let n=new P0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ou(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new P0(this.schema,e.plugins),r=n.fields,s=new ou(n);for(let o=0;o<r.length;o++){let i=r[o].name;s[i]=this.hasOwnProperty(i)?this[i]:r[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new P0(e.schema,e.plugins),o=new ou(s);return s.fields.forEach(i=>{if(i.name=="doc")o.doc=Vo.fromJSON(e.schema,n.doc);else if(i.name=="selection")o.selection=xt.fromJSON(o.doc,n.selection);else if(i.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==i.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[i.name]=c.fromJSON.call(l,e,n[a],o);return}}o[i.name]=i.init(e,o)}}),o}}function IV(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=IV(s,e,{})),n[r]=s}return n}class dr{constructor(e){this.spec=e,this.props={},e.props&&IV(e.props,this,this.props),this.key=e.key?e.key.key:MV("plugin")}getState(e){return e[this.key]}}const L0=Object.create(null);function MV(t){return t in L0?t+"$"+ ++L0[t]:(L0[t]=0,t+"$")}class ls{constructor(e="key"){this.key=MV(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ds=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Fh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let gO=null;const ei=function(t,e,n){let r=gO||(gO=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},cc=function(t,e,n,r){return n&&(vO(t,e,n,r,-1)||vO(t,e,n,r,1))},xAe=/^(img|br|input|textarea|hr)$/i;function vO(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:xo(t))){let o=t.parentNode;if(!o||o.nodeType!=1||MAe(t)||xAe.test(t.nodeName)||t.contentEditable=="false")return!1;e=ds(t)+(s<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?xo(t):0}else return!1}}function xo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function IAe(t,e,n){for(let r=e==0,s=e==xo(t);r||s;){if(t==n)return!0;let o=ds(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,s=s&&o==xo(t)}}function MAe(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ub=function(t){return t.focusNode&&cc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function iu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function AAe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const Aa=typeof navigator<"u"?navigator:null,yO=typeof document<"u"?document:null,ja=Aa&&Aa.userAgent||"",iC=/Edge\/(\d+)/.exec(ja),AV=/MSIE \d/.exec(ja),aC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ja),Zr=!!(AV||aC||iC),va=AV?document.documentMode:aC?+aC[1]:iC?+iC[1]:0,go=!Zr&&/gecko\/(\d+)/i.test(ja);go&&+(/Firefox\/(\d+)/.exec(ja)||[0,0])[1];const lC=!Zr&&/Chrome\/(\d+)/.exec(ja),qr=!!lC,OAe=lC?+lC[1]:0,Lr=!Zr&&!!Aa&&/Apple Computer/.test(Aa.vendor),rd=Lr&&(/Mobile\/\w+/.test(ja)||!!Aa&&Aa.maxTouchPoints>2),As=rd||(Aa?/Mac/.test(Aa.platform):!1),Io=/Android \d/.test(ja),db=!!yO&&"webkitFontSmoothing"in yO.documentElement.style,NAe=db?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $Ae(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function zi(t,e){return typeof t=="number"?t:t[e]}function RAe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function bO(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let i=n||t.dom;i;i=Fh(i)){if(i.nodeType!=1)continue;let a=i,l=a==o.body,c=l?$Ae(o):RAe(a),u=0,d=0;if(e.top<c.top+zi(r,"top")?d=-(c.top-e.top+zi(s,"top")):e.bottom>c.bottom-zi(r,"bottom")&&(d=e.bottom-c.bottom+zi(s,"bottom")),e.left<c.left+zi(r,"left")?u=-(c.left-e.left+zi(s,"left")):e.right>c.right-zi(r,"right")&&(u=e.right-c.right+zi(s,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-f,g=a.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l)break}}function DAe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,i=n+1;i<Math.min(innerHeight,e.bottom);i+=5){let a=t.root.elementFromPoint(o,i);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,s=l.top;break}}return{refDOM:r,refTop:s,stack:OV(t.dom)}}function OV(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Fh(r));return e}function PAe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;NV(n,r==0?0:r-e)}function NV(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:o}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Fc=null;function LAe(t){if(t.setActive)return t.setActive();if(Fc)return t.focus(Fc);let e=OV(t);t.focus(Fc==null?{get preventScroll(){return Fc={preventScroll:!0},!0}}:void 0),Fc||(Fc=!1,NV(e,0))}function $V(t,e){let n,r=2e8,s,o=0,i=e.top,a=e.top;for(let l=t.firstChild,c=0;l;l=l.nextSibling,c++){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=ei(l).getClientRects();else continue;for(let d=0;d<u.length;d++){let f=u[d];if(f.top<=i&&f.bottom>=a){i=Math.max(f.bottom,i),a=Math.min(f.top,a);let p=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(p<r){n=l,r=p,s=p&&n.nodeType==3?{left:f.right<e.left?f.right:f.left,top:e.top}:e,l.nodeType==1&&p&&(o=c+(e.left>=(f.left+f.right)/2?1:0));continue}}!n&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(o=c+1)}}return n&&n.nodeType==3?BAe(n,s):!n||r&&n.nodeType==1?{node:t,offset:o}:$V(n,s)}function BAe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=qi(r,1);if(o.top!=o.bottom&&KE(e,o))return{node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function KE(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function FAe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function VAe(t,e,n){let{node:r,offset:s}=$V(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let i=r.getBoundingClientRect();o=i.left!=i.right&&n.left>(i.left+i.right)/2?1:-1}return t.docView.posFromDOM(r,s,o)}function zAe(t,e,n,r){let s=-1;for(let o=e;o!=t.dom;){let i=t.docView.nearestDesc(o,!0);if(!i)return null;if(i.node.isBlock&&i.parent){let a=i.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)s=i.posBefore;else if(a.right<r.left||a.bottom<r.top)s=i.posAfter;else break}o=i.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,1)}function RV(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let i=t.childNodes[o];if(i.nodeType==1){let a=i.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(KE(e,c))return RV(i,e,c)}}if((o=(o+1)%r)==s)break}return t}function HAe(t,e){let n=t.dom.ownerDocument,r,s=0;if(n.caretPositionFromPoint)try{let l=n.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:s}=l)}catch{}if(!r&&n.caretRangeFromPoint){let l=n.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:s}=l)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),i;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=t.dom.getBoundingClientRect();if(!KE(e,l)||(o=RV(t.dom,e,l),!o))return null}if(Lr)for(let l=o;r&&l;l=Fh(l))l.draggable&&(r=void 0);if(o=FAe(o,e),r){if(go&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let l=r.childNodes[s],c;l.nodeName=="IMG"&&(c=l.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&s++}r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?i=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(i=zAe(t,r,s,e))}i==null&&(i=VAe(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:i,inside:a?a.posAtStart-a.border:-1}}function qi(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const KAe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function DV(t,e,n){let{node:r,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),i=db||go;if(r.nodeType==3)if(i&&(KAe.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=qi(ei(r,s,s),n);if(go&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=qi(ei(r,s-1,s-1),-1);if(c.top==l.top){let u=qi(ei(r,s,s+1),-1);if(u.top!=l.top)return Xd(u,u.left<c.left)}}return l}else{let l=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Xd(qi(ei(r,l,c),1),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==xo(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return B0(l.getBoundingClientRect(),!1)}if(o==null&&s<xo(r)){let l=r.childNodes[s];if(l.nodeType==1)return B0(l.getBoundingClientRect(),!0)}return B0(r.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==xo(r))){let l=r.childNodes[s-1],c=l.nodeType==3?ei(l,xo(l)-(i?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Xd(qi(c,1),!1)}if(o==null&&s<xo(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ei(l,0,i?0:1):l.nodeType==1?l:null:null;if(c)return Xd(qi(c,-1),!0)}return Xd(qi(r.nodeType==3?ei(r):r,-n),n>=0)}function Xd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function B0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function PV(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function UAe(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return PV(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.dom;break}o=a.dom.parentNode}let i=DV(t,s.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ei(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?i.top-u.top>(u.bottom-i.top)*2:u.bottom-i.bottom>(i.bottom-u.top)*2))return!1}}return!0})}const jAe=/[\u0590-\u08ac]/;function WAe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,i=s==r.parent.content.size,a=t.domSelection();return!jAe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:i:PV(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),v=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),v})}let wO=null,CO=null,SO=!1;function qAe(t,e,n){return wO==e&&CO==n?SO:(wO=e,CO=n,SO=n=="up"||n=="down"?UAe(t,e,n):WAe(t,e,n))}const co=0,kO=1,au=2,jo=3;class Np{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=co,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,i;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((i=o.pmViewDesc)&&i.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(i)+i.size:this.posAtStart}else{let o,i;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((i=o.pmViewDesc)&&i.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(i):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>ds(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return(s==null?r>0:s)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),i;if(o&&(!n||o.node))if(r&&(i=o.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let i=this.children[r],a=o+i.size;if(a>e||i instanceof BV){s=e-o;break}o=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof LV&&o.side>=0;r--);if(n<=0){let o,i=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,i=!1);return o&&n&&i&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ds(o.dom)+1:0}}else{let o,i=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,i=!1);return o&&i&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ds(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let i=r,a=0;;a++){let l=this.children[a],c=i+l.size;if(s==-1&&e<=c){let u=i+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=i;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=ds(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=ds(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let o=Math.min(e,n),i=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let m=this.children[f],g=p+m.size;if(o>p&&i<g)return m.setSelection(e-p-m.border,n-p-m.border,r,s);p=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((go||Lr)&&e==n){let{node:f,offset:p}=a;if(f.nodeType==3){if(u=!!(p&&f.nodeValue[p-1]==`
`),u&&p==f.nodeValue.length)for(let m=f,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:ds(g)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=f.childNodes[p-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(go&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(s=!0)}if(!(s||u&&Lr)&&cc(a.node,a.offset,c.anchorNode,c.anchorOffset)&&cc(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],i=r+o.size;if(r==i?e<=i&&n>=r:e<i&&n>r){let a=r+o.border,l=i-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==i?au:kO,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=jo:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?au:jo}r=i}this.dirty=au}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?au:kO;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class LV extends Np{constructor(e,n,r,s){let o,i=n.type.toDOM;if(typeof i=="function"&&(i=i(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(i.nodeType!=1){let a=document.createElement("span");a.appendChild(i),i=a}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==co&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class GAe extends Np{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class uc extends Np{constructor(e,n,r,s){super(e,[],r,s),this.mark=n}static create(e,n,r,s){let o=s.nodeViews[n.type.name],i=o&&o(n,s,r);return(!i||!i.dom)&&(i=Do.renderSpec(document,n.type.spec.toDOM(n,r))),new uc(e,n,i.dom,i.contentDOM||i.dom)}parseRule(){return this.dirty&jo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=jo&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=co){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=co}}slice(e,n,r){let s=uc.create(this.parent,this.mark,!0,r),o=this.children,i=this.size;n<i&&(o=dC(o,n,i,r)),e>0&&(o=dC(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=s;return s.children=o,s}}class dc extends Np{constructor(e,n,r,s,o,i,a,l,c){super(e,[],o,i),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a,i&&this.updateChildren(l,c)}static create(e,n,r,s,o,i){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)},r,s),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Do.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=zV(u,r,n),c?l=new YAe(e,n,r,s,u,d||null,f,c,o,i+1):n.isText?new fb(e,n,r,s,u,f,o):new dc(e,n,r,s,u,d||null,f,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>qe.empty)}return e}matchesNode(e,n,r){return this.dirty==co&&e.eq(this.node)&&uC(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,i=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new JAe(this,i&&i.node,e);eOe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?nn.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,s)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,f)||l.addNode(c,u,d,e,s),s+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==au)&&(i&&this.protectLocalComposition(e,i),FV(this.contentDOM,this.children,e),rd&&tOe(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Nt)||r<n||s>n+this.node.content.size)return null;let o=e.domSelectionRange(),i=nOe(o.focusNode,o.focusOffset);if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=rOe(this.node.content,a,r-n,s-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new GAe(this,o,n,s);e.input.compositionNodes.push(i),this.children=dC(this.children,r,r+s.length,e,i)}update(e,n,r,s){return this.dirty==jo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=co}updateOuterDeco(e){if(uC(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=VV(this.dom,this.nodeDOM,cC(this.outerDeco,this.node,n),cC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function EO(t,e,n,r,s){return zV(r,e,t),new dc(void 0,t,e,n,r,r,r,s,0)}class fb extends dc{constructor(e,n,r,s,o,i,a){super(e,n,r,s,o,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==jo||this.dirty!=co&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=co||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=co,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new fb(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=jo)}get domAtom(){return!1}}class BV extends Np{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==co&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class YAe extends dc{constructor(e,n,r,s,o,i,a,l,c,u){super(e,n,r,s,o,i,a,c,u),this.spec=l}update(e,n,r,s){if(this.dirty==jo)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function FV(t,e,n){let r=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let i=e[o],a=i.dom;if(a.parentNode==t){for(;a!=r;)r=TO(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(a,r);if(i instanceof uc){let l=r?r.previousSibling:t.lastChild;FV(i.contentDOM,i.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=TO(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Df=function(t){t&&(this.nodeName=t)};Df.prototype=Object.create(null);const _l=[new Df];function cC(t,e,n){if(t.length==0)return _l;let r=n?_l[0]:new Df,s=[r];for(let o=0;o<t.length;o++){let i=t[o].type.attrs;if(!!i){i.nodeName&&s.push(r=new Df(i.nodeName));for(let a in i){let l=i[a];l!=null&&(n&&s.length==1&&s.push(r=new Df(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return s}function VV(t,e,n,r){if(n==_l&&r==_l)return e;let s=e;for(let o=0;o<r.length;o++){let i=r[o],a=n[o];if(o){let l;a&&a.nodeName==i.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==i.nodeName||(l=document.createElement(i.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=_l[0]),s=l}XAe(s,a||_l[0],i)}return s}function XAe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function zV(t,e,n){return VV(t,t,_l,cC(e,n,t.nodeType!=1))}function uC(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function TO(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class JAe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=QAe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,o=this.stack.length>>1,i=Math.min(o,e.length);for(;s<i&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=co,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=uc.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,s){let o=-1,i;if(s>=this.preMatch.index&&(i=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&i.matchesNode(e,n,r))o=this.top.children.indexOf(i,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,s,o){let i=this.top.children[s];return i.dirty==jo&&i.dom==i.contentDOM&&(i.dirty=au),i.update(e,n,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,o){for(let i=this.index;i<this.top.children.length;i++){let a=this.top.children[i];if(a instanceof dc){let l=this.preMatch.matched.get(a);if(l!=null&&l!=o)return!1;let c=a.dom;if(!(this.lock&&(c==this.lock||c.nodeType==1&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=jo&&uC(n,a.outerDeco)))&&a.update(e,n,r,s))return this.destroyBetween(this.index,i),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,s,o){this.top.children.splice(this.index++,0,dc.create(this.top,e,n,r,s,o)),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new LV(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof uc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof fb)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Lr||qr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new BV(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}}function QAe(t,e){let n=e,r=n.children.length,s=t.childCount,o=new Map,i=[];e:for(;s>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof uc)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(!!l){if(l!=t.child(s-1))break;--s,o.set(a,s),i.push(a)}}return{index:s,matched:o,matches:i.reverse()}}function ZAe(t,e){return t.type.side-e.type.side}function eOe(t,e,n,r){let s=e.locals(t),o=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,s,e.forChild(o,u),c),o+=u.nodeSize}return}let i=0,a=[],l=null;for(let c=0;;){if(i<s.length&&s[i].to==o){let m=s[i++],g;for(;i<s.length&&s[i].to==o;)(g||(g=[m])).push(s[i++]);if(g){g.sort(ZAe);for(let v=0;v<g.length;v++)n(g[v],c,!!l)}else n(m,c,!!l)}let u,d;if(l)d=-1,u=l,l=null;else if(c<t.childCount)d=c,u=t.child(c++);else break;for(let m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);for(;i<s.length&&s[i].from<=o&&s[i].to>o;)a.push(s[i++]);let f=o+u.nodeSize;if(u.isText){let m=f;i<s.length&&s[i].from<m&&(m=s[i].from);for(let g=0;g<a.length;g++)a[g].to<m&&(m=a[g].to);m<f&&(l=u.cut(m-o),u=u.cut(0,m-o),f=m,d=-1)}let p=u.isInline&&!u.isLeaf?a.filter(m=>!m.inline):a.slice();r(u,p,e.forChild(o,u),d),o=f}}function tOe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function nOe(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=xo(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function rOe(t,e,n,r){for(let s=0,o=0;s<t.childCount&&o<=r;){let i=t.child(s++),a=o;if(o+=i.nodeSize,!i.isText)continue;let l=i.text;for(;s<t.childCount;){let c=t.child(s++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function dC(t,e,n,r,s){let o=[];for(let i=0,a=0;i<t.length;i++){let l=t[i],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),s&&(o.push(s),s=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function UE(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,i=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a=r.resolve(i),l,c;if(ub(n)){for(l=a;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&Mt.isSelectable(u)&&s.parent&&!(u.isInline&&IAe(n.focusNode,n.focusOffset,s.dom))){let d=s.posBefore;c=new Mt(i==d?a:r.resolve(d))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=jE(t,l,a,u)}return c}function HV(t){return t.editable?t.hasFocus():UV(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function hi(t,e=!1){let n=t.state.selection;if(KV(t,n),!!HV(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&qr){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&cc(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)oOe(t);else{let{anchor:r,head:s}=n,o,i;_O&&!(n instanceof Nt)&&(n.$from.parent.inlineContent||(o=xO(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(i=xO(t,n.to))),t.docView.setSelection(r,s,t.root,e),_O&&(o&&IO(o),i&&IO(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&sOe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const _O=Lr||qr&&OAe<63;function xO(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Lr&&s&&s.contentEditable=="false")return F0(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return F0(s);if(o)return F0(o)}}function F0(t){return t.contentEditable="true",Lr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function IO(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function sOe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!HV(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function oOe(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setEnd(r.parentNode,ds(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Zr&&va<=11&&(r.disabled=!0,r.disabled=!1)}function KV(t,e){if(e instanceof Mt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(MO(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else MO(t)}function MO(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function jE(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Nt.between(e,n,r)}function AO(t){return t.editable&&!t.hasFocus()?!1:UV(t)}function UV(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function iOe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return cc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function fC(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&xt.findFrom(o,e)}function gl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function OO(t,e,n){let r=t.state.selection;if(r instanceof Nt){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let s=fC(t.state,e);return s&&s instanceof Mt?gl(t,s):!1}else if(!(As&&n.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,i;if(!o||o.isText)return!1;let a=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(i=t.docView.descAt(a))&&!i.contentDOM?Mt.isSelectable(o)?gl(t,new Mt(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):db?gl(t,new Nt(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else{if(r instanceof Mt&&r.node.isInline)return gl(t,new Nt(e>0?r.$to:r.$from));{let s=fC(t.state,e);return s?gl(t,s):!1}}}function wv(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Pf(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function V0(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,o,i=!1;for(go&&n.nodeType==1&&r<wv(n)&&Pf(n.childNodes[r])&&(i=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Pf(a))s=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(jV(n))break;{let a=n.previousSibling;for(;a&&Pf(a);)s=n.parentNode,o=ds(a),a=a.previousSibling;if(a)n=a,r=wv(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}i?hC(t,n,r):s&&hC(t,s,o)}function z0(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=wv(n),o,i;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Pf(a))o=n,i=++r;else break}else{if(jV(n))break;{let a=n.nextSibling;for(;a&&Pf(a);)o=a.parentNode,i=ds(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=wv(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}o&&hC(t,o,i)}function jV(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function hC(t,e,n){let r=t.domSelection();if(ub(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&hi(t)},50)}function NO(t,e,n){let r=t.state.selection;if(r instanceof Nt&&!r.empty||n.indexOf("s")>-1||As&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let i=fC(t.state,e);if(i&&i instanceof Mt)return gl(t,i)}if(!s.parent.inlineContent){let i=e<0?s:o,a=r instanceof lo?xt.near(i,e):xt.findFrom(i,e);return a?gl(t,a):!1}return!1}function $O(t,e){if(!(t.state.selection instanceof Nt))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let i=t.state.tr;return e<0?i.delete(n.pos-o.nodeSize,n.pos):i.delete(n.pos,n.pos+o.nodeSize),t.dispatch(i),!0}return!1}function RO(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function aOe(t){if(!Lr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;RO(t,r,"true"),setTimeout(()=>RO(t,r,"false"),20)}return!1}function lOe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function cOe(t,e){let n=e.keyCode,r=lOe(e);return n==8||As&&n==72&&r=="c"?$O(t,-1)||V0(t):n==46||As&&n==68&&r=="c"?$O(t,1)||z0(t):n==13||n==27?!0:n==37||As&&n==66&&r=="c"?OO(t,-1,r)||V0(t):n==39||As&&n==70&&r=="c"?OO(t,1,r)||z0(t):n==38||As&&n==80&&r=="c"?NO(t,-1,r)||V0(t):n==40||As&&n==78&&r=="c"?aOe(t)||NO(t,1,r)||z0(t):r==(As?"m":"c")&&(n==66||n==73||n==89||n==90)}function WV(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let i=t.someProp("clipboardSerializer")||Do.fromSchema(t.state.schema),a=QV(),l=a.createElement("div");l.appendChild(i.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=JV[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}function qV(t,e,n,r,s){let o=s.parent.type.spec.code,i,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new nt(qe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):nt.empty;let d=t.someProp("clipboardTextParser",f=>f(e,s,r,t));if(d)a=d;else{let f=s.marks(),{schema:p}=t.state,m=Do.fromSchema(p);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=i.appendChild(document.createElement("p"));g&&v.appendChild(m.serializeNode(p.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),i=fOe(n),db&&hOe(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=i.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;i=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||ed.fromSchema(t.state.schema)).parseSlice(i,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!uOe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=pOe(DO(a,+u[1],+u[2]),u[4]);else if(a=nt.maxOpen(dOe(a.content,s),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=DO(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const uOe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dOe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,i=[];if(t.forEach(a=>{if(!i)return;let l=s.findWrapping(a.type),c;if(!l)return i=null;if(c=i.length&&o.length&&YV(l,o,a,i[i.length-1],0))i[i.length-1]=c;else{i.length&&(i[i.length-1]=XV(i[i.length-1],o.length));let u=GV(a,l);i.push(u),s=s.matchType(u.type),o=l}}),i)return qe.from(i)}return t}function GV(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,qe.from(t));return t}function YV(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=YV(t,e,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(qe.from(GV(n,t,s+1))))}}function XV(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,XV(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(qe.empty,!0);return t.copy(n.append(r))}function pC(t,e,n,r,s,o){let i=e<0?t.firstChild:t.lastChild,a=i.content;return s<r-1&&(a=pC(a,e,n,r,s+1,o)),s>=n&&(a=e<0?i.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=s).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(qe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,i.copy(a))}function DO(t,e,n){return e<t.openStart&&(t=new nt(pC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new nt(pC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const JV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let PO=null;function QV(){return PO||(PO=document.implementation.createHTMLDocument("title"))}function fOe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=QV().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&JV[r[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function hOe(t){let e=t.querySelectorAll(qr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function pOe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:i}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;s=qe.from(l.create(r[a+1],s)),o++,i++}return new nt(s,o,i)}const Br={},Fr={},mOe={touchstart:!0,touchmove:!0};class gOe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vOe(t){for(let e in Br){let n=Br[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{bOe(t,r)&&!WE(t,r)&&(t.editable||!(r.type in Fr))&&n(t,r)},mOe[e]?{passive:!0}:void 0)}Lr&&t.dom.addEventListener("input",()=>null),mC(t)}function aa(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function yOe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function mC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>WE(t,r))})}function WE(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function bOe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function wOe(t,e){!WE(t,e)&&Br[e.type]&&(t.editable||!(e.type in Fr))&&Br[e.type](t,e)}Fr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!ez(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Io&&qr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),rd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,iu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||cOe(t,n)?n.preventDefault():aa(t,"key")};Fr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Fr.keypress=(t,e)=>{let n=e;if(ez(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||As&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Nt)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,s))||t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function hb(t){return{left:t.clientX,top:t.clientY}}function COe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function qE(t,e,n,r,s){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let i=o.depth+1;i>0;i--)if(t.someProp(e,a=>i>o.depth?a(t,n,o.nodeAfter,o.before(i),s,!0):a(t,n,o.node(i),o.before(i),s,!1)))return!0;return!1}function ku(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function SOe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Mt.isSelectable(r)?(ku(t,new Mt(n),"pointer"),!0):!1}function kOe(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Mt&&(r=n.node);let o=t.state.doc.resolve(e);for(let i=o.depth+1;i>0;i--){let a=i>o.depth?o.nodeAfter:o.node(i);if(Mt.isSelectable(a)){r&&n.$from.depth>0&&i>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(i);break}}return s!=null?(ku(t,Mt.create(t.state.doc,s),"pointer"),!0):!1}function EOe(t,e,n,r,s){return qE(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(s?kOe(t,n):SOe(t,n))}function TOe(t,e,n,r){return qE(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function _Oe(t,e,n,r){return qE(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||xOe(t,n,r)}function xOe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ku(t,Nt.create(r,0,r.content.size),"pointer"),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let i=o>s.depth?s.nodeAfter:s.node(o),a=s.before(o);if(i.inlineContent)ku(t,Nt.create(r,a+1,a+1+i.content.size),"pointer");else if(Mt.isSelectable(i))ku(t,Mt.create(r,a),"pointer");else continue;return!0}}function GE(t){return Cv(t)}const ZV=As?"metaKey":"ctrlKey";Br.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=GE(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&COe(n,t.input.lastClick)&&!n[ZV]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o};let i=t.posAtCoords(hb(n));!i||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new IOe(t,i,n,!!r)):(o=="doubleClick"?TOe:_Oe)(t,i.pos,i.inside,n)?n.preventDefault():aa(t,"pointer"))};class IOe{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[ZV],this.allowDefault=r.shiftKey;let o,i;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),i=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,i=u.depth?u.before():0}const a=s?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Mt&&c.from<=i&&c.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&go&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),aa(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>hi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(hb(e))),this.updateAllowDefault(e),this.allowDefault||!n?aa(this.view,"pointer"):EOe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Lr&&this.mightDrag&&!this.mightDrag.node.isAtom||qr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ku(this.view,xt.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):aa(this.view,"pointer")}move(e){this.updateAllowDefault(e),aa(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Br.touchstart=t=>{t.input.lastTouch=Date.now(),GE(t),aa(t,"pointer")};Br.touchmove=t=>{t.input.lastTouch=Date.now(),aa(t,"pointer")};Br.contextmenu=t=>GE(t);function ez(t,e){return t.composing?!0:Lr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const MOe=Io?5e3:-1;Fr.compositionstart=Fr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Cv(t,!0),t.markCursor=null;else if(Cv(t),go&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let i=o<0?s.lastChild:s.childNodes[o-1];if(!i)break;if(i.nodeType==3){t.domSelection().collapse(i,i.nodeValue.length);break}else s=i,o=-1}}t.input.composing=!0}tz(t,MOe)};Fr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,tz(t,20))};function tz(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Cv(t),e))}function nz(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=AOe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function AOe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Cv(t,e=!1){if(!(Io&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),nz(t),e||t.docView&&t.docView.dirty){let n=UE(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function OOe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const sd=Zr&&va<15||rd&&NAe<604;Br.copy=Fr.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let o=sd?null:n.clipboardData,i=r.content(),{dom:a,text:l}=WV(t,i);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):OOe(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function NOe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function $Oe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?gC(t,r.value,null,e):gC(t,r.textContent,r.innerHTML,e)},50)}function gC(t,e,n,r){let s=qV(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,s||nt.empty)))return!0;if(!s)return!1;let o=NOe(s),i=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(s);return t.dispatch(i.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Fr.paste=(t,e)=>{let n=e;if(t.composing&&!Io)return;let r=sd?null:n.clipboardData;r&&gC(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():$Oe(t,n)};class ROe{constructor(e,n){this.slice=e,this.move=n}}const rz=As?"altKey":"ctrlKey";Br.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(hb(n));if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof Mt?s.to-1:s.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Mt.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&t.dispatch(t.state.tr.setSelection(Mt.create(t.state.doc,c.posBefore)))}}let i=t.state.selection.content(),{dom:a,text:l}=WV(t,i);n.dataTransfer.clearData(),n.dataTransfer.setData(sd?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",sd||n.dataTransfer.setData("text/plain",l),t.dragging=new ROe(i,!n[rz])};Br.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Fr.dragover=Fr.dragenter=(t,e)=>e.preventDefault();Fr.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(hb(n));if(!s)return;let o=t.state.doc.resolve(s.pos),i=r&&r.slice;i?t.someProp("transformPasted",m=>{i=m(i,t)}):i=qV(t,n.dataTransfer.getData(sd?"Text":"text/plain"),sd?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[rz]);if(t.someProp("handleDrop",m=>m(t,n,i||nt.empty,a))){n.preventDefault();return}if(!i)return;n.preventDefault();let l=i?CV(t.state.doc,o.pos,i):o.pos;l==null&&(l=o.pos);let c=t.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&Mt.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new Mt(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,v,y,C)=>m=C),c.setSelection(jE(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Br.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&hi(t)},20))};Br.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Br.beforeinput=(t,e)=>{if(qr&&Io&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,iu(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Fr)Br[t]=Fr[t];function Vh(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class YE{constructor(e,n){this.toDOM=e,this.spec=n||Fl,this.side=this.spec.side||0}map(e,n,r,s){let{pos:o,deleted:i}=e.mapResult(n.from+s,this.side<0?-1:1);return i?null:new Or(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof YE&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Vh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ya{constructor(e,n){this.attrs=e,this.spec=n||Fl}map(e,n,r,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,i=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=i?null:new Or(o,i,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ya&&Vh(this.attrs,e.attrs)&&Vh(this.spec,e.spec)}static is(e){return e.type instanceof ya}destroy(){}}class XE{constructor(e,n){this.attrs=e,this.spec=n||Fl}map(e,n,r,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let i=e.mapResult(n.to+s,-1);return i.deleted||i.pos<=o.pos?null:new Or(o.pos-r,i.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(r)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof XE&&Vh(this.attrs,e.attrs)&&Vh(this.spec,e.spec)}destroy(){}}class Or{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Or(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Or(e,e,new YE(n,r))}static inline(e,n,r,s){return new Or(e,n,new ya(r,s))}static node(e,n,r,s){return new Or(e,n,new XE(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof ya}}const Xc=[],Fl={};class An{constructor(e,n){this.local=e.length?e:Xc,this.children=n.length?n:Xc}static create(e,n){return n.length?Sv(n,e,0,Fl):fr}find(e,n,r){let s=[];return this.findInner(e==null?0:e,n==null?1e9:n,s,0,r),s}findInner(e,n,r,s,o){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<n&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,n-a,r,s+a,o)}}map(e,n,r){return this==fr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Fl)}mapInner(e,n,r,s,o){let i;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,s);l&&l.type.valid(n,l)?(i||(i=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?DOe(this.children,i||[],e,n,r,s,o):i?new An(i.sort(Vl),Xc):fr}add(e,n){return n.length?this==fr?An.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,o=0;e.forEach((a,l)=>{let c=l+r,u;if(!!(u=oz(n,a,c))){for(s||(s=this.children.slice());o<s.length&&s[o]<l;)o+=3;s[o]==l?s[o+2]=s[o+2].addInner(a,u,c+1):s.splice(o,0,l,l+a.nodeSize,Sv(u,a,c+1,Fl)),o+=3}});let i=sz(o?iz(n):n,-r);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||i.splice(a--,1);return new An(i.length?this.local.concat(i).sort(Vl):this.local,s||this.children)}remove(e){return e.length==0||this==fr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let i,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(i||(i=[])).push(d));if(!i)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(i,a+1);c!=fr?r[o+2]=c:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,i;o<e.length;o++)if(i=e[o])for(let a=0;a<s.length;a++)s[a].eq(i,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new An(s,r):fr}forChild(e,n){if(this==fr)return this;if(n.isLeaf)return An.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,i=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<i&&l.to>o&&l.type instanceof ya){let c=Math.max(o,l.from)-o,u=Math.min(i,l.to)-o;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new An(s.sort(Vl),Xc);return r?new ea([a,r]):a}return r||fr}eq(e){if(this==e)return!0;if(!(e instanceof An)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return JE(this.localsInner(e))}localsInner(e){if(this==fr)return Xc;if(e.inlineContent||!this.local.some(ya.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ya||n.push(this.local[r]);return n}}An.empty=new An([],[]);An.removeOverlap=JE;const fr=An.empty;class ea{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Fl));return ea.from(r)}forChild(e,n){if(n.isLeaf)return An.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=fr&&(o instanceof ea?r=r.concat(o.members):r.push(o))}return ea.from(r)}eq(e){if(!(e instanceof ea)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let i=0;i<o.length;i++)n.push(o[i])}}return n?JE(r?n:n.sort(Vl)):Xc}static from(e){switch(e.length){case 0:return fr;case 1:return e[0];default:return new ea(e)}}}function DOe(t,e,n,r,s,o,i){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,m,g)=>{let v=g-m-(p-f);for(let y=0;y<a.length;y+=3){let C=a[y+1];if(C<0||f>C+u-d)continue;let b=a[y]+u-d;p>=b?a[y+1]=f<=b?-2:-1:m>=s&&v&&(a[y]+=v,a[y+1]+=v)}d+=v}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-s;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),p=f-s,{index:m,offset:g}=r.content.findIndex(d),v=r.maybeChild(m);if(v&&g==d&&g+v.nodeSize==p){let y=a[c+2].mapInner(n,v,u+1,t[c]+o+1,i);y!=fr?(a[c]=d,a[c+1]=p,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=POe(a,t,e,n,s,o,i),u=Sv(c,r,0,i);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new An(e.sort(Vl),a)}function sz(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Or(s.from+e,s.to+e,s.type))}return n}function POe(t,e,n,r,s,o,i){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,s,c);d?n.push(d):i.onRemove&&i.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function oz(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let o=0,i;o<t.length;o++)(i=t[o])&&i.from>n&&i.to<r&&((s||(s=[])).push(i),t[o]=null);return s}function iz(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Sv(t,e,n,r){let s=[],o=!1;e.forEach((a,l)=>{let c=oz(t,a,l+n);if(c){o=!0;let u=Sv(c,a,n+l+1,r);u!=fr&&s.push(l,l+a.nodeSize,u)}});let i=sz(o?iz(t):t,-n).sort(Vl);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||(r.onRemove&&r.onRemove(i[a].spec),i.splice(a--,1));return i.length||s.length?new An(i,s):fr}function Vl(t,e){return t.from-e.from||t.to-e.to}function JE(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,r.to),LO(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),LO(e,s,r.copy(o.from,r.to)));break}}}return e}function LO(t,e,n){for(;e<t.length&&Vl(n,t[e])>0;)e++;t.splice(e,0,n)}function H0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=fr&&e.push(r)}),t.cursorWrapper&&e.push(An.create(t.state.doc,[t.cursorWrapper.deco])),ea.from(e)}const LOe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},BOe=Zr&&va<=11;class FOe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class VOe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new FOe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Zr&&va<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),BOe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,LOe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!AO(this.view)){if(this.suppressingSelectionUpdates)return hi(this.view);if(Zr&&va<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&cc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Fh(o))n.add(o);for(let o=e.anchorNode;o;o=Fh(o))if(n.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&AO(e)&&!this.ignoreSelectionChange(r),o=-1,i=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),i=i<0?d.to:Math.max(d.to,i),d.typeOver&&(a=!0))}if(go&&l.length>1){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let c=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&ub(r)&&(c=UE(e))&&c.eq(xt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,hi(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,i),zOe(e)),this.handleDOMChange(o,i,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||hi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++)n.push(e.addedNodes[u]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Zr&&va<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let i=s&&s.parentNode==e.target?ds(s)+1:0,a=r.localPosFromDOM(e.target,i,-1),l=o&&o.parentNode==e.target?ds(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let BO=new WeakMap,FO=!1;function zOe(t){if(!BO.has(t)&&(BO.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=go,FO)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),FO=!0}}function HOe(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,s=e.startOffset,o=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return cc(a.node,a.offset,o,i)&&([r,s,o,i]=[o,i,r,s]),{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:i}}function KOe(t,e,n){let{node:r,fromOffset:s,toOffset:o,from:i,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],ub(l)||c.push({node:l.focusNode,offset:l.focusOffset})),qr&&t.input.lastKeyCode===8)for(let v=o;v>s;v--){let y=r.childNodes[v-1],C=y.pmViewDesc;if(y.nodeName=="BR"&&!C){o=v;break}if(!C||C.size)break}let d=t.state.doc,f=t.someProp("domParser")||ed.fromSchema(t.state.schema),p=d.resolve(i),m=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:UOe,context:p});if(c&&c[0].pos!=null){let v=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=v),m={anchor:v+i,head:y+i}}return{doc:g,sel:m,from:i,to:a}}function UOe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Lr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Lr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function jOe(t,e,n,r,s){if(e<0){let x=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,N=UE(t,x);if(N&&!t.state.selection.eq(N)){let R=t.state.tr.setSelection(N);x=="pointer"?R.setMeta("pointer",!0):x=="key"&&R.scrollIntoView(),t.dispatch(R)}return}let o=t.state.doc.resolve(e),i=o.sharedDepth(n);e=o.before(i+1),n=t.state.doc.resolve(n).after(i+1);let a=t.state.selection,l=KOe(t,e,n),c=t.state.doc,u=c.slice(l.from,l.to),d,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,f="end"):(d=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let p=GOe(u.content,l.doc.content,l.from,d,f);if((rd&&t.input.lastIOSEnter>Date.now()-225||Io)&&s.some(x=>x.nodeName=="DIV"||x.nodeName=="P"||x.nodeName=="LI")&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",x=>x(t,iu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof Nt&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let x=VO(t,t.state.doc,l.sel);x&&!x.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(x))}return}if(qr&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let x=p.endB-p.start;l.sel={anchor:l.sel.anchor+x,head:l.sel.anchor+x}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Nt&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Zr&&va<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" \xA0"&&(p.start--,p.endA--,p.endB--);let m=l.doc.resolveNoCache(p.start-l.from),g=l.doc.resolveNoCache(p.endB-l.from),v=c.resolve(p.start),y=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=p.endA,C;if((rd&&t.input.lastIOSEnter>Date.now()-225&&(!y||s.some(x=>x.nodeName=="DIV"||x.nodeName=="P"))||!y&&m.pos<l.doc.content.size&&(C=xt.findFrom(l.doc.resolve(m.pos+1),1,!0))&&C.head==g.pos)&&t.someProp("handleKeyDown",x=>x(t,iu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&qOe(c,p.start,p.endA,m,g)&&t.someProp("handleKeyDown",x=>x(t,iu(8,"Backspace")))){Io&&qr&&t.domObserver.suppressSelectionUpdates();return}qr&&Io&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Io&&!y&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,g=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(x){return x(t,iu(13,"Enter"))})},20));let b=p.start,w=p.endA,S,k,A;if(y){if(m.pos==g.pos)Zr&&va<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>hi(t),20)),S=t.state.tr.delete(b,w),k=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(A=WOe(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))S=t.state.tr,A.type=="add"?S.addMark(b,w,A.mark):S.removeMark(b,w,A.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let x=m.parent.textBetween(m.parentOffset,g.parentOffset);if(t.someProp("handleTextInput",N=>N(t,b,w,x)))return;S=t.state.tr.insertText(x,b,w)}}if(S||(S=t.state.tr.replace(b,w,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let x=VO(t,S.doc,l.sel);x&&!(qr&&Io&&t.composing&&x.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(x.head==b||x.head==S.mapping.map(w)-1)||Zr&&x.empty&&x.head==b)&&S.setSelection(x)}k&&S.ensureMarks(k),t.dispatch(S.scrollIntoView())}function VO(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:jE(t,e.resolve(n.anchor),e.resolve(n.head))}function WOe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,o=r,i,a,l;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(s.length==1&&o.length==0)a=s[0],i="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&o.length==1)a=o[0],i="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(qe.from(c).eq(t))return{mark:a,type:i}}function qOe(t,e,n,r,s){if(!r.parent.isTextblock||n-e<=s.pos-r.pos||K0(r,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let i=t.resolve(K0(o,!0,!0));return!i.parent.isTextblock||i.pos>n||K0(i,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function K0(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function GOe(t,e,n,r,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:i,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let l=Math.max(0,o-Math.min(i,a));r-=i+l-o}return i<o&&t.size<e.size?(o-=r<=o&&r>=i?o-r:0,a=o+(a-i),i=o):a<o&&(o-=r<=o&&r>=a?o-r:0,i=o+(i-a),a=o),{start:o,endA:i,endB:a}}class YOe{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new gOe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(jO),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=KO(this),HO(this),this.nodeViews=UO(this),this.docView=EO(this.state.doc,zO(this),H0(this),this.dom,this),this.domObserver=new VOe(this,(r,s,o,i)=>jOe(this,r,s,o,i)),this.domObserver.start(),vOe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&mC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(jO),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(nz(this),o=!0),this.state=e;let i=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(i||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=UO(this);JOe(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(i||n.handleDOMEvents!=this._props.handleDOMEvents)&&mC(this),this.editable=KO(this),HO(this);let a=H0(this),l=zO(this),c=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=s||!this.docView.matchesNode(e.doc,l,a);(u||!e.selection.eq(r.selection))&&(o=!0);let d=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&DAe(this);if(o){this.domObserver.stop();let f=u&&(Zr||qr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&XOe(r.selection,e.selection);if(u){let p=qr?this.trackWrites=this.domSelectionRange().focusNode:null;(s||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=EO(e.doc,l,a,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&iOe(this))?hi(this,f):(KV(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&PAe(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Mt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&bO(this,n.getBoundingClientRect(),e)}else bO(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let i=0;i<this.directPlugins.length;i++){let a=this.directPlugins[i].props[e];if(a!=null&&(s=n?n(a):a))return s}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let a=o[i].props[e];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(Zr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&LAe(this.dom),hi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return HAe(this,e)}coordsAtPos(e,n=1){return DV(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return qAe(this,n||this.state,e)}destroy(){!this.docView||(yOe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],H0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return wOe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Lr&&this.root.nodeType===11&&AAe(this.dom.ownerDocument)==this.dom?HOe(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function zO(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[Or.node(0,t.state.doc.content.size,e)]}function HO(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Or.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function KO(t){return!t.someProp("editable",e=>e(t.state)===!1)}function XOe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function UO(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function JOe(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function jO(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Oa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},WO=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var QOe=typeof navigator<"u"&&/Mac/.test(navigator.platform),ZOe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),eNe=QOe||WO&&+WO[1]<57;for(var sr=0;sr<10;sr++)Oa[48+sr]=Oa[96+sr]=String(sr);for(var sr=1;sr<=24;sr++)Oa[sr+111]="F"+sr;for(var sr=65;sr<=90;sr++)Oa[sr]=String.fromCharCode(sr+32),kv[sr]=String.fromCharCode(sr);for(var U0 in Oa)kv.hasOwnProperty(U0)||(kv[U0]=Oa[U0]);function tNe(t){var e=eNe&&(t.ctrlKey||t.altKey||t.metaKey)||ZOe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?kv:Oa)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const nNe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function rNe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,o,i;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))nNe?i=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),i&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function sNe(t){let e=Object.create(null);for(let n in t)e[rNe(n)]=t[n];return e}function j0(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function oNe(t){return new dr({props:{handleKeyDown:QE(t)}})}function QE(t){let e=sNe(t);return function(n,r){let s=tNe(r),o=s.length==1&&s!=" ",i,a=e[j0(s,r,!o)];if(a&&a(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=Oa[r.keyCode])&&i!=s){let l=e[j0(i,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){let l=e[j0(s,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}return!1}}const iNe=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),aNe=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;let s=az(r);if(!s){let i=r.blockRange(),a=i&&xd(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)}let o=s.nodeBefore;if(!o.type.spec.isolating&&uz(t,s,e))return!0;if(r.parent.content.size==0&&(od(o,"end")||Mt.isSelectable(o))){let i=zE(t.doc,r.before(),r.after(),nt.empty);if(i&&i.slice.size<i.to-i.from){if(e){let a=t.tr.step(i);a.setSelection(od(o,"end")?xt.findFrom(a.doc.resolve(a.mapping.map(s.pos,-1)),-1):Mt.create(a.doc,s.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1};function od(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const lNe=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=az(r)}let i=o&&o.nodeBefore;return!i||!Mt.isSelectable(i)?!1:(e&&e(t.tr.setSelection(Mt.create(t.doc,o.pos-i.nodeSize)).scrollIntoView()),!0)};function az(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const cNe=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;let s=lz(r);if(!s)return!1;let o=s.nodeAfter;if(uz(t,s,e))return!0;if(r.parent.content.size==0&&(od(o,"start")||Mt.isSelectable(o))){let i=zE(t.doc,r.before(),r.after(),nt.empty);if(i&&i.slice.size<i.to-i.from){if(e){let a=t.tr.step(i);a.setSelection(od(o,"start")?xt.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):Mt.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},uNe=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=lz(r)}let i=o&&o.nodeAfter;return!i||!Mt.isSelectable(i)?!1:(e&&e(t.tr.setSelection(Mt.create(t.doc,o.pos)).scrollIntoView()),!0)};function lz(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const dNe=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),o=s&&xd(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},fNe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function cz(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const hNe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),o=n.indexAfter(-1),i=cz(s.contentMatchAt(o));if(!i||!s.canReplaceWith(o,o,i))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,i.createAndFill());l.setSelection(xt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},pNe=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof lo||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=cz(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let i=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=t.tr.insert(i,o.createAndFill());a.setSelection(Nt.create(a.doc,i+1)),e(a.scrollIntoView())}return!0},mNe=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Cu(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),s=r&&xd(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},gNe=(t,e)=>{let{$from:n,to:r}=t.selection,s,o=n.sharedDepth(r);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(Mt.create(t.doc,s))),!0)};function vNe(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||Id(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function uz(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,o,i;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(vNe(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(i=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&i.matchType(o[0]||s.type).validEnd){if(n){let d=e.pos+s.nodeSize,f=qe.empty;for(let g=o.length-1;g>=0;g--)f=qe.from(o[g].create(null,f));f=qe.from(r.copy(f));let p=t.tr.step(new Wn(e.pos-1,d,e.pos,d,new nt(f,1,0),o.length,!0)),m=d+2*o.length;Id(p.doc,m)&&p.join(m),n(p.scrollIntoView())}return!0}let l=xt.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&xd(c);if(u!=null&&u>=e.depth)return n&&n(t.tr.lift(c,u).scrollIntoView()),!0;if(a&&od(s,"start",!0)&&od(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let p=s,m=1;for(;!p.isTextblock;p=p.firstChild)m++;if(d.canReplace(d.childCount,d.childCount,p.content)){if(n){let g=qe.empty;for(let y=f.length-1;y>=0;y--)g=qe.from(f[y].copy(g));let v=t.tr.step(new Wn(e.pos-f.length,e.pos+s.nodeSize,e.pos+m,e.pos+s.nodeSize-m,new nt(g,f.length,0),0,!0));n(v.scrollIntoView())}return!0}}return!1}function dz(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection(Nt.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const yNe=dz(-1),bNe=dz(1);function wNe(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,i=s.blockRange(o),a=i&&VE(i,t,e);return a?(r&&r(n.tr.wrap(i,a).scrollIntoView()),!0):!1}}function qO(t,e=null){return function(n,r){let{from:s,to:o}=n.selection,i=!1;return n.doc.nodesBetween(s,o,(a,l)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(l),u=c.index();i=c.parent.canReplaceWith(u,u+1,t)}}),i?(r&&r(n.tr.setBlockType(s,o,t,e).scrollIntoView()),!0):!1}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function CNe(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,i=s.blockRange(o),a=!1,l=i;if(!i)return!1;if(i.depth>=2&&s.node(i.depth-1).type.compatibleContent(t)&&i.startIndex==0){if(s.index(i.depth-1)==0)return!1;let u=n.doc.resolve(i.start-2);l=new mv(u,u,i.depth),i.endIndex<i.parent.childCount&&(i=new mv(s,n.doc.resolve(o.end(i.depth)),i.depth)),a=!0}let c=VE(l,t,e,i);return c?(r&&r(SNe(n.tr,i,c,a,t).scrollIntoView()),!0):!1}}function SNe(t,e,n,r,s){let o=qe.empty;for(let u=n.length-1;u>=0;u--)o=qe.from(n[u].type.create(n[u].attrs,o));t.step(new Wn(e.start-(r?2:0),e.end,e.start,e.end,new nt(o,0,0),n.length,!0));let i=0;for(let u=0;u<n.length;u++)n[u].type==s&&(i=u+1);let a=n.length-i,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Cu(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function kNe(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,i=>i.childCount>0&&i.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?ENe(e,n,t,o):TNe(e,n,o):!0:!1}}function ENe(t,e,n,r){let s=t.tr,o=r.end,i=r.$to.end(r.depth);o<i&&(s.step(new Wn(o-1,i,o,i,new nt(qe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new mv(s.doc.resolve(r.$from.pos),s.doc.resolve(i),r.depth));const a=xd(r);if(a==null)return!1;s.lift(r,a);let l=s.mapping.map(o,-1)-1;return Id(s.doc,l)&&s.join(l),e(s.scrollIntoView()),!0}function TNe(t,e,n){let r=t.tr,s=n.parent;for(let p=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)p-=s.child(m).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(n.start),i=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==s.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,i.content.append(l?qe.empty:qe.from(s))))return!1;let d=o.pos,f=d+i.nodeSize;return r.step(new Wn(d-(a?1:0),f+(l?1:0),d+1,f-1,new nt((a?qe.empty:qe.from(s.copy(qe.empty))).append(l?qe.empty:qe.from(s.copy(qe.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function _Ne(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let i=o.startIndex;if(i==0)return!1;let a=o.parent,l=a.child(i-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=qe.from(c?t.create():null),d=new nt(qe.from(t.create(null,qe.from(a.type.create(null,u)))),c?3:1,0),f=o.start,p=o.end;n(e.tr.step(new Wn(f-(c?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}function pb(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,o=n.storedMarks,n}}}class mb{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:o}=r,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:o}=this,{view:i}=s,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...g)=>{const v=this.buildProps(c,n),y=p(...g)(v);return a.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,s=!1,o=e||r.tr,i=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:o}=this,{view:i}=s;o.storedMarks&&e.setStoredMarks(o.storedMarks);const a={tr:e,editor:s,view:i,state:pb({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class xNe{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ct(t,e,n){return t.config[e]===void 0&&t.parent?ct(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ct(t.parent,e,n):null}):t.config[e]}function gb(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function fz(t){const e=[],{nodeExtensions:n,markExtensions:r}=gb(t),s=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},l=ct(i,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...o,...p}})})})})}),s.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},l=ct(i,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...o,...d};(d==null?void 0:d.isRequired)&&(d==null?void 0:d.default)===void 0&&delete f.default,e.push({type:i.name,name:u,attribute:f})})}),e}function Jn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Ln(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}s==="class"?r[s]=[r[s],o].join(" "):s==="style"?r[s]=[r[s],o].join("; "):r[s]=o}),r},{})}function vC(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ln(n,r),{})}function hz(t){return typeof t=="function"}function Ht(t,e=void 0,...n){return hz(t)?e?t.bind(e)(...n):t(...n):t}function INe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function MNe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function GO(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((o,i)=>{const a=i.attribute.parseHTML?i.attribute.parseHTML(n):MNe(n.getAttribute(i.name));return a==null?o:{...o,[i.name]:a}},{});return{...r,...s}}}}function YO(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&INe(n)?!1:n!=null))}function ANe(t){var e;const n=fz(t),{nodeExtensions:r,markExtensions:s}=gb(t),o=(e=r.find(l=>ct(l,"topNode")))===null||e===void 0?void 0:e.name,i=Object.fromEntries(r.map(l=>{const c=n.filter(v=>v.type===l.name),u={name:l.name,options:l.options,storage:l.storage},d=t.reduce((v,y)=>{const C=ct(y,"extendNodeSchema",u);return{...v,...C?C(l):{}}},{}),f=YO({...d,content:Ht(ct(l,"content",u)),marks:Ht(ct(l,"marks",u)),group:Ht(ct(l,"group",u)),inline:Ht(ct(l,"inline",u)),atom:Ht(ct(l,"atom",u)),selectable:Ht(ct(l,"selectable",u)),draggable:Ht(ct(l,"draggable",u)),code:Ht(ct(l,"code",u)),defining:Ht(ct(l,"defining",u)),isolating:Ht(ct(l,"isolating",u)),attrs:Object.fromEntries(c.map(v=>{var y;return[v.name,{default:(y=v==null?void 0:v.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Ht(ct(l,"parseHTML",u));p&&(f.parseDOM=p.map(v=>GO(v,c)));const m=ct(l,"renderHTML",u);m&&(f.toDOM=v=>m({node:v,HTMLAttributes:vC(v,c)}));const g=ct(l,"renderText",u);return g&&(f.toText=g),[l.name,f]})),a=Object.fromEntries(s.map(l=>{const c=n.filter(g=>g.type===l.name),u={name:l.name,options:l.options,storage:l.storage},d=t.reduce((g,v)=>{const y=ct(v,"extendMarkSchema",u);return{...g,...y?y(l):{}}},{}),f=YO({...d,inclusive:Ht(ct(l,"inclusive",u)),excludes:Ht(ct(l,"excludes",u)),group:Ht(ct(l,"group",u)),spanning:Ht(ct(l,"spanning",u)),code:Ht(ct(l,"code",u)),attrs:Object.fromEntries(c.map(g=>{var v;return[g.name,{default:(v=g==null?void 0:g.attribute)===null||v===void 0?void 0:v.default}]}))}),p=Ht(ct(l,"parseHTML",u));p&&(f.parseDOM=p.map(g=>GO(g,c)));const m=ct(l,"renderHTML",u);return m&&(f.toDOM=g=>m({mark:g,HTMLAttributes:vC(g,c)})),[l.name,f]}));return new GMe({topNode:o,nodes:i,marks:a})}function W0(t,e){return e.nodes[t]||e.marks[t]||null}function XO(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const ONe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,o,i,a)=>{var l,c;n+=(((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:o,parent:i,index:a}))||s.textContent||"%leaf%").slice(0,Math.max(0,r-o))}),n};function ZE(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class vb{constructor(e){this.find=e.find,this.handler=e.handler}}const NNe=(t,e)=>{if(ZE(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function q0(t){var e;const{editor:n,from:r,to:s,text:o,rules:i,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!!(!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code)))return!1;let u=!1;const d=ONe(c)+o;return i.forEach(f=>{if(u)return;const p=NNe(d,f.find);if(!p)return;const m=l.state.tr,g=pb({state:l.state,transaction:m}),v={from:r-(p[0].length-o.length),to:s},{commands:y,chain:C,can:b}=new mb({editor:n,state:g});f.handler({state:g,range:v,match:p,commands:y,chain:C,can:b})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:s,text:o}),l.dispatch(m),u=!0)}),u}function $Ne(t){const{editor:e,rules:n}=t,r=new dr({state:{init(){return null},apply(s,o){const i=s.getMeta(r);return i||(s.selectionSet||s.docChanged?null:o)}},props:{handleTextInput(s,o,i,a){return q0({editor:e,from:o,to:i,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&q0({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:i}=s.state.selection;return i?q0({editor:e,from:i.pos,to:i.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function RNe(t){return typeof t=="number"}class DNe{constructor(e){this.find=e.find,this.handler=e.handler}}const PNe=(t,e)=>{if(ZE(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const s=[];return s.push(r.text),s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function LNe(t){const{editor:e,state:n,from:r,to:s,rule:o}=t,{commands:i,chain:a,can:l}=new mb({editor:e,state:n}),c=[];return n.doc.nodesBetween(r,s,(d,f)=>{if(!d.isTextblock||d.type.spec.code)return;const p=Math.max(r,f),m=Math.min(s,f+d.content.size),g=d.textBetween(p-f,m-f,void 0,"\uFFFC");PNe(g,o.find).forEach(y=>{if(y.index===void 0)return;const C=p+y.index+1,b=C+y[0].length,w={from:n.tr.mapping.map(C),to:n.tr.mapping.map(b)},S=o.handler({state:n,range:w,match:y,commands:i,chain:a,can:l});c.push(S)})}),c.every(d=>d!==null)}function BNe(t){const{editor:e,rules:n}=t;let r=null,s=!1,o=!1;return n.map(a=>new dr({view(l){const c=u=>{var d;r=!((d=l.dom.parentElement)===null||d===void 0)&&d.contains(u.target)?l.dom.parentElement:null};return window.addEventListener("dragstart",c),{destroy(){window.removeEventListener("dragstart",c)}}},props:{handleDOMEvents:{drop:l=>(o=r===l.dom.parentElement,!1),paste:(l,c)=>{var u;const d=(u=c.clipboardData)===null||u===void 0?void 0:u.getData("text/html");return s=!!(d!=null&&d.includes("data-pm-slice")),!1}}},appendTransaction:(l,c,u)=>{const d=l[0],f=d.getMeta("uiEvent")==="paste"&&!s,p=d.getMeta("uiEvent")==="drop"&&!o;if(!f&&!p)return;const m=c.doc.content.findDiffStart(u.doc.content),g=c.doc.content.findDiffEnd(u.doc.content);if(!RNe(m)||!g||m===g.b)return;const v=u.tr,y=pb({state:u,transaction:v});if(!(!LNe({editor:e,state:y,from:Math.max(m-1,0),to:g.b-1,rule:a})||!v.steps.length))return v}}))}function FNe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class lu{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=lu.resolve(e),this.schema=ANe(this.extensions),this.extensions.forEach(r=>{var s;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:W0(r.name,this.schema)};r.type==="mark"&&((s=Ht(ct(r,"keepOnSplit",o)))!==null&&s!==void 0?s:!0)&&this.splittableMarks.push(r.name);const i=ct(r,"onBeforeCreate",o);i&&this.editor.on("beforeCreate",i);const a=ct(r,"onCreate",o);a&&this.editor.on("create",a);const l=ct(r,"onUpdate",o);l&&this.editor.on("update",l);const c=ct(r,"onSelectionUpdate",o);c&&this.editor.on("selectionUpdate",c);const u=ct(r,"onTransaction",o);u&&this.editor.on("transaction",u);const d=ct(r,"onFocus",o);d&&this.editor.on("focus",d);const f=ct(r,"onBlur",o);f&&this.editor.on("blur",f);const p=ct(r,"onDestroy",o);p&&this.editor.on("destroy",p)})}static resolve(e){const n=lu.sort(lu.flatten(e)),r=FNe(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=ct(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const o=ct(r,"priority")||100,i=ct(s,"priority")||100;return o>i?-1:o<i?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:W0(n.name,this.schema)},s=ct(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=lu.sort([...this.extensions].reverse()),r=[],s=[],o=n.map(i=>{const a={name:i.name,options:i.options,storage:i.storage,editor:e,type:W0(i.name,this.schema)},l=[],c=ct(i,"addKeyboardShortcuts",a);let u={};if(i.type==="mark"&&i.config.exitable&&(u.ArrowRight=()=>Na.handleExit({editor:e,mark:i})),c){const g=Object.fromEntries(Object.entries(c()).map(([v,y])=>[v,()=>y({editor:e})]));u={...u,...g}}const d=oNe(u);l.push(d);const f=ct(i,"addInputRules",a);XO(i,e.options.enableInputRules)&&f&&r.push(...f());const p=ct(i,"addPasteRules",a);XO(i,e.options.enablePasteRules)&&p&&s.push(...p());const m=ct(i,"addProseMirrorPlugins",a);if(m){const g=m();l.push(...g)}return l}).flat();return[$Ne({editor:e,rules:r}),...BNe({editor:e,rules:s}),...o]}get attributes(){return fz(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=gb(this.extensions);return Object.fromEntries(n.filter(r=>!!ct(r,"addNodeView")).map(r=>{const s=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Jn(r.name,this.schema)},i=ct(r,"addNodeView",o);if(!i)return[];const a=(l,c,u,d)=>{const f=vC(l,s);return i()({editor:e,node:l,getPos:u,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,a]}))}}function VNe(t){return Object.prototype.toString.call(t).slice(8,-1)}function G0(t){return VNe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function yb(t,e){const n={...t};return G0(t)&&G0(e)&&Object.keys(e).forEach(r=>{G0(e[r])?r in t?n[r]=yb(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Vr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ht(ct(this,"addOptions",{name:this.name}))),this.storage=Ht(ct(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vr(e)}configure(e={}){const n=this.extend();return n.options=yb(this.options,e),n.storage=Ht(ct(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Vr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ht(ct(n,"addOptions",{name:n.name})),n.storage=Ht(ct(n,"addStorage",{name:n.name,options:n.options})),n}}function pz(t,e,n){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:i={}}=n||{};let a="",l=!0;return t.nodesBetween(r,s,(c,u,d,f)=>{var p;const m=i==null?void 0:i[c.type.name];m?(c.isBlock&&!l&&(a+=o,l=!0),d&&(a+=m({node:c,pos:u,parent:d,index:f,range:e}))):c.isText?(a+=(p=c==null?void 0:c.text)===null||p===void 0?void 0:p.slice(Math.max(r,u)-u,s-u),l=!1):c.isBlock&&!l&&(a+=o,l=!0)}),a}function mz(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const zNe=Vr.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new dr({key:new ls("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:o}=s,i=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=mz(n);return pz(r,{from:i,to:a},{textSerializers:l})}}})]}}),HNe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),KNe=(t=!1)=>({commands:e})=>e.setContent("",t),UNe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:o,$to:i})=>{t.doc.nodesBetween(o.pos,i.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(f);if(!p)return;const m=xd(p);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(m||m===0)&&e.lift(p,m)})}),!0},jNe=t=>e=>t(e),WNe=()=>({state:t,dispatch:e})=>pNe(t,e),qNe=t=>({tr:e,state:n,dispatch:r})=>{const s=Jn(t,n.schema),o=e.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===s){if(r){const l=o.before(i),c=o.after(i);e.delete(l,c).scrollIntoView()}return!0}return!1},GNe=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},YNe=()=>({state:t,dispatch:e})=>iNe(t,e),XNe=()=>({commands:t})=>t.keyboardShortcut("Enter"),JNe=()=>({state:t,dispatch:e})=>hNe(t,e);function Ev(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:ZE(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function yC(t,e,n={}){return t.find(r=>r.type===e&&Ev(r.attrs,n))}function QNe(t,e,n={}){return!!yC(t,e,n)}function eT(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const s=yC([...r.node.marks],e,n);if(!s)return;let o=r.index,i=t.start()+r.offset,a=o+1,l=i+r.node.nodeSize;for(yC([...r.node.marks],e,n);o>0&&s.isInSet(t.parent.child(o-1).marks);)o-=1,i-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&QNe([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:i,to:l}}function Wa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const ZNe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const o=Wa(t,r.schema),{doc:i,selection:a}=n,{$from:l,from:c,to:u}=a;if(s){const d=eT(l,o,e);if(d&&d.from<=c&&d.to>=u){const f=Nt.create(i,d.from,d.to);n.setSelection(f)}}return!0},e2e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function tT(t){return t instanceof Nt}function ai(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function gz(t,e=null){if(!e)return null;const n=xt.atStart(t),r=xt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,o=r.to;return e==="all"?Nt.create(t,ai(0,s,o),ai(t.content.size,s,o)):Nt.create(t,ai(e,s,o),ai(e,s,o))}function nT(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const t2e=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const i=()=>{nT()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!tT(n.state.selection))return i(),!0;const a=gz(s.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),i()),!0},n2e=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),r2e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function JO(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Tv(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)?qe.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Tv("",e,n)}if(typeof t=="string"){const r=ed.fromSchema(e);return n.slice?r.parseSlice(JO(t),n.parseOptions).content:r.parse(JO(t),n.parseOptions)}return Tv("",e,n)}function s2e(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof hr||s instanceof Wn))return;const o=t.mapping.maps[r];let i=0;o.forEach((a,l,c,u)=>{i===0&&(i=u)}),t.setSelection(xt.near(t.doc.resolve(i),n))}const o2e=t=>t.toString().startsWith("<"),i2e=(t,e,n)=>({tr:r,dispatch:s,editor:o})=>{if(s){n={parseOptions:{},updateSelection:!0,...n};const i=Tv(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(i.toString()==="<>")return!0;let{from:a,to:l}=typeof t=="number"?{from:t,to:t}:t,c=!0,u=!0;if((o2e(i)?i:[i]).forEach(f=>{f.check(),c=c?f.isText&&f.marks.length===0:!1,u=u?f.isBlock:!1}),a===l&&u){const{parent:f}=r.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,l+=1)}c?r.insertText(e,a,l):r.replaceWith(a,l,i),n.updateSelection&&s2e(r,r.steps.length-1,-1)}return!0},a2e=()=>({state:t,dispatch:e})=>aNe(t,e),l2e=()=>({state:t,dispatch:e})=>cNe(t,e);function vz(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function c2e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,o,i;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))nT()||vz()?i=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),i&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const u2e=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const o=c2e(t).split(/-(?!$)/),i=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&s&&r.maybeStep(u)}),!0};function zh(t,e,n={}){const{from:r,to:s,empty:o}=t.selection,i=e?Jn(e,t.schema):null,a=[];t.doc.nodesBetween(r,s,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(s,f+d.nodeSize);a.push({node:d,from:p,to:m})});const l=s-r,c=a.filter(d=>i?i.name===d.node.type.name:!0).filter(d=>Ev(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const d2e=(t,e={})=>({state:n,dispatch:r})=>{const s=Jn(t,n.schema);return zh(n,s,e)?dNe(n,r):!1},f2e=()=>({state:t,dispatch:e})=>mNe(t,e),h2e=t=>({state:e,dispatch:n})=>{const r=Jn(t,e.schema);return kNe(r)(e,n)},p2e=()=>({state:t,dispatch:e})=>fNe(t,e);function bb(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function QO(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const m2e=(t,e)=>({tr:n,state:r,dispatch:s})=>{let o=null,i=null;const a=bb(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=Jn(t,r.schema)),a==="mark"&&(i=Wa(t,r.schema)),s&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,QO(c.attrs,e)),i&&c.marks.length&&c.marks.forEach(d=>{i===d.type&&n.addMark(u,u+c.nodeSize,i.create(QO(d.attrs,e)))})})}),!0):!1},g2e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),v2e=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),y2e=()=>({state:t,dispatch:e})=>lNe(t,e),b2e=()=>({state:t,dispatch:e})=>uNe(t,e),w2e=()=>({state:t,dispatch:e})=>gNe(t,e),C2e=()=>({state:t,dispatch:e})=>bNe(t,e),S2e=()=>({state:t,dispatch:e})=>yNe(t,e);function yz(t,e,n={}){return Tv(t,e,{slice:!1,parseOptions:n})}const k2e=(t,e=!1,n={})=>({tr:r,editor:s,dispatch:o})=>{const{doc:i}=r,a=yz(t,s.schema,n);return o&&r.replaceWith(0,i.content.size,a).setMeta("preventUpdate",!e),!0};function E2e(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function bC(t,e){const n=[];return t.descendants((r,s)=>{e(r)&&n.push({node:r,pos:s})}),n}function bz(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function rT(t){return e=>bz(e.$from,t)}function T2e(t,e){const n=Do.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function _2e(t,e){const n={from:0,to:t.content.size};return pz(t,n,e)}function wz(t,e){const n=Wa(e,t.schema),{from:r,to:s,empty:o}=t.selection,i=[];o?(t.storedMarks&&i.push(...t.storedMarks),i.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,l=>{i.push(...l.marks)});const a=i.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function x2e(t,e){const n=Jn(e,t.schema),{from:r,to:s}=t.selection,o=[];t.doc.nodesBetween(r,s,a=>{o.push(a)});const i=o.reverse().find(a=>a.type.name===n.name);return i?{...i.attrs}:{}}function I2e(t,e){const n=bb(typeof e=="string"?e:e.name,t.schema);return n==="node"?x2e(t,e):n==="mark"?wz(t,e):{}}function Cz(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t-1),i=eT(o,s.type);!i||r.push({mark:s,...i})}):n.nodesBetween(t,e,(s,o)=>{r.push(...s.marks.map(i=>({from:o,to:o+s.nodeSize,mark:i})))}),r}function wC(t,e,n={}){const{empty:r,ranges:s}=t.selection,o=e?Wa(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>Ev(d.attrs,n,{strict:!1}));let i=0;const a=[];if(s.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;t.doc.nodesBetween(p,m,(g,v)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(p,v),C=Math.min(m,v+g.nodeSize);i+=C-y,a.push(...g.marks.map(w=>({mark:w,from:y,to:C})))})}),i===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>Ev(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=i}function M2e(t,e,n={}){if(!e)return zh(t,null,n)||wC(t,null,n);const r=bb(e,t.schema);return r==="node"?zh(t,e,n):r==="mark"?wC(t,e,n):!1}function ZO(t,e){const{nodeExtensions:n}=gb(e),r=n.find(i=>i.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=Ht(ct(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function A2e(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function O2e(t){return t instanceof Mt}function Sz(t,e,n){const s=t.state.doc.content.size,o=ai(e,0,s),i=ai(n,0,s),a=t.coordsAtPos(o),l=t.coordsAtPos(i,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),f=Math.max(a.right,l.right),p=f-d,m=u-c,y={top:c,bottom:u,left:d,right:f,width:p,height:m,x:d,y:c};return{...y,toJSON:()=>y}}function N2e(t,e,n){var r;const{selection:s}=e;let o=null;if(tT(s)&&(o=s.$cursor),o){const a=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:i}=s;return i.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=p&&m}return!c}),c})}const $2e=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:o}=n,{empty:i,ranges:a}=o,l=Wa(t,r.schema);if(s)if(i){const c=wz(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),g=Math.min(p+f.nodeSize,d);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&n.addMark(m,g,l.create({...y.attrs,...e}))}):n.addMark(m,g,l.create(e))})});return N2e(r,n,l)},R2e=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),D2e=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const o=Jn(t,n.schema);return o.isTextblock?s().command(({commands:i})=>qO(o,e)(n)?!0:i.clearNodes()).command(({state:i})=>qO(o,e)(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},P2e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=ai(t,0,r.content.size),o=Mt.create(r,s);e.setSelection(o)}return!0},L2e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,i=Nt.atStart(r).from,a=Nt.atEnd(r).to,l=ai(s,i,a),c=ai(o,i,a),u=Nt.create(r,l,c);e.setSelection(u)}return!0},B2e=t=>({state:e,dispatch:n})=>{const r=Jn(t,e.schema);return _Ne(r)(e,n)};function gg(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}function eN(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const F2e=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:o,doc:i}=e,{$from:a,$to:l}=o,c=s.extensionManager.attributes,u=gg(c,a.node().type.name,a.node().attrs);if(o instanceof Mt&&o.node.isBlock)return!a.parentOffset||!Cu(i,a.pos)?!1:(r&&(t&&eN(n,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const d=l.parentOffset===l.parent.content.size;o instanceof Nt&&e.deleteSelection();const f=a.depth===0?void 0:E2e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=Cu(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&Cu(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),m&&(e.split(e.mapping.map(a.pos),1,p),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),v=e.doc.resolve(g);a.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&eN(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},V2e=t=>({tr:e,state:n,dispatch:r,editor:s})=>{var o;const i=Jn(t,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==i)return!1;const d=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==i||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let v=qe.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let A=a.depth-y;A>=a.depth-3;A-=1)v=qe.from(a.node(A).copy(v));const C=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,b=gg(d,a.node().type.name,a.node().attrs),w=((o=i.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(b))||void 0;v=v.append(qe.from(i.createAndFill(null,w)||void 0));const S=a.before(a.depth-(y-1));e.replace(S,a.after(-C),new nt(v,4-y,0));let k=-1;e.doc.nodesBetween(S,e.doc.content.size,(A,x)=>{if(k>-1)return!1;A.isTextblock&&A.content.size===0&&(k=x+1)}),k>-1&&e.setSelection(Nt.near(e.doc.resolve(k))),e.scrollIntoView()}return!0}const f=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,p=gg(d,u.type.name,u.attrs),m=gg(d,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const g=f?[{type:i,attrs:p},{type:f,attrs:m}]:[{type:i,attrs:p}];return Cu(e.doc,a.pos,2)?(r&&e.split(a.pos,2,g).scrollIntoView(),!0):!1},tN=(t,e)=>{const n=rT(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Id(t.doc,n.pos)&&t.join(n.pos),!0},nN=(t,e)=>{const n=rT(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Id(t.doc,r)&&t.join(r),!0},z2e=(t,e)=>({editor:n,tr:r,state:s,dispatch:o,chain:i,commands:a,can:l})=>{const{extensions:c}=n.extensionManager,u=Jn(t,s.schema),d=Jn(e,s.schema),{selection:f}=s,{$from:p,$to:m}=f,g=p.blockRange(m);if(!g)return!1;const v=rT(y=>ZO(y.type.name,c))(f);if(g.depth>=1&&v&&g.depth-v.depth<=1){if(v.node.type===u)return a.liftListItem(d);if(ZO(v.node.type.name,c)&&u.validContent(v.node.content)&&o)return i().command(()=>(r.setNodeMarkup(v.pos,u),!0)).command(()=>tN(r,u)).command(()=>nN(r,u)).run()}return i().command(()=>l().wrapInList(u)?!0:a.clearNodes()).wrapInList(u).command(()=>tN(r,u)).command(()=>nN(r,u)).run()},H2e=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,i=Wa(t,r.schema);return wC(r,i,e)?s.unsetMark(i,{extendEmptyMarkRange:o}):s.setMark(i,e)},K2e=(t,e,n={})=>({state:r,commands:s})=>{const o=Jn(t,r.schema),i=Jn(e,r.schema);return zh(r,o,n)?s.setNode(i):s.setNode(o,n)},U2e=(t,e={})=>({state:n,commands:r})=>{const s=Jn(t,n.schema);return zh(n,s,e)?r.lift(s):r.wrapIn(s,e)},j2e=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const i=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)i.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=i.doc.resolve(o.from).marks();i.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else i.delete(o.from,o.to)}return!0}}return!1},W2e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},q2e=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:i=!1}=e,{selection:a}=n,l=Wa(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!s)return!0;if(u&&i){let{from:f,to:p}=a;const m=(o=c.marks().find(v=>v.type===l))===null||o===void 0?void 0:o.attrs,g=eT(c,l,m);g&&(f=g.from,p=g.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},G2e=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let o=null,i=null;const a=bb(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=Jn(t,r.schema)),a==="mark"&&(i=Wa(t,r.schema)),s&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,f)=>{o&&o===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),i&&d.marks.length&&d.marks.forEach(p=>{if(i===p.type){const m=Math.max(f,c),g=Math.min(f+d.nodeSize,u);n.addMark(m,g,i.create({...p.attrs,...e}))}})})}),!0):!1},Y2e=(t,e={})=>({state:n,dispatch:r})=>{const s=Jn(t,n.schema);return wNe(s,e)(n,r)},X2e=(t,e={})=>({state:n,dispatch:r})=>{const s=Jn(t,n.schema);return CNe(s,e)(n,r)};var J2e=Object.freeze({__proto__:null,blur:HNe,clearContent:KNe,clearNodes:UNe,command:jNe,createParagraphNear:WNe,deleteNode:qNe,deleteRange:GNe,deleteSelection:YNe,enter:XNe,exitCode:JNe,extendMarkRange:ZNe,first:e2e,focus:t2e,forEach:n2e,insertContent:r2e,insertContentAt:i2e,joinBackward:a2e,joinForward:l2e,keyboardShortcut:u2e,lift:d2e,liftEmptyBlock:f2e,liftListItem:h2e,newlineInCode:p2e,resetAttributes:m2e,scrollIntoView:g2e,selectAll:v2e,selectNodeBackward:y2e,selectNodeForward:b2e,selectParentNode:w2e,selectTextblockEnd:C2e,selectTextblockStart:S2e,setContent:k2e,setMark:$2e,setMeta:R2e,setNode:D2e,setNodeSelection:P2e,setTextSelection:L2e,sinkListItem:B2e,splitBlock:F2e,splitListItem:V2e,toggleList:z2e,toggleMark:H2e,toggleNode:K2e,toggleWrap:U2e,undoInputRule:j2e,unsetAllMarks:W2e,unsetMark:q2e,updateAttributes:G2e,wrapIn:Y2e,wrapInList:X2e});const Q2e=Vr.create({name:"commands",addCommands(){return{...J2e}}}),Z2e=Vr.create({name:"editable",addProseMirrorPlugins(){return[new dr({key:new ls("editable"),props:{editable:()=>this.editor.options.editable}})]}}),e$e=Vr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new dr({key:new ls("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),t$e=Vr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=xt.atStart(c).from===f;return!u||!m||!p.type.isTextblock||p.textContent.length?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.joinForward(),()=>i.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return nT()||vz()?o:s},addProseMirrorPlugins(){return[new dr({key:new ls("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(m=>m.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:s,from:o,to:i}=e.selection,a=xt.atStart(e.doc).from,l=xt.atEnd(e.doc).to,c=o===a&&i===l,u=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(s||!c||!u)return;const d=n.tr,f=pb({state:n,transaction:d}),{commands:p}=new mb({editor:this.editor,state:f});if(p.clearNodes(),!!d.steps.length)return d}})]}}),n$e=Vr.create({name:"tabindex",addProseMirrorPlugins(){return[new dr({key:new ls("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var r$e=Object.freeze({__proto__:null,ClipboardTextSerializer:zNe,Commands:Q2e,Editable:Z2e,FocusEvents:e$e,Keymap:t$e,Tabindex:n$e});const s$e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function o$e(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class i$e extends xNe{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=o$e(s$e,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=hz(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(r$e):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new lu(n,this)}createCommandManager(){this.commandManager=new mb({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=yz(this.options.content,this.schema,this.options.parseOptions),n=gz(e,this.options.autofocus);this.view=new YOe(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ou.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(i=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(i)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),o=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return I2e(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return M2e(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return T2e(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return _2e(this.state.doc,{blockSeparator:n,textSerializers:{...r,...mz(this.schema)}})}get isEmpty(){return A2e(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}function id(t){return new vb({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ht(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,i=r[r.length-1],a=r[0];let l=n.to;if(i){const c=a.search(/\S/),u=n.from+a.indexOf(i),d=u+i.length;if(Cz(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;d<n.to&&o.delete(d,n.to),u>n.from&&o.delete(n.from+c,u),l=n.from+c+i.length,o.addMark(n.from+c,l,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function kz(t){return new vb({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ht(t.getAttributes,void 0,r)||{},{tr:o}=e,i=n.from;let a=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);let c=i+l;c>a?c=a:a=c+r[1].length;const u=r[0][r[0].length-1];o.insertText(u,i+r[0].length-1),o.replaceWith(c,a,t.type.create(s))}else r[0]&&o.replaceWith(i,a,t.type.create(s))}})}function CC(t){return new vb({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),o=Ht(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function sT(t){return new vb({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ht(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),l=a&&VE(a,t.type,s);if(!l)return null;o.wrap(a,l);const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Id(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&o.join(n.from-1)}})}class Na{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ht(ct(this,"addOptions",{name:this.name}))),this.storage=Ht(ct(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Na(e)}configure(e={}){const n=this.extend();return n.options=yb(this.options,e),n.storage=Ht(ct(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Na(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ht(ct(n,"addOptions",{name:n.name})),n.storage=Ht(ct(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const i=s.marks();if(!!!i.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=i.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}class Vn{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ht(ct(this,"addOptions",{name:this.name}))),this.storage=Ht(ct(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vn(e)}configure(e={}){const n=this.extend();return n.options=yb(this.options,e),n.storage=Ht(ct(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Vn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ht(ct(n,"addOptions",{name:n.name})),n.storage=Ht(ct(n,"addStorage",{name:n.name,options:n.options})),n}}function ad(t){return new DNe({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ht(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,i=r[r.length-1],a=r[0];let l=n.to;if(i){const c=a.search(/\S/),u=n.from+a.indexOf(i),d=u+i.length;if(Cz(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;d<n.to&&o.delete(d,n.to),u>n.from&&o.delete(n.from+c,u),l=n.from+c+i.length,o.addMark(n.from+c,l,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var es="top",Gs="bottom",Ys="right",ts="left",oT="auto",$p=[es,Gs,Ys,ts],ld="start",Hh="end",a$e="clippingParents",Ez="viewport",Jd="popper",l$e="reference",rN=$p.reduce(function(t,e){return t.concat([e+"-"+ld,e+"-"+Hh])},[]),Tz=[].concat($p,[oT]).reduce(function(t,e){return t.concat([e,e+"-"+ld,e+"-"+Hh])},[]),c$e="beforeRead",u$e="read",d$e="afterRead",f$e="beforeMain",h$e="main",p$e="afterMain",m$e="beforeWrite",g$e="write",v$e="afterWrite",y$e=[c$e,u$e,d$e,f$e,h$e,p$e,m$e,g$e,v$e];function Wo(t){return t?(t.nodeName||"").toLowerCase():null}function Xs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function fc(t){var e=Xs(t).Element;return t instanceof e||t instanceof Element}function Vs(t){var e=Xs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function iT(t){if(typeof ShadowRoot>"u")return!1;var e=Xs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function b$e(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},o=e.elements[n];!Vs(o)||!Wo(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(i){var a=s[i];a===!1?o.removeAttribute(i):o.setAttribute(i,a===!0?"":a)}))})}function w$e(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],o=e.attributes[r]||{},i=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=i.reduce(function(l,c){return l[c]="",l},{});!Vs(s)||!Wo(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}const _z={name:"applyStyles",enabled:!0,phase:"write",fn:b$e,effect:w$e,requires:["computeStyles"]};function zo(t){return t.split("-")[0]}var zl=Math.max,_v=Math.min,cd=Math.round;function SC(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xz(){return!/^((?!chrome|android).)*safari/i.test(SC())}function ud(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,o=1;e&&Vs(t)&&(s=t.offsetWidth>0&&cd(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&cd(r.height)/t.offsetHeight||1);var i=fc(t)?Xs(t):window,a=i.visualViewport,l=!xz()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/s,f=r.height/o;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function aT(t){var e=ud(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Iz(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&iT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Si(t){return Xs(t).getComputedStyle(t)}function C$e(t){return["table","td","th"].indexOf(Wo(t))>=0}function qa(t){return((fc(t)?t.ownerDocument:t.document)||window.document).documentElement}function wb(t){return Wo(t)==="html"?t:t.assignedSlot||t.parentNode||(iT(t)?t.host:null)||qa(t)}function sN(t){return!Vs(t)||Si(t).position==="fixed"?null:t.offsetParent}function S$e(t){var e=/firefox/i.test(SC()),n=/Trident/i.test(SC());if(n&&Vs(t)){var r=Si(t);if(r.position==="fixed")return null}var s=wb(t);for(iT(s)&&(s=s.host);Vs(s)&&["html","body"].indexOf(Wo(s))<0;){var o=Si(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function Rp(t){for(var e=Xs(t),n=sN(t);n&&C$e(n)&&Si(n).position==="static";)n=sN(n);return n&&(Wo(n)==="html"||Wo(n)==="body"&&Si(n).position==="static")?e:n||S$e(t)||e}function lT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Lf(t,e,n){return zl(t,_v(e,n))}function k$e(t,e,n){var r=Lf(t,e,n);return r>n?n:r}function Mz(){return{top:0,right:0,bottom:0,left:0}}function Az(t){return Object.assign({},Mz(),t)}function Oz(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var E$e=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Az(typeof e!="number"?e:Oz(e,$p))};function T$e(t){var e,n=t.state,r=t.name,s=t.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=zo(n.placement),l=lT(a),c=[ts,Ys].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!i)){var d=E$e(s.padding,n),f=aT(o),p=l==="y"?es:ts,m=l==="y"?Gs:Ys,g=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],v=i[l]-n.rects.reference[l],y=Rp(o),C=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,b=g/2-v/2,w=d[p],S=C-f[u]-d[m],k=C/2-f[u]/2+b,A=Lf(w,k,S),x=l;n.modifiersData[r]=(e={},e[x]=A,e.centerOffset=A-k,e)}}function _$e(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!Iz(e.elements.popper,s)||(e.elements.arrow=s))}const x$e={name:"arrow",enabled:!0,phase:"main",fn:T$e,effect:_$e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dd(t){return t.split("-")[1]}var I$e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function M$e(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:cd(e*s)/s||0,y:cd(n*s)/s||0}}function oN(t){var e,n=t.popper,r=t.popperRect,s=t.placement,o=t.variation,i=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=i.x,p=f===void 0?0:f,m=i.y,g=m===void 0?0:m,v=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var y=i.hasOwnProperty("x"),C=i.hasOwnProperty("y"),b=ts,w=es,S=window;if(c){var k=Rp(n),A="clientHeight",x="clientWidth";if(k===Xs(n)&&(k=qa(n),Si(k).position!=="static"&&a==="absolute"&&(A="scrollHeight",x="scrollWidth")),k=k,s===es||(s===ts||s===Ys)&&o===Hh){w=Gs;var N=d&&k===S&&S.visualViewport?S.visualViewport.height:k[A];g-=N-r.height,g*=l?1:-1}if(s===ts||(s===es||s===Gs)&&o===Hh){b=Ys;var R=d&&k===S&&S.visualViewport?S.visualViewport.width:k[x];p-=R-r.width,p*=l?1:-1}}var H=Object.assign({position:a},c&&I$e),P=u===!0?M$e({x:p,y:g}):{x:p,y:g};if(p=P.x,g=P.y,l){var B;return Object.assign({},H,(B={},B[w]=C?"0":"",B[b]=y?"0":"",B.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",B))}return Object.assign({},H,(e={},e[w]=C?g+"px":"",e[b]=y?p+"px":"",e.transform="",e))}function A$e(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,o=n.adaptive,i=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:zo(e.placement),variation:dd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,oN(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,oN(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const O$e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:A$e,data:{}};var Sm={passive:!0};function N$e(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,o=s===void 0?!0:s,i=r.resize,a=i===void 0?!0:i,l=Xs(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Sm)}),a&&l.addEventListener("resize",n.update,Sm),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Sm)}),a&&l.removeEventListener("resize",n.update,Sm)}}const $$e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:N$e,data:{}};var R$e={left:"right",right:"left",bottom:"top",top:"bottom"};function vg(t){return t.replace(/left|right|bottom|top/g,function(e){return R$e[e]})}var D$e={start:"end",end:"start"};function iN(t){return t.replace(/start|end/g,function(e){return D$e[e]})}function cT(t){var e=Xs(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function uT(t){return ud(qa(t)).left+cT(t).scrollLeft}function P$e(t,e){var n=Xs(t),r=qa(t),s=n.visualViewport,o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;var c=xz();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a+uT(t),y:l}}function L$e(t){var e,n=qa(t),r=cT(t),s=(e=t.ownerDocument)==null?void 0:e.body,o=zl(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=zl(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+uT(t),l=-r.scrollTop;return Si(s||n).direction==="rtl"&&(a+=zl(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:a,y:l}}function dT(t){var e=Si(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Nz(t){return["html","body","#document"].indexOf(Wo(t))>=0?t.ownerDocument.body:Vs(t)&&dT(t)?t:Nz(wb(t))}function Bf(t,e){var n;e===void 0&&(e=[]);var r=Nz(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),o=Xs(r),i=s?[o].concat(o.visualViewport||[],dT(r)?r:[]):r,a=e.concat(i);return s?a:a.concat(Bf(wb(i)))}function kC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function B$e(t,e){var n=ud(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function aN(t,e,n){return e===Ez?kC(P$e(t,n)):fc(e)?B$e(e,n):kC(L$e(qa(t)))}function F$e(t){var e=Bf(wb(t)),n=["absolute","fixed"].indexOf(Si(t).position)>=0,r=n&&Vs(t)?Rp(t):t;return fc(r)?e.filter(function(s){return fc(s)&&Iz(s,r)&&Wo(s)!=="body"}):[]}function V$e(t,e,n,r){var s=e==="clippingParents"?F$e(t):[].concat(e),o=[].concat(s,[n]),i=o[0],a=o.reduce(function(l,c){var u=aN(t,c,r);return l.top=zl(u.top,l.top),l.right=_v(u.right,l.right),l.bottom=_v(u.bottom,l.bottom),l.left=zl(u.left,l.left),l},aN(t,i,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $z(t){var e=t.reference,n=t.element,r=t.placement,s=r?zo(r):null,o=r?dd(r):null,i=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case es:l={x:i,y:e.y-n.height};break;case Gs:l={x:i,y:e.y+e.height};break;case Ys:l={x:e.x+e.width,y:a};break;case ts:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?lT(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case ld:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Hh:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Kh(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,o=n.strategy,i=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?a$e:a,c=n.rootBoundary,u=c===void 0?Ez:c,d=n.elementContext,f=d===void 0?Jd:d,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,v=g===void 0?0:g,y=Az(typeof v!="number"?v:Oz(v,$p)),C=f===Jd?l$e:Jd,b=t.rects.popper,w=t.elements[m?C:f],S=V$e(fc(w)?w:w.contextElement||qa(t.elements.popper),l,u,i),k=ud(t.elements.reference),A=$z({reference:k,element:b,strategy:"absolute",placement:s}),x=kC(Object.assign({},b,A)),N=f===Jd?x:k,R={top:S.top-N.top+y.top,bottom:N.bottom-S.bottom+y.bottom,left:S.left-N.left+y.left,right:N.right-S.right+y.right},H=t.modifiersData.offset;if(f===Jd&&H){var P=H[s];Object.keys(R).forEach(function(B){var V=[Ys,Gs].indexOf(B)>=0?1:-1,z=[es,Gs].indexOf(B)>=0?"y":"x";R[B]+=P[z]*V})}return R}function z$e(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Tz:l,u=dd(r),d=u?a?rN:rN.filter(function(m){return dd(m)===u}):$p,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,g){return m[g]=Kh(t,{placement:g,boundary:s,rootBoundary:o,padding:i})[zo(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function H$e(t){if(zo(t)===oT)return[];var e=vg(t);return[iN(t),e,iN(e)]}function K$e(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!0:i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,v=e.options.placement,y=zo(v),C=y===v,b=l||(C||!m?[vg(v)]:H$e(v)),w=[v].concat(b).reduce(function(ve,Y){return ve.concat(zo(Y)===oT?z$e(e,{placement:Y,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):Y)},[]),S=e.rects.reference,k=e.rects.popper,A=new Map,x=!0,N=w[0],R=0;R<w.length;R++){var H=w[R],P=zo(H),B=dd(H)===ld,V=[es,Gs].indexOf(P)>=0,z=V?"width":"height",M=Kh(e,{placement:H,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),_=V?B?Ys:ts:B?Gs:es;S[z]>k[z]&&(_=vg(_));var O=vg(_),$=[];if(o&&$.push(M[P]<=0),a&&$.push(M[_]<=0,M[O]<=0),$.every(function(ve){return ve})){N=H,x=!1;break}A.set(H,$)}if(x)for(var K=m?3:1,J=function(Y){var fe=w.find(function(X){var G=A.get(X);if(G)return G.slice(0,Y).every(function(ue){return ue})});if(fe)return N=fe,"break"},W=K;W>0;W--){var se=J(W);if(se==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const U$e={name:"flip",enabled:!0,phase:"main",fn:K$e,requiresIfExists:["offset"],data:{_skip:!1}};function lN(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function cN(t){return[es,Ys,Gs,ts].some(function(e){return t[e]>=0})}function j$e(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,i=Kh(e,{elementContext:"reference"}),a=Kh(e,{altBoundary:!0}),l=lN(i,r),c=lN(a,s,o),u=cN(l),d=cN(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const W$e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:j$e};function q$e(t,e,n){var r=zo(t),s=[ts,es].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,i=o[0],a=o[1];return i=i||0,a=(a||0)*s,[ts,Ys].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function G$e(t){var e=t.state,n=t.options,r=t.name,s=n.offset,o=s===void 0?[0,0]:s,i=Tz.reduce(function(u,d){return u[d]=q$e(d,e.rects,o),u},{}),a=i[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=i}const Y$e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:G$e};function X$e(t){var e=t.state,n=t.name;e.modifiersData[n]=$z({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const J$e={name:"popperOffsets",enabled:!0,phase:"read",fn:X$e,data:{}};function Q$e(t){return t==="x"?"y":"x"}function Z$e(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!1:i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,v=Kh(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=zo(e.placement),C=dd(e.placement),b=!C,w=lT(y),S=Q$e(w),k=e.modifiersData.popperOffsets,A=e.rects.reference,x=e.rects.popper,N=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,R=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(!!k){if(o){var B,V=w==="y"?es:ts,z=w==="y"?Gs:Ys,M=w==="y"?"height":"width",_=k[w],O=_+v[V],$=_-v[z],K=p?-x[M]/2:0,J=C===ld?A[M]:x[M],W=C===ld?-x[M]:-A[M],se=e.elements.arrow,ve=p&&se?aT(se):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Mz(),fe=Y[V],X=Y[z],G=Lf(0,A[M],ve[M]),ue=b?A[M]/2-K-G-fe-R.mainAxis:J-G-fe-R.mainAxis,ye=b?-A[M]/2+K+G+X+R.mainAxis:W+G+X+R.mainAxis,Ae=e.elements.arrow&&Rp(e.elements.arrow),j=Ae?w==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,ne=(B=H==null?void 0:H[w])!=null?B:0,ge=_+ue-ne-j,Se=_+ye-ne,_e=Lf(p?_v(O,ge):O,_,p?zl($,Se):$);k[w]=_e,P[w]=_e-_}if(a){var Q,Me=w==="x"?es:ts,pe=w==="x"?Gs:Ys,ee=k[S],de=S==="y"?"height":"width",le=ee+v[Me],Te=ee-v[pe],Le=[es,ts].indexOf(y)!==-1,ae=(Q=H==null?void 0:H[S])!=null?Q:0,we=Le?le:ee-A[de]-x[de]-ae+R.altAxis,$e=Le?ee+A[de]+x[de]-ae-R.altAxis:Te,De=p&&Le?k$e(we,ee,$e):Lf(p?we:le,ee,p?$e:Te);k[S]=De,P[S]=De-ee}e.modifiersData[r]=P}}const eRe={name:"preventOverflow",enabled:!0,phase:"main",fn:Z$e,requiresIfExists:["offset"]};function tRe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nRe(t){return t===Xs(t)||!Vs(t)?cT(t):tRe(t)}function rRe(t){var e=t.getBoundingClientRect(),n=cd(e.width)/t.offsetWidth||1,r=cd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function sRe(t,e,n){n===void 0&&(n=!1);var r=Vs(e),s=Vs(e)&&rRe(e),o=qa(e),i=ud(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Wo(e)!=="body"||dT(o))&&(a=nRe(e)),Vs(e)?(l=ud(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=uT(o))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function oRe(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function s(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||s(o)}),r}function iRe(t){var e=oRe(t);return y$e.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function aRe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function lRe(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var uN={placement:"bottom",modifiers:[],strategy:"absolute"};function dN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function cRe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,o=s===void 0?uN:s;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},uN,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(y){var C=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},o,u.options,C),u.scrollParents={reference:fc(a)?Bf(a):a.contextElement?Bf(a.contextElement):[],popper:Bf(l)};var b=iRe(lRe([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(w){return w.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var y=u.elements,C=y.reference,b=y.popper;if(!!dN(C,b)){u.rects={reference:sRe(C,Rp(b),u.options.strategy==="fixed"),popper:aT(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var S=u.orderedModifiers[w],k=S.fn,A=S.options,x=A===void 0?{}:A,N=S.name;typeof k=="function"&&(u=k({state:u,options:x,name:N,instance:p})||u)}}}},update:aRe(function(){return new Promise(function(v){p.forceUpdate(),v(u)})}),destroy:function(){g(),f=!0}};if(!dN(a,l))return p;p.setOptions(c).then(function(v){!f&&c.onFirstUpdate&&c.onFirstUpdate(v)});function m(){u.orderedModifiers.forEach(function(v){var y=v.name,C=v.options,b=C===void 0?{}:C,w=v.effect;if(typeof w=="function"){var S=w({state:u,name:y,instance:p,options:b}),k=function(){};d.push(S||k)}})}function g(){d.forEach(function(v){return v()}),d=[]}return p}}var uRe=[$$e,J$e,O$e,_z,Y$e,U$e,eRe,x$e,W$e],dRe=cRe({defaultModifiers:uRe}),fRe="tippy-box",Rz="tippy-content",hRe="tippy-backdrop",Dz="tippy-arrow",Pz="tippy-svg-arrow",il={passive:!0,capture:!0},Lz=function(){return document.body};function Y0(t,e,n){if(Array.isArray(t)){var r=t[e];return r==null?Array.isArray(n)?n[e]:n:r}return t}function fT(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Bz(t,e){return typeof t=="function"?t.apply(void 0,e):t}function fN(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function pRe(t){return t.split(/\s+/).filter(Boolean)}function Jc(t){return[].concat(t)}function hN(t,e){t.indexOf(e)===-1&&t.push(e)}function mRe(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function gRe(t){return t.split("-")[0]}function xv(t){return[].slice.call(t)}function pN(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Ff(){return document.createElement("div")}function Cb(t){return["Element","Fragment"].some(function(e){return fT(t,e)})}function vRe(t){return fT(t,"NodeList")}function yRe(t){return fT(t,"MouseEvent")}function bRe(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function wRe(t){return Cb(t)?[t]:vRe(t)?xv(t):Array.isArray(t)?t:xv(document.querySelectorAll(t))}function X0(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function mN(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function CRe(t){var e,n=Jc(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function SRe(t,e){var n=e.clientX,r=e.clientY;return t.every(function(s){var o=s.popperRect,i=s.popperState,a=s.props,l=a.interactiveBorder,c=gRe(i.placement),u=i.modifiersData.offset;if(!u)return!0;var d=c==="bottom"?u.top.y:0,f=c==="top"?u.bottom.y:0,p=c==="right"?u.left.x:0,m=c==="left"?u.right.x:0,g=o.top-r+d>l,v=r-o.bottom-f>l,y=o.left-n+p>l,C=n-o.right-m>l;return g||v||y||C})}function J0(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){t[r](s,n)})}function gN(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Eo={isTouch:!1},vN=0;function kRe(){Eo.isTouch||(Eo.isTouch=!0,window.performance&&document.addEventListener("mousemove",Fz))}function Fz(){var t=performance.now();t-vN<20&&(Eo.isTouch=!1,document.removeEventListener("mousemove",Fz)),vN=t}function ERe(){var t=document.activeElement;if(bRe(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function TRe(){document.addEventListener("touchstart",kRe,il),window.addEventListener("blur",ERe)}var _Re=typeof window<"u"&&typeof document<"u",xRe=_Re?!!window.msCrypto:!1,IRe={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},MRe={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},so=Object.assign({appendTo:Lz,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},IRe,MRe),ARe=Object.keys(so),ORe=function(e){var n=Object.keys(e);n.forEach(function(r){so[r]=e[r]})};function Vz(t){var e=t.plugins||[],n=e.reduce(function(r,s){var o=s.name,i=s.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=so[o])!=null?a:i}return r},{});return Object.assign({},t,n)}function NRe(t,e){var n=e?Object.keys(Vz(Object.assign({},so,{plugins:e}))):ARe,r=n.reduce(function(s,o){var i=(t.getAttribute("data-tippy-"+o)||"").trim();if(!i)return s;if(o==="content")s[o]=i;else try{s[o]=JSON.parse(i)}catch{s[o]=i}return s},{});return r}function yN(t,e){var n=Object.assign({},e,{content:Bz(e.content,[t])},e.ignoreAttributes?{}:NRe(t,e.plugins));return n.aria=Object.assign({},so.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var $Re=function(){return"innerHTML"};function EC(t,e){t[$Re()]=e}function bN(t){var e=Ff();return t===!0?e.className=Dz:(e.className=Pz,Cb(t)?e.appendChild(t):EC(e,t)),e}function wN(t,e){Cb(e.content)?(EC(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?EC(t,e.content):t.textContent=e.content)}function TC(t){var e=t.firstElementChild,n=xv(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Rz)}),arrow:n.find(function(r){return r.classList.contains(Dz)||r.classList.contains(Pz)}),backdrop:n.find(function(r){return r.classList.contains(hRe)})}}function zz(t){var e=Ff(),n=Ff();n.className=fRe,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ff();r.className=Rz,r.setAttribute("data-state","hidden"),wN(r,t.props),e.appendChild(n),n.appendChild(r),s(t.props,t.props);function s(o,i){var a=TC(e),l=a.box,c=a.content,u=a.arrow;i.theme?l.setAttribute("data-theme",i.theme):l.removeAttribute("data-theme"),typeof i.animation=="string"?l.setAttribute("data-animation",i.animation):l.removeAttribute("data-animation"),i.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof i.maxWidth=="number"?i.maxWidth+"px":i.maxWidth,i.role?l.setAttribute("role",i.role):l.removeAttribute("role"),(o.content!==i.content||o.allowHTML!==i.allowHTML)&&wN(c,t.props),i.arrow?u?o.arrow!==i.arrow&&(l.removeChild(u),l.appendChild(bN(i.arrow))):l.appendChild(bN(i.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:s}}zz.$$tippy=!0;var RRe=1,km=[],Q0=[];function DRe(t,e){var n=yN(t,Object.assign({},so,Vz(pN(e)))),r,s,o,i=!1,a=!1,l=!1,c=!1,u,d,f,p=[],m=fN(ge,n.interactiveDebounce),g,v=RRe++,y=null,C=mRe(n.plugins),b={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:v,reference:t,popper:Ff(),popperInstance:y,props:n,state:b,plugins:C,clearDelayTimeouts:we,setProps:$e,setContent:De,show:ie,hide:Ie,hideWithInteractivity:je,enable:Le,disable:ae,unmount:U,destroy:oe};if(!n.render)return w;var S=n.render(w),k=S.popper,A=S.onUpdate;k.setAttribute("data-tippy-root",""),k.id="tippy-"+w.id,w.popper=k,t._tippy=w,k._tippy=w;var x=C.map(function(Z){return Z.fn(w)}),N=t.hasAttribute("aria-expanded");return Ae(),K(),_(),O("onCreate",[w]),n.showOnCreate&&le(),k.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),k.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&V().addEventListener("mousemove",m)}),w;function R(){var Z=w.props.touch;return Array.isArray(Z)?Z:[Z,0]}function H(){return R()[0]==="hold"}function P(){var Z;return!!((Z=w.props.render)!=null&&Z.$$tippy)}function B(){return g||t}function V(){var Z=B().parentNode;return Z?CRe(Z):document}function z(){return TC(k)}function M(Z){return w.state.isMounted&&!w.state.isVisible||Eo.isTouch||u&&u.type==="focus"?0:Y0(w.props.delay,Z?0:1,so.delay)}function _(Z){Z===void 0&&(Z=!1),k.style.pointerEvents=w.props.interactive&&!Z?"":"none",k.style.zIndex=""+w.props.zIndex}function O(Z,be,Ke){if(Ke===void 0&&(Ke=!0),x.forEach(function(St){St[Z]&&St[Z].apply(St,be)}),Ke){var at;(at=w.props)[Z].apply(at,be)}}function $(){var Z=w.props.aria;if(!!Z.content){var be="aria-"+Z.content,Ke=k.id,at=Jc(w.props.triggerTarget||t);at.forEach(function(St){var Yt=St.getAttribute(be);if(w.state.isVisible)St.setAttribute(be,Yt?Yt+" "+Ke:Ke);else{var At=Yt&&Yt.replace(Ke,"").trim();At?St.setAttribute(be,At):St.removeAttribute(be)}})}}function K(){if(!(N||!w.props.aria.expanded)){var Z=Jc(w.props.triggerTarget||t);Z.forEach(function(be){w.props.interactive?be.setAttribute("aria-expanded",w.state.isVisible&&be===B()?"true":"false"):be.removeAttribute("aria-expanded")})}}function J(){V().removeEventListener("mousemove",m),km=km.filter(function(Z){return Z!==m})}function W(Z){if(!(Eo.isTouch&&(l||Z.type==="mousedown"))){var be=Z.composedPath&&Z.composedPath()[0]||Z.target;if(!(w.props.interactive&&gN(k,be))){if(Jc(w.props.triggerTarget||t).some(function(Ke){return gN(Ke,be)})){if(Eo.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else O("onClickOutside",[w,Z]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),a=!0,setTimeout(function(){a=!1}),w.state.isMounted||fe())}}}function se(){l=!0}function ve(){l=!1}function Y(){var Z=V();Z.addEventListener("mousedown",W,!0),Z.addEventListener("touchend",W,il),Z.addEventListener("touchstart",ve,il),Z.addEventListener("touchmove",se,il)}function fe(){var Z=V();Z.removeEventListener("mousedown",W,!0),Z.removeEventListener("touchend",W,il),Z.removeEventListener("touchstart",ve,il),Z.removeEventListener("touchmove",se,il)}function X(Z,be){ue(Z,function(){!w.state.isVisible&&k.parentNode&&k.parentNode.contains(k)&&be()})}function G(Z,be){ue(Z,be)}function ue(Z,be){var Ke=z().box;function at(St){St.target===Ke&&(J0(Ke,"remove",at),be())}if(Z===0)return be();J0(Ke,"remove",d),J0(Ke,"add",at),d=at}function ye(Z,be,Ke){Ke===void 0&&(Ke=!1);var at=Jc(w.props.triggerTarget||t);at.forEach(function(St){St.addEventListener(Z,be,Ke),p.push({node:St,eventType:Z,handler:be,options:Ke})})}function Ae(){H()&&(ye("touchstart",ne,{passive:!0}),ye("touchend",Se,{passive:!0})),pRe(w.props.trigger).forEach(function(Z){if(Z!=="manual")switch(ye(Z,ne),Z){case"mouseenter":ye("mouseleave",Se);break;case"focus":ye(xRe?"focusout":"blur",_e);break;case"focusin":ye("focusout",_e);break}})}function j(){p.forEach(function(Z){var be=Z.node,Ke=Z.eventType,at=Z.handler,St=Z.options;be.removeEventListener(Ke,at,St)}),p=[]}function ne(Z){var be,Ke=!1;if(!(!w.state.isEnabled||Q(Z)||a)){var at=((be=u)==null?void 0:be.type)==="focus";u=Z,g=Z.currentTarget,K(),!w.state.isVisible&&yRe(Z)&&km.forEach(function(St){return St(Z)}),Z.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||i)&&w.props.hideOnClick!==!1&&w.state.isVisible?Ke=!0:le(Z),Z.type==="click"&&(i=!Ke),Ke&&!at&&Te(Z)}}function ge(Z){var be=Z.target,Ke=B().contains(be)||k.contains(be);if(!(Z.type==="mousemove"&&Ke)){var at=de().concat(k).map(function(St){var Yt,At=St._tippy,_t=(Yt=At.popperInstance)==null?void 0:Yt.state;return _t?{popperRect:St.getBoundingClientRect(),popperState:_t,props:n}:null}).filter(Boolean);SRe(at,Z)&&(J(),Te(Z))}}function Se(Z){var be=Q(Z)||w.props.trigger.indexOf("click")>=0&&i;if(!be){if(w.props.interactive){w.hideWithInteractivity(Z);return}Te(Z)}}function _e(Z){w.props.trigger.indexOf("focusin")<0&&Z.target!==B()||w.props.interactive&&Z.relatedTarget&&k.contains(Z.relatedTarget)||Te(Z)}function Q(Z){return Eo.isTouch?H()!==Z.type.indexOf("touch")>=0:!1}function Me(){pe();var Z=w.props,be=Z.popperOptions,Ke=Z.placement,at=Z.offset,St=Z.getReferenceClientRect,Yt=Z.moveTransition,At=P()?TC(k).arrow:null,_t=St?{getBoundingClientRect:St,contextElement:St.contextElement||B()}:t,xe={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Vt){var er=Vt.state;if(P()){var xs=z(),Di=xs.box;["placement","reference-hidden","escaped"].forEach(function(Pp){Pp==="placement"?Di.setAttribute("data-placement",er.placement):er.attributes.popper["data-popper-"+Pp]?Di.setAttribute("data-"+Pp,""):Di.removeAttribute("data-"+Pp)}),er.attributes.popper={}}}},Qe=[{name:"offset",options:{offset:at}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Yt}},xe];P()&&At&&Qe.push({name:"arrow",options:{element:At,padding:3}}),Qe.push.apply(Qe,(be==null?void 0:be.modifiers)||[]),w.popperInstance=dRe(_t,k,Object.assign({},be,{placement:Ke,onFirstUpdate:f,modifiers:Qe}))}function pe(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function ee(){var Z=w.props.appendTo,be,Ke=B();w.props.interactive&&Z===Lz||Z==="parent"?be=Ke.parentNode:be=Bz(Z,[Ke]),be.contains(k)||be.appendChild(k),w.state.isMounted=!0,Me()}function de(){return xv(k.querySelectorAll("[data-tippy-root]"))}function le(Z){w.clearDelayTimeouts(),Z&&O("onTrigger",[w,Z]),Y();var be=M(!0),Ke=R(),at=Ke[0],St=Ke[1];Eo.isTouch&&at==="hold"&&St&&(be=St),be?r=setTimeout(function(){w.show()},be):w.show()}function Te(Z){if(w.clearDelayTimeouts(),O("onUntrigger",[w,Z]),!w.state.isVisible){fe();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Z.type)>=0&&i)){var be=M(!1);be?s=setTimeout(function(){w.state.isVisible&&w.hide()},be):o=requestAnimationFrame(function(){w.hide()})}}function Le(){w.state.isEnabled=!0}function ae(){w.hide(),w.state.isEnabled=!1}function we(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(o)}function $e(Z){if(!w.state.isDestroyed){O("onBeforeUpdate",[w,Z]),j();var be=w.props,Ke=yN(t,Object.assign({},be,pN(Z),{ignoreAttributes:!0}));w.props=Ke,Ae(),be.interactiveDebounce!==Ke.interactiveDebounce&&(J(),m=fN(ge,Ke.interactiveDebounce)),be.triggerTarget&&!Ke.triggerTarget?Jc(be.triggerTarget).forEach(function(at){at.removeAttribute("aria-expanded")}):Ke.triggerTarget&&t.removeAttribute("aria-expanded"),K(),_(),A&&A(be,Ke),w.popperInstance&&(Me(),de().forEach(function(at){requestAnimationFrame(at._tippy.popperInstance.forceUpdate)})),O("onAfterUpdate",[w,Z])}}function De(Z){w.setProps({content:Z})}function ie(){var Z=w.state.isVisible,be=w.state.isDestroyed,Ke=!w.state.isEnabled,at=Eo.isTouch&&!w.props.touch,St=Y0(w.props.duration,0,so.duration);if(!(Z||be||Ke||at)&&!B().hasAttribute("disabled")&&(O("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,P()&&(k.style.visibility="visible"),_(),Y(),w.state.isMounted||(k.style.transition="none"),P()){var Yt=z(),At=Yt.box,_t=Yt.content;X0([At,_t],0)}f=function(){var Qe;if(!(!w.state.isVisible||c)){if(c=!0,k.offsetHeight,k.style.transition=w.props.moveTransition,P()&&w.props.animation){var bt=z(),Vt=bt.box,er=bt.content;X0([Vt,er],St),mN([Vt,er],"visible")}$(),K(),hN(Q0,w),(Qe=w.popperInstance)==null||Qe.forceUpdate(),O("onMount",[w]),w.props.animation&&P()&&G(St,function(){w.state.isShown=!0,O("onShown",[w])})}},ee()}}function Ie(){var Z=!w.state.isVisible,be=w.state.isDestroyed,Ke=!w.state.isEnabled,at=Y0(w.props.duration,1,so.duration);if(!(Z||be||Ke)&&(O("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,c=!1,i=!1,P()&&(k.style.visibility="hidden"),J(),fe(),_(!0),P()){var St=z(),Yt=St.box,At=St.content;w.props.animation&&(X0([Yt,At],at),mN([Yt,At],"hidden"))}$(),K(),w.props.animation?P()&&X(at,w.unmount):w.unmount()}}function je(Z){V().addEventListener("mousemove",m),hN(km,m),m(Z)}function U(){w.state.isVisible&&w.hide(),w.state.isMounted&&(pe(),de().forEach(function(Z){Z._tippy.unmount()}),k.parentNode&&k.parentNode.removeChild(k),Q0=Q0.filter(function(Z){return Z!==w}),w.state.isMounted=!1,O("onHidden",[w]))}function oe(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),j(),delete t._tippy,w.state.isDestroyed=!0,O("onDestroy",[w]))}}function Md(t,e){e===void 0&&(e={});var n=so.plugins.concat(e.plugins||[]);TRe();var r=Object.assign({},e,{plugins:n}),s=wRe(t),o=s.reduce(function(i,a){var l=a&&DRe(a,r);return l&&i.push(l),i},[]);return Cb(t)?o[0]:o}Md.defaultProps=so;Md.setDefaultProps=ORe;Md.currentInput=Eo;Object.assign({},_z,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Md.setDefaultProps({render:zz});class PRe{constructor({editor:e,element:n,view:r,tippyOptions:s={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:i,state:a,from:l,to:c})=>{const{doc:u,selection:d}=a,{empty:f}=d,p=!u.textBetween(l,c).length&&tT(a.selection),m=this.element.contains(document.activeElement);return!(!(i.hasFocus()||m)||f||p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:i})=>{var a;if(this.preventHide){this.preventHide=!1;return}(i==null?void 0:i.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(i.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=s,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Md(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,s,o;const{state:i,composing:a}=e,{doc:l,selection:c}=i,u=n&&n.doc.eq(l)&&n.selection.eq(c);if(a||u)return;this.createTooltip();const{ranges:d}=c,f=Math.min(...d.map(g=>g.$from.pos)),p=Math.max(...d.map(g=>g.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:i,oldState:n,from:f,to:p}))){this.hide();return}(s=this.tippy)===null||s===void 0||s.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>{if(O2e(i.selection)){const g=e.nodeDOM(f);if(g)return g.getBoundingClientRect()}return Sz(e,f,p)})}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Hz=t=>new dr({key:typeof t.pluginKey=="string"?new ls(t.pluginKey):t.pluginKey,view:e=>new PRe({view:e,...t})});Vr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Hz({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class LRe{constructor({editor:e,element:n,view:r,tippyOptions:s={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:i,state:a})=>{const{selection:l}=a,{$anchor:c,empty:u}=l,d=c.depth===1,f=c.parent.isTextblock&&!c.parent.type.spec.code&&!c.parent.textContent;return!(!i.hasFocus()||!u||!d||!f||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:i})=>{var a;if(this.preventHide){this.preventHide=!1;return}(i==null?void 0:i.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(i.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=s,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Md(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,s,o;const{state:i}=e,{doc:a,selection:l}=i,{from:c,to:u}=l;if(n&&n.doc.eq(a)&&n.selection.eq(l))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:i,oldState:n}))){this.hide();return}(s=this.tippy)===null||s===void 0||s.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>Sz(e,c,u))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Kz=t=>new dr({key:typeof t.pluginKey=="string"?new ls(t.pluginKey):t.pluginKey,view:e=>new LRe({view:e,...t})});Vr.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Kz({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});const BRe=te({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=D(null);return lt(()=>{const{pluginKey:r,editor:s,tippyOptions:o,shouldShow:i}=t;s.registerPlugin(Hz({pluginKey:r,editor:s,element:n.value,tippyOptions:o,shouldShow:i}))}),ln(()=>{const{pluginKey:r,editor:s}=t;s.unregisterPlugin(r)}),()=>{var r;return He("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});function CN(t){return OH((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class FRe extends i$e{constructor(e={}){return super(e),this.vueRenderers=Lt(new Map),this.contentComponent=null,this.reactiveState=CN(this.view.state),this.reactiveExtensionStorage=CN(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),da(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){super.registerPlugin(e,n),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const VRe=te({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=D(),n=ht();return Gr(()=>{const r=t.editor;r&&r.options.element&&e.value&&ze(()=>{if(!e.value||!r.options.element.firstChild)return;const s=h(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:s}),r.createNodeViews()})}),ln(()=>{const r=t.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const s=document.createElement("div");s.append(...r.options.element.childNodes),r.setOptions({element:s})}),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const n=He(hd,{to:e.teleportElement,key:e.id},He(e.component,{ref:e.id,...e.props}));t.push(n)}),He("div",{ref:e=>{this.rootEl=e}},...t)}});te({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=D(null);return lt(()=>{const{pluginKey:r,editor:s,tippyOptions:o,shouldShow:i}=t;s.registerPlugin(Kz({pluginKey:r,editor:s,element:n.value,tippyOptions:o,shouldShow:i}))}),ln(()=>{const{pluginKey:r,editor:s}=t;s.unregisterPlugin(r)}),()=>{var r;return He("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});te({props:{as:{type:String,default:"div"}},render(){return He(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});te({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return He(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});const zRe=/^\s*>\s$/,HRe=Vn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[sT({find:zRe,type:this.type})]}}),KRe=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,URe=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,jRe=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,WRe=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,qRe=Na.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[id({find:KRe,type:this.type}),id({find:jRe,type:this.type})]},addPasteRules(){return[ad({find:URe,type:this.type}),ad({find:WRe,type:this.type})]}}),GRe=/^\s*([-+*])\s$/,YRe=Vn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[sT({find:GRe,type:this.type})]}}),XRe=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,JRe=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,QRe=Na.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[id({find:XRe,type:this.type})]},addPasteRules(){return[ad({find:JRe,type:this.type})]}}),ZRe=/^```([a-z]+)?[\s\n]$/,eDe=/^~~~([a-z]+)?[\s\n]$/,Uz=Vn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(i=>i.startsWith(n)).map(i=>i.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ln(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,i=r.parent.textContent.endsWith(`

`);return!o||!i?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[CC({find:ZRe,type:this.type,getAttributes:t=>({language:t[1]})}),CC({find:eDe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new dr({key:new ls("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s==null?void 0:s.mode;if(!n||!o)return!1;const{tr:i}=t.state;return i.replaceSelectionWith(this.type.create({language:o})),i.setSelection(Nt.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.insertText(n.replace(/\r\n?/g,`
`)),i.setMeta("paste",!0),t.dispatch(i),!0}}})]}}),tDe=Vn.create({name:"doc",topNode:!0,content:"block+"});function nDe(t={}){return new dr({view(e){return new rDe(e,t)}})}class rDe{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=o=>{this[r](o)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){let i=e.nodeBefore,a=e.nodeAfter;if(i||a){let l=this.editorView.nodeDOM(this.cursorPos-(i?i.nodeSize:0)).getBoundingClientRect(),c=i?l.bottom:l.top;i&&a&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:l.left,right:l.right,top:c-this.width/2,bottom:c+this.width/2}}}if(!n){let i=this.editorView.coordsAtPos(this.cursorPos);n={left:i.left-this.width/2,right:i.left+this.width/2,top:i.top,bottom:i.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let s,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")s=-pageXOffset,o=-pageYOffset;else{let i=r.getBoundingClientRect();s=i.left-r.scrollLeft,o=i.top-r.scrollTop}this.element.style.left=n.left-s+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n):s;if(n&&!o){let i=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(i=CV(this.editorView.state.doc,i,this.editorView.dragging.slice),i==null))return this.setCursor(null);this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const sDe=Vr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[nDe(this.options)]}});class En extends xt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return En.valid(r)?new En(r):xt.near(r)}content(){return nt.empty}eq(e){return e instanceof En&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new En(e.resolve(n.pos))}getBookmark(){return new hT(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!oDe(e)||!iDe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&En.valid(e))return e;let s=e.pos,o=null;for(let i=e.depth;;i--){let a=e.node(i);if(n>0?e.indexAfter(i)<a.childCount:e.index(i)>0){o=a.child(n>0?e.indexAfter(i):e.index(i)-1);break}else if(i==0)return null;s+=n;let l=e.doc.resolve(s);if(En.valid(l))return l}for(;;){let i=n>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!Mt.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),r=!1;continue e}break}o=i,s+=n;let a=e.doc.resolve(s);if(En.valid(a))return a}return null}}}En.prototype.visible=!1;En.findFrom=En.findGapCursorFrom;xt.jsonID("gapcursor",En);class hT{constructor(e){this.pos=e}map(e){return new hT(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return En.valid(n)?new En(n):xt.near(n)}}function oDe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function iDe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function aDe(){return new dr({props:{decorations:dDe,createSelectionBetween(t,e,n){return e.pos==n.pos&&En.valid(n)?new En(n):null},handleClick:cDe,handleKeyDown:lDe,handleDOMEvents:{beforeinput:uDe}}})}const lDe=QE({ArrowLeft:Em("horiz",-1),ArrowRight:Em("horiz",1),ArrowUp:Em("vert",-1),ArrowDown:Em("vert",1)});function Em(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let i=r.selection,a=e>0?i.$to:i.$from,l=i.empty;if(i instanceof Nt){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=En.findGapCursorFrom(a,e,l);return c?(s&&s(r.tr.setSelection(new En(c))),!0):!1}}function cDe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!En.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Mt.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new En(r))),!0)}function uDe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof En))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=qe.empty;for(let i=r.length-1;i>=0;i--)s=qe.from(r[i].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new nt(s,0,0));return o.setSelection(Nt.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function dDe(t){if(!(t.selection instanceof En))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",An.create(t.doc,[Or.widget(t.selection.head,e,{key:"gapcursor"})])}const fDe=Vr.create({name:"gapCursor",addProseMirrorPlugins(){return[aDe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ht(ct(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),hDe=Vn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ln(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,l=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&i){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),pDe=Vn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>CC({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Iv=200,cr=function(){};cr.prototype.append=function(e){return e.length?(e=cr.from(e),!this.length&&e||e.length<Iv&&this.leafAppend(e)||this.length<Iv&&e.leafPrepend(this)||this.appendInner(e)):this};cr.prototype.prepend=function(e){return e.length?cr.from(e).append(this):this};cr.prototype.appendInner=function(e){return new mDe(this,e)};cr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?cr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};cr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};cr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};cr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,i){return s.push(e(o,i))},n,r),s};cr.from=function(e){return e instanceof cr?e:e&&e.length?new jz(e):cr.empty};var jz=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,i,a){for(var l=o;l<i;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,i,a){for(var l=o-1;l>=i;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Iv)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Iv)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(cr);cr.empty=new jz([]);var mDe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,i){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(o,a),i)===!1||o>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,o)-a,i+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,i){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(o,a)-a,i+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(s,a),o,i)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(cr),Wz=cr;const gDe=500;class to{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;n&&(s=this.remapping(r,this.items.length),o=s.maps.length);let i=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){s||(s=this.remapping(r,f+1),o=s.maps.length),o--,u.push(d);return}if(s){u.push(new So(d.map));let p=d.step.map(s.slice(o)),m;p&&i.maybeStep(p).doc&&(m=i.mapping.maps[i.mapping.maps.length-1],c.push(new So(m,void 0,void 0,c.length+u.length))),o--,m&&s.appendMap(m,o)}else i.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(o)):d.selection,l=new to(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:i,selection:a}}addTransform(e,n,r,s){let o=[],i=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new So(e.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(i++,n=void 0),s||(l=f)}let c=i-r.depth;return c>yDe&&(a=vDe(a,c),i-=c),new to(a.append(o),i)}remapping(e,n){let r=new wu;return this.items.forEach((s,o)=>{let i=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,i)},e,n),r}addMaps(e){return this.eventCount==0?this:new to(this.items.append(e.map(n=>new So(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},s);let l=n;this.items.forEach(f=>{let p=o.getMirror(--l);if(p==null)return;i=Math.min(i,p);let m=o.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),v=f.selection&&f.selection.map(o.slice(l+1,p));v&&a++,r.push(new So(m,g,v))}else r.push(new So(m))},s);let c=[];for(let f=n;f<i;f++)c.push(new So(o.maps[f]));let u=this.items.slice(0,s).append(c).append(r),d=new to(u,a);return d.emptyItemCount()>gDe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],o=0;return this.items.forEach((i,a)=>{if(a>=e)s.push(i),i.selection&&o++;else if(i.step){let l=i.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=i.selection&&i.selection.map(n.slice(r));u&&o++;let d=new So(c.invert(),l,u),f,p=s.length-1;(f=s.length&&s[p].merge(d))?s[p]=f:s.push(d)}}else i.map&&r--},this.items.length,0),new to(Wz.from(s.reverse()),o)}}to.empty=new to(Wz.empty,0);function vDe(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class So{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new So(n.getMap().invert(),n,this.selection)}}}class Xi{constructor(e,n,r,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s}}const yDe=20;function bDe(t,e,n,r){let s=n.getMeta(ba),o;if(s)return s.historyState;n.getMeta(CDe)&&(t=new Xi(t.done,t.undone,null,0));let i=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(i&&i.getMeta(ba))return i.getMeta(ba).redo?new Xi(t.done.addTransform(n,void 0,r,yg(e)),t.undone,SN(n.mapping.maps[n.steps.length-1]),t.prevTime):new Xi(t.done,t.undone.addTransform(n,void 0,r,yg(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let a=t.prevTime==0||!i&&(t.prevTime<(n.time||0)-r.newGroupDelay||!wDe(n,t.prevRanges)),l=i?Z0(t.prevRanges,n.mapping):SN(n.mapping.maps[n.steps.length-1]);return new Xi(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,yg(e)),to.empty,l,n.time)}else return(o=n.getMeta("rebased"))?new Xi(t.done.rebased(n,o),t.undone.rebased(n,o),Z0(t.prevRanges,n.mapping),t.prevTime):new Xi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Z0(t.prevRanges,n.mapping),t.prevTime)}function wDe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function SN(t){let e=[];return t.forEach((n,r,s,o)=>e.push(s,o)),e}function Z0(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),o=e.map(t[r+1],-1);s<=o&&n.push(s,o)}return n}function qz(t,e,n,r){let s=yg(e),o=ba.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,s);if(!i)return;let a=i.selection.resolve(i.transform.doc),l=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,s),c=new Xi(r?l:i.remaining,r?i.remaining:l,null,0);n(i.transform.setSelection(a).setMeta(ba,{redo:r,historyState:c}).scrollIntoView())}let ew=!1,kN=null;function yg(t){let e=t.plugins;if(kN!=e){ew=!1,kN=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ew=!0;break}}return ew}const ba=new ls("history"),CDe=new ls("closeHistory");function SDe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new dr({key:ba,state:{init(){return new Xi(to.empty,to.empty,null,0)},apply(e,n,r){return bDe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?Gz:r=="historyRedo"?Yz:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}const Gz=(t,e)=>{let n=ba.getState(t);return!n||n.done.eventCount==0?!1:(e&&qz(n,t,e,!1),!0)},Yz=(t,e)=>{let n=ba.getState(t);return!n||n.undone.eventCount==0?!1:(e&&qz(n,t,e,!0),!0)},kDe=Vr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Gz(t,e),redo:()=>({state:t,dispatch:e})=>Yz(t,e)}},addProseMirrorPlugins(){return[SDe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),EDe=Vn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ln(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:s}=e.selection,o=s.end();if(s.nodeAfter)e.setSelection(Nt.create(e.doc,s.pos));else{const i=(r=s.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();i&&(e.insert(o,i),e.setSelection(Nt.create(e.doc,o)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[kz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),TDe=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,_De=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,xDe=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,IDe=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,MDe=Na.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[id({find:TDe,type:this.type}),id({find:xDe,type:this.type})]},addPasteRules(){return[ad({find:_De,type:this.type}),ad({find:IDe,type:this.type})]}}),ADe=Vn.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ln(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ODe=/^(\d+)\.\s$/,NDe=Vn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ln(this.options.HTMLAttributes,n),0]:["ol",Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[sT({find:ODe,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),$De=Vn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),RDe=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,DDe=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,PDe=Na.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[id({find:RDe,type:this.type})]},addPasteRules(){return[ad({find:DDe,type:this.type})]}}),LDe=Vn.create({name:"text",group:"inline"}),BDe=Vr.create({name:"starterKit",addExtensions(){var t,e,n,r,s,o,i,a,l,c,u,d,f,p,m,g,v,y;const C=[];return this.options.blockquote!==!1&&C.push(HRe.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&C.push(qRe.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&C.push(YRe.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&C.push(QRe.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&C.push(Uz.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&C.push(tDe.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&C.push(sDe.configure((i=this.options)===null||i===void 0?void 0:i.dropcursor)),this.options.gapcursor!==!1&&C.push(fDe.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&C.push(hDe.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&C.push(pDe.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&C.push(kDe.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&C.push(EDe.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&C.push(MDe.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&C.push(ADe.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&C.push(NDe.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&C.push($De.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&C.push(PDe.configure((v=this.options)===null||v===void 0?void 0:v.strike)),this.options.text!==!1&&C.push(LDe.configure((y=this.options)===null||y===void 0?void 0:y.text)),C}});var pT={exports:{}};function mT(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];typeof n=="object"&&!Object.isFrozen(n)&&mT(n)}),t}pT.exports=mT;pT.exports.default=mT;class EN{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Xz(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function la(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const s in r)n[s]=r[s]}),n}const FDe="</span>",TN=t=>!!t.scope||t.sublanguage&&t.language,VDe=(t,{prefix:e})=>{if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,s)=>`${r}${"_".repeat(s+1)}`)].join(" ")}return`${e}${t}`};class zDe{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=Xz(e)}openNode(e){if(!TN(e))return;let n="";e.sublanguage?n=`language-${e.language}`:n=VDe(e.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(e){!TN(e)||(this.buffer+=FDe)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const _N=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class gT{constructor(){this.rootNode=_N(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=_N({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&(!e.children||(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{gT._collapse(n)})))}}class HDe extends gT{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){const r=e.root;r.sublanguage=!0,r.language=n,this.add(r)}toHTML(){return new zDe(this,this.options).value()}finalize(){return!0}}function Uh(t){return t?typeof t=="string"?t:t.source:null}function Jz(t){return _c("(?=",t,")")}function KDe(t){return _c("(?:",t,")*")}function UDe(t){return _c("(?:",t,")?")}function _c(...t){return t.map(n=>Uh(n)).join("")}function jDe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function vT(...t){const e=jDe(t);return"("+(e.capture?"":"?:")+t.map(r=>Uh(r)).join("|")+")"}function Qz(t){return new RegExp(t.toString()+"|").exec("").length-1}function WDe(t,e){const n=t&&t.exec(e);return n&&n.index===0}const qDe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function yT(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const s=n;let o=Uh(r),i="";for(;o.length>0;){const a=qDe.exec(o);if(!a){i+=o;break}i+=o.substring(0,a.index),o=o.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?i+="\\"+String(Number(a[1])+s):(i+=a[0],a[0]==="("&&n++)}return i}).map(r=>`(${r})`).join(e)}const GDe=/\b\B/,Zz="[a-zA-Z]\\w*",bT="[a-zA-Z_]\\w*",e6="\\b\\d+(\\.\\d+)?",t6="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",n6="\\b(0b[01]+)",YDe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",XDe=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=_c(e,/.*\b/,t.binary,/\b.*/)),la({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},jh={begin:"\\\\[\\s\\S]",relevance:0},JDe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[jh]},QDe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[jh]},ZDe={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Sb=function(t,e,n={}){const r=la({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=vT("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:_c(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},ePe=Sb("//","$"),tPe=Sb("/\\*","\\*/"),nPe=Sb("#","$"),rPe={scope:"number",begin:e6,relevance:0},sPe={scope:"number",begin:t6,relevance:0},oPe={scope:"number",begin:n6,relevance:0},iPe={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[jh,{begin:/\[/,end:/\]/,relevance:0,contains:[jh]}]}]},aPe={scope:"title",begin:Zz,relevance:0},lPe={scope:"title",begin:bT,relevance:0},cPe={begin:"\\.\\s*"+bT,relevance:0},uPe=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var Tm=Object.freeze({__proto__:null,MATCH_NOTHING_RE:GDe,IDENT_RE:Zz,UNDERSCORE_IDENT_RE:bT,NUMBER_RE:e6,C_NUMBER_RE:t6,BINARY_NUMBER_RE:n6,RE_STARTERS_RE:YDe,SHEBANG:XDe,BACKSLASH_ESCAPE:jh,APOS_STRING_MODE:JDe,QUOTE_STRING_MODE:QDe,PHRASAL_WORDS_MODE:ZDe,COMMENT:Sb,C_LINE_COMMENT_MODE:ePe,C_BLOCK_COMMENT_MODE:tPe,HASH_COMMENT_MODE:nPe,NUMBER_MODE:rPe,C_NUMBER_MODE:sPe,BINARY_NUMBER_MODE:oPe,REGEXP_MODE:iPe,TITLE_MODE:aPe,UNDERSCORE_TITLE_MODE:lPe,METHOD_GUARD:cPe,END_SAME_AS_BEGIN:uPe});function dPe(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function fPe(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function hPe(t,e){!e||!t.beginKeywords||(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=dPe,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function pPe(t,e){!Array.isArray(t.illegal)||(t.illegal=vT(...t.illegal))}function mPe(t,e){if(!!t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function gPe(t,e){t.relevance===void 0&&(t.relevance=1)}const vPe=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=_c(n.beforeMatch,Jz(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},yPe=["of","and","for","in","not","or","if","then","parent","list","value"],bPe="keyword";function r6(t,e,n=bPe){const r=Object.create(null);return typeof t=="string"?s(n,t.split(" ")):Array.isArray(t)?s(n,t):Object.keys(t).forEach(function(o){Object.assign(r,r6(t[o],e,o))}),r;function s(o,i){e&&(i=i.map(a=>a.toLowerCase())),i.forEach(function(a){const l=a.split("|");r[l[0]]=[o,wPe(l[0],l[1])]})}}function wPe(t,e){return e?Number(e):CPe(t)?0:1}function CPe(t){return yPe.includes(t.toLowerCase())}const xN={},Hl=t=>{console.error(t)},IN=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Vc=(t,e)=>{xN[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),xN[`${t}/${e}`]=!0)},Mv=new Error;function s6(t,e,{key:n}){let r=0;const s=t[n],o={},i={};for(let a=1;a<=e.length;a++)i[a+r]=s[a],o[a+r]=!0,r+=Qz(e[a-1]);t[n]=i,t[n]._emit=o,t[n]._multi=!0}function SPe(t){if(!!Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Hl("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Mv;if(typeof t.beginScope!="object"||t.beginScope===null)throw Hl("beginScope must be object"),Mv;s6(t,t.begin,{key:"beginScope"}),t.begin=yT(t.begin,{joinWith:""})}}function kPe(t){if(!!Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Hl("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Mv;if(typeof t.endScope!="object"||t.endScope===null)throw Hl("endScope must be object"),Mv;s6(t,t.end,{key:"endScope"}),t.end=yT(t.end,{joinWith:""})}}function EPe(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function TPe(t){EPe(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),SPe(t),kPe(t)}function _Pe(t){function e(i,a){return new RegExp(Uh(i),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=Qz(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=e(yT(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const c=l.findIndex((d,f)=>f>0&&d!==void 0),u=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new n;return this.rules.slice(a).forEach(([c,u])=>l.addRule(c,u)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function s(i){const a=new r;return i.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),i.terminatorEnd&&a.addRule(i.terminatorEnd,{type:"end"}),i.illegal&&a.addRule(i.illegal,{type:"illegal"}),a}function o(i,a){const l=i;if(i.isCompiled)return l;[fPe,mPe,TPe,vPe].forEach(u=>u(i,a)),t.compilerExtensions.forEach(u=>u(i,a)),i.__beforeBegin=null,[hPe,pPe,gPe].forEach(u=>u(i,a)),i.isCompiled=!0;let c=null;return typeof i.keywords=="object"&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),c=i.keywords.$pattern,delete i.keywords.$pattern),c=c||/\w+/,i.keywords&&(i.keywords=r6(i.keywords,t.case_insensitive)),l.keywordPatternRe=e(c,!0),a&&(i.begin||(i.begin=/\B|\b/),l.beginRe=e(l.begin),!i.end&&!i.endsWithParent&&(i.end=/\B|\b/),i.end&&(l.endRe=e(l.end)),l.terminatorEnd=Uh(l.end)||"",i.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(i.end?"|":"")+a.terminatorEnd)),i.illegal&&(l.illegalRe=e(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(u){return xPe(u==="self"?i:u)})),i.contains.forEach(function(u){o(u,l)}),i.starts&&o(i.starts,a),l.matcher=s(l),l}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=la(t.classNameAliases||{}),o(t)}function o6(t){return t?t.endsWithParent||o6(t.starts):!1}function xPe(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return la(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:o6(t)?la(t,{starts:t.starts?la(t.starts):null}):Object.isFrozen(t)?la(t):t}var IPe="11.6.0";class MPe extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const tw=Xz,MN=la,AN=Symbol("nomatch"),APe=7,OPe=function(t){const e=Object.create(null),n=Object.create(null),r=[];let s=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:HDe};function l(M){return a.noHighlightRe.test(M)}function c(M){let _=M.className+" ";_+=M.parentNode?M.parentNode.className:"";const O=a.languageDetectRe.exec(_);if(O){const $=N(O[1]);return $||(IN(o.replace("{}",O[1])),IN("Falling back to no-highlight mode for this block.",M)),$?O[1]:"no-highlight"}return _.split(/\s+/).find($=>l($)||N($))}function u(M,_,O){let $="",K="";typeof _=="object"?($=M,O=_.ignoreIllegals,K=_.language):(Vc("10.7.0","highlight(lang, code, ...args) has been deprecated."),Vc("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),K=M,$=_),O===void 0&&(O=!0);const J={code:$,language:K};V("before:highlight",J);const W=J.result?J.result:d(J.language,J.code,O);return W.code=J.code,V("after:highlight",W),W}function d(M,_,O,$){const K=Object.create(null);function J(ae,we){return ae.keywords[we]}function W(){if(!Q.keywords){pe.addText(ee);return}let ae=0;Q.keywordPatternRe.lastIndex=0;let we=Q.keywordPatternRe.exec(ee),$e="";for(;we;){$e+=ee.substring(ae,we.index);const De=ge.case_insensitive?we[0].toLowerCase():we[0],ie=J(Q,De);if(ie){const[Ie,je]=ie;if(pe.addText($e),$e="",K[De]=(K[De]||0)+1,K[De]<=APe&&(de+=je),Ie.startsWith("_"))$e+=we[0];else{const U=ge.classNameAliases[Ie]||Ie;pe.addKeyword(we[0],U)}}else $e+=we[0];ae=Q.keywordPatternRe.lastIndex,we=Q.keywordPatternRe.exec(ee)}$e+=ee.substring(ae),pe.addText($e)}function se(){if(ee==="")return;let ae=null;if(typeof Q.subLanguage=="string"){if(!e[Q.subLanguage]){pe.addText(ee);return}ae=d(Q.subLanguage,ee,!0,Me[Q.subLanguage]),Me[Q.subLanguage]=ae._top}else ae=p(ee,Q.subLanguage.length?Q.subLanguage:null);Q.relevance>0&&(de+=ae.relevance),pe.addSublanguage(ae._emitter,ae.language)}function ve(){Q.subLanguage!=null?se():W(),ee=""}function Y(ae,we){let $e=1;const De=we.length-1;for(;$e<=De;){if(!ae._emit[$e]){$e++;continue}const ie=ge.classNameAliases[ae[$e]]||ae[$e],Ie=we[$e];ie?pe.addKeyword(Ie,ie):(ee=Ie,W(),ee=""),$e++}}function fe(ae,we){return ae.scope&&typeof ae.scope=="string"&&pe.openNode(ge.classNameAliases[ae.scope]||ae.scope),ae.beginScope&&(ae.beginScope._wrap?(pe.addKeyword(ee,ge.classNameAliases[ae.beginScope._wrap]||ae.beginScope._wrap),ee=""):ae.beginScope._multi&&(Y(ae.beginScope,we),ee="")),Q=Object.create(ae,{parent:{value:Q}}),Q}function X(ae,we,$e){let De=WDe(ae.endRe,$e);if(De){if(ae["on:end"]){const ie=new EN(ae);ae["on:end"](we,ie),ie.isMatchIgnored&&(De=!1)}if(De){for(;ae.endsParent&&ae.parent;)ae=ae.parent;return ae}}if(ae.endsWithParent)return X(ae.parent,we,$e)}function G(ae){return Q.matcher.regexIndex===0?(ee+=ae[0],1):(Le=!0,0)}function ue(ae){const we=ae[0],$e=ae.rule,De=new EN($e),ie=[$e.__beforeBegin,$e["on:begin"]];for(const Ie of ie)if(!!Ie&&(Ie(ae,De),De.isMatchIgnored))return G(we);return $e.skip?ee+=we:($e.excludeBegin&&(ee+=we),ve(),!$e.returnBegin&&!$e.excludeBegin&&(ee=we)),fe($e,ae),$e.returnBegin?0:we.length}function ye(ae){const we=ae[0],$e=_.substring(ae.index),De=X(Q,ae,$e);if(!De)return AN;const ie=Q;Q.endScope&&Q.endScope._wrap?(ve(),pe.addKeyword(we,Q.endScope._wrap)):Q.endScope&&Q.endScope._multi?(ve(),Y(Q.endScope,ae)):ie.skip?ee+=we:(ie.returnEnd||ie.excludeEnd||(ee+=we),ve(),ie.excludeEnd&&(ee=we));do Q.scope&&pe.closeNode(),!Q.skip&&!Q.subLanguage&&(de+=Q.relevance),Q=Q.parent;while(Q!==De.parent);return De.starts&&fe(De.starts,ae),ie.returnEnd?0:we.length}function Ae(){const ae=[];for(let we=Q;we!==ge;we=we.parent)we.scope&&ae.unshift(we.scope);ae.forEach(we=>pe.openNode(we))}let j={};function ne(ae,we){const $e=we&&we[0];if(ee+=ae,$e==null)return ve(),0;if(j.type==="begin"&&we.type==="end"&&j.index===we.index&&$e===""){if(ee+=_.slice(we.index,we.index+1),!s){const De=new Error(`0 width match regex (${M})`);throw De.languageName=M,De.badRule=j.rule,De}return 1}if(j=we,we.type==="begin")return ue(we);if(we.type==="illegal"&&!O){const De=new Error('Illegal lexeme "'+$e+'" for mode "'+(Q.scope||"<unnamed>")+'"');throw De.mode=Q,De}else if(we.type==="end"){const De=ye(we);if(De!==AN)return De}if(we.type==="illegal"&&$e==="")return 1;if(Te>1e5&&Te>we.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ee+=$e,$e.length}const ge=N(M);if(!ge)throw Hl(o.replace("{}",M)),new Error('Unknown language: "'+M+'"');const Se=_Pe(ge);let _e="",Q=$||Se;const Me={},pe=new a.__emitter(a);Ae();let ee="",de=0,le=0,Te=0,Le=!1;try{for(Q.matcher.considerAll();;){Te++,Le?Le=!1:Q.matcher.considerAll(),Q.matcher.lastIndex=le;const ae=Q.matcher.exec(_);if(!ae)break;const we=_.substring(le,ae.index),$e=ne(we,ae);le=ae.index+$e}return ne(_.substring(le)),pe.closeAllNodes(),pe.finalize(),_e=pe.toHTML(),{language:M,value:_e,relevance:de,illegal:!1,_emitter:pe,_top:Q}}catch(ae){if(ae.message&&ae.message.includes("Illegal"))return{language:M,value:tw(_),illegal:!0,relevance:0,_illegalBy:{message:ae.message,index:le,context:_.slice(le-100,le+100),mode:ae.mode,resultSoFar:_e},_emitter:pe};if(s)return{language:M,value:tw(_),illegal:!1,relevance:0,errorRaised:ae,_emitter:pe,_top:Q};throw ae}}function f(M){const _={value:tw(M),illegal:!1,relevance:0,_top:i,_emitter:new a.__emitter(a)};return _._emitter.addText(M),_}function p(M,_){_=_||a.languages||Object.keys(e);const O=f(M),$=_.filter(N).filter(H).map(ve=>d(ve,M,!1));$.unshift(O);const K=$.sort((ve,Y)=>{if(ve.relevance!==Y.relevance)return Y.relevance-ve.relevance;if(ve.language&&Y.language){if(N(ve.language).supersetOf===Y.language)return 1;if(N(Y.language).supersetOf===ve.language)return-1}return 0}),[J,W]=K,se=J;return se.secondBest=W,se}function m(M,_,O){const $=_&&n[_]||O;M.classList.add("hljs"),M.classList.add(`language-${$}`)}function g(M){let _=null;const O=c(M);if(l(O))return;if(V("before:highlightElement",{el:M,language:O}),M.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(M)),a.throwUnescapedHTML))throw new MPe("One of your code blocks includes unescaped HTML.",M.innerHTML);_=M;const $=_.textContent,K=O?u($,{language:O,ignoreIllegals:!0}):p($);M.innerHTML=K.value,m(M,O,K.language),M.result={language:K.language,re:K.relevance,relevance:K.relevance},K.secondBest&&(M.secondBest={language:K.secondBest.language,relevance:K.secondBest.relevance}),V("after:highlightElement",{el:M,result:K,text:$})}function v(M){a=MN(a,M)}const y=()=>{w(),Vc("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function C(){w(),Vc("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function w(){if(document.readyState==="loading"){b=!0;return}document.querySelectorAll(a.cssSelector).forEach(g)}function S(){b&&w()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",S,!1);function k(M,_){let O=null;try{O=_(t)}catch($){if(Hl("Language definition for '{}' could not be registered.".replace("{}",M)),s)Hl($);else throw $;O=i}O.name||(O.name=M),e[M]=O,O.rawDefinition=_.bind(null,t),O.aliases&&R(O.aliases,{languageName:M})}function A(M){delete e[M];for(const _ of Object.keys(n))n[_]===M&&delete n[_]}function x(){return Object.keys(e)}function N(M){return M=(M||"").toLowerCase(),e[M]||e[n[M]]}function R(M,{languageName:_}){typeof M=="string"&&(M=[M]),M.forEach(O=>{n[O.toLowerCase()]=_})}function H(M){const _=N(M);return _&&!_.disableAutodetect}function P(M){M["before:highlightBlock"]&&!M["before:highlightElement"]&&(M["before:highlightElement"]=_=>{M["before:highlightBlock"](Object.assign({block:_.el},_))}),M["after:highlightBlock"]&&!M["after:highlightElement"]&&(M["after:highlightElement"]=_=>{M["after:highlightBlock"](Object.assign({block:_.el},_))})}function B(M){P(M),r.push(M)}function V(M,_){const O=M;r.forEach(function($){$[O]&&$[O](_)})}function z(M){return Vc("10.7.0","highlightBlock will be removed entirely in v12.0"),Vc("10.7.0","Please use highlightElement now."),g(M)}Object.assign(t,{highlight:u,highlightAuto:p,highlightAll:w,highlightElement:g,highlightBlock:z,configure:v,initHighlighting:y,initHighlightingOnLoad:C,registerLanguage:k,unregisterLanguage:A,listLanguages:x,getLanguage:N,registerAliases:R,autoDetection:H,inherit:MN,addPlugin:B}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString=IPe,t.regex={concat:_c,lookahead:Jz,either:vT,optional:UDe,anyNumberOfTimes:KDe};for(const M in Tm)typeof Tm[M]=="object"&&pT.exports(Tm[M]);return Object.assign(t,Tm),t};var Wh=OPe({}),NPe=Wh;Wh.HighlightJS=Wh;Wh.default=Wh;var $Pe=NPe;function i6(t,e=[]){return t.map(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?i6(n.children,r):{text:n.value,classes:r}}).flat()}function ON(t){return t.value||t.children||[]}function RPe(t){return Boolean($Pe.getLanguage(t))}function NN({doc:t,name:e,lowlight:n,defaultLanguage:r}){const s=[];return bC(t,o=>o.type.name===e).forEach(o=>{let i=o.pos+1;const a=o.node.attrs.language||r,l=n.listLanguages(),c=a&&(l.includes(a)||RPe(a))?ON(n.highlight(a,o.node.textContent)):ON(n.highlightAuto(o.node.textContent));i6(c).forEach(u=>{const d=i+u.text.length;if(u.classes.length){const f=Or.inline(i,d,{class:u.classes.join(" ")});s.push(f)}i=d})}),An.create(t,s)}function DPe(t){return typeof t=="function"}function PPe({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(s=>DPe(e[s])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new dr({key:new ls("lowlight"),state:{init:(s,{doc:o})=>NN({doc:o,name:t,lowlight:e,defaultLanguage:n}),apply:(s,o,i,a)=>{const l=i.selection.$head.parent.type.name,c=a.selection.$head.parent.type.name,u=bC(i.doc,f=>f.type.name===t),d=bC(a.doc,f=>f.type.name===t);return s.docChanged&&([l,c].includes(t)||d.length!==u.length||s.steps.some(f=>f.from!==void 0&&f.to!==void 0&&u.some(p=>p.pos>=f.from&&p.pos+p.node.nodeSize<=f.to)))?NN({doc:s.doc,name:t,lowlight:e,defaultLanguage:n}):o.map(s.mapping,s.doc)}},props:{decorations(s){return r.getState(s)}}});return r}const LPe=Uz.extend({addOptions(){var t;return{...(t=this.parent)===null||t===void 0?void 0:t.call(this),lowlight:{},defaultLanguage:null}},addProseMirrorPlugins(){var t;return[...((t=this.parent)===null||t===void 0?void 0:t.call(this))||[],PPe({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),BPe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),FPe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],VPe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],zPe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],HPe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],KPe=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function UPe(t){const e=t.regex,n=BPe(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s="and or not only",o=/@-?\w[\w]*(-\w+)*/,i="[a-zA-Z-][a-zA-Z0-9_-]*",a=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+i,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+zPe.join("|")+")"},{begin:":(:)?("+HPe.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+KPe.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:VPe.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+FPe.join("|")+")\\b"}]}}const $N="[A-Za-z$_][0-9A-Za-z$_]*",jPe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],WPe=["true","false","null","undefined","NaN","Infinity"],a6=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],l6=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],c6=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],qPe=["arguments","this","super","console","window","document","localStorage","module","global"],GPe=[].concat(c6,a6,l6);function YPe(t){const e=t.regex,n=(_,{after:O})=>{const $="</"+_[0].slice(1);return _.input.indexOf($,O)!==-1},r=$N,s={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(_,O)=>{const $=_[0].length+_.index,K=_.input[$];if(K==="<"||K===","){O.ignoreMatch();return}K===">"&&(n(_,{after:$})||O.ignoreMatch());let J;if((J=_.input.substring($).match(/^\s+extends\s+/))&&J.index===0){O.ignoreMatch();return}}},a={$pattern:$N,keyword:jPe,literal:WPe,built_in:GPe,"variable.language":qPe},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},p={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},v=t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),y={className:"comment",variants:[v,t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},C=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,g,d];f.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});const b=[].concat(y,f.contains),w=b.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(b)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:w},k={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...a6,...l6]}},x={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function H(_){return e.concat("(?!",_.join("|"),")")}const P={match:e.concat(/\b/,H([...c6,"super"]),r,e.lookahead(/\(/)),className:"title.function",relevance:0},B={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},V={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),x,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,g,y,d,A,{className:"attr",begin:r+e.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:o},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},B,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},P,R,k,V,{match:/\$[(.]/}]}}const Av="[A-Za-z$_][0-9A-Za-z$_]*",u6=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],d6=["true","false","null","undefined","NaN","Infinity"],f6=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],h6=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],p6=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],m6=["arguments","this","super","console","window","document","localStorage","module","global"],g6=[].concat(p6,f6,h6);function XPe(t){const e=t.regex,n=(_,{after:O})=>{const $="</"+_[0].slice(1);return _.input.indexOf($,O)!==-1},r=Av,s={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(_,O)=>{const $=_[0].length+_.index,K=_.input[$];if(K==="<"||K===","){O.ignoreMatch();return}K===">"&&(n(_,{after:$})||O.ignoreMatch());let J;if((J=_.input.substring($).match(/^\s+extends\s+/))&&J.index===0){O.ignoreMatch();return}}},a={$pattern:Av,keyword:u6,literal:d6,built_in:g6,"variable.language":m6},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},p={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},v=t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),y={className:"comment",variants:[v,t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},C=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,g,d];f.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});const b=[].concat(y,f.contains),w=b.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(b)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:w},k={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...f6,...h6]}},x={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function H(_){return e.concat("(?!",_.join("|"),")")}const P={match:e.concat(/\b/,H([...p6,"super"]),r,e.lookahead(/\(/)),className:"title.function",relevance:0},B={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},V={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),x,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,g,y,d,A,{className:"attr",begin:r+e.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:o},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},B,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},P,R,k,V,{match:/\$[(.]/}]}}function JPe(t){const e=XPe(t),n=Av,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[e.exports.CLASS_REFERENCE]},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[e.exports.CLASS_REFERENCE]},i={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},a=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],l={$pattern:Av,keyword:u6.concat(a),literal:d6,built_in:g6.concat(r),"variable.language":m6},c={className:"meta",begin:"@"+n},u=(f,p,m)=>{const g=f.contains.findIndex(v=>v.label===p);if(g===-1)throw new Error("can not find mode to replace");f.contains.splice(g,1,m)};Object.assign(e.keywords,l),e.exports.PARAMS_CONTAINS.push(c),e.contains=e.contains.concat([c,s,o]),u(e,"shebang",t.SHEBANG()),u(e,"use_strict",i);const d=e.contains.find(f=>f.label==="func.def");return d.relevance=0,Object.assign(e,{name:"TypeScript",aliases:["ts","tsx"]}),e}function QPe(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=t.inherit(o,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,l,a,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,i,l,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}var wT={exports:{}};function CT(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];typeof n=="object"&&!Object.isFrozen(n)&&CT(n)}),t}wT.exports=CT;wT.exports.default=CT;class RN{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function v6(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function ca(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const s in r)n[s]=r[s]}),n}const ZPe="</span>",DN=t=>!!t.scope||t.sublanguage&&t.language,eLe=(t,{prefix:e})=>{if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,s)=>`${r}${"_".repeat(s+1)}`)].join(" ")}return`${e}${t}`};class tLe{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=v6(e)}openNode(e){if(!DN(e))return;let n="";e.sublanguage?n=`language-${e.language}`:n=eLe(e.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(e){!DN(e)||(this.buffer+=ZPe)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const PN=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class ST{constructor(){this.rootNode=PN(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=PN({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&(!e.children||(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{ST._collapse(n)})))}}class nLe extends ST{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){const r=e.root;r.sublanguage=!0,r.language=n,this.add(r)}toHTML(){return new tLe(this,this.options).value()}finalize(){return!0}}function qh(t){return t?typeof t=="string"?t:t.source:null}function y6(t){return xc("(?=",t,")")}function rLe(t){return xc("(?:",t,")*")}function sLe(t){return xc("(?:",t,")?")}function xc(...t){return t.map(n=>qh(n)).join("")}function oLe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function kT(...t){const e=oLe(t);return"("+(e.capture?"":"?:")+t.map(r=>qh(r)).join("|")+")"}function b6(t){return new RegExp(t.toString()+"|").exec("").length-1}function iLe(t,e){const n=t&&t.exec(e);return n&&n.index===0}const aLe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ET(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const s=n;let o=qh(r),i="";for(;o.length>0;){const a=aLe.exec(o);if(!a){i+=o;break}i+=o.substring(0,a.index),o=o.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?i+="\\"+String(Number(a[1])+s):(i+=a[0],a[0]==="("&&n++)}return i}).map(r=>`(${r})`).join(e)}const lLe=/\b\B/,w6="[a-zA-Z]\\w*",TT="[a-zA-Z_]\\w*",C6="\\b\\d+(\\.\\d+)?",S6="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",k6="\\b(0b[01]+)",cLe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",uLe=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=xc(e,/.*\b/,t.binary,/\b.*/)),ca({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},Gh={begin:"\\\\[\\s\\S]",relevance:0},dLe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Gh]},fLe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Gh]},hLe={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},kb=function(t,e,n={}){const r=ca({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=kT("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:xc(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},pLe=kb("//","$"),mLe=kb("/\\*","\\*/"),gLe=kb("#","$"),vLe={scope:"number",begin:C6,relevance:0},yLe={scope:"number",begin:S6,relevance:0},bLe={scope:"number",begin:k6,relevance:0},wLe={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Gh,{begin:/\[/,end:/\]/,relevance:0,contains:[Gh]}]}]},CLe={scope:"title",begin:w6,relevance:0},SLe={scope:"title",begin:TT,relevance:0},kLe={begin:"\\.\\s*"+TT,relevance:0},ELe=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var _m=Object.freeze({__proto__:null,MATCH_NOTHING_RE:lLe,IDENT_RE:w6,UNDERSCORE_IDENT_RE:TT,NUMBER_RE:C6,C_NUMBER_RE:S6,BINARY_NUMBER_RE:k6,RE_STARTERS_RE:cLe,SHEBANG:uLe,BACKSLASH_ESCAPE:Gh,APOS_STRING_MODE:dLe,QUOTE_STRING_MODE:fLe,PHRASAL_WORDS_MODE:hLe,COMMENT:kb,C_LINE_COMMENT_MODE:pLe,C_BLOCK_COMMENT_MODE:mLe,HASH_COMMENT_MODE:gLe,NUMBER_MODE:vLe,C_NUMBER_MODE:yLe,BINARY_NUMBER_MODE:bLe,REGEXP_MODE:wLe,TITLE_MODE:CLe,UNDERSCORE_TITLE_MODE:SLe,METHOD_GUARD:kLe,END_SAME_AS_BEGIN:ELe});function TLe(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function _Le(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function xLe(t,e){!e||!t.beginKeywords||(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=TLe,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function ILe(t,e){!Array.isArray(t.illegal)||(t.illegal=kT(...t.illegal))}function MLe(t,e){if(!!t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function ALe(t,e){t.relevance===void 0&&(t.relevance=1)}const OLe=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=xc(n.beforeMatch,y6(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},NLe=["of","and","for","in","not","or","if","then","parent","list","value"],$Le="keyword";function E6(t,e,n=$Le){const r=Object.create(null);return typeof t=="string"?s(n,t.split(" ")):Array.isArray(t)?s(n,t):Object.keys(t).forEach(function(o){Object.assign(r,E6(t[o],e,o))}),r;function s(o,i){e&&(i=i.map(a=>a.toLowerCase())),i.forEach(function(a){const l=a.split("|");r[l[0]]=[o,RLe(l[0],l[1])]})}}function RLe(t,e){return e?Number(e):DLe(t)?0:1}function DLe(t){return NLe.includes(t.toLowerCase())}const LN={},Kl=t=>{console.error(t)},BN=(t,...e)=>{console.log(`WARN: ${t}`,...e)},zc=(t,e)=>{LN[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),LN[`${t}/${e}`]=!0)},Ov=new Error;function T6(t,e,{key:n}){let r=0;const s=t[n],o={},i={};for(let a=1;a<=e.length;a++)i[a+r]=s[a],o[a+r]=!0,r+=b6(e[a-1]);t[n]=i,t[n]._emit=o,t[n]._multi=!0}function PLe(t){if(!!Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Kl("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ov;if(typeof t.beginScope!="object"||t.beginScope===null)throw Kl("beginScope must be object"),Ov;T6(t,t.begin,{key:"beginScope"}),t.begin=ET(t.begin,{joinWith:""})}}function LLe(t){if(!!Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Kl("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ov;if(typeof t.endScope!="object"||t.endScope===null)throw Kl("endScope must be object"),Ov;T6(t,t.end,{key:"endScope"}),t.end=ET(t.end,{joinWith:""})}}function BLe(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function FLe(t){BLe(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),PLe(t),LLe(t)}function VLe(t){function e(i,a){return new RegExp(qh(i),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=b6(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=e(ET(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const c=l.findIndex((d,f)=>f>0&&d!==void 0),u=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new n;return this.rules.slice(a).forEach(([c,u])=>l.addRule(c,u)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function s(i){const a=new r;return i.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),i.terminatorEnd&&a.addRule(i.terminatorEnd,{type:"end"}),i.illegal&&a.addRule(i.illegal,{type:"illegal"}),a}function o(i,a){const l=i;if(i.isCompiled)return l;[_Le,MLe,FLe,OLe].forEach(u=>u(i,a)),t.compilerExtensions.forEach(u=>u(i,a)),i.__beforeBegin=null,[xLe,ILe,ALe].forEach(u=>u(i,a)),i.isCompiled=!0;let c=null;return typeof i.keywords=="object"&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),c=i.keywords.$pattern,delete i.keywords.$pattern),c=c||/\w+/,i.keywords&&(i.keywords=E6(i.keywords,t.case_insensitive)),l.keywordPatternRe=e(c,!0),a&&(i.begin||(i.begin=/\B|\b/),l.beginRe=e(l.begin),!i.end&&!i.endsWithParent&&(i.end=/\B|\b/),i.end&&(l.endRe=e(l.end)),l.terminatorEnd=qh(l.end)||"",i.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(i.end?"|":"")+a.terminatorEnd)),i.illegal&&(l.illegalRe=e(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(u){return zLe(u==="self"?i:u)})),i.contains.forEach(function(u){o(u,l)}),i.starts&&o(i.starts,a),l.matcher=s(l),l}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=ca(t.classNameAliases||{}),o(t)}function _6(t){return t?t.endsWithParent||_6(t.starts):!1}function zLe(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return ca(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:_6(t)?ca(t,{starts:t.starts?ca(t.starts):null}):Object.isFrozen(t)?ca(t):t}var HLe="11.6.0";class KLe extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const nw=v6,FN=ca,VN=Symbol("nomatch"),ULe=7,jLe=function(t){const e=Object.create(null),n=Object.create(null),r=[];let s=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:nLe};function l(M){return a.noHighlightRe.test(M)}function c(M){let _=M.className+" ";_+=M.parentNode?M.parentNode.className:"";const O=a.languageDetectRe.exec(_);if(O){const $=N(O[1]);return $||(BN(o.replace("{}",O[1])),BN("Falling back to no-highlight mode for this block.",M)),$?O[1]:"no-highlight"}return _.split(/\s+/).find($=>l($)||N($))}function u(M,_,O){let $="",K="";typeof _=="object"?($=M,O=_.ignoreIllegals,K=_.language):(zc("10.7.0","highlight(lang, code, ...args) has been deprecated."),zc("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),K=M,$=_),O===void 0&&(O=!0);const J={code:$,language:K};V("before:highlight",J);const W=J.result?J.result:d(J.language,J.code,O);return W.code=J.code,V("after:highlight",W),W}function d(M,_,O,$){const K=Object.create(null);function J(ae,we){return ae.keywords[we]}function W(){if(!Q.keywords){pe.addText(ee);return}let ae=0;Q.keywordPatternRe.lastIndex=0;let we=Q.keywordPatternRe.exec(ee),$e="";for(;we;){$e+=ee.substring(ae,we.index);const De=ge.case_insensitive?we[0].toLowerCase():we[0],ie=J(Q,De);if(ie){const[Ie,je]=ie;if(pe.addText($e),$e="",K[De]=(K[De]||0)+1,K[De]<=ULe&&(de+=je),Ie.startsWith("_"))$e+=we[0];else{const U=ge.classNameAliases[Ie]||Ie;pe.addKeyword(we[0],U)}}else $e+=we[0];ae=Q.keywordPatternRe.lastIndex,we=Q.keywordPatternRe.exec(ee)}$e+=ee.substring(ae),pe.addText($e)}function se(){if(ee==="")return;let ae=null;if(typeof Q.subLanguage=="string"){if(!e[Q.subLanguage]){pe.addText(ee);return}ae=d(Q.subLanguage,ee,!0,Me[Q.subLanguage]),Me[Q.subLanguage]=ae._top}else ae=p(ee,Q.subLanguage.length?Q.subLanguage:null);Q.relevance>0&&(de+=ae.relevance),pe.addSublanguage(ae._emitter,ae.language)}function ve(){Q.subLanguage!=null?se():W(),ee=""}function Y(ae,we){let $e=1;const De=we.length-1;for(;$e<=De;){if(!ae._emit[$e]){$e++;continue}const ie=ge.classNameAliases[ae[$e]]||ae[$e],Ie=we[$e];ie?pe.addKeyword(Ie,ie):(ee=Ie,W(),ee=""),$e++}}function fe(ae,we){return ae.scope&&typeof ae.scope=="string"&&pe.openNode(ge.classNameAliases[ae.scope]||ae.scope),ae.beginScope&&(ae.beginScope._wrap?(pe.addKeyword(ee,ge.classNameAliases[ae.beginScope._wrap]||ae.beginScope._wrap),ee=""):ae.beginScope._multi&&(Y(ae.beginScope,we),ee="")),Q=Object.create(ae,{parent:{value:Q}}),Q}function X(ae,we,$e){let De=iLe(ae.endRe,$e);if(De){if(ae["on:end"]){const ie=new RN(ae);ae["on:end"](we,ie),ie.isMatchIgnored&&(De=!1)}if(De){for(;ae.endsParent&&ae.parent;)ae=ae.parent;return ae}}if(ae.endsWithParent)return X(ae.parent,we,$e)}function G(ae){return Q.matcher.regexIndex===0?(ee+=ae[0],1):(Le=!0,0)}function ue(ae){const we=ae[0],$e=ae.rule,De=new RN($e),ie=[$e.__beforeBegin,$e["on:begin"]];for(const Ie of ie)if(!!Ie&&(Ie(ae,De),De.isMatchIgnored))return G(we);return $e.skip?ee+=we:($e.excludeBegin&&(ee+=we),ve(),!$e.returnBegin&&!$e.excludeBegin&&(ee=we)),fe($e,ae),$e.returnBegin?0:we.length}function ye(ae){const we=ae[0],$e=_.substring(ae.index),De=X(Q,ae,$e);if(!De)return VN;const ie=Q;Q.endScope&&Q.endScope._wrap?(ve(),pe.addKeyword(we,Q.endScope._wrap)):Q.endScope&&Q.endScope._multi?(ve(),Y(Q.endScope,ae)):ie.skip?ee+=we:(ie.returnEnd||ie.excludeEnd||(ee+=we),ve(),ie.excludeEnd&&(ee=we));do Q.scope&&pe.closeNode(),!Q.skip&&!Q.subLanguage&&(de+=Q.relevance),Q=Q.parent;while(Q!==De.parent);return De.starts&&fe(De.starts,ae),ie.returnEnd?0:we.length}function Ae(){const ae=[];for(let we=Q;we!==ge;we=we.parent)we.scope&&ae.unshift(we.scope);ae.forEach(we=>pe.openNode(we))}let j={};function ne(ae,we){const $e=we&&we[0];if(ee+=ae,$e==null)return ve(),0;if(j.type==="begin"&&we.type==="end"&&j.index===we.index&&$e===""){if(ee+=_.slice(we.index,we.index+1),!s){const De=new Error(`0 width match regex (${M})`);throw De.languageName=M,De.badRule=j.rule,De}return 1}if(j=we,we.type==="begin")return ue(we);if(we.type==="illegal"&&!O){const De=new Error('Illegal lexeme "'+$e+'" for mode "'+(Q.scope||"<unnamed>")+'"');throw De.mode=Q,De}else if(we.type==="end"){const De=ye(we);if(De!==VN)return De}if(we.type==="illegal"&&$e==="")return 1;if(Te>1e5&&Te>we.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ee+=$e,$e.length}const ge=N(M);if(!ge)throw Kl(o.replace("{}",M)),new Error('Unknown language: "'+M+'"');const Se=VLe(ge);let _e="",Q=$||Se;const Me={},pe=new a.__emitter(a);Ae();let ee="",de=0,le=0,Te=0,Le=!1;try{for(Q.matcher.considerAll();;){Te++,Le?Le=!1:Q.matcher.considerAll(),Q.matcher.lastIndex=le;const ae=Q.matcher.exec(_);if(!ae)break;const we=_.substring(le,ae.index),$e=ne(we,ae);le=ae.index+$e}return ne(_.substring(le)),pe.closeAllNodes(),pe.finalize(),_e=pe.toHTML(),{language:M,value:_e,relevance:de,illegal:!1,_emitter:pe,_top:Q}}catch(ae){if(ae.message&&ae.message.includes("Illegal"))return{language:M,value:nw(_),illegal:!0,relevance:0,_illegalBy:{message:ae.message,index:le,context:_.slice(le-100,le+100),mode:ae.mode,resultSoFar:_e},_emitter:pe};if(s)return{language:M,value:nw(_),illegal:!1,relevance:0,errorRaised:ae,_emitter:pe,_top:Q};throw ae}}function f(M){const _={value:nw(M),illegal:!1,relevance:0,_top:i,_emitter:new a.__emitter(a)};return _._emitter.addText(M),_}function p(M,_){_=_||a.languages||Object.keys(e);const O=f(M),$=_.filter(N).filter(H).map(ve=>d(ve,M,!1));$.unshift(O);const K=$.sort((ve,Y)=>{if(ve.relevance!==Y.relevance)return Y.relevance-ve.relevance;if(ve.language&&Y.language){if(N(ve.language).supersetOf===Y.language)return 1;if(N(Y.language).supersetOf===ve.language)return-1}return 0}),[J,W]=K,se=J;return se.secondBest=W,se}function m(M,_,O){const $=_&&n[_]||O;M.classList.add("hljs"),M.classList.add(`language-${$}`)}function g(M){let _=null;const O=c(M);if(l(O))return;if(V("before:highlightElement",{el:M,language:O}),M.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(M)),a.throwUnescapedHTML))throw new KLe("One of your code blocks includes unescaped HTML.",M.innerHTML);_=M;const $=_.textContent,K=O?u($,{language:O,ignoreIllegals:!0}):p($);M.innerHTML=K.value,m(M,O,K.language),M.result={language:K.language,re:K.relevance,relevance:K.relevance},K.secondBest&&(M.secondBest={language:K.secondBest.language,relevance:K.secondBest.relevance}),V("after:highlightElement",{el:M,result:K,text:$})}function v(M){a=FN(a,M)}const y=()=>{w(),zc("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function C(){w(),zc("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function w(){if(document.readyState==="loading"){b=!0;return}document.querySelectorAll(a.cssSelector).forEach(g)}function S(){b&&w()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",S,!1);function k(M,_){let O=null;try{O=_(t)}catch($){if(Kl("Language definition for '{}' could not be registered.".replace("{}",M)),s)Kl($);else throw $;O=i}O.name||(O.name=M),e[M]=O,O.rawDefinition=_.bind(null,t),O.aliases&&R(O.aliases,{languageName:M})}function A(M){delete e[M];for(const _ of Object.keys(n))n[_]===M&&delete n[_]}function x(){return Object.keys(e)}function N(M){return M=(M||"").toLowerCase(),e[M]||e[n[M]]}function R(M,{languageName:_}){typeof M=="string"&&(M=[M]),M.forEach(O=>{n[O.toLowerCase()]=_})}function H(M){const _=N(M);return _&&!_.disableAutodetect}function P(M){M["before:highlightBlock"]&&!M["before:highlightElement"]&&(M["before:highlightElement"]=_=>{M["before:highlightBlock"](Object.assign({block:_.el},_))}),M["after:highlightBlock"]&&!M["after:highlightElement"]&&(M["after:highlightElement"]=_=>{M["after:highlightBlock"](Object.assign({block:_.el},_))})}function B(M){P(M),r.push(M)}function V(M,_){const O=M;r.forEach(function($){$[O]&&$[O](_)})}function z(M){return zc("10.7.0","highlightBlock will be removed entirely in v12.0"),zc("10.7.0","Please use highlightElement now."),g(M)}Object.assign(t,{highlight:u,highlightAuto:p,highlightAll:w,highlightElement:g,highlightBlock:z,configure:v,initHighlighting:y,initHighlightingOnLoad:C,registerLanguage:k,unregisterLanguage:A,listLanguages:x,getLanguage:N,registerAliases:R,autoDetection:H,inherit:FN,addPlugin:B}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString=HLe,t.regex={concat:xc,lookahead:y6,either:kT,optional:sLe,anyNumberOfTimes:rLe};for(const M in _m)typeof _m[M]=="object"&&wT.exports(_m[M]);return Object.assign(t,_m),t};var Yh=jLe({}),WLe=Yh;Yh.HighlightJS=Yh;Yh.default=Yh;const oo=WLe;var x6={exports:{}};(function(t){(function(){var e;e=t.exports=s,e.format=s,e.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(e.printf=n);function n(){console.log(s.apply(null,arguments))}function r(o,i){return s.apply(null,[o].concat(i))}function s(o){for(var i=1,a=[].slice.call(arguments),l=0,c=o.length,u="",d,f=!1,p,m,g=!1,v,y=function(){return a[i++]},C=function(){for(var b="";/\d/.test(o[l]);)b+=o[l++],d=o[l];return b.length>0?parseInt(b):null};l<c;++l)if(d=o[l],f)switch(f=!1,d=="."?(g=!1,d=o[++l]):d=="0"&&o[l+1]=="."?(g=!0,l+=2,d=o[l]):g=!0,v=C(),d){case"b":u+=parseInt(y(),10).toString(2);break;case"c":p=y(),typeof p=="string"||p instanceof String?u+=p:u+=String.fromCharCode(parseInt(p,10));break;case"d":u+=parseInt(y(),10);break;case"f":m=String(parseFloat(y()).toFixed(v||6)),u+=g?m:m.replace(/^0/,"");break;case"j":u+=JSON.stringify(y());break;case"o":u+="0"+parseInt(y(),10).toString(8);break;case"s":u+=y();break;case"x":u+="0x"+parseInt(y(),10).toString(16);break;case"X":u+="0x"+parseInt(y(),10).toString(16).toUpperCase();break;default:u+=d;break}else d==="%"?f=!0:u+=d;return u}})()})(x6);const qLe=x6.exports,bg=Object.assign(tl(Error),{eval:tl(EvalError),range:tl(RangeError),reference:tl(ReferenceError),syntax:tl(SyntaxError),type:tl(TypeError),uri:tl(URIError)});function tl(t){return e.displayName=t.displayName||t.name,e;function e(n,...r){const s=n&&qLe(n,...r);return new t(s)}}const GLe={}.hasOwnProperty,YLe="hljs-";function I6(t,e,n={}){let r=n.prefix;if(typeof t!="string")throw bg("Expected `string` for name, got `%s`",t);if(!oo.getLanguage(t))throw bg("Unknown language: `%s` is not registered",t);if(typeof e!="string")throw bg("Expected `string` for value, got `%s`",e);r==null&&(r=YLe),oo.configure({__emitter:tBe,classPrefix:r});const s=oo.highlight(e,{language:t,ignoreIllegals:!0});if(oo.configure({}),s.errorRaised)throw s.errorRaised;return s._emitter.root.data.language=s.language,s._emitter.root.data.relevance=s.relevance,s._emitter.root}function XLe(t,e={}){const n=e.subset||oo.listLanguages();e.prefix;let r=-1,s={type:"root",data:{language:null,relevance:0},children:[]};if(typeof t!="string")throw bg("Expected `string` for value, got `%s`",t);for(;++r<n.length;){const o=n[r];if(!oo.getLanguage(o))continue;const i=I6(o,t,e);i.data.relevance>s.data.relevance&&(s=i)}return s}function JLe(t,e){oo.registerLanguage(t,e)}const QLe=function(t,e){if(typeof t=="string")oo.registerAliases(e,{languageName:t});else{let n;for(n in t)GLe.call(t,n)&&oo.registerAliases(t[n],{languageName:n})}};function ZLe(t){return Boolean(oo.getLanguage(t))}function eBe(){return oo.listLanguages()}class tBe{constructor(e){this.options=e,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}addKeyword(e,n){this.openNode(n),this.addText(e),this.closeNode()}addSublanguage(e,n){const r=this.stack[this.stack.length-1],s=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:s}):r.children.push(...s)}openNode(e){const n=e.split(".").map((o,i)=>i?o+"_".repeat(i):this.options.classPrefix+o),r=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:n},children:[]};r.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}closeAllNodes(){}finalize(){}toHTML(){return""}}const Dp={highlight:I6,highlightAuto:XLe,registerLanguage:JLe,registered:ZLe,listLanguages:eBe,registerAlias:QLe};let _C,xC;if(typeof WeakMap<"u"){let t=new WeakMap;_C=e=>t.get(e),xC=(e,n)=>(t.set(e,n),n)}else{let t=[],e=10,n=0;_C=r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},xC=(r,s)=>(n==e&&(n=0),t[n++]=r,t[n++]=s)}class fd{constructor(e,n,r,s){this.left=e,this.top=n,this.right=r,this.bottom=s}}class Tn{constructor(e,n,r,s){this.width=e,this.height=n,this.map=r,this.problems=s}findCell(e){for(let n=0;n<this.map.length;n++){let r=this.map[n];if(r!=e)continue;let s=n%this.width,o=n/this.width|0,i=s+1,a=o+1;for(let l=1;i<this.width&&this.map[n+l]==r;l++)i++;for(let l=1;a<this.height&&this.map[n+this.width*l]==r;l++)a++;return new fd(s,o,i,a)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let n=0;n<this.map.length;n++)if(this.map[n]==e)return n%this.width;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,n,r){let{left:s,right:o,top:i,bottom:a}=this.findCell(e);return n=="horiz"?(r<0?s==0:o==this.width)?null:this.map[i*this.width+(r<0?s-1:o)]:(r<0?i==0:a==this.height)?null:this.map[s+this.width*(r<0?i-1:a)]}rectBetween(e,n){let{left:r,right:s,top:o,bottom:i}=this.findCell(e),{left:a,right:l,top:c,bottom:u}=this.findCell(n);return new fd(Math.min(r,a),Math.min(o,c),Math.max(s,l),Math.max(i,u))}cellsInRect(e){let n=[],r={};for(let s=e.top;s<e.bottom;s++)for(let o=e.left;o<e.right;o++){let i=s*this.width+o,a=this.map[i];r[a]||(r[a]=!0,(o!=e.left||!o||this.map[i-1]!=a)&&(s!=e.top||!s||this.map[i-this.width]!=a)&&n.push(a))}return n}positionAt(e,n,r){for(let s=0,o=0;;s++){let i=o+r.child(s).nodeSize;if(s==e){let a=n+e*this.width,l=(e+1)*this.width;for(;a<l&&this.map[a]<o;)a++;return a==l?i-1:this.map[a]}o=i}}static get(e){return _C(e)||xC(e,nBe(e))}}function nBe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);let e=rBe(t),n=t.childCount,r=[],s=0,o=null,i=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){let d=t.child(c);u++;for(let m=0;;m++){for(;s<r.length&&r[s]!=0;)s++;if(m==d.childCount)break;let g=d.child(m),{colspan:v,rowspan:y,colwidth:C}=g.attrs;for(let b=0;b<y;b++){if(b+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:y-b});break}let w=s+b*e;for(let S=0;S<v;S++){r[w+S]==0?r[w+S]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:v-S});let k=C&&C[S];if(k){let A=(w+S)%e*2,x=i[A];x==null||x!=k&&i[A+1]==1?(i[A]=k,i[A+1]=1):x==k&&i[A+1]++}}}s+=v,u+=g.nodeSize}let f=(c+1)*e,p=0;for(;s<f;)r[s++]==0&&p++;p&&(o||(o=[])).push({type:"missing",row:c,n:p}),u++}let a=new Tn(e,n,r,o),l=!1;for(let c=0;!l&&c<i.length;c+=2)i[c]!=null&&i[c+1]<n&&(l=!0);return l&&sBe(a,i,t),a}function rBe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){let s=t.child(r),o=0;if(n)for(let i=0;i<r;i++){let a=t.child(i);for(let l=0;l<a.childCount;l++){let c=a.child(l);i+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let i=0;i<s.childCount;i++){let a=s.child(i);o+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function sBe(t,e,n){t.problems||(t.problems=[]);for(let r=0,s={};r<t.map.length;r++){let o=t.map[r];if(s[o])continue;s[o]=!0;let i=n.nodeAt(o),a=null;for(let l=0;l<i.attrs.colspan;l++){let c=(r+l)%t.width,u=e[c*2];u!=null&&(!i.attrs.colwidth||i.attrs.colwidth[l]!=u)&&((a||(a=oBe(i.attrs)))[l]=u)}a&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}function oBe(t){if(t.colwidth)return t.colwidth.slice();let e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Er(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(let n in t.nodes){let r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}const ta=new ls("selectingCells");function Ad(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function iBe(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function wo(t){let e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Eb(t){let e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&e.node.type.spec.tableRole=="cell"?e.$anchor:Ad(e.$head)||aBe(e.$head)}function aBe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){let r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){let r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function IC(t){return t.parent.type.spec.tableRole=="row"&&t.nodeAfter}function lBe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function _T(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function M6(t,e,n){let r=t.start(-1),o=Tn.get(t.node(-1)).nextCell(t.pos-r,e,n);return o==null?null:t.node(0).resolve(r+o)}function qn(t,e,n){let r={};for(let s in t)r[s]=t[s];return r[e]=n,r}function hc(t,e,n=1){let r=qn(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function A6(t,e,n=1){let r=qn(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}function cBe(t,e,n){let r=Er(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}class Gt extends xt{constructor(e,n=e){let r=e.node(-1),s=Tn.get(r),o=e.start(-1),i=s.rectBetween(e.pos-o,n.pos-o),a=e.node(0),l=s.cellsInRect(i).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);let c=l.map(u=>{let d=r.nodeAt(u),f=u+o+1;return new xV(a.resolve(f),a.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){let r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(IC(r)&&IC(s)&&_T(r,s)){let o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?Gt.rowSelection(r,s):o&&this.isColSelection()?Gt.colSelection(r,s):new Gt(r,s)}return Nt.between(r,s)}content(){let e=this.$anchorCell.node(-1),n=Tn.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},i=[];for(let l=s.top;l<s.bottom;l++){let c=[];for(let u=l*n.width+s.left,d=s.left;d<s.right;d++,u++){let f=n.map[u];if(!o[f]){o[f]=!0;let p=n.findCell(f),m=e.nodeAt(f),g=s.left-p.left,v=p.right-s.right;if(g>0||v>0){let y=m.attrs;g>0&&(y=hc(y,0,g)),v>0&&(y=hc(y,y.colspan-v,v)),p.left<s.left?m=m.type.createAndFill(y):m=m.type.create(y,m.content)}if(p.top<s.top||p.bottom>s.bottom){let y=qn(m.attrs,"rowspan",Math.min(p.bottom,s.bottom)-Math.max(p.top,s.top));p.top<s.top?m=m.type.createAndFill(y):m=m.type.create(y,m.content)}c.push(m)}}i.push(e.child(l).copy(qe.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:i;return new nt(qe.from(a),1,1)}replace(e,n=nt.empty){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),i?nt.empty:n)}let o=xt.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new nt(qe.from(n),0,0))}forEachCell(e){let n=this.$anchorCell.node(-1),r=Tn.get(n),s=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let i=0;i<o.length;i++)e(n.nodeAt(o[i]),s+o[i])}isColSelection(){let e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;let r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){let r=Tn.get(e.node(-1)),s=e.start(-1),o=r.findCell(e.pos-s),i=r.findCell(n.pos-s),a=e.node(0);return o.top<=i.top?(o.top>0&&(e=a.resolve(s+r.map[o.left])),i.bottom<r.height&&(n=a.resolve(s+r.map[r.width*(r.height-1)+i.right-1]))):(i.top>0&&(n=a.resolve(s+r.map[i.left])),o.bottom<r.height&&(e=a.resolve(s+r.map[r.width*(r.height-1)+o.right-1]))),new Gt(e,n)}isRowSelection(){let e=Tn.get(this.$anchorCell.node(-1)),n=this.$anchorCell.start(-1),r=e.colCount(this.$anchorCell.pos-n),s=e.colCount(this.$headCell.pos-n);if(Math.min(r,s)>0)return!1;let o=r+this.$anchorCell.nodeAfter.attrs.colspan,i=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width}eq(e){return e instanceof Gt&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){let r=Tn.get(e.node(-1)),s=e.start(-1),o=r.findCell(e.pos-s),i=r.findCell(n.pos-s),a=e.node(0);return o.left<=i.left?(o.left>0&&(e=a.resolve(s+r.map[o.top*r.width])),i.right<r.width&&(n=a.resolve(s+r.map[r.width*(i.top+1)-1]))):(i.left>0&&(n=a.resolve(s+r.map[i.top*r.width])),o.right<r.width&&(e=a.resolve(s+r.map[r.width*(o.top+1)-1]))),new Gt(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Gt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Gt(e.resolve(n),e.resolve(r))}getBookmark(){return new xT(this.$anchorCell.pos,this.$headCell.pos)}}Gt.prototype.visible=!1;xt.jsonID("cell",Gt);class xT{constructor(e,n){this.anchor=e,this.head=n}map(e){return new xT(e.map(this.anchor),e.map(this.head))}resolve(e){let n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&_T(n,r)?new Gt(n,r):xt.near(r,1)}}function uBe(t){if(!(t.selection instanceof Gt))return null;let e=[];return t.selection.forEachCell((n,r)=>{e.push(Or.node(r,r+n.nodeSize,{class:"selectedCell"}))}),An.create(t.doc,e)}function dBe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}function fBe({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){let o=t.node(s);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let s=e.depth;s>0;s--){let o=e.node(s);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function hBe(t,e,n){let r=(e||t).selection,s=(e||t).doc,o,i;if(r instanceof Mt&&(i=r.node.type.spec.tableRole)){if(i=="cell"||i=="header_cell")o=Gt.create(s,r.from);else if(i=="row"){let a=s.resolve(r.from+1);o=Gt.rowSelection(a,a)}else if(!n){let a=Tn.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];o=Gt.create(s,l+1,c)}}else r instanceof Nt&&dBe(r)?o=Nt.create(s,r.from):r instanceof Nt&&fBe(r)&&(o=Nt.create(s,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}function pBe(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.firstChild.type.spec.tableRole=="table");)n--,r--,e=e.firstChild.content;let s=e.firstChild,o=s.type.spec.tableRole,i=s.type.schema,a=[];if(o=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content,u=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=MC(Er(i).row,new nt(c,u,d)).content),a.push(c)}else if(o=="cell"||o=="header_cell")a.push(n||r?MC(Er(i).row,new nt(e,n,r)).content:e);else return null;return mBe(i,a)}function mBe(t,e){let n=[];for(let s=0;s<e.length;s++){let o=e[s];for(let i=o.childCount-1;i>=0;i--){let{rowspan:a,colspan:l}=o.child(i).attrs;for(let c=s;c<s+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(qe.empty),n[s]<r){let o=Er(t).cell.createAndFill(),i=[];for(let a=n[s];a<r;a++)i.push(o);e[s]=e[s].append(qe.from(i))}return{height:e.length,width:r,rows:e}}function MC(t,e){let n=t.createAndFill();return new _V(n).replace(0,n.content.size,e).doc}function gBe({width:t,height:e,rows:n},r,s){if(t!=r){let o=[],i=[];for(let a=0;a<n.length;a++){let l=n[a],c=[];for(let u=o[a]||0,d=0;u<r;d++){let f=l.child(d%l.childCount);u+f.attrs.colspan>r&&(f=f.type.create(hc(f.attrs,f.attrs.colspan,u+f.attrs.colspan-r),f.content)),c.push(f),u+=f.attrs.colspan;for(let p=1;p<f.attrs.rowspan;p++)o[a+p]=(o[a+p]||0)+f.attrs.colspan}i.push(qe.from(c))}n=i,t=r}if(e!=s){let o=[];for(let i=0,a=0;i<s;i++,a++){let l=[],c=n[a%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);i+d.attrs.rowspan>s&&(d=d.type.create(qn(d.attrs,"rowspan",Math.max(1,s-d.attrs.rowspan)),d.content)),l.push(d)}o.push(qe.from(l))}n=o,e=s}return{width:t,height:e,rows:n}}function vBe(t,e,n,r,s,o,i){let a=t.doc.type.schema,l=Er(a),c,u;if(s>e.width)for(let d=0,f=0;d<e.height;d++){let p=n.child(d);f+=p.nodeSize;let m=[],g;p.lastChild==null||p.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let v=e.width;v<s;v++)m.push(g);t.insert(t.mapping.slice(i).map(f-1+r),m)}if(o>e.height){let d=[];for(let m=0,g=(e.height-1)*e.width;m<Math.max(e.width,s);m++){let v=m>=e.width?!1:n.nodeAt(e.map[g+m]).type==l.header_cell;d.push(v?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}let f=l.row.create(null,qe.from(d)),p=[];for(let m=e.height;m<o;m++)p.push(f);t.insert(t.mapping.slice(i).map(r+n.nodeSize-2),p)}return!!(c||u)}function zN(t,e,n,r,s,o,i,a){if(i==0||i==e.height)return!1;let l=!1;for(let c=s;c<o;c++){let u=i*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;let f=n.nodeAt(d),{top:p,left:m}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,qn(f.attrs,"rowspan",i-p)),t.insert(t.mapping.slice(a).map(e.positionAt(i,m,n)),f.type.createAndFill(qn(f.attrs,"rowspan",p+f.attrs.rowspan-i))),c+=f.attrs.colspan-1}}return l}function HN(t,e,n,r,s,o,i,a){if(i==0||i==e.width)return!1;let l=!1;for(let c=s;c<o;c++){let u=c*e.width+i,d=e.map[u];if(e.map[u-1]==d){l=!0;let f=n.nodeAt(d),p=e.colCount(d),m=t.mapping.slice(a).map(d+r);t.setNodeMarkup(m,null,hc(f.attrs,i-p,f.attrs.colspan-(i-p))),t.insert(m+f.nodeSize,f.type.createAndFill(hc(f.attrs,0,i-p))),c+=f.attrs.rowspan-1}}return l}function KN(t,e,n,r,s){let o=n?t.doc.nodeAt(n-1):t.doc,i=Tn.get(o),{top:a,left:l}=r,c=l+s.width,u=a+s.height,d=t.tr,f=0;function p(){o=n?d.doc.nodeAt(n-1):d.doc,i=Tn.get(o),f=d.mapping.maps.length}vBe(d,i,o,n,c,u,f)&&p(),zN(d,i,o,n,l,c,a,f)&&p(),zN(d,i,o,n,l,c,u,f)&&p(),HN(d,i,o,n,a,u,l,f)&&p(),HN(d,i,o,n,a,u,c,f)&&p();for(let m=a;m<u;m++){let g=i.positionAt(m,l,o),v=i.positionAt(m,c,o);d.replace(d.mapping.slice(f).map(g+n),d.mapping.slice(f).map(v+n),new nt(s.rows[m-a],0,0))}p(),d.setSelection(new Gt(d.doc.resolve(n+i.positionAt(a,l,o)),d.doc.resolve(n+i.positionAt(u-1,c-1,o)))),e(d)}const yBe=QE({ArrowLeft:xm("horiz",-1),ArrowRight:xm("horiz",1),ArrowUp:xm("vert",-1),ArrowDown:xm("vert",1),"Shift-ArrowLeft":Im("horiz",-1),"Shift-ArrowRight":Im("horiz",1),"Shift-ArrowUp":Im("vert",-1),"Shift-ArrowDown":Im("vert",1),Backspace:Mm,"Mod-Backspace":Mm,Delete:Mm,"Mod-Delete":Mm});function wg(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function xm(t,e){return(n,r,s)=>{let o=n.selection;if(o instanceof Gt)return wg(n,r,xt.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;let i=O6(s,t,e);if(i==null)return!1;if(t=="horiz")return wg(n,r,xt.near(n.doc.resolve(o.head+e),e));{let a=n.doc.resolve(i),l=M6(a,t,e),c;return l?c=xt.near(l,1):e<0?c=xt.near(n.doc.resolve(a.before(-1)),-1):c=xt.near(n.doc.resolve(a.after(-1)),1),wg(n,r,c)}}}function Im(t,e){return(n,r,s)=>{let o=n.selection;if(!(o instanceof Gt)){let a=O6(s,t,e);if(a==null)return!1;o=new Gt(n.doc.resolve(a))}let i=M6(o.$headCell,t,e);return i?wg(n,r,new Gt(o.$anchorCell,i)):!1}}function Mm(t,e){let n=t.selection;if(!(n instanceof Gt))return!1;if(e){let r=t.tr,s=Er(t.schema).cell.createAndFill().content;n.forEachCell((o,i)=>{o.content.eq(s)||r.replace(r.mapping.map(i+1),r.mapping.map(i+o.nodeSize-1),new nt(s,0,0))}),r.docChanged&&e(r)}return!0}function bBe(t,e){let n=t.state.doc,r=Ad(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Gt(r))),!0):!1}function wBe(t,e,n){if(!wo(t.state))return!1;let r=pBe(n),s=t.state.selection;if(s instanceof Gt){r||(r={width:1,height:1,rows:[qe.from(MC(Er(t.state.schema).cell,n))]});let o=s.$anchorCell.node(-1),i=s.$anchorCell.start(-1),a=Tn.get(o).rectBetween(s.$anchorCell.pos-i,s.$headCell.pos-i);return r=gBe(r,a.right-a.left,a.bottom-a.top),KN(t.state,t.dispatch,i,a,r),!0}else if(r){let o=Eb(t.state),i=o.start(-1);return KN(t.state,t.dispatch,i,Tn.get(o.node(-1)).findCell(o.pos-i),r),!0}else return!1}function CBe(t,e){if(e.ctrlKey||e.metaKey)return;let n=UN(t,e.target),r;if(e.shiftKey&&t.state.selection instanceof Gt)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&n&&(r=Ad(t.state.selection.$anchor))!=null&&rw(t,e).pos!=r.pos)s(r,e),e.preventDefault();else if(!n)return;function s(a,l){let c=rw(t,l),u=ta.getState(t.state)==null;if(!c||!_T(a,c))if(u)c=a;else return;let d=new Gt(a,c);if(u||!t.state.selection.eq(d)){let f=t.state.tr.setSelection(d);u&&f.setMeta(ta,a.pos),t.dispatch(f)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",i),ta.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(ta,-1))}function i(a){let l=ta.getState(t.state),c;if(l!=null)c=t.state.doc.resolve(l);else if(UN(t,a.target)!=n&&(c=rw(t,e),!c))return o();c&&s(c,a)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",i)}function O6(t,e,n){if(!(t.state.selection instanceof Nt))return null;let{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){let o=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){let a=r.before(s),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function UN(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e}function rw(t,e){let n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Ad(t.state.doc.resolve(n.pos)):null}const SBe=new ls("fix-tables");function N6(t,e,n,r){let s=t.childCount,o=e.childCount;e:for(let i=0,a=0;i<o;i++){let l=e.child(i);for(let c=a,u=Math.min(s,i+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<s&&t.child(a).sameMarkup(l)?N6(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function $6(t,e){let n,r=(s,o)=>{s.type.spec.tableRole=="table"&&(n=kBe(t,s,o,n))};return e?e.doc!=t.doc&&N6(e.doc,t.doc,0,r):t.doc.descendants(r),n}function kBe(t,e,n,r){let s=Tn.get(e);if(!s.problems)return r;r||(r=t.tr);let o=[];for(let l=0;l<s.height;l++)o.push(0);for(let l=0;l<s.problems.length;l++){let c=s.problems[l];if(c.type=="collision"){let u=e.nodeAt(c.pos);for(let d=0;d<u.attrs.rowspan;d++)o[c.row+d]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,hc(u.attrs,u.attrs.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){let u=e.nodeAt(c.pos);r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,qn(u.attrs,"rowspan",u.attrs.rowspan-c.n))}else if(c.type=="colwidth mismatch"){let u=e.nodeAt(c.pos);r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,qn(u.attrs,"colwidth",c.colwidth))}}let i,a;for(let l=0;l<o.length;l++)o[l]&&(i==null&&(i=l),a=l);for(let l=0,c=n+1;l<s.height;l++){let u=e.child(l),d=c+u.nodeSize,f=o[l];if(f>0){let p="cell";u.firstChild&&(p=u.firstChild.type.spec.tableRole);let m=[];for(let v=0;v<f;v++)m.push(Er(t.schema)[p].createAndFill());let g=(l==0||i==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(g),m)}c=d}return r.setMeta(SBe,{fixTables:!0})}function Go(t){let e=t.selection,n=Eb(t),r=n.node(-1),s=n.start(-1),o=Tn.get(r),i;return e instanceof Gt?i=o.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i=o.findCell(n.pos-s),i.tableStart=s,i.map=o,i.table=r,i}function R6(t,{map:e,tableStart:n,table:r},s){let o=s>0?-1:0;cBe(e,r,s+o)&&(o=s==0||s==e.width?null:0);for(let i=0;i<e.height;i++){let a=i*e.width+s;if(s>0&&s<e.width&&e.map[a-1]==e.map[a]){let l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,A6(c.attrs,s-e.colCount(l))),i+=c.attrs.rowspan-1}else{let l=o==null?Er(r.type.schema).cell:r.nodeAt(e.map[a+o]).type,c=e.positionAt(i,s,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function EBe(t,e){if(!wo(t))return!1;if(e){let n=Go(t);e(R6(t.tr,n,n.left))}return!0}function TBe(t,e){if(!wo(t))return!1;if(e){let n=Go(t);e(R6(t.tr,n,n.right))}return!0}function _Be(t,{map:e,table:n,tableStart:r},s){let o=t.mapping.maps.length;for(let i=0;i<e.height;){let a=i*e.width+s,l=e.map[a],c=n.nodeAt(l);if(s>0&&e.map[a-1]==l||s<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(o).map(r+l),null,hc(c.attrs,s-e.colCount(l)));else{let u=t.mapping.slice(o).map(r+l);t.delete(u,u+c.nodeSize)}i+=c.attrs.rowspan}}function xBe(t,e){if(!wo(t))return!1;if(e){let n=Go(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;_Be(r,n,s),s!=n.left;s--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Tn.get(n.table);e(r)}return!0}function IBe(t,e,n){let r=Er(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(e.nodeAt(t.map[s+n*t.width]).type!=r)return!1;return!0}function D6(t,{map:e,tableStart:n,table:r},s){let o=n;for(let l=0;l<s;l++)o+=r.child(l).nodeSize;let i=[],a=s>0?-1:0;IBe(e,r,s+a)&&(a=s==0||s==e.height?null:0);for(let l=0,c=e.width*s;l<e.width;l++,c++)if(s>0&&s<e.height&&e.map[c]==e.map[c-e.width]){let u=e.map[c],d=r.nodeAt(u).attrs;t.setNodeMarkup(n+u,null,qn(d,"rowspan",d.rowspan+1)),l+=d.colspan-1}else{let u=a==null?Er(r.type.schema).cell:r.nodeAt(e.map[c+a*e.width]).type;i.push(u.createAndFill())}return t.insert(o,Er(r.type.schema).row.create(null,i)),t}function MBe(t,e){if(!wo(t))return!1;if(e){let n=Go(t);e(D6(t.tr,n,n.top))}return!0}function ABe(t,e){if(!wo(t))return!1;if(e){let n=Go(t);e(D6(t.tr,n,n.bottom))}return!0}function OBe(t,{map:e,table:n,tableStart:r},s){let o=0;for(let l=0;l<s;l++)o+=n.child(l).nodeSize;let i=o+n.child(s).nodeSize,a=t.mapping.maps.length;t.delete(o+r,i+r);for(let l=0,c=s*e.width;l<e.width;l++,c++){let u=e.map[c];if(s>0&&u==e.map[c-e.width]){let d=n.nodeAt(u).attrs;t.setNodeMarkup(t.mapping.slice(a).map(u+r),null,qn(d,"rowspan",d.rowspan-1)),l+=d.colspan-1}else if(s<e.width&&u==e.map[c+e.width]){let d=n.nodeAt(u),f=d.type.create(qn(d.attrs,"rowspan",d.attrs.rowspan-1),d.content),p=e.positionAt(s+1,l,n);t.insert(t.mapping.slice(a).map(r+p),f),l+=d.attrs.colspan-1}}}function NBe(t,e){if(!wo(t))return!1;if(e){let n=Go(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;OBe(r,n,s),s!=n.top;s--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Tn.get(n.table);e(r)}return!0}function jN(t){let e=t.content;return e.childCount==1&&e.firstChild.isTextblock&&e.firstChild.childCount==0}function $Be({width:t,height:e,map:n},r){let s=r.top*t+r.left,o=s,i=(r.bottom-1)*t+r.left,a=s+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<t&&n[a]==n[a+1])return!0;o+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[i]==n[i+t])return!0;s++,i++}return!1}function WN(t,e){let n=t.selection;if(!(n instanceof Gt)||n.$anchorCell.pos==n.$headCell.pos)return!1;let r=Go(t),{map:s}=r;if($Be(s,r))return!1;if(e){let o=t.tr,i={},a=qe.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){let f=s.map[u*s.width+d],p=r.table.nodeAt(f);if(!i[f])if(i[f]=!0,l==null)l=f,c=p;else{jN(p)||(a=a.append(p.content));let m=o.mapping.map(f+r.tableStart);o.delete(m,m+p.nodeSize)}}if(o.setNodeMarkup(l+r.tableStart,null,qn(A6(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),"rowspan",r.bottom-r.top)),a.size){let u=l+1+c.content.size,d=jN(c)?l+1:u;o.replaceWith(d+r.tableStart,u+r.tableStart,a)}o.setSelection(new Gt(o.doc.resolve(l+r.tableStart))),e(o)}return!0}function qN(t,e){const n=Er(t.schema);return RBe(({node:r})=>n[r.type.spec.tableRole])(t,e)}function RBe(t){return(e,n)=>{let r=e.selection,s,o;if(r instanceof Gt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;s=r.$anchorCell.nodeAfter,o=r.$anchorCell.pos}else{if(s=iBe(r.$from),!s)return!1;o=Ad(r.$from).pos}if(s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let i=s.attrs,a=[],l=i.colwidth;i.rowspan>1&&(i=qn(i,"rowspan",1)),i.colspan>1&&(i=qn(i,"colspan",1));let c=Go(e),u=e.tr;for(let f=0;f<c.right-c.left;f++)a.push(l?qn(i,"colwidth",l&&l[f]?[l[f]]:null):i);let d;for(let f=c.top;f<c.bottom;f++){let p=c.map.positionAt(f,c.left,c.table);f==c.top&&(p+=s.nodeSize);for(let m=c.left,g=0;m<c.right;m++,g++)m==c.left&&f==c.top||u.insert(d=u.mapping.map(p+c.tableStart,1),t({node:s,row:f,col:m}).createAndFill(a[g]))}u.setNodeMarkup(o,t({node:s,row:c.top,col:c.left}),a[0]),r instanceof Gt&&u.setSelection(new Gt(u.doc.resolve(r.$anchorCell.pos),d&&u.doc.resolve(d))),n(u)}return!0}}function DBe(t,e){return function(n,r){if(!wo(n))return!1;let s=Eb(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){let o=n.tr;n.selection instanceof Gt?n.selection.forEachCell((i,a)=>{i.attrs[t]!==e&&o.setNodeMarkup(a,null,qn(i.attrs,t,e))}):o.setNodeMarkup(s.pos,null,qn(s.nodeAfter.attrs,t,e)),r(o)}return!0}}function PBe(t){return function(e,n){if(!wo(e))return!1;if(n){let r=Er(e.schema),s=Go(e),o=e.tr,i=s.map.cellsInRect(t=="column"?new fd(s.left,0,s.right,s.map.height):t=="row"?new fd(0,s.top,s.map.width,s.bottom):s),a=i.map(l=>s.table.nodeAt(l));for(let l=0;l<i.length;l++)a[l].type==r.header_cell&&o.setNodeMarkup(s.tableStart+i[l],r.cell,a[l].attrs);if(o.steps.length==0)for(let l=0;l<i.length;l++)o.setNodeMarkup(s.tableStart+i[l],r.header_cell,a[l].attrs);n(o)}return!0}}function GN(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const o=e.table.nodeAt(r[s]);if(o&&o.type!==n.header_cell)return!1}return!0}function Xh(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?PBe(t):function(n,r){if(!wo(n))return!1;if(r){let s=Er(n.schema),o=Go(n),i=n.tr,a=GN("row",o,s),l=GN("column",o,s),u=(t==="column"?a:t==="row"?l:!1)?1:0,d=t=="column"?new fd(0,u,1,o.map.height):t=="row"?new fd(u,0,o.map.width,1):o,f=t=="column"?l?s.cell:s.header_cell:t=="row"?a?s.cell:s.header_cell:s.cell;o.map.cellsInRect(d).forEach(p=>{const m=p+o.tableStart,g=i.doc.nodeAt(m);g&&i.setNodeMarkup(m,f,g.attrs)}),r(i)}return!0}}Xh("row",{useDeprecatedLogic:!0});Xh("column",{useDeprecatedLogic:!0});let LBe=Xh("cell",{useDeprecatedLogic:!0});function BBe(t,e){if(e<0){let n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){let o=t.node(-1).child(r);if(o.childCount)return s-1-o.lastChild.nodeSize;s-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;let n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){let o=n.child(r);if(o.childCount)return s+1;s+=o.nodeSize}}}function YN(t){return function(e,n){if(!wo(e))return!1;let r=BBe(Eb(e),t);if(r!=null){if(n){let s=e.doc.resolve(r);n(e.tr.setSelection(Nt.between(s,lBe(s))).scrollIntoView())}return!0}}}function FBe(t,e){let n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}class VBe{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),AC(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,AC(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}}function AC(t,e,n,r,s,o){let i=0,a=!0,l=e.firstChild,c=t.firstChild;for(let u=0,d=0;u<c.childCount;u++){let{colspan:f,colwidth:p}=c.child(u).attrs;for(let m=0;m<f;m++,d++){let g=s==d?o:p&&p[m],v=g?g+"px":"";i+=g||r,g||(a=!1),l?(l.style.width!=v&&(l.style.width=v),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=v}}for(;l;){let u=l.nextSibling;l.parentNode.removeChild(l),l=u}a?(n.style.width=i+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=i+"px")}const Rs=new ls("tableColumnResizing");function zBe({handleWidth:t=5,cellMinWidth:e=25,View:n=VBe,lastColumnResizable:r=!0}={}){return new dr({key:Rs,state:{init(o,i){return this.spec.props.nodeViews[Er(i.schema).table.name]=(a,l)=>new n(a,e,l),new Vf(-1,!1)},apply(o,i){return i.apply(o)}},props:{attributes(o){return Rs.getState(o).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove(o,i){HBe(o,i,t,e,r)},mouseleave(o){KBe(o)},mousedown(o,i){UBe(o,i,e)}},decorations(o){let i=Rs.getState(o);if(i.activeHandle>-1)return XBe(o,i.activeHandle)},nodeViews:{}}})}class Vf{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){let n=this,r=e.getMeta(Rs);if(r&&r.setHandle!=null)return new Vf(r.setHandle,null);if(r&&r.setDragging!==void 0)return new Vf(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);IC(e.doc.resolve(s))||(s=null),n=new Vf(s,n.dragging)}return n}}function HBe(t,e,n,r,s){let o=Rs.getState(t.state);if(!o.dragging){let i=WBe(e.target),a=-1;if(i){let{left:l,right:c}=i.getBoundingClientRect();e.clientX-l<=n?a=XN(t,e,"left"):c-e.clientX<=n&&(a=XN(t,e,"right"))}if(a!=o.activeHandle){if(!s&&a!==-1){let l=t.state.doc.resolve(a),c=l.node(-1),u=Tn.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}P6(t,a)}}}function KBe(t){let e=Rs.getState(t.state);e.activeHandle>-1&&!e.dragging&&P6(t,-1)}function UBe(t,e,n){let r=Rs.getState(t.state);if(r.activeHandle==-1||r.dragging)return!1;let s=t.state.doc.nodeAt(r.activeHandle),o=jBe(t,r.activeHandle,s.attrs);t.dispatch(t.state.tr.setMeta(Rs,{setDragging:{startX:e.clientX,startWidth:o}}));function i(l){window.removeEventListener("mouseup",i),window.removeEventListener("mousemove",a);let c=Rs.getState(t.state);c.dragging&&(qBe(t,c.activeHandle,JN(c.dragging,l,n)),t.dispatch(t.state.tr.setMeta(Rs,{setDragging:null})))}function a(l){if(!l.which)return i(l);let c=Rs.getState(t.state),u=JN(c.dragging,l,n);GBe(t,c.activeHandle,u,n)}return window.addEventListener("mouseup",i),window.addEventListener("mousemove",a),e.preventDefault(),!0}function jBe(t,e,{colspan:n,colwidth:r}){let s=r&&r[r.length-1];if(s)return s;let o=t.domAtPos(e),a=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function WBe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function XN(t,e,n){let r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;let{pos:s}=r,o=Ad(t.state.doc.resolve(s));if(!o)return-1;if(n=="right")return o.pos;let i=Tn.get(o.node(-1)),a=o.start(-1),l=i.map.indexOf(o.pos-a);return l%i.width==0?-1:a+i.map[l-1]}function JN(t,e,n){let r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function P6(t,e){t.dispatch(t.state.tr.setMeta(Rs,{setHandle:e}))}function qBe(t,e,n){let r=t.state.doc.resolve(e),s=r.node(-1),o=Tn.get(s),i=r.start(-1),a=o.colCount(r.pos-i)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<o.height;c++){let u=c*o.width+a;if(c&&o.map[u]==o.map[u-o.width])continue;let d=o.map[u],{attrs:f}=s.nodeAt(d),p=f.colspan==1?0:a-o.colCount(d);if(f.colwidth&&f.colwidth[p]==n)continue;let m=f.colwidth?f.colwidth.slice():YBe(f.colspan);m[p]=n,l.setNodeMarkup(i+d,null,qn(f,"colwidth",m))}l.docChanged&&t.dispatch(l)}function GBe(t,e,n,r){let s=t.state.doc.resolve(e),o=s.node(-1),i=s.start(-1),a=Tn.get(o).colCount(s.pos-i)+s.nodeAfter.attrs.colspan-1,l=t.domAtPos(s.start(-1)).node;for(;l.nodeName!="TABLE";)l=l.parentNode;AC(o,l.firstChild,l,r,a,n)}function YBe(t){let e=[];for(let n=0;n<t;n++)e.push(0);return e}function XBe(t,e){let n=[],r=t.doc.resolve(e),s=r.node(-1),o=Tn.get(s),i=r.start(-1),a=o.colCount(r.pos-i)+r.nodeAfter.attrs.colspan;for(let l=0;l<o.height;l++){let c=a+l*o.width-1;if((a==o.width||o.map[c]!=o.map[c+1])&&(l==0||o.map[c-1]!=o.map[c-1-o.width])){let u=o.map[c],d=i+u+s.nodeAt(u).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(Or.widget(d,f))}}return An.create(t.doc,n)}function JBe({allowTableNodeSelection:t=!1}={}){return new dr({key:ta,state:{init(){return null},apply(e,n){let r=e.getMeta(ta);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;let{deleted:s,pos:o}=e.mapping.mapResult(n);return s?null:o}},props:{decorations:uBe,handleDOMEvents:{mousedown:CBe},createSelectionBetween(e){if(ta.getState(e.state)!=null)return e.state.selection},handleTripleClick:bBe,handleKeyDown:yBe,handlePaste:wBe},appendTransaction(e,n,r){return hBe(r,$6(r,n),t)}})}function QN(t,e,n,r,s,o){let i=0,a=!0,l=e.firstChild;const c=t.firstChild;for(let u=0,d=0;u<c.childCount;u+=1){const{colspan:f,colwidth:p}=c.child(u).attrs;for(let m=0;m<f;m+=1,d+=1){const g=s===d?o:p&&p[m],v=g?`${g}px`:"";i+=g||r,g||(a=!1),l?(l.style.width!==v&&(l.style.width=v),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=v}}for(;l;){const u=l.nextSibling;l.parentNode.removeChild(l),l=u}a?(n.style.width=`${i}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${i}px`)}class QBe{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),QN(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,QN(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function ZN(t,e){return e?t.createChecked(null,e):t.createAndFill()}function ZBe(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function e3e(t,e,n,r,s){const o=ZBe(t),i=[],a=[];for(let c=0;c<n;c+=1){const u=ZN(o.cell,s);if(u&&a.push(u),r){const d=ZN(o.header_cell,s);d&&i.push(d)}}const l=[];for(let c=0;c<e;c+=1)l.push(o.row.createChecked(null,r&&c===0?i:a));return o.table.createChecked(null,l)}function t3e(t){return t instanceof Gt}const Am=({editor:t})=>{const{selection:e}=t.state;if(!t3e(e))return!1;let n=0;const r=bz(e.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},n3e=Vn.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:QBe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){return["table",Ln(this.options.HTMLAttributes,t),["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:o})=>{const i=e3e(o.schema,t,e,n);if(s){const a=r.selection.anchor+1;r.replaceSelectionWith(i).scrollIntoView().setSelection(Nt.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>EBe(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>TBe(t,e),deleteColumn:()=>({state:t,dispatch:e})=>xBe(t,e),addRowBefore:()=>({state:t,dispatch:e})=>MBe(t,e),addRowAfter:()=>({state:t,dispatch:e})=>ABe(t,e),deleteRow:()=>({state:t,dispatch:e})=>NBe(t,e),deleteTable:()=>({state:t,dispatch:e})=>FBe(t,e),mergeCells:()=>({state:t,dispatch:e})=>WN(t,e),splitCell:()=>({state:t,dispatch:e})=>qN(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Xh("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Xh("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>LBe(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>WN(t,e)?!0:qN(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>DBe(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>YN(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>YN(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&$6(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Gt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Am,"Mod-Backspace":Am,Delete:Am,"Mod-Delete":Am}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[zBe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],JBe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Ht(ct(t,"tableRole",e))}}}),r3e=Vn.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Ln(this.options.HTMLAttributes,t),0]}}),s3e=Vn.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Ln(this.options.HTMLAttributes,t),0]}}),o3e=Vn.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Ln(this.options.HTMLAttributes,t),0]}}),i3e=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,a3e=Vn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Ln(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[kz({find:i3e,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),l3e={class:"custom-tree-container"},L6=te({__name:"uaTree",setup(t){const e=(r,{node:s,data:o,store:i})=>r("span",{class:"custom-tree-node"},r("span",null,r("a",{href:"/Users/I051221/Documents/Github-tools/pcou-editor/dist/#/doc/"+o.loio},o.label))),n=D([{id:1,label:"Simple Editing",loio:"BQLkLgwP73wTvnkPOG3I",url:"simple-editing",children:[{id:4,label:"Simple Editing - Business Case",loio:"aLnQ5edzfGp1hszVNCyq",url:"business-case"},{id:5,label:"Formatting",loio:"1UHVnM8xXoA31brZHvvu",url:"formatting"}]},{id:2,label:"Cx Home page",loio:"p7ictQnWU14qj6Xbb4Mb",url:"formatting",children:[{id:6,label:"CX - Learn How to Crawl with a Minimal Viable Product",loio:"3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:8,label:"Level three 2-1-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]},{id:7,label:"Level two 2-2",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:9,label:"Level three 2-2-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]}]},{id:3,label:"Level one 3",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:10,label:"Level two 3-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"},{id:11,label:"Level two 3-2",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]}]);return(r,s)=>{const o=Je("el-tree");return E(),F("div",l3e,[q(o,{data:n.value,"node-key":"id","expand-on-click-node":!1,"render-content":e},null,8,["data"])])}}}),c3e={class:"custom-tree-container"},B6=te({__name:"uaTreeEditAdd",setup(t){let e=1e3;const n=i=>{const a={id:e++,label:"new page",children:[]};i.children||(i.children=[]),i.children.push(a),o.value=[...o.value]},r=(i,a)=>{const l=i.parent,c=l.data.children||l.data,u=c.findIndex(d=>d.id===a.id);c.splice(u,1),o.value=[...o.value]},s=(i,{node:a,data:l,store:c})=>i("span",{class:"custom-tree-node"},i("span",null,i("a",{href:"/Users/I051221/Documents/Github-tools/pcou-editor/dist/doc/"+l.url},l.label)),i("span",null,i("a",{onClick:()=>n(l)},"+ "),i("a",{style:"margin-left: 8px",onClick:()=>r(a,l)},"-"))),o=D([{id:1,label:"Simple Editing",loio:"BQLkLgwP73wTvnkPO",url:"simple-editing",children:[{id:4,label:"Simple Editing - Business Case",loio:"aLnQ5edzfGp1hszVNCyq",url:"business-case"},{id:5,label:"Formatting",loio:"1UHVnM8xXoA31brZHvvu",url:"formatting"}]},{id:2,label:"Cx Home page",loio:"p7ictQnWU14qj6Xbb4M",url:"formatting",children:[{id:6,label:"CX - Learn How to Crawl with a Minimal Viable Product",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:8,label:"Level three 2-1-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]},{id:7,label:"Level two 2-2",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:9,label:"Level three 2-2-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]}]},{id:3,label:"Level one 3",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:10,label:"Level two 3-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"},{id:11,label:"Level two 3-2",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]}]);return(i,a)=>{const l=Je("el-tree");return E(),F("div",c3e,[q(l,{data:o.value,"node-key":"id","expand-on-click-node":!1,"render-content":s},null,8,["data"])])}}}),F6=te({__name:"uaTreeEditReo",setup(t){const e=(u,d)=>{console.log("drag start",u)},n=(u,d,f)=>{console.log("tree drag enter:",d.label)},r=(u,d,f)=>{console.log("tree drag leave:",d.label)},s=(u,d,f)=>{console.log("tree drag over:",d.label)},o=(u,d,f,p)=>{console.log("tree drag end:",d&&d.label,f)},i=(u,d,f,p)=>{console.log("tree drop:",d.label,f)},a=(u,d,f)=>d.data.label==="Level two 3-1"?f!=="inner":!0,l=u=>!u.data.label.includes("Level three 3-1-1"),c=[{id:1,label:"<p>toto<p>",loio:"BQLkLgwP73wTvnkPOG3I",url:"simple-editing",children:[{id:4,label:"Simple Editing - Business Case",loio:"aLnQ5edzfGp1hszVNCyq",url:"business-case"},{id:5,label:"Formatting",loio:"1UHVnM8xXoA31brZHvvu",url:"formatting"}]},{id:2,label:"Cx Home page",loio:"p7ictQnWU14qj6Xbb4Mb",url:"formatting",children:[{id:6,label:"CX - Learn How to Crawl with a Minimal Viable Product",loio:"3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:8,label:"Level three 2-1-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]},{id:7,label:"Level two 2-2",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:9,label:"Level three 2-2-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]}]},{id:3,label:"Level one 3",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:10,label:"Level two 3-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"},{id:11,label:"Level two 3-2",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]}];return(u,d)=>{const f=Je("el-tree");return E(),he(f,{"allow-drop":a,"allow-drag":l,data:c,draggable:"","default-expand-all":"","node-key":"id",onNodeDragStart:e,onNodeDragEnter:n,onNodeDragLeave:r,onNodeDragOver:s,onNodeDragEnd:o,onNodeDrop:i})}}}),u3e={name:"uaDoc",components:{uaTreeEditAdd:B6,uaTreeEditReo:F6}},d3e=te({...u3e,setup(t){const e=D("first"),n=(r,s)=>{console.log(r,s)};return(r,s)=>{const o=Je("el-tab-pane"),i=Je("el-tabs");return E(),he(i,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a),class:"demo-tabs",onTabClick:n},{default:re(()=>[q(o,{label:"Add-Delete",name:"first"},{default:re(()=>[q(B6,{class:"map-tree-edit"})]),_:1}),q(o,{label:"ReOrganise",name:"second"},{default:re(()=>[q(F6,{class:"map-tree-edit"})]),_:1})]),_:1},8,["modelValue"])}}}),f3e={apiKey:"AIzaSyCubD42khVRvb7mj1TGhiZCih0XOLUc9bM",authDomain:"pcou-editor.firebaseapp.com",projectId:"pcou-editor",storageBucket:"pcou-editor.appspot.com",messagingSenderId:"810870940225",appId:"1:810870940225:web:9b6169b6168c80ef8cdcc0"},V6=lB(f3e),Ir=Q_e(V6);Z_e(Ir).catch(t=>{(t.code=="failed-precondition"||t.code=="unimplemented")&&console.log(t.code)});const h3e=xIe();jSe(V6,{provider:new Rk("6LeLQgcjAAAAAM4QKjDPHxeLI5Jk9DgDNS00o3Ux"),isTokenAutoRefreshEnabled:!0});Dp.registerLanguage("html",QPe);Dp.registerLanguage("css",UPe);Dp.registerLanguage("js",YPe);Dp.registerLanguage("ts",JPe);const p3e={name:"uaDoc",components:{EditorContent:VRe,BubbleMenu:BRe,uaTree:L6,uaTreeEdit:d3e,uaHeader:Ik},props:{isLoggedin:Boolean},data(){return{db:Ir,editor:null,html:null,htmltitle:null,pageid:null,urlId:this.$route.params.loio,editable:!1,topicstatus:"topicsprod",revisionCur:0,revision:0,toctitle:"map",toc:[],revisiontocCur:1,treeData:[{id:1,label:"Simple Editing",loio:"BQLkLgwP73wTvnkPO",url:"simple-editing",children:[{id:4,label:"Simple Editing - Business Case",loio:"aLnQ5edzfGp1hszVNCyq",url:"business-case"},{id:5,label:"Formatting",loio:"1UHVnM8xXoA31brZHvvu",url:"formatting"}]},{id:2,label:"Cx Home page",loio:"p7ictQnWU14qj6Xbb4M",url:"formatting",children:[{id:6,label:"CX - Learn How to Crawl with a Minimal Viable Product",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting",children:[{id:8,label:"Level three 2-1-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]},{id:7,label:"Level two 2-2",url:"formatting",children:[{id:9,label:"Level three 2-2-1",loio:" 3yxN74lvRjBaLfJlp3D6",url:"formatting"}]}]},{id:3,label:"Level one 3",url:"formatting",children:[{id:10,label:"Level two 3-1",url:"formatting"},{id:11,label:"Level two 3-2",url:"formatting"}]}],treeData2:null,isOpen:!0,tocId:null,tocmode:"topics",pcouNumber:"test forp assing data recurring temp",caption:"",img1:"",imageData:null,progress:0,isLoading:!1,isCreating:!1,isDeleting:!1,isSaving:!1,mtTransactive:!1,sourceTran:"mt",targetLan:"fr",targetTran:{data:{translations:[{translatedText:"<p>Place for machine translation</p>",detectedSourceLanguage:"en"}]}}}},mounted(){this.topicstatus="topicsprod",this.pageid=this.urlId,console.log("curr page id:",this.pageid),this.openToc(this.topicstatus),this.editor=new FRe({editable:this.editable,content:this.openContent(this.topicstatus,this.pageid),extensions:[BDe,LPe.configure({lowlight:Dp}),a3e,n3e.configure({resizable:!0}),o3e,s3e,r3e]}),this.html=this.editor.getHTML(),this.editor.on("update",()=>{this.html=this.editor.getHTML()})},created(){this.$watch(()=>this.$route.params,()=>{this.pageid=this.$route.params.loio,console.log("new pageid:",this.pageid),this.openContent(this.topicstatus,this.pageid)})},watch:{editable(){this.editor.setEditable(this.editable),this.editable?this.topicstatus="topics":this.topicstatus="topicsprod",this.openToc(this.topicstatus),this.openContent(this.topicstatus,this.pageid)}},methods:{Login(){this.isLoggedin=!0},setContent(){this.editor.commands.setContent(`
        <p>
          test content
        </p>
      `,!0),this.editor.commands.focus()},clearContent(){this.editor.chain().clearContent(!0).focus().run()},openToc:async function(t){this.isLoading=!0,this.topicstatus=t,await hxe(Pc(Ir,t)).then(r=>this.toc=r.docs).finally(()=>this.isLoading=!1);const e=Wi(Ir,t,"toc");console.log("status:",this.topicstatus),console.log("jsonRef:",this.jsonRef);const n=await C0(e);n.exists()&&(this.treeData2=JSON.parse(n.data().content),this.revisiontocCur=n.data().revision,console.log("treeData2:",this.treeData2),console.log("toc revision:",this.revisiontocCur))},saveToc:async function(t){this.isSaving=!0,this.topicstatus="topics",this.pageid="toc",this.revisiontocCur=this.revisiontocCur+1,console.log("cur toc revi:",this.revisiontocCur),console.log("treeData:",this.treeData),console.log("pageid:",this.pageid);const e=Wi(Ir,this.topicstatus,this.pageid);await S0(e,{content:JSON.stringify(this.treeData),revision:this.revisiontocCur}),await qd(Pc(Ir,this.topicstatus+"/"+this.pageid+"/toc-hist"),{content:JSON.stringify(this.treeData),revision:this.revisiontocCur})},openContent:async function(t,e){this.mtTransactive=!1;const n=Wi(Ir,t,e),r=await C0(n);r.exists()&&(this.editor.commands.setContent(r.data().body,!0),this.pageid=e,this.topicstatus=t,this.htmltitle=r.data().title,this.htmlEn=r.data().body,this.revisionCur=r.data().revision)},saveContent:async function(t,e){this.isSaving=!0,this.topicstatus="topics",this.revisionCur=e+1,console.log("currev save:",this.revisionCur);const n=Wi(Ir,this.topicstatus,t);await S0(n,{body:this.html,title:this.htmltitle,revision:this.revisionCur}),await qd(Pc(Ir,this.topicstatus+"/"+t+"/topic-hist"),{title:this.htmltitle,body:this.html,revision:this.revisionCur}),this.editor.commands.setContent(this.html,!0),this.editor.commands.focus(),this.isSaving=!1,this.openToc(this.topicstatus)},PublishContent:async function(t,e){this.isSaving=!0,this.topicstatus="topicsprod";const n=Wi(Ir,this.topicstatus,t);await pxe(n,{body:this.html,title:this.htmltitle,revision:this.revisionCur}),await qd(Pc(Ir,this.topicstatus+"/"+t+"/topic-hist"),{title:this.htmltitle,body:this.html,revision:this.revisionCur}).then(()=>this.isSaving=!1),this.editor.commands.setContent(this.html,!0),this.editor.commands.focus()},newContent:async function(){this.htmltitle="Enter the title here",this.html='Add your new content, diagrams, info graphics, etc </p><img src="https://firebasestorage.googleapis.com/v0/b/pcou-editor.appspot.com/o/AdobeStock_163171020.jpeg?alt=media&token=da67c836-11c2-449a-a0ce-74fd77e5dc54" alt="Girl in a jacket" width="50%" height="50%">',this.revisionCur=0,this.isCreating=!0,this.editor.commands.setContent(this.html,!0),this.editor.commands.focus();const t=await qd(Pc(Ir,"topics/"),{title:this.htmltitle,body:this.html,revision:this.revisionCur});this.pageid=t.id,this.isCreating=!1,console.log("currev:",this.revisionCur)},deletePage:async function(t){this.isDeleting=!0;const e=Wi(Ir,"topics",t);await mxe(e).then(()=>{console.log("Entire Document has been deleted successfully.")}).finally(()=>this.isDeleting=!1),this.editor.commands.setContent("<p>content deleted</p>",!0),this.editor.commands.focus()},TranslatePage:async function(t,e,n){this.isLoading=!0,this.mtTransactive=!0,this.topicstatus="topicsprod";const r=Wi(Ir,this.topicstatus,n),s=await C0(r);s.exists()&&(s.data().fr!=null?(console.log("doc exist:",s.data().title),console.log("fr field exists"),this.htmlloc=s.data().fr,this.htmltitle=s.data().title,this.revisionCur=s.data().revision,this.editor.commands.focus(),this.sourceTran="stored mt translation",this.isLoading=!1):(console.log("fr doesn(t) exists, calling the mt guy"),this.qurl="https://translation.googleapis.com/language/translate/v2?format=html&key=AIzaSyA4l94SeATecVASgh3sqMBtIET9qX4Hzxc",this.qurl=this.qurl+"&target="+e,this.qurl=this.qurl+"&q="+t,console.log("q :",this.qurl),rs.post(this.qurl).then(o=>{this.targetTran=o.data,console.log("text1 :",this.targetTran),this.targetTran=this.targetTran.data.translations,console.log("text2",this.targetTran);for(const i in this.targetTran)this.htmlloc=this.targetTran[i].translatedText;console.log("text3",this.htmlloc),S0(r,{fr:this.htmlloc})}).catch(o=>{console.log(o),this.uaError="sorry machine translation is out of office",this.erroded}).finally(()=>this.isLoading=!1)))},click1(){this.$refs.input1.click()},previewImage(t){this.uploadValue=0,this.img1=null,this.imageData=t.target.files[0],console.log("imagedata:",this.imageData),this.onUpload()},onUpload(){this.img1=null;const t=_Ie(h3e,this.imageData.name),e=EIe(t,this.imageData);e.on("state_changed",n=>{const r=n.bytesTransferred/n.totalBytes*100;switch(console.log("Upload is "+r+"% done"),n.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},n=>{},()=>{TIe(e.snapshot.ref).then(n=>{this.img1=n,this.addImage()})})},addImage(){const t=this.img1;t&&this.editor.chain().focus().setImage({src:t}).run()},create:async function(){await qd(Pc(Ir,"images"),{url:this.img1,caption:this.caption})},getIdToOpen(t){this.tocId=t,console.log("tthtml: id to open",this.tocId)}},beforeUnmount(){this.editor.destroy()}},m3e={class:"actions"},g3e={class:"map-actions"},v3e={key:0,style:{color:"red",margin:"0px",padding:"0px","padding-top":"18px"}},y3e={class:"content-actions"},b3e={key:0,class:"checkboxedit",style:{"text-align":"right"}},w3e=L("label",{for:"editable"},"edit",-1),C3e=L("i",{class:"fa fa-bold"},null,-1),S3e=[C3e],k3e=L("i",{class:"fa fa-italic"},null,-1),E3e=[k3e],T3e=L("i",{class:"fa fa-list"},null,-1),_3e=[T3e],x3e=L("i",{class:"fa fa-image"},null,-1),I3e=[x3e],M3e=L("i",{class:"fa fa-table"},null,-1),A3e=[M3e],O3e=["disabled"],N3e=L("i",{class:"fa fa-code"},null,-1),$3e=[N3e],R3e=L("i",{class:"fa fa-code"},"-",-1),D3e=[R3e],P3e=["disabled"],L3e=L("i",{class:"fa fa-rotate-left"},null,-1),B3e=[L3e],F3e=["disabled"],V3e=L("i",{class:"fa fa-rotate-right"},null,-1),z3e=[V3e],H3e=L("i",{class:"fa fa-new"},null,-1),K3e=L("i",{class:"fa fa-save"},null,-1),U3e=L("i",{class:"fa fa-upload"},null,-1),j3e=L("i",{class:"fa fa-trash"},null,-1),W3e=[j3e],q3e={key:2,class:"view-actions"},G3e=L("i",{class:"fa fa-star"},null,-1),Y3e=L("i",{class:"fa fa-file-pdf"},null,-1),X3e=L("i",{class:"fa fa-share"},null,-1),J3e=L("i",{class:"fa fa-bell"},null,-1),Q3e=L("i",{class:"fa fa-language"},null,-1),Z3e=L("div",{class:"rw-actions"},null,-1),eFe={class:"content-row"},tFe={class:"map-list"},nFe={key:0,class:"map-list-view"},rFe={key:1,class:"map-list-edit"},sFe={class:"editor"},oFe={key:0},iFe={key:1},aFe={key:2},lFe=L("i",{class:"fa fa-bold"},null,-1),cFe=[lFe],uFe=L("i",{class:"fa fa-italic"},null,-1),dFe=[uFe],fFe=L("div",{class:"infos"},[L("p",{class:"infos"}," Sap Docs > UA Lite Editing")],-1),hFe={key:4,class:"mt"},pFe={key:0},mFe={style:{"font-style":"italic"}},gFe=L("strong",null,"source: ",-1),vFe=["innerHTML"],yFe=["innerHTML"],bFe={class:"rw-content"},wFe={key:0},CFe=QC('<h4>titles </h4><p></p><label for="fname">Url: </label><br><input type="text" id="fname" name="fname" value="page1"><br><p></p><h4>Options </h4><label class="container">Machine translation <input type="checkbox" checked="checked"><span class="checkmark"></span></label><h4>infos: </h4><p>Redability index: 30</p><p>seo-suggested search term: acme, pcou, </p><p>Product: Acme</p><h4>metadatas: </h4>',14),SFe={style:{"font-size":"10px"}},kFe=L("h4",null,"Chat/feedback ",-1),EFe={key:1,class:"onthispage"},TFe=L("h4",null," On this page ",-1),_Fe=L("p",null,null,-1),xFe=L("p",null,null,-1),IFe=L("h4",null,"Was this page helpful? ",-1),MFe=L("p",null,"Yes/No",-1),AFe=L("p",null,null,-1),OFe=L("h5",null,"temp infos ",-1),NFe={style:{"font-size":"10px"}},$Fe={style:{"font-size":"10px"}},RFe={style:{"font-size":"10px"}};function DFe(t,e,n,r,s,o){const i=Je("uaHeader"),a=Je("uaTree"),l=Je("uaTreeEdit"),c=Je("bubble-menu"),u=Je("editor-content"),d=Je("router-link");return E(),F(Ye,null,[q(i,{bannerTitle:"- UA Lite Editing",onChangelogin:e[0]||(e[0]=f=>n.isLoggedin=!n.isLoggedin)}),L("div",m3e,[L("div",g3e,[s.editable?(E(),F("p",v3e," DRAFT ")):ce("",!0)]),L("div",y3e,[n.isLoggedin?(E(),F("div",b3e,[w3e,ot(L("input",{type:"checkbox",id:"editable","onUpdate:modelValue":e[1]||(e[1]=f=>s.editable=f)},null,512),[[Jf,s.editable]])])):ce("",!0),s.editable?(E(),F("div",{key:1,class:I(["edit-actions",{editable:s.editable}])},[L("button",{class:I(["bta",{"is-active":s.editor.isActive("heading",{level:2})}]),onClick:e[2]||(e[2]=f=>s.editor.chain().focus().toggleHeading({level:2}).run())},"H2",2),L("button",{class:I(["bta",{"is-active":s.editor.isActive("heading",{level:3})}]),onClick:e[3]||(e[3]=f=>s.editor.chain().focus().toggleHeading({level:3}).run())},"H3",2),L("button",{class:I(["bta",{"is-active":s.editor.isActive("heading",{level:4})}]),onClick:e[4]||(e[4]=f=>s.editor.chain().focus().toggleHeading({level:4}).run())},"H4",2),L("button",{class:I(["bta",{"is-active":s.editor.isActive("bold")}]),onClick:e[5]||(e[5]=f=>s.editor.chain().focus().toggleBold().run())},S3e,2),L("button",{class:I(["bta",{"is-active":s.editor.isActive("italic")}]),onClick:e[6]||(e[6]=f=>s.editor.chain().focus().toggleItalic().run())},E3e,2),L("button",{class:I(["bta",{"is-active":s.editor.isActive("bulletList")}]),onClick:e[7]||(e[7]=f=>s.editor.chain().focus().toggleBulletList().run())},_3e,2),L("button",{class:"bta",onClick:e[8]||(e[8]=(...f)=>o.click1&&o.click1(...f))},I3e),L("input",{type:"file",ref:"input1",style:{display:"none"},onChange:e[9]||(e[9]=(...f)=>o.previewImage&&o.previewImage(...f)),accept:"image/*"},null,544),L("button",{class:"bta",onClick:e[10]||(e[10]=f=>s.editor.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run())},A3e),L("button",{class:"bta",onClick:e[11]||(e[11]=f=>s.editor.chain().focus().setCodeBlock().run()),disabled:s.editor.isActive("codeBlock")},$3e,8,O3e),L("button",{class:I(["bta",{"is-active":s.editor.isActive("codeBlock")}]),onClick:e[12]||(e[12]=f=>s.editor.chain().focus().toggleCodeBlock().run())},D3e,2),L("button",{class:"bta",onClick:e[13]||(e[13]=f=>s.editor.chain().focus().undo().run()),disabled:!s.editor.can().undo()},B3e,8,P3e),L("button",{class:"bta",onClick:e[14]||(e[14]=f=>s.editor.chain().focus().redo().run()),disabled:!s.editor.can().redo()},z3e,8,F3e),L("button",{class:"bta",onClick:e[15]||(e[15]=f=>o.newContent())},[H3e,dt("New")]),L("button",{class:"bta",onClick:e[16]||(e[16]=f=>o.saveContent(s.pageid,s.revisionCur))},[dt("Draft "),K3e]),L("button",{class:"bta",onClick:e[17]||(e[17]=f=>o.PublishContent(s.pageid,s.revisionCur))},[dt("Publish "),U3e]),L("button",{class:"bta",onClick:e[18]||(e[18]=f=>o.deletePage(s.pageid))},W3e)],2)):(E(),F("div",q3e,[L("button",{class:"bta-v",onClick:e[19]||(e[19]=(...f)=>t.tbd&&t.tbd(...f))},[dt("Favorite "),G3e]),L("button",{class:"bta-v",onClick:e[20]||(e[20]=(...f)=>t.tbd&&t.tbd(...f))},[dt("pdf "),Y3e]),L("button",{class:"bta-v",onClick:e[21]||(e[21]=(...f)=>t.tbd&&t.tbd(...f))},[dt("share "),X3e]),L("button",{class:"bta-v",onClick:e[22]||(e[22]=(...f)=>t.tbd&&t.tbd(...f))},[dt("watch "),J3e]),L("button",{class:"bta",onClick:e[23]||(e[23]=f=>o.TranslatePage(this.html,s.targetLan,s.pageid))},[dt("Fran\xE7ais "),Q3e])]))]),Z3e]),L("div",eFe,[L("div",tFe,[s.editable?(E(),F("div",rFe,[q(l,{class:"map-tree"})])):(E(),F("div",nFe,[q(a,{class:"map-tree"})]))]),L("div",sFe,[s.isDeleting?(E(),F("div",oFe,"Deleting...")):ce("",!0),s.isSaving?(E(),F("div",iFe,"Saving...")):ce("",!0),s.isCreating?(E(),F("div",aFe,"Creating doc...")):ce("",!0),s.editor?(E(),he(c,{key:3,editor:s.editor,"tippy-options":{duration:100}},{default:re(()=>[L("button",{class:I(["bta",{"is-active":s.editor.isActive("bold")}]),onClick:e[24]||(e[24]=f=>s.editor.chain().focus().toggleBold().run())},cFe,2),L("button",{class:I(["bta",{"is-active":s.editor.isActive("italic")}]),onClick:e[25]||(e[25]=f=>s.editor.chain().focus().toggleItalic().run())},dFe,2),L("button",{class:I(["bta",{"is-active":s.editor.isActive("strike")}]),onClick:e[26]||(e[26]=f=>s.editor.chain().focus().toggleStrike().run())},"uicommand",2)]),_:1},8,["editor"])):ce("",!0),fFe,s.mtTransactive?(E(),F("div",hFe,[s.isLoading?(E(),F("div",pFe,"We are calling the MT guy to provide you the translation")):ce("",!0),L("p",mFe,[gFe,L("span",{innerHTML:this.sourceTran},null,8,vFe)]),L("span",{innerHTML:this.htmlloc},null,8,yFe)])):ce("",!0),ot(L("textarea",{class:"htmltitle",type:"text","onUpdate:modelValue":e[27]||(e[27]=f=>s.htmltitle=f),required:""},null,512),[[jv,s.htmltitle]]),q(u,{editor:s.editor},null,8,["editor"])]),L("div",bFe,[s.editable?(E(),F("div",wFe,[CFe,L("p",null,"Context: "+Oe(s.topicstatus),1),L("p",SFe,"Pageid: "+Oe(s.pageid),1),L("p",null,"Revision: "+Oe(s.revisionCur),1),kFe])):(E(),F("div",EFe,[TFe,L("ul",null,[L("li",null,[q(d,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt("Overview")]),_:1})]),L("li",null,[q(d,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt("Business Scenarios: Max Three")]),_:1})]),L("li",null,[q(d,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt("Outbound Channels: Max Two")]),_:1})]),L("li",null,[q(d,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt("Features: Minimal Set")]),_:1})]),L("li",null,[q(d,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt("Business Foundation: Product and Process Activation")]),_:1})]),L("li",null,[q(d,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt("High-level Design for Next Phase")]),_:1})]),L("li",null,[q(d,{to:"/doc/aLnQ5edzfGp1hszVNCyq"},{default:re(()=>[dt("High-level Design for Next Phase")]),_:1})])]),_Fe,xFe,IFe,MFe,AFe,OFe,L("p",NFe,"context (topic status): "+Oe(s.topicstatus),1),L("p",$Fe,"pageid: "+Oe(s.pageid),1),L("p",RFe,"revision: "+Oe(s.revisionCur),1)]))])])],64)}const PFe=hp(p3e,[["render",DFe]]),LFe=[{path:"/",name:"home",component:_1e},{path:"/thing",name:"thing",component:L1e},{path:"/doc/:loio",name:"doc",component:PFe},{path:"/tree",name:"tree",component:L6}],BFe=t1e({history:vwe(),routes:LFe}),IT=d$(Q0e);IT.use(BFe);IT.use(Y0e);IT.mount("#app")});export default FFe();
